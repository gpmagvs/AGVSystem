"use strict";(self["webpackChunkgpm_agvs"]=self["webpackChunkgpm_agvs"]||[]).push([[215],{42215:function(e,t,a){a.r(t),a.d(t,{default:function(){return S}});var l=a(66252),s=a(3577);const o=e=>((0,l.dD)("data-v-86be08d2"),e=e(),(0,l.Cn)(),e),i={class:"agv-battery-setting d-flex h-100"},n=["textContent"],r={class:"descript mx-2 py-5 border flex-fill bg-light text-start",style:{"font-weight":"bold"}},d=o((()=>(0,l._)("h5",null,"高電量區",-1))),u=o((()=>(0,l._)("div",null,"- 可執行所有任務訂單。",-1))),p=o((()=>(0,l._)("h5",null,"中高電量區",-1))),m=o((()=>(0,l._)("div",null,"- 可執行所有任務訂單。",-1))),c=o((()=>(0,l._)("h5",null,"中低電量區",-1))),g=o((()=>(0,l._)("div",null,"- 當AGV非充電時，可執行所有任務訂單。",-1))),h=o((()=>(0,l._)("div",null,"- 當AGV進行充電時，僅允許AGV執行充電任務， 等待電量位於中高電量以上方可執行所有任務訂單。",-1))),b=o((()=>(0,l._)("h5",null,"低電量區",-1))),w=o((()=>(0,l._)("div",null,"- 當AGV低電量時將無法進行除充電任務以外的所有任務訂單。",-1))),v=o((()=>(0,l._)("div",null,"- 運轉模式下，系統會強制AGV進行充電。",-1)));function f(e,t,a,o,f,_){const y=(0,l.up)("el-input-number"),x=(0,l.up)("el-table-column"),k=(0,l.up)("el-table"),V=(0,l.up)("el-card"),W=(0,l.up)("el-timeline-item"),M=(0,l.up)("el-timeline");return(0,l.wg)(),(0,l.iD)("div",i,[(0,l.Wm)(k,{class:"w-50 mx-1","header-cell-style":e.tableHeaderStyle,size:"large",border:"",data:e.datas},{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.columnMap,(t=>((0,l.wg)(),(0,l.j4)(x,{key:t.prop,label:t.label,prop:t.prop},{default:(0,l.w5)((a=>["string"==t.type?((0,l.wg)(),(0,l.iD)("div",{key:0,textContent:(0,s.zw)(a.row[t.prop]),class:""},null,8,n)):(0,l.kq)("",!0),"number"==t.type?((0,l.wg)(),(0,l.j4)(y,{key:1,modelValue:a.row[t.prop],"onUpdate:modelValue":e=>a.row[t.prop]=e,onChange:t=>e.modify(a.row,a.row.agvName)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(0,l.kq)("",!0)])),_:2},1032,["label","prop"])))),128))])),_:1},8,["header-cell-style","data"]),(0,l._)("div",r,[(0,l.Wm)(M,{class:"bat-timeline",style:{"max-width":"600px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(W,{timestamp:"100%",placement:"top"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{class:"bg-success text-light"},{default:(0,l.w5)((()=>[d,u])),_:1})])),_:1}),(0,l.Wm)(W,{timestamp:"高電量",placement:"top"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{class:"bg-success text-light"},{default:(0,l.w5)((()=>[p,m])),_:1})])),_:1}),(0,l.Wm)(W,{timestamp:"中電量",placement:"top"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{class:"text-light",style:{"background-color":"orange"}},{default:(0,l.w5)((()=>[c,g,h])),_:1})])),_:1}),(0,l.Wm)(W,{timestamp:"低電量-強制充電",placement:"top"},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{class:"bg-danger text-light"},{default:(0,l.w5)((()=>[b,w,v])),_:1})])),_:1}),(0,l.Wm)(W,{timestamp:"0%",placement:"top"})])),_:1})])])}var _=a(47327),y=a(49996),x=a(38418);class k{constructor(e,t,a){(0,_.Z)(this,"label",void 0),(0,_.Z)(this,"prop",void 0),(0,_.Z)(this,"type",void 0),this.label=e,this.prop=t,this.type=a}}var V=(0,l.aZ)({inject:["tableHeaderStyle"],data(){return{datas:[],columnMap:[new k("車輛名稱","agvName","string"),new k("低電量-強制充電(%)","lowLevel","number"),new k("中電量(%)","middleLevel","number"),new k("高電量(%)","highLevel","number")],throttleState:{isOperating:!1,tout:setTimeout((()=>{}),1),postModifiedValToBackend(e){clearTimeout(this.tout),this.tout=setTimeout((async()=>{console.log(e);try{var t=await x.bh.ModifySetting(e.agvName,e);console.info(t),y.bM.success({message:`已完成 ${e.agvName} 電量管理參數修改`,position:"top-right",duration:2e3})}catch(a){y.bM.error({message:`${e.agvName} 電量管理參數修改失敗-${a}`,position:"top-right",duration:2e3})}}),500)},cancelLastOperate(){}}}},methods:{fetchSettings(){setTimeout((async()=>{try{var e=await x.bh.GetSettings();Object.assign(this.datas,e)}catch(t){y.bM.error({message:`電量管理參數下載失敗-${t}`,position:"top-right",duration:-1})}}),100)},modify(e,t){this.throttleState.postModifiedValToBackend(e)}},mounted(){this.fetchSettings()}}),W=a(83744);const M=(0,W.Z)(V,[["render",f],["__scopeId","data-v-86be08d2"]]);var S=M}}]);
<<<<<<<< HEAD:wwwroot/js/215.6461b594.js
//# sourceMappingURL=215.6461b594.js.map
========
//# sourceMappingURL=215.9b93cdb3.js.map
>>>>>>>> f931de1953d7aad60db2c137c22dbdf5e0ea417b:wwwroot/js/215.9b93cdb3.js
