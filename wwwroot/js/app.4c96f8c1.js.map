{"version":3,"file":"js/app.4c96f8c1.js","mappings":"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","sources":["webpack://gpm_agvs/./node_modules/moment/locale/ sync ^\\.\\/.*$","webpack://gpm_agvs/./src/ViewModels/clsAGVStateDto.js","webpack://gpm_agvs/./src/api/AlarmAPI.js","webpack://gpm_agvs/./src/api/AuthHelper.js","webpack://gpm_agvs/./src/api/Common/clsQueryOptions.js","webpack://gpm_agvs/./src/api/EquipmentAPI.js","webpack://gpm_agvs/./src/api/MapAPI.js","webpack://gpm_agvs/./src/api/MeasureResultAPI.js","webpack://gpm_agvs/./src/api/NotifyHelper.js","webpack://gpm_agvs/./src/api/TaskAPI.js","webpack://gpm_agvs/./src/api/TaskAllocation.js","webpack://gpm_agvs/./src/api/UserAPI.js","webpack://gpm_agvs/./src/api/WebSocketHepler.js","webpack://gpm_agvs/./src/components/Map/mapjs.js","webpack://gpm_agvs/./src/components/Map/store/index.js","webpack://gpm_agvs/./src/event-bus.js","webpack://gpm_agvs/./src/gpm_param.js","webpack://gpm_agvs/./src/App.vue","webpack://gpm_agvs/./src/views/SideMenuDrawer.vue","webpack://gpm_agvs/./src/views/SideMenuDrawer.vue?7623","webpack://gpm_agvs/./src/views/SideMenu.vue","webpack://gpm_agvs/./src/views/SideMenu.vue?4785","webpack://gpm_agvs/./src/components/App/Header.vue","webpack://gpm_agvs/./src/views/Login.vue","webpack://gpm_agvs/./src/components/Tools/SimpleKeyboard.vue","webpack://gpm_agvs/./src/components/Tools/SimpleKeyboard.vue?0c7a","webpack://gpm_agvs/./src/views/Login.vue?240b","webpack://gpm_agvs/./src/api/SystemAPI.js","webpack://gpm_agvs/./src/components/App/Header.vue?0451","webpack://gpm_agvs/./src/components/App/AlarmDisplay.vue","webpack://gpm_agvs/./src/components/App/AlarmDisplay.vue?abde","webpack://gpm_agvs/./src/components/App/ConnectionState.vue","webpack://gpm_agvs/./src/components/App/ConnectionState.vue?f772","webpack://gpm_agvs/./src/components/Traffic/MoveAGVNotify.vue","webpack://gpm_agvs/./src/components/Traffic/MoveAGVNotify.vue?eade","webpack://gpm_agvs/./src/components/App/AGVAlarmUI/AGVAlarmMessageDisplay.vue","webpack://gpm_agvs/./src/components/App/AGVAlarmUI/AGVAlarmItem.vue","webpack://gpm_agvs/./src/components/App/AGVAlarmUI/AGVAlarmItem.vue?befc","webpack://gpm_agvs/./src/components/App/AGVAlarmUI/AGVAlarmMessageDisplay.vue?2de3","webpack://gpm_agvs/./src/App.vue?7ccd","webpack://gpm_agvs/./src/components/ModalHelper.js","webpack://gpm_agvs/./src/BackendDataFetchWorker.js","webpack://gpm_agvs/./src/idling_detector.js","webpack://gpm_agvs/./src/main.js","webpack://gpm_agvs/./src/views/HomeView.vue","webpack://gpm_agvs/./src/components/NavMap/AGVMap.vue","webpack://gpm_agvs/./src/components/NavMap/AGVMap.vue?fbbe","webpack://gpm_agvs/./src/components/TaskDispathActionButton.vue","webpack://gpm_agvs/./src/components/TaskDispathActionButton.vue?233f","webpack://gpm_agvs/./src/components/TaskDispatchNewUI.vue","webpack://gpm_agvs/./src/components/TaskDispatchNewUI.vue?491f","webpack://gpm_agvs/./src/components/HomeView/EQStatus.vue","webpack://gpm_agvs/./src/api/Common/UtilityTools.js","webpack://gpm_agvs/./src/components/HomeView/EQStatus.vue?59de","webpack://gpm_agvs/./src/views/HomeView.vue?1da1","webpack://gpm_agvs/./src/views/SystemSettings.vue","webpack://gpm_agvs/./src/components/SystemSettings/UserManager.vue","webpack://gpm_agvs/./src/components/SystemSettings/OperatieButtonSet.vue","webpack://gpm_agvs/./src/components/SystemSettings/OperatieButtonSet.vue?32bf","webpack://gpm_agvs/./src/components/SystemSettings/UserManager.vue?a50e","webpack://gpm_agvs/./src/components/SystemSettings/EquipmentManager.vue","webpack://gpm_agvs/./src/components/SystemSettings/EquipmentManager.vue?cb5c","webpack://gpm_agvs/./src/components/SystemSettings/AGVBatterySetting.vue","webpack://gpm_agvs/./src/components/SystemSettings/AGVBatterySetting.vue?85b9","webpack://gpm_agvs/./src/views/ChargeStation/ChargeStationHomeView.vue","webpack://gpm_agvs/./src/views/ChargeStation/ChargeStationHomeView.vue?60d7","webpack://gpm_agvs/./src/views/HotRun.vue","webpack://gpm_agvs/./src/views/HotRun.vue?cf1c","webpack://gpm_agvs/./src/views/SystemSettings.vue?c758","webpack://gpm_agvs/./src/views/DataView.vue","webpack://gpm_agvs/./src/components/DataView/AvailbilitysData.vue","webpack://gpm_agvs/./src/api/AvailabilitysAPI.js","webpack://gpm_agvs/./src/components/Availabilitys/AvailabilityPieChart.vue","webpack://gpm_agvs/./src/components/Availabilitys/AvailabilityPieChart.vue?4003","webpack://gpm_agvs/./src/components/Availabilitys/AvailabilityTimelineChart.vue","webpack://gpm_agvs/./src/components/Availabilitys/AvailabilityTimelineChart.vue?dd8e","webpack://gpm_agvs/./src/components/DataView/AvailbilitysData.vue?2e87","webpack://gpm_agvs/./src/components/DataView/AvalibilityQuery.vue","webpack://gpm_agvs/./src/components/DataView/AvalibilityQuery.vue?4e88","webpack://gpm_agvs/./src/components/DataView/AlarmQuery.vue","webpack://gpm_agvs/./src/components/DataView/AlarmQuery.vue?42b8","webpack://gpm_agvs/./src/components/DataView/TaskQuery.vue","webpack://gpm_agvs/./src/components/DataView/TaskQuery.vue?dad7","webpack://gpm_agvs/./src/components/DataView/InstrumentMeasureQuery.vue","webpack://gpm_agvs/./src/components/DataView/CommonOptions.vue","webpack://gpm_agvs/./src/components/DataView/CommonOptions.vue?1a49","webpack://gpm_agvs/./src/components/DataView/InstrumentMeasureQuery.vue?5a07","webpack://gpm_agvs/./src/views/DataView.vue?ef81","webpack://gpm_agvs/./src/views/AlarmView.vue","webpack://gpm_agvs/./src/views/AlarmView.vue?caea","webpack://gpm_agvs/./src/router/index.js","webpack://gpm_agvs/./src/store/index.js","webpack://gpm_agvs/./src/components/AGVSelector.vue","webpack://gpm_agvs/./src/components/AGVSelector.vue?53df","webpack://gpm_agvs/./src/components/DataView/AGVLocus.vue","webpack://gpm_agvs/./src/components/DataView/AGVLocus.vue?0f5a","webpack://gpm_agvs/./src/components/HomeView/AGVStatus/AGVStatus.vue","webpack://gpm_agvs/./src/api/VMSAPI.js","webpack://gpm_agvs/./src/components/HomeView/AGVStatus/AGVStatus.vue?1b4c","webpack://gpm_agvs/./src/components/HomeView/HomeMap.vue","webpack://gpm_agvs/./src/components/HomeView/CargoTransferDialog.vue","webpack://gpm_agvs/./src/components/HomeView/CargoTransferDialog.vue?22e4","webpack://gpm_agvs/./src/components/HomeView/HomeMap.vue?a32e","webpack://gpm_agvs/./src/components/HomeView/TaskAllocation.vue","webpack://gpm_agvs/./src/components/MapShow.vue","webpack://gpm_agvs/./src/components/MapShow.vue?ca63","webpack://gpm_agvs/./src/components/HomeView/TaskAllocation.vue?9f53","webpack://gpm_agvs/./src/components/HomeView/TaskStatus.vue","webpack://gpm_agvs/./src/ViewModels/TaskState.js","webpack://gpm_agvs/./src/components/TaskStatus/RunningTaskTable.vue","webpack://gpm_agvs/./src/components/TaskStatus/TaskStatus.js","webpack://gpm_agvs/./src/components/TaskStatus/RunningTaskTable.vue?e373","webpack://gpm_agvs/./src/components/TaskStatus/CompletedTaskTable.vue","webpack://gpm_agvs/./src/components/TaskStatus/CompletedTaskTable.vue?64e9","webpack://gpm_agvs/./src/components/HomeView/TaskStatus.vue?f942","webpack://gpm_agvs/./src/components/MapPointSettingDrawer.vue","webpack://gpm_agvs/./src/components/MapPointSettingDrawer.vue?7432","webpack://gpm_agvs/./src/components/Map/Map.vue","webpack://gpm_agvs/./src/components/Map/MapSettingsDialog.vue","webpack://gpm_agvs/./src/components/Map/MapSettingsDialog.vue?0ec8","webpack://gpm_agvs/./src/components/Map/MapContextMenu.vue","webpack://gpm_agvs/./src/components/Map/MapContextMenu.vue?0778","webpack://gpm_agvs/./src/components/Map/MapPathSettingDrawer.vue","webpack://gpm_agvs/./src/components/Map/MapPathSettingDrawer.vue?53c9","webpack://gpm_agvs/./src/components/Map/QuicklyActionMenu.vue","webpack://gpm_agvs/./src/components/Map/QuicklyActionMenu.vue?935c","webpack://gpm_agvs/./src/components/Map/Map.vue?cdf4","webpack://gpm_agvs/./src/components/RegionsSelector.vue","webpack://gpm_agvs/./src/components/RegionsSelector.vue?3c9b","webpack://gpm_agvs/webpack/bootstrap","webpack://gpm_agvs/webpack/runtime/chunk loaded","webpack://gpm_agvs/webpack/runtime/compat get default export","webpack://gpm_agvs/webpack/runtime/create fake namespace object","webpack://gpm_agvs/webpack/runtime/define property getters","webpack://gpm_agvs/webpack/runtime/ensure chunk","webpack://gpm_agvs/webpack/runtime/get javascript chunk filename","webpack://gpm_agvs/webpack/runtime/get mini-css chunk filename","webpack://gpm_agvs/webpack/runtime/global","webpack://gpm_agvs/webpack/runtime/hasOwnProperty shorthand","webpack://gpm_agvs/webpack/runtime/load script","webpack://gpm_agvs/webpack/runtime/make namespace object","webpack://gpm_agvs/webpack/runtime/node module decorator","webpack://gpm_agvs/webpack/runtime/publicPath","webpack://gpm_agvs/webpack/runtime/css loading","webpack://gpm_agvs/webpack/runtime/jsonp chunk loading","webpack://gpm_agvs/webpack/startup"],"sourcesContent":["var map = {\n\t\"./af\": 63906,\n\t\"./af.js\": 63906,\n\t\"./ar\": 40902,\n\t\"./ar-dz\": 3853,\n\t\"./ar-dz.js\": 3853,\n\t\"./ar-kw\": 20299,\n\t\"./ar-kw.js\": 20299,\n\t\"./ar-ly\": 96825,\n\t\"./ar-ly.js\": 96825,\n\t\"./ar-ma\": 66379,\n\t\"./ar-ma.js\": 66379,\n\t\"./ar-sa\": 87700,\n\t\"./ar-sa.js\": 87700,\n\t\"./ar-tn\": 2059,\n\t\"./ar-tn.js\": 2059,\n\t\"./ar.js\": 40902,\n\t\"./az\": 76043,\n\t\"./az.js\": 76043,\n\t\"./be\": 7936,\n\t\"./be.js\": 7936,\n\t\"./bg\": 34078,\n\t\"./bg.js\": 34078,\n\t\"./bm\": 14014,\n\t\"./bm.js\": 14014,\n\t\"./bn\": 29554,\n\t\"./bn-bd\": 17114,\n\t\"./bn-bd.js\": 17114,\n\t\"./bn.js\": 29554,\n\t\"./bo\": 6529,\n\t\"./bo.js\": 6529,\n\t\"./br\": 65437,\n\t\"./br.js\": 65437,\n\t\"./bs\": 19647,\n\t\"./bs.js\": 19647,\n\t\"./ca\": 59951,\n\t\"./ca.js\": 59951,\n\t\"./cs\": 26113,\n\t\"./cs.js\": 26113,\n\t\"./cv\": 37965,\n\t\"./cv.js\": 37965,\n\t\"./cy\": 35858,\n\t\"./cy.js\": 35858,\n\t\"./da\": 33515,\n\t\"./da.js\": 33515,\n\t\"./de\": 62831,\n\t\"./de-at\": 6263,\n\t\"./de-at.js\": 6263,\n\t\"./de-ch\": 51127,\n\t\"./de-ch.js\": 51127,\n\t\"./de.js\": 62831,\n\t\"./dv\": 4510,\n\t\"./dv.js\": 4510,\n\t\"./el\": 68616,\n\t\"./el.js\": 68616,\n\t\"./en-au\": 24595,\n\t\"./en-au.js\": 24595,\n\t\"./en-ca\": 73545,\n\t\"./en-ca.js\": 73545,\n\t\"./en-gb\": 79609,\n\t\"./en-gb.js\": 79609,\n\t\"./en-ie\": 43727,\n\t\"./en-ie.js\": 43727,\n\t\"./en-il\": 93302,\n\t\"./en-il.js\": 93302,\n\t\"./en-in\": 46305,\n\t\"./en-in.js\": 46305,\n\t\"./en-nz\": 39128,\n\t\"./en-nz.js\": 39128,\n\t\"./en-sg\": 84569,\n\t\"./en-sg.js\": 84569,\n\t\"./eo\": 50650,\n\t\"./eo.js\": 50650,\n\t\"./es\": 26358,\n\t\"./es-do\": 64214,\n\t\"./es-do.js\": 64214,\n\t\"./es-mx\": 38639,\n\t\"./es-mx.js\": 38639,\n\t\"./es-us\": 30232,\n\t\"./es-us.js\": 30232,\n\t\"./es.js\": 26358,\n\t\"./et\": 47279,\n\t\"./et.js\": 47279,\n\t\"./eu\": 15515,\n\t\"./eu.js\": 15515,\n\t\"./fa\": 27981,\n\t\"./fa.js\": 27981,\n\t\"./fi\": 37090,\n\t\"./fi.js\": 37090,\n\t\"./fil\": 79208,\n\t\"./fil.js\": 79208,\n\t\"./fo\": 2799,\n\t\"./fo.js\": 2799,\n\t\"./fr\": 23463,\n\t\"./fr-ca\": 2213,\n\t\"./fr-ca.js\": 2213,\n\t\"./fr-ch\": 52848,\n\t\"./fr-ch.js\": 52848,\n\t\"./fr.js\": 23463,\n\t\"./fy\": 41468,\n\t\"./fy.js\": 41468,\n\t\"./ga\": 88163,\n\t\"./ga.js\": 88163,\n\t\"./gd\": 2898,\n\t\"./gd.js\": 2898,\n\t\"./gl\": 76312,\n\t\"./gl.js\": 76312,\n\t\"./gom-deva\": 20682,\n\t\"./gom-deva.js\": 20682,\n\t\"./gom-latn\": 49178,\n\t\"./gom-latn.js\": 49178,\n\t\"./gu\": 31400,\n\t\"./gu.js\": 31400,\n\t\"./he\": 52795,\n\t\"./he.js\": 52795,\n\t\"./hi\": 17009,\n\t\"./hi.js\": 17009,\n\t\"./hr\": 46506,\n\t\"./hr.js\": 46506,\n\t\"./hu\": 69565,\n\t\"./hu.js\": 69565,\n\t\"./hy-am\": 93864,\n\t\"./hy-am.js\": 93864,\n\t\"./id\": 5626,\n\t\"./id.js\": 5626,\n\t\"./is\": 36649,\n\t\"./is.js\": 36649,\n\t\"./it\": 90151,\n\t\"./it-ch\": 95348,\n\t\"./it-ch.js\": 95348,\n\t\"./it.js\": 90151,\n\t\"./ja\": 79830,\n\t\"./ja.js\": 79830,\n\t\"./jv\": 33751,\n\t\"./jv.js\": 33751,\n\t\"./ka\": 63365,\n\t\"./ka.js\": 63365,\n\t\"./kk\": 85980,\n\t\"./kk.js\": 85980,\n\t\"./km\": 99571,\n\t\"./km.js\": 99571,\n\t\"./kn\": 25880,\n\t\"./kn.js\": 25880,\n\t\"./ko\": 16809,\n\t\"./ko.js\": 16809,\n\t\"./ku\": 96773,\n\t\"./ku.js\": 96773,\n\t\"./ky\": 65505,\n\t\"./ky.js\": 65505,\n\t\"./lb\": 50553,\n\t\"./lb.js\": 50553,\n\t\"./lo\": 51237,\n\t\"./lo.js\": 51237,\n\t\"./lt\": 91563,\n\t\"./lt.js\": 91563,\n\t\"./lv\": 61057,\n\t\"./lv.js\": 61057,\n\t\"./me\": 96495,\n\t\"./me.js\": 96495,\n\t\"./mi\": 83096,\n\t\"./mi.js\": 83096,\n\t\"./mk\": 43874,\n\t\"./mk.js\": 43874,\n\t\"./ml\": 46055,\n\t\"./ml.js\": 46055,\n\t\"./mn\": 87747,\n\t\"./mn.js\": 87747,\n\t\"./mr\": 17113,\n\t\"./mr.js\": 17113,\n\t\"./ms\": 8687,\n\t\"./ms-my\": 7948,\n\t\"./ms-my.js\": 7948,\n\t\"./ms.js\": 8687,\n\t\"./mt\": 14532,\n\t\"./mt.js\": 14532,\n\t\"./my\": 4655,\n\t\"./my.js\": 4655,\n\t\"./nb\": 56961,\n\t\"./nb.js\": 56961,\n\t\"./ne\": 2512,\n\t\"./ne.js\": 2512,\n\t\"./nl\": 48448,\n\t\"./nl-be\": 72936,\n\t\"./nl-be.js\": 72936,\n\t\"./nl.js\": 48448,\n\t\"./nn\": 49031,\n\t\"./nn.js\": 49031,\n\t\"./oc-lnc\": 5174,\n\t\"./oc-lnc.js\": 5174,\n\t\"./pa-in\": 30118,\n\t\"./pa-in.js\": 30118,\n\t\"./pl\": 93448,\n\t\"./pl.js\": 93448,\n\t\"./pt\": 33518,\n\t\"./pt-br\": 62447,\n\t\"./pt-br.js\": 62447,\n\t\"./pt.js\": 33518,\n\t\"./ro\": 70817,\n\t\"./ro.js\": 70817,\n\t\"./ru\": 10262,\n\t\"./ru.js\": 10262,\n\t\"./sd\": 58990,\n\t\"./sd.js\": 58990,\n\t\"./se\": 43842,\n\t\"./se.js\": 43842,\n\t\"./si\": 37711,\n\t\"./si.js\": 37711,\n\t\"./sk\": 80756,\n\t\"./sk.js\": 80756,\n\t\"./sl\": 3772,\n\t\"./sl.js\": 3772,\n\t\"./sq\": 6187,\n\t\"./sq.js\": 6187,\n\t\"./sr\": 40732,\n\t\"./sr-cyrl\": 75713,\n\t\"./sr-cyrl.js\": 75713,\n\t\"./sr.js\": 40732,\n\t\"./ss\": 99455,\n\t\"./ss.js\": 99455,\n\t\"./sv\": 69770,\n\t\"./sv.js\": 69770,\n\t\"./sw\": 80959,\n\t\"./sw.js\": 80959,\n\t\"./ta\": 36459,\n\t\"./ta.js\": 36459,\n\t\"./te\": 25302,\n\t\"./te.js\": 25302,\n\t\"./tet\": 67975,\n\t\"./tet.js\": 67975,\n\t\"./tg\": 71294,\n\t\"./tg.js\": 71294,\n\t\"./th\": 2385,\n\t\"./th.js\": 2385,\n\t\"./tk\": 24613,\n\t\"./tk.js\": 24613,\n\t\"./tl-ph\": 58668,\n\t\"./tl-ph.js\": 58668,\n\t\"./tlh\": 58190,\n\t\"./tlh.js\": 58190,\n\t\"./tr\": 74506,\n\t\"./tr.js\": 74506,\n\t\"./tzl\": 63440,\n\t\"./tzl.js\": 63440,\n\t\"./tzm\": 69852,\n\t\"./tzm-latn\": 42350,\n\t\"./tzm-latn.js\": 42350,\n\t\"./tzm.js\": 69852,\n\t\"./ug-cn\": 70730,\n\t\"./ug-cn.js\": 70730,\n\t\"./uk\": 40099,\n\t\"./uk.js\": 40099,\n\t\"./ur\": 72100,\n\t\"./ur.js\": 72100,\n\t\"./uz\": 96002,\n\t\"./uz-latn\": 26322,\n\t\"./uz-latn.js\": 26322,\n\t\"./uz.js\": 96002,\n\t\"./vi\": 14207,\n\t\"./vi.js\": 14207,\n\t\"./x-pseudo\": 24674,\n\t\"./x-pseudo.js\": 24674,\n\t\"./yo\": 10570,\n\t\"./yo.js\": 10570,\n\t\"./zh-cn\": 73644,\n\t\"./zh-cn.js\": 73644,\n\t\"./zh-hk\": 22591,\n\t\"./zh-hk.js\": 22591,\n\t\"./zh-mo\": 89503,\n\t\"./zh-mo.js\": 89503,\n\t\"./zh-tw\": 88080,\n\t\"./zh-tw.js\": 88080\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","/**AGV狀態ViewModel */\r\nclass clsAGVStateDto {\r\n  constructor(dto) {\r\n    if (dto == undefined) {\r\n      this.AGV_Name = ''\r\n      this.AGV_Description = ''\r\n      this.Model = ''\r\n      this.MainStatus = 0\r\n      this.OnlineStatus = 0\r\n      this.CurrentLocation = ''\r\n      this.CurrentCarrierID = ''\r\n      this.BatteryLevel_1 = 0\r\n      this.BatteryLevel_2 = 0\r\n      this.TaskName = ''\r\n      this.TaskRunStatus = 0\r\n      this.TaskRunAction = 0\r\n      this.Theta = 0\r\n      this.Connected = false\r\n      this.StationName = ''\r\n      this.Group = 0\r\n      this.IsCharging = false\r\n      this.IP = '127.0.0.1'\r\n      this.Port = 7025\r\n      this.TaskSourceStationName = \"\"\r\n      this.TaskDestineStationName = \"\"\r\n      this.TransferProcess = 0\r\n      this.OrderAction = 0\r\n    } else {\r\n      this.AGV_Name = dto.AGV_Name\r\n      this.AGV_Description = dto.AGV_Description\r\n      this.Model = dto.Model\r\n      this.MainStatus = dto.MainStatus\r\n      this.OnlineStatus = dto.OnlineStatus\r\n      this.CurrentLocation = dto.CurrentLocation\r\n      this.CurrentCarrierID = dto.CurrentCarrierID\r\n      this.BatteryLevel_1 = dto.BatteryLevel_1\r\n      this.BatteryLevel_2 = dto.BatteryLevel_2\r\n      this.TaskName = dto.TaskName\r\n      this.TaskRunStatus = dto.TaskRunStatus\r\n      this.TaskRunAction = dto.TaskRunAction\r\n      this.Theta = dto.Theta\r\n      this.Connected = dto.Connected\r\n      this.StationName = dto.StationName\r\n      this.Group = dto.Group\r\n      this.IsCharging = dto.IsCharging\r\n      this.IP = dto.IP\r\n      this.Port = dto.Port\r\n      this.TaskSourceStationName = dto.TaskSourceStationName\r\n      this.TaskDestineStationName = dto.TaskDestineStationName\r\n      this.TransferProcess = dto.TransferProcess\r\n      this.OrderAction = dto.OrderAction\r\n    }\r\n  }\r\n}\r\n\r\nexport default clsAGVStateDto\r\n","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nimport WebSocketHelp from './WebSocketHepler'\r\n\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n})\r\n\r\n/**復歸系統警報 */\r\nexport async function ResetSystemAlarm() {\r\n  return await axios_entity.get(`/api/Alarm/SystemAlarmReset`)\r\n}\r\n\r\n/**復歸設備警報 */\r\nexport async function ResetEquipmentAlarm() {\r\n  return await axios_entity.get(`/api/Alarm/EquipmentAlarmReset`)\r\n}\r\n\r\n/**警報查詢 */\r\nexport async function QueryAlarm(currentpage, start_time, end_time, AGV_Name = 'ALL', TaskName = 'ALL', AlarmType = \"ALL\") {\r\n  var retquery = await axios_entity.get(`/api/Alarmquery/QueryAlarm?currentpage=${currentpage}&StartTime=${start_time}&EndTime=${end_time}&AGV_Name=${AGV_Name}&TaskName=${TaskName}&AlarmType=${AlarmType}`)\r\n  return retquery.data;\r\n}\r\n/**輸出CSV */\r\nexport async function SaveTocsv(start_time, end_time, AGV_Name = 'ALL', TaskName = 'ALL') {\r\n  const response = await axios_entity.get(`/api/Alarmquery/SaveTocsv?StartTime=${start_time}&EndTime=${end_time}&AGV_Name=${AGV_Name}&TaskName=${TaskName}`, { responseType: 'blob', });\r\n  const url = window.URL.createObjectURL(new Blob([response.data]));\r\n  const link = document.createElement('a');\r\n  link.href = url;\r\n  let fileName = `AGVS_Alarms_From_${start_time}_To_${end_time}.csv`\r\n  link.setAttribute('download', fileName); // 設定下載檔案的名稱\r\n  document.body.appendChild(link);\r\n  link.click();\r\n}\r\n\r\nexport class AlarmHelper {\r\n  constructor(onmessage = (evt) => { }) {\r\n    this.onmessageHandler = onmessage\r\n    var _alarm_ws = new WebSocketHelp('/UncheckedAlarm')\r\n    _alarm_ws.Connect()\r\n    _alarm_ws.onmessage = onmessage\r\n  }\r\n}\r\n","import moment from 'moment'\r\n// 在每次請求中包含驗證 token\r\nexport const getAuthHeaders = () => {\r\n  const user = localStorage.getItem('user')\r\n  if (user) {\r\n    const user_info = JSON.parse(user)\r\n    return { Authorization: `Bearer ${user_info.token}` }\r\n  }\r\n  return {}\r\n}\r\nexport const getJWTAuthorizationVal = () => {\r\n  const user_state = GetUserStateFromLS()\r\n  if (user_state) {\r\n    return `Bearer ${user_state.token}`\r\n  }\r\n  return ''\r\n}\r\n\r\nexport function ClearLoginCookie() {\r\n  localStorage.removeItem('user')\r\n}\r\n\r\nclass LastLoginState {\r\n  constructor(isLogin, login_info) {\r\n    this.isLogin = isLogin\r\n    this.login_info = login_info\r\n  }\r\n}\r\n\r\nexport function IsLoginLastTime() {\r\n  const user_state = GetUserStateFromLS()\r\n  if (user_state) {\r\n    return new LastLoginState(\r\n      user_state.Role != 0 && IsExpires() == false,\r\n      user_state,\r\n    )\r\n  } else return new LastLoginState(false, null)\r\n}\r\n\r\n/**是否過期 */\r\nexport function IsExpires() {\r\n  const user_state = GetUserStateFromLS()\r\n  if (user_state) {\r\n    var loginTime = moment(user_state.LoginTime).add(1, 'day')\r\n    var isExpire = Date.now() > loginTime\r\n    console.log(isExpire)\r\n    return isExpire\r\n  } else return true\r\n}\r\nfunction GetUserStateFromLS() {\r\n  const user_json_str = localStorage.getItem('user')\r\n  if (user_json_str) {\r\n    const user_state = JSON.parse(user_json_str)\r\n    return user_state\r\n  }\r\n}\r\n","/**資料查詢通用參數 */\r\nclass clsQueryOptions {\r\n    constructor() {\r\n        this.AGVName = \"ALL\";\r\n        this.Result = 0; //0 Success,1 Fail, 2 ALL\r\n        this.StartTimeStr = \"\";\r\n        this.EndTimeStr = \"\";\r\n        this.DataNumPerPage = 15;\r\n        this.Page = 1;\r\n    }\r\n}\r\nexport default clsQueryOptions","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\n\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n})\r\n\r\n/**GetEQSettings */\r\nexport async function GetEQOptions() {\r\n  var ret = await axios_entity.get(`/api/Equipment/GetEQOptions`)\r\n  return ret.data;\r\n}\r\n\r\n/**GetEQSettings */\r\nexport async function SaveEQOptions(options) {\r\n  var ret = await axios_entity.post(`/api/Equipment/SaveEQOptions`, options)\r\n  return ret.data;\r\n}\r\n\r\n/**通訊測試 */\r\nexport async function ConnectTest(conn_options) {\r\n  var ret = await axios_entity.post(`/api/Equipment/ConnectTest`, conn_options)\r\n  return ret.data;\r\n}\r\n\r\nexport async function GetEQInfoByTag(tagID) {\r\n  var ret = await axios_entity.get(`/api/Equipment/GetEQInfoByTag?Tag=${tagID}`)\r\n  return ret.data;\r\n}\r\nexport async function SetAGVHandshakeIO(EQName, SignalName, State) {\r\n  var url = `/api/Equipment/AgvHsSignal?EqName=${encodeURIComponent(EQName)}&SignalName=${encodeURIComponent(SignalName)}&State=${State}`; //避免帶有特殊符號的時候字串參數會不完整\r\n  var ret = await axios_entity.post(url)\r\n  return ret.data;\r\n}\r\n/**設備模擬器API */\r\nexport const EmuAPI = {\r\n\r\n  /**設定為Load狀態 */\r\n  async SetState(EQName, State) {\r\n    var url = `/api/Equipment/Emu/State?EqName=${encodeURIComponent(EQName)}&State=${State}`; //避免帶有特殊符號的時候字串參數會不完整\r\n    var ret = await axios_entity.get(url)\r\n    return ret.data;\r\n  },\r\n  /**設定所有EQ為Load狀態 */\r\n  async EQAllLoad() {\r\n    var url = `/api/Equipment/Emu/AllLoad`;\r\n    var ret = await axios_entity.get(url)\r\n    return ret.data;\r\n  },\r\n  /**設定所有EQ為Busy狀態 */\r\n  async EQAllBusy() {\r\n    var url = `/api/Equipment/Emu/AllBusy`;\r\n    var ret = await axios_entity.get(url)\r\n    return ret.data;\r\n  },\r\n\r\n  async SetEQHsSignal(EQName, SignalName, State) {\r\n    var url = `/api/Equipment/Emu/HsSignal?EqName=${encodeURIComponent(EQName)}&SignalName=${encodeURIComponent(SignalName)}&State=${State}`; //避免帶有特殊符號的時候字串參數會不完整\r\n    var ret = await axios_entity.get(url)\r\n    return ret.data;\r\n  }\r\n\r\n}\r\n\r\nexport const ChargerAPI = {\r\n  async SetCurveSetting(charge_station_name, item, value) {\r\n    var url = `/api/Equipment/ChargeStation/Settings?EqName=${encodeURIComponent(charge_station_name)}&Item=${encodeURIComponent(item)}&Value=${value}`; //避免帶有特殊符號的時候字串參數會不完整\r\n    var ret = await axios_entity.get(url)\r\n    return ret.data\r\n  }\r\n}","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nimport { MapStore } from '@/components/Map/store'\r\nvar axios_entity = axios.create({\r\n  baseURL: MapStore.getters.MapServerUrl,\r\n})\r\nvar axios_entity_vms = axios.create({\r\n  baseURL: param.vms_host,\r\n})\r\n\r\n\r\n/**從服務器取得區域選項 */\r\nexport async function GetValidRegionOptions() {\r\n  return await axios_entity\r\n    .get('api/Map/RegionOptions')\r\n    .then((ret) => {\r\n      return ret.data\r\n    })\r\n    .catch((err) => {\r\n      return undefined\r\n    })\r\n}\r\n\r\n\r\nconst MapAPI = {\r\n  GetMapFromLocal() {\r\n    return axios_entity\r\n      .get('api/Map')\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  GetGeoMap() {\r\n    return axios_entity\r\n      .get('api/Map/GeoMapJson')\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  GetMapTags() {\r\n    return axios_entity\r\n      .get('api/Map/Tags')\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  ReloadMap() {\r\n    return axios_entity\r\n      .get('api/Map/ReloadMap')\r\n      .then((ret) => {\r\n        MapStore.dispatch('DownloadMapData');\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  GetAGVList() {\r\n    return axios_entity\r\n      .get(`api/Map/AGVList`)\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  PathPlanByTag(from, to) {\r\n    return axios_entity\r\n      .get(`api/Map/PathPlan?fromTag=${from}&toTag=${to}`)\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  GetMapStationTemplate() {\r\n    return axios_entity\r\n      .get('api/Map/MapPointTemplate')\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  Regist(tag_number) {\r\n    return axios_entity_vms\r\n      .get(`api/Map/Regist?Tag_Number=${tag_number}`)\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  Unregist(tag_number) {\r\n    return axios_entity_vms\r\n      .get(`api/Map/Unregist?Tag_Number=${tag_number}`)\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  }\r\n}\r\n\r\n/**站點 */\r\nexport const pointTypes = [\r\n  {\r\n    label: 'Normal',\r\n    value: 0\r\n  },\r\n  {\r\n    label: 'EQ',\r\n    value: 1\r\n  },\r\n  {\r\n    label: 'STK',\r\n    value: 2\r\n  },\r\n  {\r\n    label: 'Charge',\r\n    value: 3\r\n  },\r\n  {\r\n    label: 'Buffer',\r\n    value: 4\r\n  },\r\n  {\r\n    label: 'Charge & Buffer',\r\n    value: 5\r\n  },\r\n  {\r\n    label: ' Charge & STK',\r\n    value: 6\r\n  },\r\n  {\r\n    label: 'Escape',\r\n    value: 8\r\n  },\r\n  {\r\n    label: 'EQ_LD',\r\n    value: 11\r\n  },\r\n  {\r\n    label: 'STK_LD',\r\n    value: 12\r\n  },\r\n  {\r\n    label: 'EQ_ULD',\r\n    value: 21\r\n  },\r\n  {\r\n    label: 'STK_ULD',\r\n    value: 22\r\n  },\r\n  {\r\n    label: 'Fire Door',\r\n    value: 31\r\n  },\r\n  {\r\n    label: 'Fire EQ',\r\n    value: 32\r\n  },\r\n  {\r\n    label: 'Auto Door',\r\n    value: 33\r\n  },\r\n  {\r\n    label: 'Elevator',\r\n    value: 100\r\n  },\r\n  {\r\n    label: 'Elevator',\r\n    value: 201\r\n  },\r\n  {\r\n    label: 'Elevator_LD',\r\n    value: 201\r\n  },\r\n  {\r\n    label: 'Elevator_ULD',\r\n    value: 221\r\n  },\r\n  {\r\n    label: 'Repair',\r\n    value: 110\r\n  },\r\n]\r\n\r\nexport function GetPointTypeNameByTypeNum(num) {\r\n  var ptType = pointTypes.findLast(t => t.value == num);\r\n  if (ptType)\r\n    return ptType.label\r\n  else\r\n    return num + '';\r\n}\r\n\r\n\r\nexport default MapAPI\r\n","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nimport clsQueryOptions from './Common/clsQueryOptions';\r\nvar axios_entity = axios.create({\r\n    baseURL: param.backend_host,\r\n})\r\n\r\n\r\n/**查詢儀器量測結果 */\r\nexport async function Query(option = clsQueryOptions) {\r\n    var response = await axios_entity.post('/api/InstrumentMeasure', option);\r\n    return response.data;\r\n}\r\n\r\n/**取得排程量測資料 */\r\nexport async function GetSchedules() {\r\n    var response = await axios_entity.get('/api/InstrumentMeasure/GetMeasureSchedules');\r\n    return response.data;\r\n}\r\n/**刪除排程 */\r\nexport async function DeleteSchedule(time, agv_name) {\r\n    var response = await axios_entity.delete(`/api/InstrumentMeasure/DeleteSchedule?time=${time}&agv_name=${agv_name}`);\r\n    return response.data;\r\n}\r\n/**新增排程量測 */\r\nexport async function AddNewMeasureSchedule(schedule) {\r\n    var response = await axios_entity.post('/api/InstrumentMeasure/AddNewMeasureSchedule', schedule);\r\n    return response.data;\r\n}\r\n/**修改量測排程 */\r\nexport async function ModifyMeasureSchedule(time, agv_name, schedule) {\r\n    var response = await axios_entity.post(`/api/InstrumentMeasure/ModifyMeasureSchedule?time=${time}&agv_name=${agv_name}`, schedule);\r\n    return response.data;\r\n}\r\n","import { showNotify, closeNotify } from 'vant'\r\nimport 'vant/es/toast/style'\r\nimport 'vant/es/notify/style'\r\n\r\nlet Notifier = {\r\n  Success(msg, position = 'bottom', duration = 3000) {\r\n    showNotify({\r\n      message: msg,\r\n      position: position,\r\n      type: 'success',\r\n      duration: duration,\r\n      background: 'rgba(7, 193, 96, 0.9)',\r\n      onclick: () => {\r\n        closeNotify()\r\n      },\r\n    })\r\n  },\r\n  Primary(msg, position = 'top', duration = 3000) {\r\n    showNotify({\r\n      message: msg,\r\n      position: position,\r\n      type: 'primary',\r\n      duration: duration,\r\n      onclick: () => {\r\n        closeNotify()\r\n      },\r\n    })\r\n  },\r\n\r\n  Danger(msg, position = 'top', duration = 3000) {\r\n    showNotify({\r\n      message: msg,\r\n      position: position,\r\n      type: 'danger',\r\n      duration: duration,\r\n      onclick: () => {\r\n        closeNotify()\r\n      },\r\n    })\r\n  },\r\n  Warning(msg, position = 'top', duration = 3000) {\r\n    showNotify({\r\n      message: msg,\r\n      position: position,\r\n      type: 'warning',\r\n      duration: duration,\r\n\r\n      onclick: () => {\r\n        closeNotify()\r\n      },\r\n    })\r\n  },\r\n}\r\n\r\nexport default Notifier\r\n","import axios from 'axios';\r\nimport param from '@/gpm_param';\r\n\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n})\r\n/*任務歷史查詢*/\r\nexport async function TaskQuery(currentpage, start_time, end_time, AGV_Name = 'ALL', TaskName = 'ALL', ExecuteResultSelected = \"ALL\", ActionTypeSelected = \"ALL\") {\r\n  var retquery = await axios_entity.get(`/api/TaskQuery/TaskQuery?currentpage=${currentpage}&StartTime=${start_time}&EndTime=${end_time}&AGV_Name=${AGV_Name}&TaskName=${TaskName}&Result=${ExecuteResultSelected}&ActionType=${ActionTypeSelected}`)\r\n\r\n  console.info(retquery.data)\r\n  return retquery.data;\r\n}\r\n/**輸出CSV */\r\nexport async function SaveTocsv(start_time, end_time, AGV_Name = 'ALL', TaskName = 'ALL') {\r\n  const response = await axios_entity.get(`/api/TaskQuery/SaveTocsv?StartTime=${start_time}&EndTime=${end_time}&AGV_Name=${AGV_Name}&TaskName=${TaskName}`)\r\n  const url = window.URL.createObjectURL(new Blob([response.data]));\r\n  const link = document.createElement('a');\r\n  link.href = url;\r\n  link.setAttribute('download', 'TaskQuery.csv'); // 設定下載檔案的名稱\r\n  document.body.appendChild(link);\r\n  link.click();\r\n}\r\n/**查詢任務 */\r\n\r\nexport async function GetTasks(start, end, agvname) {\r\n  var ret = await axios_entity.get(`/api/TaskQuery/GetTasks?agv_name=${agvname}&start=${start}&end=${end}`)\r\n  return ret.data;\r\n}\r\n\r\nexport async function GetTrajectory(taskID) {\r\n  var ret = await axios_entity.get(`/api/TaskQuery/GetTrajectory?taskID=${taskID}`)\r\n  return ret.data;\r\n}\r\n","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nimport moment from 'moment'\r\nimport { getAuthHeaders } from './AuthHelper'\r\nimport { userStore } from '@/store'\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n  headers: {},\r\n})\r\n\r\nexport class clsMoveTaskData {\r\n  constructor(agv_name, to_tag, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `Move_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 0\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = '-1'\r\n    this.Carrier_ID = '-1'\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\n\r\nexport class clsMeasureTaskData {\r\n  constructor(agv_name, bay_name, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `Measure_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 6\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = bay_name\r\n    this.To_Slot = '-1'\r\n    this.Carrier_ID = '-1'\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\nexport class clsLoadTaskData {\r\n  constructor(agv_name, to_tag, to_slot, cst_id, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `Load_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 7\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = to_slot + ''\r\n    this.Carrier_ID = cst_id\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\n\r\nexport class clsUnloadTaskData {\r\n  constructor(agv_name, to_tag, to_slot, cst_id, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `Unload_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 1\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = to_slot + ''\r\n    this.Carrier_ID = cst_id\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\n\r\nexport class clsChargeTaskData {\r\n  constructor(agv_name, to_tag, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `Charge_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 8\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = '-1'\r\n    this.Carrier_ID = '-1'\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\n\r\nexport class clsExangeBatteryTaskData {\r\n  constructor(agv_name, to_tag, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `BatEx_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 14\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = '-1'\r\n    this.Carrier_ID = '-1'\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\nexport class clsParkTaskData {\r\n  constructor(agv_name, to_tag, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `Park_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 12\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = '-1'\r\n    this.Carrier_ID = '-1'\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\n\r\nexport class clsCarryTaskData {\r\n  constructor(\r\n    agv_name,\r\n    from_tag,\r\n    from_slot,\r\n    to_tag,\r\n    to_slot,\r\n    cst_id,\r\n    Priority = 50, bypass_eq_status_check = false\r\n  ) {\r\n    this.TaskName = `Local_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 9\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = from_tag + ''\r\n    this.From_Slot = from_slot + ''\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = to_slot + ''\r\n    this.Carrier_ID = cst_id\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\n\r\nexport var TaskAllocation = {\r\n  async Task() {\r\n    axios_entity\r\n      .get(`/api/Task/Allocation`, { headers: getAuthHeaders() })\r\n      .then((response) => {\r\n        console.log('Response:', response.data)\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error:', error)\r\n      })\r\n  },\r\n  async Cancel(taskName) {\r\n    try {\r\n      var ret = await axios_entity.get(`/api/Task/Cancel?task_name=${taskName}`, {\r\n        headers: getAuthHeaders(),\r\n      })\r\n      return ret.data;\r\n    } catch (err) {\r\n      throw err\r\n    }\r\n  },\r\n  async MoveTask(clsMoveTaskData = new clsMoveTaskData('agv', 1)) {\r\n    return await CallAPI('/api/Task/Move', clsMoveTaskData)\r\n  },\r\n  /**量測任務 */\r\n  async MeasureTask(clsMeasureTaskData = new clsMeasureTaskData('agv', 1)) {\r\n    return await CallAPI('/api/Task/Measure', clsMeasureTaskData)\r\n  },\r\n  async LoadTask(clsLoadTaskData = new clsLoadTaskData('agv', 1, 1, 'CST_ID')) {\r\n    return await CallAPI('/api/Task/Load', clsLoadTaskData)\r\n  },\r\n  async UnloadTask(clsUnloadTaskData = new clsUnloadTaskData('agv', 1, 1, 'CST_ID')) {\r\n    return await CallAPI('/api/Task/Unload', clsUnloadTaskData)\r\n  },\r\n  async CarryTask(clsCarryTaskData) {\r\n    return await CallAPI('/api/Task/Carry', clsCarryTaskData)\r\n  },\r\n  async ChargeTask(clsChargeTaskData) {\r\n    return await CallAPI('/api/Task/Charge', clsChargeTaskData)\r\n  },\r\n  async ExangeBatteryTask(clsExangeBatteryTaskData) {\r\n    return await CallAPI('/api/Task/ExangeBattery', clsExangeBatteryTaskData)\r\n  },\r\n  async ParkTask(clsChargeTaskData) {\r\n    return await CallAPI('/api/Task/Park', clsChargeTaskData)\r\n  },\r\n}\r\nexport async function SaveHotRunSettings(data) {\r\n  var response = await axios_entity.post('/api/Task/HotRun', data)\r\n  return response.data;\r\n}\r\nexport async function GetHotRunSettings() {\r\n  var response = await axios_entity.get('/api/Task/HotRun')\r\n  return response.data;\r\n}\r\n\r\nexport async function StartHotRun(no) {\r\n  var response = await axios_entity.get(`/api/Task/HotRun/Start?no=${no}`)\r\n  return response.data;//{confirm,message}\r\n}\r\n\r\nexport async function StopHotRun(no) {\r\n  var response = await axios_entity.get(`/api/Task/HotRun/Stop?no=${no}`)\r\n}\r\nasync function CallAPI(path, data) {\r\n  var user_param = `?user=${userStore.getters.UserName}`\r\n  path += user_param;\r\n  return axios_entity\r\n    .post(path, data, { headers: getAuthHeaders() })\r\n    .then((response) => {\r\n      console.log('Response:', response.data)\r\n      return {\r\n        status: response.status,\r\n        data: response.data,\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error:', error)\r\n      return {\r\n        status: error.response.status,\r\n        data: error.response.data,\r\n        message: error.message\r\n      }\r\n    })\r\n}\r\n","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nimport { getAuthHeaders, getJWTAuthorizationVal } from './AuthHelper'\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n})\r\n\r\nexport async function GetUsers() {\r\n  const JWTAuthorizationVal = getJWTAuthorizationVal()\r\n  var headers = {}\r\n  headers['Authorization'] = JWTAuthorizationVal\r\n  var ret = await axios_entity.get('api/Auth/Users', {\r\n    headers: headers,\r\n  })\r\n  return ret.data\r\n}\r\n\r\nexport async function Login(user) {\r\n  try {\r\n    var ret = await axios_entity.post('api/Auth/login', user)\r\n    console.info(ret)\r\n    StoreToLocalStorage(ret.data)\r\n    return ret.data\r\n  } catch (er) {\r\n    return er.response.data\r\n  }\r\n}\r\n\r\nexport async function Modify(users) {\r\n  const JWTAuthorizationVal = getJWTAuthorizationVal()\r\n  var headers = {}\r\n  headers['Authorization'] = JWTAuthorizationVal\r\n  var ret = await axios_entity.post('api/Auth/modify', users, {\r\n    headers: headers,\r\n  })\r\n  return ret.data\r\n}\r\n\r\n/**刪除用戶 */\r\nexport async function Delete(user_name) {\r\n  var ret = await axios_entity.delete(`api/Auth/Delete?user_name=${user_name}`)\r\n  return ret.data\r\n}\r\n\r\n/**新增用戶 */\r\nexport async function Add(user) {\r\n  var ret = await axios_entity.post(`api/Auth/Add`, user)\r\n  return ret.data\r\n}\r\n\r\nexport function StoreToLocalStorage(user) {\r\n  user.LoginTime = Date.now()\r\n  localStorage.setItem('user', JSON.stringify(user))\r\n}\r\n\r\n/**向後端回報路由跳轉狀態 */\r\nexport async function UserRouteChange(userID, route) {\r\n  var ret = await axios_entity.get(`api/Auth/UserRouteChange?userID=${userID}&current_route=${route}`)\r\n  return ret.data\r\n}\r\n\r\n","import param from '@/gpm_param'\r\nimport bus from '@/event-bus'\r\nvar backend_ws_host = param.backend_host.replace('http', 'ws')\r\n\r\nclass WebSocketHelp {\r\n  constructor(ws_path, ws_host) {\r\n    this.wssocket = null\r\n    this.closed_actived = false\r\n    this.previousWsState = WebSocket.CLOSED\r\n    bus.on('/ws_force_close', () => {\r\n      this.Close()\r\n    })\r\n\r\n    if (ws_path.startsWith('/')) {\r\n      ws_path = ws_path.substr(1)\r\n    }\r\n    this.ws_path = ws_path\r\n    if (ws_host == undefined) {\r\n      this.ws_url = `${backend_ws_host}/${this.ws_path}`\r\n    } else {\r\n      this.ws_url = `${ws_host}/${this.ws_path}`\r\n    }\r\n  }\r\n\r\n  Connect() {\r\n    const socket = new WebSocket(`${this.ws_url}`)\r\n\r\n    socket.onerror = (ev) => {\r\n      console.info(`Try Connect to : ${this.ws_url} ON ＥＲＲＯＲ FAIL`)\r\n    }\r\n    this.wssocket = socket\r\n\r\n  }\r\n  /**重新連線 */\r\n  ReconnectWorker() {\r\n    this.wssocket = new WebSocket(`${this.ws_url}`)\r\n    this.wssocket.onmessage = this.onmessageHandler\r\n    this.wssocket.onclose = this.oncloseHandler\r\n    this.wssocket.onopen = this.onopenHandler\r\n  }\r\n\r\n  Close() {\r\n    this.closed_actived = true\r\n    clearInterval(this.alive_check_timer)\r\n    if (this.wssocket) {\r\n      this.wssocket.close()\r\n    }\r\n  }\r\n\r\n  set onerror(ev) {\r\n    this.onopenHandler = ev\r\n    this.wssocket.onerror = ev\r\n  }\r\n  get onerror() {\r\n    return this.wssocket.onerror\r\n  }\r\n\r\n  set onclose(ev) {\r\n    this.oncloseHandler = ev\r\n    this.wssocket.onclose = ev\r\n  }\r\n  get onclose() {\r\n    return this.wssocket.onclose\r\n  }\r\n\r\n  set onopen(ev) {\r\n    this.onopenHandler = ev\r\n    this.wssocket.onopen = ev\r\n  }\r\n  get onopen() {\r\n    return this.wssocket.onopen\r\n  }\r\n\r\n\r\n  set onmessage(ev) {\r\n    this.onmessageHandler = ev\r\n    this.wssocket.onmessage = ev\r\n  }\r\n  get onmessage() {\r\n    return this.wssocket.onmessage\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default WebSocketHelp\r\n","\r\nimport { Circle, Fill, Icon, Stroke, Style, Text, RegularShape } from 'ol/style.js';\r\nimport Point from 'ol/geom/Point.js';\r\nimport Feature from 'ol/Feature';\r\nimport { Rectangle } from 'leaflet';\r\nimport { MapStore } from './store';\r\n\r\n\r\n/**根據Index取得點位物件 */\r\nexport function GetPointByIndex(index) {\r\n    var points = MapStore.getters.MapData.Points;\r\n    var pt = points[index]\r\n    if (pt) {\r\n        return pt;\r\n    } else {\r\n        return {}\r\n    }\r\n}\r\n\r\n/**階乘 */\r\nfunction factorial(num) {\r\n    if (num <= 1) {\r\n        return 1;\r\n    } else {\r\n        return num * factorial(num - 1);\r\n    }\r\n}\r\n\r\n/*\r\n * 生成贝塞尔曲线插值点\r\n * @para n {number} 控制点数量\r\n * @para arrPoints {array} 控制点坐标集合\r\n */\r\nexport function createBezierCurvePoints(n = 1, arrPoints = [Point]) {\r\n\r\n    var Ptx = 0;\r\n    var Pty = 0;\r\n\r\n    var arrbline = [];\r\n    for (var t = 0; t < 1; t = t + 0.01) {\r\n        Ptx = 0;\r\n        Pty = 0;\r\n        for (var i = 0; i <= n; i++) {\r\n            Ptx += (factorial(n) / (factorial(i) * factorial(n - i))) * Math.pow((1 - t), n - i) * Math.pow(t, i) * arrPoints[i][0];\r\n            Pty += (factorial(n) / (factorial(i) * factorial(n - i))) * Math.pow((1 - t), n - i) * Math.pow(t, i) * arrPoints[i][1];\r\n        }\r\n        arrbline.push([Ptx, Pty]);\r\n    }\r\n\r\n    return arrbline;\r\n}\r\n\r\n\r\nconst station_colors = {\r\n    normal: 'orange',\r\n    eq: 'lightblue',\r\n    charge: 'yellow',\r\n    stk: 'lime'\r\n}\r\n\r\n/**路徑顏色 */\r\nvar pathColor = 'rgb(166, 166, 166)'\r\n\r\nexport function SetPathColor(color) {\r\n    pathColor = color;\r\n}\r\n\r\nconst eq_station_icon = new Icon({\r\n    src: '/images/eq-icon.png', // 设置PNG图像的路径\r\n    scale: 0.45,\r\n    anchor: [0.5, 0.5],\r\n    size: [64, 64],\r\n    opacity: 1,\r\n    color: 'transparent',\r\n\r\n})\r\n\r\nconst charge_station_icon = new Icon({\r\n    src: '/images/charging-station.png', // 设置PNG图像的路径\r\n    scale: 0.5,\r\n    anchor: [0.5, 0.5],\r\n    size: [64, 64],\r\n    opacity: 1,\r\n    color: 'transparent'\r\n\r\n})\r\n\r\nvar rack_station_icon = new Icon({\r\n    src: '/images/rack_station.png', // 设置PNG图像的路径\r\n    scale: 0.45,\r\n    anchor: [0.5, 0.5],\r\n    size: [64, 64],\r\n    opacity: 1,\r\n    color: 'white'\r\n})\r\n\r\n\r\nvar rack_charge_station_icon = new Icon({\r\n    src: '/images/rack_charge_station.png', // 设置PNG图像的路径\r\n    scale: 0.5,\r\n    anchor: [0.5, 0.5],\r\n    size: [64, 64],\r\n    opacity: 1,\r\n    color: 'yellow'\r\n})\r\n\r\nvar stocker_icon = new Icon({\r\n    src: '/images/stk_.jpg', // 设置PNG图像的路径\r\n    scale: 0.45,\r\n    anchor: [0.5, 0.5],\r\n    size: [64, 64],\r\n    opacity: 1,\r\n    color: 'white'\r\n})\r\n\r\nvar lifter_icon = new Icon({\r\n    src: '/images/lifter_icon.png', // 设置PNG图像的路径\r\n    scale: 0.35,\r\n    anchor: [0.5, 0.5],\r\n    size: [128, 128],\r\n    opacity: 1,\r\n    color: 'white'\r\n})\r\n\r\nconst loc_icon = new Icon({\r\n    src: '/images/location.png', // 设置PNG图像的路径\r\n    offset: [-25, -5],\r\n    scale: 0.5,\r\n    size: [180, 180]\r\n\r\n})\r\n/**一般點位 */\r\nfunction normal_station_image(map_data = {}) {\r\n    var fillColor = 'orange'\r\n    const stroke = new Stroke({ color: 'black', width: 2 });\r\n\r\n    if (map_data) {\r\n        if (!map_data.Enable) {\r\n            return new RegularShape({\r\n                fill: new Fill({\r\n                    color: 'red',\r\n                }),\r\n                stroke: new Stroke({ color: 'red', width: 2 }),\r\n                points: 4,\r\n                radius: 10,\r\n                radius2: 0,\r\n                angle: Math.PI / 4,\r\n            })\r\n        } else {\r\n\r\n            if (map_data.IsVirtualPoint) {\r\n                fillColor = 'grey'\r\n            } else {\r\n                fillColor = 'orange'\r\n            }\r\n            if (map_data.IsAvoid) {\r\n                return new RegularShape({\r\n                    fill: new Fill({\r\n                        color: 'orange',\r\n                    }),\r\n                    stroke: stroke,\r\n                    points: 3,\r\n                    radius: 6,\r\n                    angle: 0,\r\n                })\r\n            }\r\n        }\r\n\r\n    }\r\n    return new Circle({\r\n        radius: 4,\r\n        fill: new Fill({\r\n            color: fillColor,\r\n        }),\r\n        stroke: stroke,\r\n    })\r\n}\r\n\r\nexport function CreateLocIcon(coordinate, isStart = true) {\r\n    let iconFeture = new Feature({\r\n        geometry: new Point(coordinate),\r\n    })\r\n    iconFeture.setStyle(new Style({\r\n        image: isStart ? loc_icon : loc_icon,\r\n    }))\r\n    return iconFeture;\r\n}\r\n\r\nexport function GetStationStyle(text = '', station_type = 0, map_data = {}) {\r\n    var image = normal_station_image(map_data)\r\n    if (station_type == 0) {\r\n        image = normal_station_image(map_data)\r\n    }\r\n    else if (station_type == 1) {\r\n        image = eq_station_icon\r\n    }\r\n    else if (station_type == 2 || station_type == 12 || station_type == 22) {\r\n        image = stocker_icon\r\n    }\r\n    else if (station_type == 4) {\r\n        image = rack_station_icon\r\n    }\r\n    else if (station_type == 5 || station_type == 6) {\r\n        image = rack_charge_station_icon;\r\n    }\r\n    else if (station_type == 3) {\r\n        image = charge_station_icon\r\n    }\r\n    else if (station_type == 100 || station_type == 201) {\r\n        image = lifter_icon\r\n    }\r\n\r\n    var textStyle = new Style({\r\n        image: image,\r\n        text: new Text({\r\n            text: text,\r\n            font: 'bold 16px Calibri,sans-serif',\r\n            offsetX: 14,\r\n            offsetY: -22,\r\n            fill: new Fill({\r\n                color: station_type == 0 ? 'gold' : 'rgb(87, 203, 87)',//PointColorSelect(station_type)\r\n            }),\r\n            stroke: new Stroke({\r\n                color: 'black',\r\n                width: 2,\r\n            }),\r\n        }),\r\n    })\r\n    return textStyle\r\n}\r\n/**軌跡顯示Style */\r\nexport function CreateLocusPathStyles(color = 'red', width = 1) {\r\n    const styles = [\r\n        new Style({\r\n            stroke: new Stroke({\r\n                color: color,\r\n                width: width,\r\n            }),\r\n        }),\r\n    ];\r\n    return styles;\r\n}\r\nexport function CreateStationPathStyles(feature, color = undefined) {\r\n    var data = feature.get('data');\r\n    var isEQLink = feature.get('isEqLink')\r\n    var isPathClose = feature.get('isClose');\r\n    const geometry = feature.getGeometry();\r\n    const styles = [\r\n        new Style({\r\n            stroke: new Stroke({\r\n                color: isPathClose ? 'red' : pathColor,\r\n                width: 2.7,\r\n                lineDash: isEQLink ? [4, 11] : null // 虛線模式（設定虛線段的長度和間隔）\r\n            }),\r\n        }),\r\n    ];\r\n    const coordinates = geometry.getCoordinates()\r\n\r\n    var index = 0;\r\n    geometry.forEachSegment(function (start, end) {\r\n        if (index == coordinates.length - 2) {\r\n            const dx = end[0] - start[0];\r\n            const dy = end[1] - start[1];\r\n            const rotation = Math.atan2(dy, dx);\r\n            // arrows\r\n            styles.push(\r\n                new Style({\r\n                    geometry: new Point(end),\r\n                    image: new Icon({\r\n                        src: 'arrow.png',\r\n                        anchor: [1.2, 0.5],\r\n                        rotateWithView: true,\r\n                        rotation: -rotation,\r\n                        scale: 0.20,\r\n                        color: isPathClose ? 'red' : pathColor\r\n                    }),\r\n                })\r\n            );\r\n            if (isPathClose) {\r\n                start = [(end[0] + start[0]) / 2, (end[1] + start[1]) / 2]\r\n                const dx = end[0] - start[0];\r\n                const dy = end[1] - start[1];\r\n                const rotation = Math.atan2(dy, dx);\r\n                // arrows\r\n                styles.push(\r\n                    new Style({\r\n                        geometry: new Point(start),\r\n                        image: new Icon({\r\n                            src: 'close.png',\r\n                            anchor: [1.2, 0.5],\r\n                            rotateWithView: true,\r\n                            rotation: -rotation,\r\n                            scale: 0.6,\r\n                        }),\r\n                    })\r\n                );\r\n            }\r\n        }\r\n        index += 1;\r\n    });\r\n    return styles;\r\n}\r\n\r\nexport function CreateNewStationPointFeature(coordinate, point_index, featureStatonType) {\r\n    var station = new clsMapStation();\r\n    station.coordination = coordinate;\r\n    station.index = point_index;\r\n    station.station_type = 0;\r\n    station.name = station.index + '';\r\n    station.tag = station.index;\r\n    station.graph = coordinate;\r\n\r\n    var mapPtModel = new MapPointModel();\r\n    mapPtModel.StationType = 0;\r\n    mapPtModel.X = coordinate[0];\r\n    mapPtModel.Y = coordinate[1];\r\n    mapPtModel.Graph.X = coordinate[0];\r\n    mapPtModel.Graph.Y = coordinate[1];\r\n    mapPtModel.Name = mapPtModel.Graph.Display = station.name;\r\n    mapPtModel.TagNumber = station.index;\r\n    station.data = mapPtModel;\r\n    var feature = CreateStationFeature(station);\r\n    return feature;\r\n}\r\nexport function CreateStationFeature(station = new clsMapStation()) {\r\n    const iconFeature = new Feature({\r\n        geometry: new Point(station.coordination)\r\n        // geometry: new Point(station.graph)\r\n    });\r\n    iconFeature.set('index', station.index)\r\n    iconFeature.set('name', station.name)\r\n    iconFeature.set('station_type', station.station_type)\r\n    iconFeature.set('targets', station.targets)\r\n    iconFeature.set('feature_type', 'station')\r\n    iconFeature.set('data', station.data)\r\n    iconFeature.set('coordination', station.coordination)\r\n    iconFeature.set('graph', station.graph)\r\n    var name = station.name\r\n    iconFeature.setStyle(GetStationStyle(name, station.station_type, station.data));\r\n    var routeFeature = iconFeature.clone();\r\n    if (station.data.Graph) {\r\n        routeFeature.setGeometry(new Point([station.data.Graph.X, station.data.Graph.Y]))\r\n    }\r\n    iconFeature.set('routeModeFeature', routeFeature)\r\n    return iconFeature;\r\n}\r\n\r\nexport function CreateEQLDULDFeature(station = new clsMapStation(), mode = 'router' | 'coordination') {\r\n    var _coor = mode == 'coordination' ? station.coordination : station.graph;\r\n    const iconFeature = new Feature({\r\n        geometry: new Point(_coor)\r\n    });\r\n    iconFeature.set('feature_type', 'lduld')\r\n    iconFeature.set('data', station.data)\r\n    iconFeature.set('action', 0)\r\n\r\n    if (station.station_type != 1)\r\n        return iconFeature;\r\n\r\n    var _style = new Style({\r\n        text: new Text({\r\n            text: \"\",\r\n            font: 'bold 12px Calibri,sans-serif',\r\n            offsetX: 14,\r\n            offsetY: -52,\r\n            fill: new Fill({\r\n                color: 'white',//PointColorSelect(station_type)\r\n            }),\r\n            backgroundFill: new Fill({\r\n                color: 'seagreen',//PointColorSelect(station_type)\r\n            }),\r\n            backgroundStroke: new Stroke({\r\n                color: 'black',\r\n                width: 3,\r\n            })\r\n        }),\r\n    })\r\n    iconFeature.setStyle(_style)\r\n    return iconFeature;\r\n}\r\n\r\n\r\nfunction GetCargoIcon(cargo_type, exist = false) {\r\n    if (!exist)\r\n        return null\r\n    return new Icon({\r\n        src: cargo_type == 1 ? 'images/rack2.png' : 'images/tray.png',\r\n        scale: cargo_type == 1 ? .6 : .8, // 设置PNG图像的缩放比例\r\n        anchor: cargo_type == 1 ? [1.3, 0.95] : [.8, 0.65], // 设置PNG图像的锚点，即图片的中心点位置\r\n        size: [60, 60],// 设置PNG图像的大小\r\n        opacity: 1,\r\n    })\r\n}\r\nexport function AGVCargoIconStyle(cargo_type = 0, cargo_id = '', cst_exist = false) {\r\n    return new Style({\r\n        image: GetCargoIcon(cargo_type, cst_exist),\r\n        text: new Text({\r\n            // text: `${cargo_type.toUpperCase()}\\r\\n${cargo_id}`,\r\n            text: cargo_id,\r\n            offsetX: -45,\r\n            offsetY: -35,\r\n            textAlign: 'left',\r\n            font: 'bold 9px Arial',\r\n            fill: new Fill({\r\n                color: 'white'\r\n            }),\r\n            backgroundFill: new Fill({\r\n                color: 'grey',\r\n            }),\r\n\r\n\r\n        })\r\n    })\r\n}\r\nexport function ChangeCargoIcon(feature = new Feature(), cargoStates = new clsCargoStates()) {\r\n    var style = AGVCargoIconStyle(cargoStates.cargo_type, cargoStates.cst_id, cargoStates.exist);\r\n    feature.setStyle(style);\r\n}\r\nexport function AGVPointStyle(agv_name, color) {\r\n    return new Style({\r\n        image: new Icon({\r\n            src: '/agv.png', // 设置PNG图像的路径\r\n            scale: .5, // 设置PNG图像的缩放比例\r\n            anchor: [0.5, 0.5], // 设置PNG图像的锚点，即图片的中心点位置\r\n            size: [64, 64],// 设置PNG图像的大小\r\n            opacity: 1,\r\n            rotateWithView: true,\r\n            rotation: 0 * Math.PI / 180.0 //3.14 180\r\n\r\n        }),\r\n        text: new Text({\r\n            text: agv_name,\r\n            offsetX: 0,\r\n            offsetY: 32,\r\n            font: 'bold 16px Arial',\r\n            fill: new Fill({\r\n                color: 'white'\r\n            }),\r\n\r\n            backgroundFill: new Fill({\r\n                color: color,\r\n            }),\r\n            backgroundStroke: new Stroke({\r\n                color: 'black',\r\n            }),\r\n            textAlign: 'center',\r\n            padding: [4, 4, 4, 4]\r\n        }),\r\n    })\r\n}\r\n\r\nfunction PointColorSelect(station_type) {\r\n    if (station_type == 0)\r\n        return station_colors.normal\r\n    else if (station_type == 1)\r\n        return station_colors.eq\r\n    else if (station_type == 2)\r\n        return station_colors.stk\r\n    else if (station_type == 3)\r\n        return station_colors.charge\r\n    else\r\n        return 'black'\r\n}\r\nfunction GetActionName(action, CargoStates = new clsCargoStates()) {\r\n    if (action == 0)\r\n        return CargoStates.exist ? '跑貨' : '移動'\r\n    if (action == 1)\r\n        return '取貨'\r\n    if (action == 2)\r\n        return '放貨停車'\r\n    if (action == 3)\r\n        return '前進'\r\n    if (action == 4)\r\n        return '後退'\r\n    if (action == 5)\r\n        return 'Fab?'\r\n    if (action == 6)\r\n        return '量測'\r\n    if (action == 7)\r\n        return '放貨'\r\n    if (action == 8)\r\n        return '充電'\r\n    if (action == 9)\r\n        return '搬運'\r\n    if (action == 10)\r\n        return '移出充電站'\r\n    if (action == 11)\r\n        return '快逃'\r\n    if (action == 12)\r\n        return '停車'\r\n\r\n    if (action == 13)\r\n        return '離開停車'\r\n    if (action == 14)\r\n        return '電池交換'\r\n    if (action == 15)\r\n        return 'Hold'\r\n    if (action == 16)\r\n        return 'Break'\r\n    if (action == 17)\r\n        return ''\r\n}\r\n/**AGV地圖顯示參數 */\r\nexport class AGVOption {\r\n    constructor(AGVNum = 1, AGVDisplayOptions = [new clsAGVDisplay()]) {\r\n        this.AGVNum = AGVNum\r\n        this.AGVDisplays = AGVDisplayOptions\r\n\r\n    }\r\n}\r\n\r\nexport class clsAGVDisplay {\r\n    constructor(AgvName = \"AGV\", TextColor = \"pink\", initCoordination = [0, 0], navCoorList = [], CargoStatus = new clsCargoStates(), Tag = 0, Theta = 0, WaitingInfo = new clsWaitingInfo(), CurrentAction = 0, AgvStates = new clsAgvStates()) {\r\n        this.AgvName = AgvName\r\n        this.TextColor = TextColor\r\n        this.Coordination = initCoordination;\r\n        this.NavPathCoordinationList = navCoorList\r\n        this.CargoStatus = CargoStatus\r\n        this.Tag = Tag\r\n        this.Theta = Theta\r\n        this.WaitingInfo = WaitingInfo\r\n        this.CurrentAction = AgvStates.is_executing_task ? GetActionName(CurrentAction, CargoStatus) : \"\"\r\n        this.AgvStates = AgvStates\r\n\r\n    }\r\n}\r\nexport class clsWaitingInfo {\r\n    constructor() {\r\n        this.IsWaiting = false;\r\n        this.Descrption = '';\r\n        this.WaitingPoint = {}\r\n    }\r\n}\r\nexport class clsCargoStates {\r\n    constructor(exist = false, type = 0, cst_id = '') {\r\n        this.exist = exist;\r\n        this.cargo_type = type; //0:tray,1:rack\r\n        this.cst_id = cst_id\r\n    }\r\n}\r\n\r\nexport class clsMapStation {\r\n    constructor() {\r\n        this.index = 0\r\n        this.name = 'name'\r\n        this.tag = 0\r\n        this.station_type = 1\r\n        this.targets = []\r\n        this.coordination = [0, 0]\r\n        this.graph = [0, 0]\r\n        this.data = {}\r\n    }\r\n}\r\nexport class clsAgvStates {\r\n    constructor() {\r\n        this.is_online = false\r\n        this.is_executing_task = false\r\n        this.main_status = 'IDLE'\r\n    }\r\n}\r\nexport class clsMap {\r\n    constructor() {\r\n        this.Version = 1;\r\n        this.Name = undefined;\r\n        this.Note = '';\r\n        this.PointIndex = 0;\r\n        this.Map_Image_Size = [400, 400];\r\n        this.Map_Image_Boundary = [-20, -20, 20, 20];\r\n        this.Points = {};\r\n        this.BezierCurves = {};\r\n        this.Pathes = [];\r\n        this.Segments = [];\r\n        this.Bays = {};\r\n\r\n\r\n    }\r\n}\r\n/**後端圖資模型 */\r\nexport class MapPointModel {\r\n    constructor() {\r\n        this.X = 0;\r\n        this.Y = 0;\r\n        this.Name = \"\"\r\n        this.TagNumber = 0\r\n        this.Direction = 0\r\n        this.Direction_Secondary_Point = 0 //二次定位點的停車角度\r\n        this.AGV_Alarm = false;\r\n        this.Enable = true;\r\n        this.IsStandbyPoint = false;\r\n        this.IsSegment = false\r\n        this.IsOverlap = false\r\n        this.IsParking = false\r\n        this.IsAvoid = false;\r\n        this.IsVirtualPoint = false;\r\n        this.IsAutoDoor = false\r\n        this.IsExtinguishing = false\r\n        this.InvolvePoint = \"\"\r\n        this.StationType = 0\r\n        this.LsrMode = 0\r\n        this.Speed = 1\r\n        this.Bay = \"\"\r\n        this.Graph = {\r\n            Display: \"\",\r\n            X: 0,\r\n            Y: 0,\r\n            IsBezierCurvePoint: false,\r\n            BezierCurveID: ''\r\n        }\r\n        this.Target = {\r\n\r\n        }\r\n        this.DodgeMode = 0\r\n        this.SpinMode = 0\r\n        this.SubMap = \"\"\r\n        this.AutoDoor = {\r\n            KeyName: \"\",\r\n            KeyPassword: \"\"\r\n        }\r\n        this.MotionInfo = {\r\n            ControlBypass: {\r\n                GroundHoleCCD: \"\",\r\n                GroundHoleSensor: \"\",\r\n                UltrasonicSensor: \"\"\r\n\r\n            }\r\n        }\r\n        this.Region = \"\"\r\n        this.IsCharge = false\r\n        this.IsEquipment = false\r\n        this.IsSTK = false\r\n        this.IsEQLink = false\r\n        this.IsCross = false\r\n        this.IsRegisted = false\r\n        this.RegistInfo = null\r\n    }\r\n}\r\n\r\nexport class MapContextMenuOptions {\r\n    constructor() {\r\n        this.title = 'title'\r\n        this.backgroundColor = 'white'\r\n        this.feature_type = 'Station'\r\n        this.point_data = new MapPointModel()\r\n        this.show_task_dispatch = false\r\n        this.task_options = new MenuUseTaskOption()\r\n    }\r\n}\r\n\r\nexport class MenuUseTaskOption {\r\n    constructor(StationType) {\r\n        this.StationType = StationType\r\n\r\n    }\r\n}\r\n\r\n/**Select點位選項 */\r\nexport class StationSelectOptions {\r\n    constructor(tag = 0, name = '', name_display = '') {\r\n        this.tag = tag\r\n        this.name = name\r\n        this.name_display = name_display\r\n    }\r\n}\r\n\r\nexport class BezierCurve {\r\n    constructor(ID = \"\", Rank = 2, MidPointCoordination = [0, 0]) {\r\n        this.ID = ID\r\n        this.Rank = Rank\r\n        this.MidPointCoordination = MidPointCoordination\r\n    }\r\n}","import { createStore } from \"vuex\";\r\nimport axios from 'axios'\r\nimport { AGVOption, clsMap, clsAGVDisplay, clsMapStation, StationSelectOptions } from '../mapjs';\r\n\r\n/**圖資狀態儲存 */\r\nexport const MapStore = createStore({\r\n    state: {\r\n        MapData: new clsMap(),\r\n        MapGeoJson: null,\r\n        AGVDynamicPathInfo: undefined,\r\n        /**被系統交通管制的路徑字典 */\r\n        ControledPathesBySystem: {},\r\n        AGVLocUpload: {},\r\n        agv_colors: [\r\n            'rgb(13, 110, 253)',\r\n            'limegreen',\r\n            'orange',\r\n            'pink',\r\n            'red',\r\n            'purple',\r\n        ],\r\n        worker: new Worker(''),\r\n        mapBackendServer: process.env.NODE_ENV == 'development' ? 'http://127.0.0.1:5216' : `${window.location.protocol}//${window.location.host}`\r\n    },\r\n    getters: {\r\n        MapBackednAxios: state => {\r\n            var axio = axios.create({\r\n                baseURL: state.mapBackendServer\r\n            })\r\n            return axio\r\n        },\r\n        MapData: state => {\r\n            var localStore = localStorage.getItem('mapData')\r\n            if (state.MapData == null && localStore) {\r\n                return JSON.parse(localStore)\r\n            }\r\n            return state.MapData;\r\n        },\r\n        /**圖片像素 [長,寬] */\r\n        Map_Image_Size: state => {\r\n            return state.MapData.Map_Image_Size;\r\n        },\r\n        Map_Image_Boundary: state => {\r\n            return state.MapData.Map_Image_Boundary;\r\n        },\r\n        Pathes: state => {\r\n            return state.MapData.Segments\r\n        },\r\n        MapName: state => {\r\n            return state.MapData == null ? \"Unkown\" : state.MapData.Name\r\n        },\r\n        BezierCurves: state => {\r\n            return state.MapData == null ? {} : state.MapData.BezierCurves\r\n        },\r\n        GeoMapData: state => {\r\n            return state.MapGeoJson\r\n        },\r\n        MapServerUrl: state => {\r\n            return state.mapBackendServer\r\n        },\r\n        MapStations: (state, actions) => {\r\n            var mapDataSource = state.MapData\r\n            if (!mapDataSource)\r\n                return []\r\n            var points = mapDataSource.Points\r\n            if (!points)\r\n                return [];\r\n            var indexes = Object.keys(points)\r\n            var map_stations = []\r\n            indexes.forEach(index => {\r\n\r\n                var pt = points[index]\r\n                var mapStationData = new clsMapStation()\r\n                mapStationData.index = parseInt(index);\r\n                mapStationData.name = pt.Name;\r\n                mapStationData.station_type = pt.StationType;\r\n                mapStationData.tag = pt.TagNumber;\r\n                mapStationData.coordination = [pt.X, pt.Y];\r\n                mapStationData.targets = [];\r\n                mapStationData.graph = [pt.Graph.X, pt.Graph.Y];\r\n                mapStationData.data = pt;\r\n                Object.keys(pt.Target).forEach(targetIndex => {\r\n                    mapStationData.targets.push(parseInt(targetIndex))\r\n                })\r\n                map_stations.push(mapStationData)\r\n            })\r\n            return map_stations\r\n        },\r\n        BaysData: state => {\r\n            if (state.MapData)\r\n                return state.MapData.Bays\r\n            else\r\n                return {}\r\n        },\r\n        AGVDynamicPathInfo: state => {\r\n\r\n            return state.AGVDynamicPathInfo\r\n        },\r\n        AGVLocUpload: state => {\r\n            return state.AGVLocUpload;\r\n        },\r\n        AGVNavInfo: (state, getters) => {\r\n            var agv_nav_info = state.AGVDynamicPathInfo;\r\n            if (agv_nav_info == undefined) {\r\n                return new AGVOption(0, [])\r\n            }\r\n            var agv_num = Object.keys(agv_nav_info).length;\r\n            var agvDataLs = [];\r\n            var index = 0;\r\n            Object.keys(agv_nav_info).forEach(name => {\r\n                var data = agv_nav_info[name]\r\n                var pathtags = data.nav_path\r\n                var pathCoordinations = []\r\n\r\n                if (pathtags) {\r\n\r\n                    pathtags.forEach(tag => {\r\n                        var pt = getters.MapStations.find(st => st.tag == tag)\r\n                        if (pt) {\r\n                            pathCoordinations.push(pt.coordination)\r\n                        }\r\n                    })\r\n                }\r\n                var coordination = [0, 0]\r\n                if (data.currentCoordication) {\r\n                    coordination = [data.currentCoordication.X, data.currentCoordication.Y]\r\n                }\r\n                agvDataLs.push(new clsAGVDisplay(name, state.agv_colors[index], coordination, pathCoordinations, data.cargo_status, data.currentLocation, data.theta, data.waiting_info, data.currentAction, data.states))\r\n                index += 1;\r\n            })\r\n            var _AGVOption = new AGVOption(agv_num, agvDataLs)\r\n            return _AGVOption;\r\n        },\r\n        AllNormalStationOptions: state => {\r\n            //[{tag:1,name:'' }]\r\n            var points = Object.values(state.MapData.Points)\r\n            var points = points.filter(pt => !pt.IsVirtualPoint && pt.StationType == 0).map(pt => new StationSelectOptions(pt.TagNumber, `${pt.Graph.Display}(Tag=${pt.TagNumber})`, pt.Graph.Display))\r\n            return points;\r\n        },\r\n        AllEqStation: state => {\r\n            var points = Object.values(state.MapData.Points)\r\n            var options = points.filter(pt => !pt.IsVirtualPoint && pt.StationType == 1).map(pt => new StationSelectOptions(pt.TagNumber, `${pt.Graph.Display}(Tag=${pt.TagNumber})`, pt.Graph.Display))\r\n            return options;\r\n        },\r\n        AllChargeStation: state => {\r\n            var points = Object.values(state.MapData.Points)\r\n            var options = points.filter(pt => !pt.IsVirtualPoint && (pt.StationType == 3 || pt.StationType == 5 || pt.StationType == 6)).map(pt => new StationSelectOptions(pt.TagNumber, `${pt.Graph.Display}(Tag=${pt.TagNumber})`, pt.Graph.Display))\r\n            return options;\r\n        },\r\n        AllExangeBatteryStation: state => {\r\n            var points = Object.values(state.MapData.Points)\r\n            var options = points.filter(pt => !pt.IsVirtualPoint && (pt.StationType == 16 || pt.StationType == 3)).map(pt => new StationSelectOptions(pt.TagNumber, `${pt.Graph.Display}(Tag=${pt.TagNumber})`, pt.Graph.Display))\r\n            return options;\r\n        },\r\n        AllParkingStationOptions: state => {\r\n            var points = Object.values(state.MapData.Points)\r\n            var options = points.filter(pt => !pt.IsVirtualPoint && pt.IsParking == true).map(pt => new StationSelectOptions(pt.TagNumber, `${pt.Graph.Display}(Tag=${pt.TagNumber})`, pt.Graph.Display))\r\n            return options;\r\n        },\r\n        AllPointsOptions: state => {\r\n            var options = []\r\n            var points = state.MapData.Points\r\n            var indexes = Object.keys(points)\r\n            indexes.forEach(index => {\r\n                var ptData = points[index]\r\n                options.push({\r\n                    index: index,\r\n                    tag: ptData.TagNumber,\r\n                    name: ptData.Graph.Display\r\n                })\r\n            })\r\n            return options\r\n        },\r\n        ControledPathesBySystem: state => state.ControledPathesBySystem\r\n    },\r\n    mutations: {\r\n        setMapData(state, mapdata) {\r\n            state.MapData = mapdata;\r\n            localStorage.setItem('mapData', JSON.stringify(mapdata))\r\n        },\r\n        setGeoMapData(state, mapdata) {\r\n            state.MapGeoJson = mapdata;\r\n        },\r\n        setAGVDynamicPathInfo(state, info) {\r\n            state.AGVDynamicPathInfo = info\r\n        },\r\n        setAGVLocUpload(state, data) {\r\n            state.AGVLocUpload = data\r\n        },\r\n        setWorker(state, worker) {\r\n            state.worker = worker;\r\n        },\r\n        setControledPathesBySystem(state, ControledPathesBySystem) {\r\n            state.ControledPathesBySystem = ControledPathesBySystem\r\n        }\r\n    },\r\n    actions: {\r\n        async DownloadMapData({ commit, getters }) {\r\n            await getters.MapBackednAxios.get('api/Map').then(response => {\r\n                console.log('[MapStore] get map data', response.data);\r\n                commit('setMapData', response.data)\r\n            });\r\n        },\r\n        Save({ commit }) {\r\n\r\n        },\r\n        /**根據點位的index搜尋點位物件 */\r\n        GetMapPointByIndex({ commit, state }, index) {\r\n            var points = state.MapData.Points\r\n            return points[index]\r\n        },\r\n        /**根據點位的index搜尋點位物件 */\r\n        GetMapPointByTag({ commit, state }, tag) {\r\n            var points = state.MapData.Points\r\n            return Object.values(points).find(pt => pt.TagNumber + '' == tag + '')\r\n        },\r\n        SaveMap({ commit, state, actions, getters }, _data) {\r\n            return getters.MapBackednAxios.post('api/Map/SaveMap', _data)\r\n                .then((ret) => {\r\n                    _data.Note = ret.data;\r\n                    commit('setMapData', _data);\r\n                    return true\r\n                })\r\n                .catch((err) => {\r\n                    return false\r\n                })\r\n        },\r\n        UploadCoorFunctionSwitch({ commit, state, getters }, enabled) {\r\n            getters.MapBackednAxios.get(`api/Map/SwitchAGVUploadLocFun?enabled=${enabled}`)\r\n            if (enabled) {\r\n                const worker = new Worker('websocket_worker.js')\r\n                worker.onmessage = (event) => {\r\n                    if (event.data != 'error' && event.data != 'closed')\r\n                        commit('setAGVLocUpload', event.data)\r\n                }\r\n                worker.postMessage({ command: 'connect', ws_url: getters.MapServerUrl.replace('http', 'ws') + '/ws/AGVLocationUpload' });\r\n                commit('setWorker', worker)\r\n\r\n            } else {\r\n                state.worker.postMessage({ command: 'disconnect' })\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n)\r\n","import mitt from 'mitt'\r\n/**BUS~ */\r\nconst bus = mitt()\r\nexport default bus\r\n","var param = {\r\n  type: 'jw',\r\n  // backend_host: 'http://192.168.0.103:7025',\r\n  get backend_host() {\r\n    if (process.env.NODE_ENV == 'development') {\r\n      return 'http://localhost:5216'\r\n      return 'http://192.168.0.1:5216'\r\n      return 'http://192.168.0.2:5216'\r\n      return 'http://192.168.0.1:5216'\r\n    } else {\r\n      return `${window.location.protocol}//${window.location.host}`\r\n    }\r\n  },\r\n  get backend_ws_host() {\r\n    return this.backend_host.replace('http', 'ws')\r\n  },\r\n  get vms_host() {\r\n    return this.backend_host.replace('5216', '5036')\r\n  },\r\n  get vms_ws_host() {\r\n    return this.vms_host.replace('http', 'ws')\r\n  },\r\n}\r\n\r\nexport const version = '1.0.0'\r\nexport default param\r\n","<template>\r\n  <div\r\n    v-show=\"!isNoPermission\"\r\n    class=\"d-flex flex-row\"\r\n    v-loading=\"loading\"\r\n    element-loading-text=\"GPM AGVS\"\r\n    element-loading-svg-view-box=\"-10, -10, 50, 50\"\r\n    element-loading-background=\"rgba(31, 31, 31, 0.9)\">\r\n    <div>\r\n      <Header v-show=\"!loading\" @onMenuToggleClicked=\"ToggleMenu\"></Header>\r\n    </div>\r\n    <SideMenu></SideMenu>\r\n    <div class=\"flex-fill\" v-bind:style=\"router_view_style\">\r\n      <router-view v-show=\"!loading\" v-slot=\"{ Component }\">\r\n        <keep-alive>\r\n          <component :is=\"Component\" />\r\n        </keep-alive>\r\n      </router-view>\r\n    </div>\r\n    <b-modal\r\n      v-model=\"ShowOKOnlyModal\"\r\n      :title=\"`${okOnlyModalProps.title}`\"\r\n      :centered=\"true\"\r\n      :okOnly=\"true\"\r\n      :headerBgVariant=\"okOnlyModalProps.title_variant\"\r\n      headerTextVariant=\"light\">\r\n      <p>{{ okOnlyModalProps.content }}</p>\r\n    </b-modal>\r\n    <!-- <AlarmDisplayVue></AlarmDisplayVue> -->\r\n    <MoveAGVNotifty></MoveAGVNotifty>\r\n    <!-- <AGVAlarmMessageDisplay></AGVAlarmMessageDisplay> -->\r\n    <ConnectionState></ConnectionState>\r\n  </div>\r\n  <SideMenuDrawer @close=\"SideMenuCloseHandler\" ref=\"side_menu\"></SideMenuDrawer>\r\n</template>\r\n\r\n<script>\r\nimport SideMenuDrawer from '@/views/SideMenuDrawer.vue'\r\nimport SideMenu from '@/views/SideMenu.vue'\r\nimport Header from '@/components/App/Header.vue'\r\nimport AlarmDisplayVue from '@/components/App/AlarmDisplay.vue'\r\nimport ConnectionState from '@/components/App/ConnectionState.vue'\r\nimport bus from '@/event-bus.js'\r\nimport { watch } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { IsLoginLastTime } from '@/api/AuthHelper.js'\r\nimport { userStore } from '@/store'\r\nimport MoveAGVNotifty from '@/components/Traffic/MoveAGVNotify.vue'\r\nimport AGVAlarmMessageDisplay from '@/components/App/AGVAlarmUI/AGVAlarmMessageDisplay.vue'\r\n\r\nexport default {\r\n  components: {\r\n    Header, AlarmDisplayVue, SideMenuDrawer, SideMenu, ConnectionState, MoveAGVNotifty, AGVAlarmMessageDisplay\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      isNoPermission: false,\r\n      showMenuToggleIcon: true,\r\n      ShowOKOnlyModal: false,\r\n      okOnlyModalProps: {\r\n        title: '',\r\n        content: '',\r\n        title_variant: 'primary'\r\n      },\r\n      router_view_style: {\r\n        //style=\"height:100vh;padding-top:150px;\"\r\n        position: 'relative',\r\n        height: '100vh',\r\n        paddingTop: '140px',\r\n        paddingRight: '95px',\r\n        left: '70px'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    OpenLoading() {\r\n      this.$vs.loading()\r\n      setTimeout(() => {\r\n        this.$vs.loading.close()\r\n      }, 400);\r\n    },\r\n    ToggleMenu() {\r\n      this.showMenuToggleIcon = false;\r\n      this.$refs.side_menu.Show();\r\n    },\r\n    SideMenuCloseHandler() {\r\n      this.showMenuToggleIcon = true;\r\n    }\r\n  },\r\n  mounted() {\r\n    document.title = \"GPM 派車系統\";\r\n    let login_states = IsLoginLastTime();\r\n\r\n    //嘗試存取前次的登入狀態，並更新 userStore的值\r\n    if (login_states.isLogin) {\r\n      userStore.commit('setUser', login_states.login_info)\r\n    }\r\n\r\n    bus.on('/ShowOKOnlyModal', (props) => {\r\n      this.okOnlyModalProps = props;\r\n      this.ShowOKOnlyModal = true;\r\n    });\r\n    bus.on('auto_logout_notify_invoke', () => {\r\n      this.$swal.fire(\r\n        {\r\n          text: '',\r\n          title: '因閒置太久，已自動登出。',\r\n          icon: 'warning',\r\n          showCancelButton: false,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(() => {\r\n          window.location.href = '/';\r\n\r\n        })\r\n    })\r\n    const route = useRoute()\r\n    watch(\r\n      () => route.path,\r\n      (newValue, oldValue) => {\r\n        if ((newValue == '/sys_settings' || newValue == '/map') && userStore.getters.level <= 0) {\r\n          this.$vs.loading.close();\r\n          this.loading = false;\r\n          this.isNoPermission = true;\r\n          this.$swal.fire(\r\n            {\r\n              text: '',\r\n              title: '您沒有足夠的權限訪問此頁面!',\r\n              icon: 'error',\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              customClass: 'full-sweetalert'\r\n            }).then(() => {\r\n              window.location.href = '/'\r\n            })\r\n          return;\r\n        } else {\r\n\r\n          this.OpenLoading();\r\n          if (newValue == \"/alarm\") {\r\n            this.router_view_style.paddingTop = '50px';\r\n          }\r\n          else\r\n            this.router_view_style.paddingTop = '150px';\r\n\r\n          setTimeout(async () => {\r\n            var result = await userStore.dispatch('user_route_change', newValue);\r\n            console.log(result)\r\n\r\n            if (newValue == '/map' && result.isOtherUserEditingMap) {\r\n              this.$swal.fire(\r\n                {\r\n                  text: '',\r\n                  title: '注意!目前有其他使用者正在地圖編輯頁面',\r\n                  icon: 'warning',\r\n                  showCancelButton: false,\r\n                  confirmButtonText: 'OK',\r\n                  customClass: 'my-sweetalert'\r\n                })\r\n            }\r\n          }, 100)\r\n        }\r\n      }\r\n    )\r\n    setTimeout(() => {\r\n      this.loading = false\r\n    }, 2000)\r\n  },\r\n};\r\n\r\n/**ResizeObserver loop completed with undelivered notifications. */\r\nconst debounce = (fn, delay) => {\r\n  let timer = null;\r\n  return function () {\r\n    let context = this;\r\n    let args = arguments;\r\n    clearTimeout(timer)\r\n    timer = setTimeout(function () {\r\n      fn.apply(context, args)\r\n    }, delay);\r\n  }\r\n}\r\nconst _ResizeObserver = window.ResizeObserver;\r\nwindow.ResizeObserver = class ResizeObserver extends _ResizeObserver {\r\n  constructor(callback) {\r\n    callback = debounce(callback, 16);\r\n    super(callback)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.menu-toggle-icon {\r\n  position: absolute;\r\n  left: 0;\r\n  font-size: 26px;\r\n  z-index: 3100;\r\n  cursor: pointer;\r\n}\r\n\r\n#app {\r\n  //font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen,\r\n    Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  height: 100%;\r\n  overflow-x: hidden;\r\n}\r\n\r\nnav {\r\n  padding: 30px;\r\n\r\n  a {\r\n    font-weight: bold;\r\n    color: #2c3e50;\r\n\r\n    &.router-link-exact-active {\r\n      color: #42b983;\r\n    }\r\n  }\r\n}\r\n\r\nbody,\r\nhtml {\r\n  width: 100vw;\r\n  height: 100%;\r\n  // -webkit-user-select: none;\r\n  // /* Chrome, Safari, Opera */\r\n  // -moz-user-select: none;\r\n  // /* Firefox */\r\n  // -ms-user-select: none;\r\n  // /* IE 10+ */\r\n  // user-select: none;\r\n  // //overflow-x: hidden;\r\n  // // overflow-y: hidden;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"side-menu\">\r\n    <el-drawer\r\n      v-model=\"show_draw\"\r\n      direction=\"ltr\"\r\n      title=\"GPM AGVS\"\r\n      size=\"18%\"\r\n      @close=\"CLoseEventHandle\"\r\n    >\r\n      <div class=\"text-start\">\r\n        <div @click=\"PageSwitch('/','Home')\" class=\"menu-item-container\">\r\n          <i class=\"bi bi-three-dots-vertical\"></i>主頁\r\n          <span>Home</span>\r\n        </div>\r\n        <div @click=\"PageSwitch('/racks_status','帳籍管理')\" class=\"menu-item-container\">\r\n          <i class=\"bi bi-three-dots-vertical\"></i>帳籍管理\r\n          <span>Rack</span>\r\n        </div>\r\n        <div @click=\"PageSwitch('/map','圖資管理')\" v-show=\"IsUserLogin\" class=\"menu-item-container\">\r\n          <i class=\"bi bi-three-dots-vertical\"></i>圖資管理\r\n          <span>Map</span>\r\n        </div>\r\n        <div @click=\"PageSwitch('/data','資料')\" class=\"menu-item-container\">\r\n          <i class=\"bi bi-three-dots-vertical\"></i>資料\r\n          <span>Data</span>\r\n        </div>\r\n        <div @click=\"PageSwitch('/alarm','警報')\" class=\"menu-item-container\">\r\n          <i class=\"bi bi-three-dots-vertical\"></i>警報\r\n          <span>Alarm</span>\r\n        </div>\r\n        <div\r\n          @click=\"PageSwitch('/sys_settings','系統設定')\"\r\n          v-show=\"IsUserLogin\"\r\n          class=\"menu-item-container\"\r\n        >\r\n          <i class=\"bi bi-three-dots-vertical\"></i>設定\r\n          <span>SETTINGS</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"bottom\">\r\n        <img src=\"GPM_Logo.png\" width=\"220\" alt=\"GPM\" />\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '@/event-bus.js'\r\nimport { userStore } from '@/store'\r\nexport default {\r\n  data() {\r\n    return {\r\n      show_draw: false,\r\n    }\r\n  },\r\n  computed: {\r\n    IsUserLogin() {\r\n      return userStore.getters.IsLogin\r\n    }\r\n  },\r\n  methods: {\r\n    Show() {\r\n      bus.emit('/alarm_footer_send_to_back', true);\r\n      this.show_draw = true\r\n    },\r\n    CLoseEventHandle() {\r\n      this.$emit('close', \"\");\r\n      bus.emit('/alarm_footer_send_to_back', false);\r\n    },\r\n    PageSwitch(route_name, display_name = '') {\r\n      var current_route = this.$router.currentRoute.value.path;\r\n      if (route_name != current_route) {\r\n        setTimeout(() => {\r\n          this.$router.push(route_name);\r\n          bus.emit('/router-change', { route_display_name: display_name, route_name: route_name });\r\n        }, 100);\r\n      }\r\n      this.show_draw = false;\r\n    },\r\n\r\n  },\r\n  mounted() {\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.side-menu {\r\n  div {\r\n    width: 100%;\r\n    span {\r\n      font-size: smaller;\r\n    }\r\n  }\r\n  .bottom {\r\n    position: absolute;\r\n    bottom: 2px;\r\n    right: 2px;\r\n\r\n    width: 100%;\r\n  }\r\n  .menu-item-container {\r\n    // border: 1px solid black;\r\n    padding: 3px;\r\n    font-size: 30px;\r\n    margin: 1px;\r\n  }\r\n  .menu-item-container:hover {\r\n    background-color: rgb(23, 162, 184);\r\n    color: white;\r\n    cursor: pointer;\r\n    border-radius: 8px;\r\n  }\r\n}\r\n</style>","import { render } from \"./SideMenuDrawer.vue?vue&type=template&id=07bba205&scoped=true\"\nimport script from \"./SideMenuDrawer.vue?vue&type=script&lang=js\"\nexport * from \"./SideMenuDrawer.vue?vue&type=script&lang=js\"\n\nimport \"./SideMenuDrawer.vue?vue&type=style&index=0&id=07bba205&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-07bba205\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"side-menu-fixed fixed-left\">\r\n    <div class>\r\n      <!--  -->\r\n      <el-tooltip placement=\"right\" content=\"Home\">\r\n        <div class=\"side-item\" @click=\"PageSwitch('/', '派車系統')\">\r\n          <div class=\"logo-text\"> GPM <div class=\"log-sub-text\">AGVS</div>\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n      <el-tooltip placement=\"right\" content=\"Home\">\r\n        <div v-bind:style=\"Selected('/')\" class=\"side-item\" @click=\"PageSwitch('/', '派車系統')\">\r\n          <div class=\"menu-icon round\">\r\n            <img src=\"images/home.png\" :height=\"icon_size\" alt />\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n      <!--  -->\r\n      <el-tooltip placement=\"right\" content=\"系統警報\">\r\n        <div\r\n          v-bind:style=\"Selected('/alarm')\"\r\n          class=\"side-item\"\r\n          @click=\"PageSwitch('/alarm', '系統警報')\">\r\n          <div class=\"menu-icon round\">\r\n            <img src=\"images/alarm.png\" :height=\"icon_size\" alt />\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n      <!--  -->\r\n      <el-tooltip placement=\"right\" content=\"帳籍管理\">\r\n        <div\r\n          v-bind:style=\"Selected('/racks_status')\"\r\n          class=\"side-item\"\r\n          @click=\"PageSwitch('/racks_status', '帳籍管理')\">\r\n          <div class=\"menu-icon round\">\r\n            <img src=\"images/rack.png\" :height=\"icon_size\" alt />\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n      <el-tooltip placement=\"right\" content=\"圖資管理\">\r\n        <div\r\n          v-bind:style=\"Selected('/map')\"\r\n          v-show=\"IsUserLogin\"\r\n          class=\"side-item\"\r\n          @click=\"PageSwitch('/map', '圖資管理')\">\r\n          <div class=\"menu-icon round\">\r\n            <img src=\"images/map.png\" :height=\"icon_size\" alt />\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n      <el-tooltip placement=\"right\" content=\"資料查詢\">\r\n        <div v-bind:style=\"Selected('/data')\" class=\"side-item\" @click=\"PageSwitch('/data', '資料查詢')\">\r\n          <div class=\"menu-icon round\">\r\n            <img src=\"images/database.png\" :height=\"icon_size\" alt />\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n      <el-tooltip placement=\"right\" content=\"系統設定\">\r\n        <div\r\n          v-bind:style=\"Selected('/sys_settings')\"\r\n          v-show=\"IsUserLogin\"\r\n          class=\"side-item\"\r\n          @click=\"PageSwitch('/sys_settings', '系統設定')\">\r\n          <div class=\"menu-icon round\">\r\n            <img src=\"images/settings.png\" :height=\"icon_size\" alt />\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '@/event-bus.js'\r\nimport { watch } from 'vue'\r\nimport { userStore } from '@/store'\r\nimport { useRoute } from 'vue-router'\r\nexport default {\r\n  data() {\r\n    return {\r\n      icon_size: 35,\r\n      active_item: '/'\r\n    }\r\n  },\r\n  computed: {\r\n    IsUserLogin() {\r\n      return userStore.getters.IsLogin\r\n    }\r\n  },\r\n  methods: {\r\n    CLoseEventHandle() {\r\n      this.$emit('close', \"\");\r\n      bus.emit('/alarm_footer_send_to_back', false);\r\n    },\r\n    PageSwitch(route_name, display_name = '') {\r\n      var current_route = this.$router.currentRoute.value.path;\r\n      if (route_name != current_route) {\r\n        setTimeout(() => {\r\n          this.$router.push(route_name);\r\n          bus.emit('/router-change', { route_display_name: display_name, route_name: route_name });\r\n        }, 100);\r\n      }\r\n    },\r\n    Selected(name) {\r\n      return {\r\n        backgroundColor: this.active_item == name ? 'rgb(13, 110, 253)' : ''\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    const route = useRoute()\r\n    watch(\r\n      () => route.path,\r\n      (newValue, oldValue) => {\r\n        this.active_item = newValue;\r\n      }\r\n    )\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.side-menu-fixed {\r\n  z-index: 99999;\r\n  width: 70px;\r\n  background-color: rgb(31, 31, 31);\r\n  color: white;\r\n  padding: 0;\r\n  position: fixed;\r\n  left: 0;\r\n  height: 100%;\r\n  border-right: 2px solid rgb(192, 191, 191);\r\n\r\n  .side-item {\r\n    padding: 10px 5px;\r\n    position: relative;\r\n    cursor: pointer;\r\n    height: 80px;\r\n    width: 100%;\r\n\r\n    .menu-icon {\r\n      background-color: white;\r\n      margin: 5px 5px;\r\n      width: 50px;\r\n      height: 50px;\r\n      padding: 10px;\r\n\r\n      img {\r\n        position: relative;\r\n        right: 3px;\r\n        bottom: 3px;\r\n      }\r\n    }\r\n\r\n    .logo-text {\r\n      font-size: 24px;\r\n      font-weight: bold;\r\n      padding: 0;\r\n\r\n      .log-sub-text {\r\n        font-size: 20px;\r\n        position: relative;\r\n        top: -8px;\r\n        color: grey;\r\n      }\r\n    }\r\n  }\r\n\r\n  .side-item:hover {\r\n    background-color: rgb(13, 110, 253);\r\n  }\r\n}\r\n</style>","import { render } from \"./SideMenu.vue?vue&type=template&id=689b0418&scoped=true\"\nimport script from \"./SideMenu.vue?vue&type=script&lang=js\"\nexport * from \"./SideMenu.vue?vue&type=script&lang=js\"\n\nimport \"./SideMenu.vue?vue&type=style&index=0&id=689b0418&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-689b0418\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"app-header bg-primary text-light border-bottom border-left fixed-top\">\r\n    <div class=\"d-flex flex-row py-1\">\r\n      <!-- <i @click=\"ToggleMenu\" class=\"bi bi-list menu-toggle-icon text-light px-2\"></i>\r\n      <h3 @click=\"LogoClickHandler\">\r\n        <b>GPM AGVS</b>\r\n      </h3>-->\r\n      <div\r\n        v-if=\"!modes.system_operation_mode.actived\"\r\n        class=\"matain-mode-notify py-2 px-3\">維護模式:自動派車、充電功能已關閉。</div>\r\n      <b-button\r\n        v-else\r\n        class=\"mx-2\"\r\n        @click=\"HandleAutoDispatchBtnClick\"\r\n        style=\"width:100px;font-weight: bold; font-size:large;text-decoration: underline;\"\r\n        variant=\"light\"\r\n        size=\"sm\">自動派工</b-button>\r\n      <div class=\"page-name-display mx-2\">{{ current_route_info.route_display_name }}</div>\r\n      <div class=\"flex-fill\"></div>\r\n      <div class=\"options d-flex justify-content-between\">\r\n        <i class=\"bi bi-three-dots-vertical pt-2\"></i>\r\n        <div class=\"op-mode-switch-container\" v-for=\"(mode, key) in modes\" :key=\"key\">\r\n          <span class=\"mx-1\">{{ mode.name }}</span>\r\n          <el-switch\r\n            v-model=\"mode.actived\"\r\n            active-color=\"rgb(95, 171, 80)\"\r\n            inactive-color=\"red\"\r\n            :active-text=\"mode.active_text\"\r\n            :inactive-text=\"mode.inactive_text\"\r\n            border-color=\"grey\"\r\n            inline-prompt\r\n            :before-change=\"mode.beforeChangeHandler\"\r\n            :loading=\"mode.loading\"\r\n            size=\"large\"\r\n            width=\"75px\"></el-switch>\r\n        </div>\r\n        <!-- <div v-if=\"modes.system_operation_mode.actived\" class=\"op-mode-switch-container\"> -->\r\n        <div class=\"op-mode-switch-container\">\r\n          <span class=\"mx-1\">檢視模式</span>\r\n          <el-switch\r\n            v-model=\"isEasyMode\"\r\n            @change=\"HandleViewModeChanged\"\r\n            :before-change=\"CheckUserLoginState\"\r\n            active-color=\"rgb(95, 171, 80)\"\r\n            inactive-color=\"red\"\r\n            active-text=\"簡易模式\"\r\n            inactive-text=\"工程模式\"\r\n            border-color=\"grey\"\r\n            inline-prompt\r\n            size=\"large\"\r\n            width=\"80px\"></el-switch>\r\n        </div>\r\n        <div>\r\n          <el-popover placement=\"top\" title width trigger=\"hover\" content popper-class=\"bg-light\">\r\n            <template #reference>\r\n              <b-button size=\"sm\" class=\"mx-1\" variant=\"light\"> 中文 <i class=\"bi bi-caret-down-fill\"></i>\r\n              </b-button>\r\n            </template>\r\n            <template #default>\r\n              <div class=\"d-flex flex-column\">\r\n                <b-button @click=\"LangSwitch('zh-TW')\" variant=\"light\">中文</b-button>\r\n                <b-button @click=\"LangSwitch('en-US')\" variant=\"light\">ENGLISH</b-button>\r\n              </div>\r\n            </template>\r\n          </el-popover>\r\n        </div>\r\n        <div @click=\"LoginClickHandler\">\r\n          <el-popover placement=\"top\" title width trigger=\"hover\" content popper-class=\"bg-light\">\r\n            <template #reference>\r\n              <b-button size=\"sm\" variant=\"light\"> {{ UserName }} <i v-if=\"IsLogin\" class=\"bi bi-caret-down-fill\"></i>\r\n              </b-button>\r\n            </template>\r\n            <template #default>\r\n              <div class=\"d-flex flex-column\">\r\n                <b-button v-if=\"!IsLogin\" @click=\"LoginClickHandler\" variant=\"light\">登入</b-button>\r\n                <b-button v-if=\"IsLogin\" @click=\"LogoutQickly\" variant=\"danger\">登出</b-button>\r\n                <b-button\r\n                  v-if=\"IsLogin\"\r\n                  class=\"my-1 bg-light text-dark\"\r\n                  @click=\"LoginClickHandler('switch')\">切換使用者</b-button>\r\n              </div>\r\n            </template>\r\n          </el-popover>\r\n        </div>\r\n      </div>\r\n      <Login ref=\"login\" :IsLogin=\"IsLogin\"></Login>\r\n    </div>\r\n    <!--Alarm-->\r\n    <div v-show=\"showAlarm\" class=\"alarm text-dark\">\r\n      <div class=\"alarm-container\" v-bind:class=\"system_alarms\">\r\n        <div class=\"flex-fill\">\r\n          <span class=\"type-text\">\r\n            <!-- <i class=\"bi bi-three-dots-vertical pt-2\"></i> --> 系統警報 </span>\r\n          <span class=\"alarm-text\">{{ system_alrm_text }}</span>\r\n        </div>\r\n        <div class=\"opt\">\r\n          <div>\r\n            <b-button\r\n              v-if=\"current_user_role != 0\"\r\n              @click=\"ResetSysAlarmsHandler\"\r\n              class=\"mb-2\"\r\n              size=\"sm\"\r\n              variant=\"danger\">警報復歸</b-button>\r\n          </div>\r\n          <i class=\"bi bi-clock-history\" @click=\"NavigateToAlarmView\"></i>\r\n        </div>\r\n      </div>\r\n      <div class=\"alarm-container\" v-bind:class=\"equipment_alarms\">\r\n        <div class=\"flex-fill\">\r\n          <span class=\"type-text\">\r\n            <!-- <i class=\"bi bi-three-dots-vertical pt-2\"></i> --> 設備警報 </span>\r\n          <span class=\"alarm-text\">{{ eq_alrm_text }}</span>\r\n        </div>\r\n        <div class=\"opt\">\r\n          <div>\r\n            <b-button\r\n              v-if=\"false\"\r\n              @click=\"ResetEqpAlarmsHandler\"\r\n              class=\"mb-2\"\r\n              size=\"sm\"\r\n              variant=\"danger\">警報復歸</b-button>\r\n          </div>\r\n          <i class=\"bi bi-clock-history\" @click=\"NavigateToAlarmView\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Login from '@/views/Login.vue';\r\nimport bus from '@/event-bus.js'\r\nimport { GetOperationStates, RunMode, HostConnMode, HostOperationMode, TransferMode } from '@/api/SystemAPI';\r\nimport { IsLoginLastTime } from '@/api/AuthHelper';\r\nimport { ResetSystemAlarm, ResetEquipmentAlarm, AlarmHelper } from '@/api/AlarmAPI.js'\r\nimport moment from 'moment'\r\n\r\nimport { watch } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { agvs_settings_store, userStore } from '@/store'\r\nexport default {\r\n  components: {\r\n    Login\r\n  },\r\n  data() {\r\n    return {\r\n      current_route_info: {\r\n        route_display_name: '派車系統',\r\n        route_name: '/'\r\n      },\r\n\r\n      maintain_mode: true,\r\n      modes: {\r\n        system_operation_mode: {\r\n          name: '操作模式',\r\n          actived: false,\r\n          active_text: '運轉',\r\n          inactive_text: '維護',\r\n          loading: false,\r\n          beforeChangeHandler: this.SysOptModeChangeRequest\r\n        },\r\n        transfer_mode: {\r\n          name: \"派工模式\",\r\n          enabled: false,\r\n          active_text: '自動',\r\n          inactive_text: '手動',\r\n          loading: false,\r\n          beforeChangeHandler: this.TransferModeChangeRequest\r\n        },\r\n        host_conn_mode: {\r\n          name: 'HOST連線',\r\n          enabled: false,\r\n          active_text: 'Online',\r\n          inactive_text: 'Offline',\r\n          loading: false,\r\n          beforeChangeHandler: this.HostConnModeChangeRequest\r\n        },\r\n        host_operation_mode: {\r\n          name: 'HOST模式',\r\n          enabled: false,\r\n          active_text: 'Remote',\r\n          inactive_text: 'Local',\r\n          loading: false,\r\n          beforeChangeHandler: this.HostOptModeChangeRequest\r\n        }\r\n\r\n      },\r\n      system_alarms: [''],\r\n      equipment_alarms: [''],\r\n      system_alrm_text: '',\r\n      eq_alrm_text: '',\r\n      unchecked_alarms: [],\r\n      showAlarm: true,\r\n      isEasyMode: false\r\n    }\r\n  },\r\n  computed: {\r\n    IsLogin() {\r\n      return userStore.getters.IsLogin;\r\n    },\r\n    current_user_role() {\r\n      return userStore.getters.level;\r\n    },\r\n    UserName() {\r\n      var level = userStore.getters.level;\r\n      var username = userStore.getters.UserName.toUpperCase();\r\n      if (level == -1)\r\n        return '訪客'\r\n      else if (level == 0)\r\n        return `${username}(OP)`\r\n\r\n      else if (level == 1)\r\n        return `${username}(ENG)`\r\n\r\n      else if (level == 2)\r\n        return `${username}(DEV)`\r\n      else if (level == 3)\r\n        return `${username}(GOD)`\r\n      else\r\n        return 'VISITOR'\r\n    },\r\n    SystemAlarms() {\r\n      if (!this.unchecked_alarms)\r\n        return [];\r\n      return this.unchecked_alarms.filter(alarm => alarm.Source == 0)\r\n    },\r\n    EquipmentAlarms() {\r\n\r\n      if (!this.unchecked_alarms)\r\n        return [];\r\n      return this.unchecked_alarms.filter(alarm => alarm.Source == 1)\r\n    },\r\n\r\n\r\n  },\r\n  mounted() {\r\n    this.DownloadSystemOperationsSettings();\r\n    bus.on('/router-change', (new_rotue) => {\r\n      this.current_route_info = new_rotue\r\n    });\r\n    bus.on('/show-login-view-invoke', () => {\r\n      this.LoginClickHandler();\r\n    })\r\n    const route = useRoute()\r\n    watch(\r\n      () => route.path,\r\n      (newValue, oldValue) => {\r\n        this.showAlarm = newValue != \"/alarm\" && newValue != \"/map\" && newValue != \"/sys_settings\" && newValue != \"/data\";\r\n      }\r\n    )\r\n\r\n    var alarmHelper = new AlarmHelper(this.on_alarm_message);\r\n    this.AlarmDisplayHandler();\r\n  },\r\n  methods: {\r\n    HandleAutoDispatchBtnClick() {\r\n      if (!userStore.getters.IsLogin) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '權限不足 請先登入',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n        return;\r\n      }\r\n      bus.emit('bus-show-task-allocation', { agv_name: \"\", agv_type: \"\", action: '', station_data: undefined });\r\n    },\r\n    async DownloadSystemOperationsSettings(delay_ms = 1000) {\r\n      setTimeout(async () => {\r\n        var settings = await GetOperationStates()\r\n        agvs_settings_store.commit('setOperations', settings)\r\n        this.modes.system_operation_mode.actived = settings.system_run_mode == 1;\r\n        this.modes.host_conn_mode.actived = settings.host_online_mode == 1;\r\n        this.modes.host_operation_mode.actived = settings.host_remote_mode == 1;\r\n        this.modes.transfer_mode.actived = settings.transfer_mode == 1\r\n        // this.modes.system_operation_mode.loading = settings.system_run_mode == 2 || settings.system_run_mode == 3\r\n\r\n\r\n      }, delay_ms);\r\n    },\r\n    on_alarm_message(ev) {\r\n      this.unchecked_alarms = JSON.parse(ev.data)\r\n    },\r\n    ToggleMenu() {\r\n      this.$emit('onMenuToggleClicked', '')\r\n    },\r\n    LogoClickHandler() {\r\n      this.$router.push('/');\r\n      this.current_route_info = {\r\n        route_display_name: 'Home',\r\n        route_name: '/'\r\n      }\r\n    },\r\n    LoginClickHandler(action = '') {\r\n      if (!this.IsLogin | action == 'switch')\r\n        this.$refs['login'].Show(this.current_route_info.route_name);\r\n    },\r\n    LogoutQickly() {\r\n\r\n      this.$swal.fire({\r\n        title: 'Logout!',\r\n        text: '確定要登出?',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes'\r\n      }).then(ret => {\r\n        if (ret.isConfirmed) {\r\n          userStore.commit('setUser', null)\r\n\r\n          if (this.$route.meta.isAdminUse) {\r\n            this.$router.push('/')\r\n          }\r\n          this.$swal.fire({ title: '登出成功!', icon: 'success', timer: 3000 })\r\n\r\n        }\r\n      })\r\n\r\n    },\r\n    async TransferModeChangeRequest() {\r\n\r\n      if (!this.CheckUserLoginState())\r\n        return false;\r\n      var response = await TransferMode(this.modes.transfer_mode.actived ? 0 : 1);\r\n      var success = response.confirm;\r\n      var mode_req_text = '搬運模式切換'\r\n      if (!success) {\r\n        this.ModeRequestFailHandler(`搬運模式`, '搬運模式切換');\r\n      }\r\n      else {\r\n        this.ModeRequestSuccessHandler(mode_req_text);\r\n        agvs_settings_store.commit('setTransferRemote', !this.modes.transfer_mode.actived)\r\n      }\r\n\r\n      return success;\r\n    },\r\n    HandleViewModeChanged(isEasyMode) {\r\n      bus.emit('view_mode_changed', isEasyMode)\r\n    },\r\n    async SysOptModeChangeRequest(force = false) {\r\n      if (!this.CheckUserLoginState())\r\n        return false;\r\n      this.modes.system_operation_mode.loading = true;\r\n      var mode_req_text = this.modes.system_operation_mode.actived ? '操作模式-MAINTAIN' : '操作模式-RUN';\r\n      var response = await RunMode(this.modes.system_operation_mode.actived ? 0 : 1, force);\r\n      var success = response.confirm;\r\n      var msg = response.message;\r\n      if (!success) {\r\n        var isGodOrDevLogin = userStore.getters.level == 2 || userStore.getters.level == 3;\r\n        this.ModeRequestFailHandler(\"操作模式\", msg, (msg == '尚有任務在執行中' && isGodOrDevLogin) ? '強制切換' : '', async () => {\r\n          setTimeout(() => {\r\n            this.SysOptModeChangeRequest(true);\r\n            this.DownloadSystemOperationsSettings(100);\r\n          }, 500)\r\n\r\n        });\r\n      }\r\n      else {\r\n        agvs_settings_store.commit('setRunMode', !this.modes.system_operation_mode.actived)\r\n        this.ModeRequestSuccessHandler(mode_req_text);\r\n      }\r\n      this.modes.system_operation_mode.loading = false;\r\n      return success\r\n    },\r\n    /**This function handles the change of the host connection mode.  */\r\n    async HostConnModeChangeRequest() {\r\n      if (!this.CheckUserLoginState())\r\n        return false;\r\n      this.modes.host_conn_mode.loading = true;\r\n      var mode_req_text = this.modes.host_conn_mode.actived ? 'OFFLINE' : 'ONLINE';\r\n      var response = await HostConnMode(this.modes.host_conn_mode.actived ? 0 : 1);\r\n      var success = response.confirm;\r\n      var msg = response.message;\r\n      if (!success) {\r\n        this.ModeRequestFailHandler(`HOST ${mode_req_text}`, msg);\r\n      }\r\n      else {\r\n        this.ModeRequestSuccessHandler(mode_req_text);\r\n        agvs_settings_store.commit('setHostOnline', !this.modes.host_conn_mode.actived)\r\n      }\r\n      this.modes.host_conn_mode.loading = false;\r\n      return success;\r\n    },\r\n    async HostOptModeChangeRequest() {\r\n      if (!this.CheckUserLoginState())\r\n        return false;\r\n      this.modes.host_operation_mode.loading = true;\r\n      var mode_req_text = this.modes.host_operation_mode.actived ? 'LOCAL' : 'REMOTE';\r\n      var response = await HostOperationMode(this.modes.host_operation_mode.actived ? 0 : 1);\r\n      var success = response.confirm;\r\n      var msg = response.message;\r\n      if (!success) {\r\n        this.ModeRequestFailHandler(`HOST ${mode_req_text}`, msg);\r\n      }\r\n      else {\r\n        this.ModeRequestSuccessHandler(mode_req_text);\r\n        agvs_settings_store.commit('setHostRemote', !this.modes.host_operation_mode.actived)\r\n      }\r\n      this.modes.host_operation_mode.loading = false;\r\n\r\n      return success;\r\n    },\r\n    CheckUserLoginState() {\r\n      if (!this.IsLogin) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '權限不足 請先登入',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n      }\r\n      return this.IsLogin;\r\n    },\r\n    ModeRequestFailHandler(action, message, action1_text = '', action_1 = () => { }) {\r\n      var hasActions = action1_text != \"\";\r\n      this.$swal.fire({\r\n        title: `${action} 切換失敗`,\r\n        text: message + '，請稍後再嘗試切換。',\r\n        icon: 'error',\r\n        showCancelButton: hasActions,\r\n        cancelButtonText: action1_text,\r\n        allowOutsideClick: !hasActions\r\n      }).then((ret) => {\r\n        if (!ret.isConfirmed && hasActions) {\r\n          action_1();\r\n        }\r\n      })\r\n    },\r\n    ModeRequestSuccessHandler(action) {\r\n      this.$vs.notify({\r\n        color: 'success',\r\n        title: `${action}請求`,\r\n        text: `${action}請求成功`,\r\n        position: 'bottom-right',\r\n        time: 2000\r\n      })\r\n    },\r\n    LangSwitch(lang) {\r\n      this.$i18n.locale = lang;\r\n\r\n    },\r\n    async ResetSysAlarmsHandler() {\r\n      await ResetSystemAlarm()\r\n      this.$vs.notify({\r\n        color: 'primary',\r\n        title: '警報復歸請求',\r\n        text: '系統警報復歸請求完成',\r\n        position: 'bottom-right',\r\n        time: 1400\r\n      })\r\n      this.system_alarms = [''];\r\n      this.system_alrm_text = \"\";\r\n    },\r\n    async ResetEqpAlarmsHandler() {\r\n      await ResetEquipmentAlarm()\r\n      this.$vs.notify({\r\n        color: 'primary',\r\n        title: '警報復歸請求',\r\n        text: '設備警報復歸請求完成',\r\n        position: 'bottom-right',\r\n        time: 1400\r\n      })\r\n    },\r\n    CreateAlarmDisplayText(alarm) {\r\n      return `${moment(alarm.Time).format('yyyy/MM/DD HH:mm:ss')} |${alarm.AlarmCode}|${alarm.Equipment_Name}|-${alarm.Description_Zh}(${alarm.Description_En})`\r\n    },\r\n    AlarmDisplayHandler() {\r\n      var sys_alarm_inx = 0;\r\n      var eq_alarm_inx = 0;\r\n\r\n      setInterval(() => {\r\n        if (!this.SystemAlarms || this.SystemAlarms.length == 0) {\r\n          this.system_alarms = [''];\r\n          this.system_alrm_text = '';\r\n          return;\r\n        }\r\n        var sys_alarm = this.SystemAlarms[sys_alarm_inx]\r\n        if (sys_alarm) {\r\n          this.system_alarms = [sys_alarm.Level == 1 ? 'alarm' : 'warning'];\r\n          this.system_alrm_text = this.CreateAlarmDisplayText(sys_alarm);\r\n        } else {\r\n          this.system_alarms = [''];\r\n          this.system_alrm_text = '';\r\n        }\r\n        sys_alarm_inx += 1;\r\n        if (sys_alarm_inx >= this.SystemAlarms.length)\r\n          sys_alarm_inx = 0\r\n\r\n      }, 2000);\r\n\r\n      setInterval(() => {\r\n        if (!this.EquipmentAlarms || this.EquipmentAlarms.length == 0) {\r\n          this.equipment_alarms = [''];\r\n          this.eq_alrm_text = '';\r\n          return;\r\n        }\r\n        var eq_alarm = this.EquipmentAlarms[eq_alarm_inx]\r\n        if (eq_alarm) {\r\n          this.equipment_alarms = [eq_alarm.Level == 1 ? 'alarm' : 'warning'];\r\n          this.eq_alrm_text = this.CreateAlarmDisplayText(eq_alarm);\r\n        } else {\r\n          this.equipment_alarms = [''];\r\n          this.eq_alrm_text = '';\r\n        }\r\n        eq_alarm_inx += 1;\r\n        if (eq_alarm_inx >= this.EquipmentAlarms.length)\r\n          eq_alarm_inx = 0\r\n      }, 2000);\r\n    },\r\n    NavigateToAlarmView() {\r\n      this.$router.push('/alarm');\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.app-header {\r\n  z-index: 2;\r\n  padding-left: 70px;\r\n\r\n  h3 {\r\n    margin-left: 40px;\r\n  }\r\n\r\n  h3:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .alarm {\r\n    height: 48px;\r\n\r\n    .alarm-container {\r\n      display: flex;\r\n      flex-direction: row;\r\n      background-color: rgb(255, 229, 234);\r\n      border: 2px solid rgb(248, 195, 195);\r\n\r\n      .type-text,\r\n      .alarm-text {\r\n        margin: auto 5px;\r\n        font-weight: bold;\r\n        float: left;\r\n      }\r\n\r\n      .type-text {\r\n        width: 99px;\r\n        border-radius: 13px;\r\n        background-color: rgb(255, 62, 62);\r\n        color: white;\r\n        margin-top: 4px;\r\n        text-align: center;\r\n        // text-decoration: underline;\r\n      }\r\n\r\n      .alarm-text {\r\n        padding: 3px;\r\n        font-weight: bold;\r\n        font-size: 18px;\r\n      }\r\n\r\n      .opt {\r\n        padding-inline: 3px;\r\n        display: flex;\r\n        flex-direction: row;\r\n\r\n        div {\r\n          width: 85px;\r\n          padding-top: 3px;\r\n        }\r\n\r\n        i {\r\n          font-size: 25px;\r\n          margin-right: 5px;\r\n        }\r\n\r\n        i:hover {\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n\r\n    .alarm {\r\n      animation: alarm_blink 2s infinite;\r\n    }\r\n\r\n    .warning {\r\n      animation: warning_blink 1s infinite;\r\n    }\r\n  }\r\n\r\n  .options {\r\n    position: relative;\r\n    top: 5px;\r\n    margin-right: 10px;\r\n\r\n    .op-mode-switch-container {\r\n      margin-right: 5px;\r\n      font-weight: bold;\r\n\r\n      .is-text {\r\n        font-size: 16px;\r\n      }\r\n    }\r\n  }\r\n\r\n  @keyframes alarm_blink {\r\n\r\n    0%,\r\n    100% {\r\n      background-color: rgb(242, 76, 76);\r\n      color: white;\r\n    }\r\n\r\n    50% {\r\n      background-color: rgb(255, 229, 234);\r\n      color: red;\r\n    }\r\n  }\r\n\r\n  @keyframes warning_blink {\r\n\r\n    0%,\r\n    100% {\r\n      background-color: rgb(231, 197, 85);\r\n      color: white;\r\n    }\r\n\r\n    50% {\r\n      background-color: rgb(255, 229, 234);\r\n      color: black;\r\n    }\r\n  }\r\n\r\n  .matain-mode-notify {\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n    animation: blink 2s infinite;\r\n    position: absolute;\r\n    left: 200px;\r\n    border-radius: 3px;\r\n    border: 1px solid white;\r\n    height: 44px;\r\n    top: 1px;\r\n  }\r\n\r\n  @keyframes blink {\r\n\r\n    0%,\r\n    100% {\r\n      background-color: red;\r\n    }\r\n\r\n    50% {\r\n      background-color: grey;\r\n    }\r\n\r\n  }\r\n\r\n  .page-name-display {\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .user-account {}\r\n}</style>","<template>\r\n  <el-dialog\r\n    v-model=\"dialogVisible\"\r\n    :show-close=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :modal=\"true\"\r\n    draggable\r\n    width=\"400\"\r\n    style=\"z-index:9900\">\r\n    <template #header=\"{ titleId, login_title }\">\r\n      <div class=\"login-header\">\r\n        <h3 :id=\"titleId\" :class=\"login_title\">使用者登入</h3>\r\n        <el-divider></el-divider>\r\n      </div>\r\n    </template>\r\n    <div class=\"login-content\">\r\n      <el-form label-position=\"top\">\r\n        <el-form-item label=\"Username\" :required=\"true\">\r\n          <b-form-input\r\n            autofocus\r\n            autocomplete=\"new-password\"\r\n            :disabled=\"IsLogin\"\r\n            ref=\"account\"\r\n            @keyup.enter=\"FocusPasswordInput\"\r\n            @keyup.down=\"FocusPasswordInput\"\r\n            @keyup.esc=\"UserName = ''\"\r\n            v-model=\"UserName\"\r\n            :state=\"UserName != ''\"\r\n            placeholder=\"請輸入帳號\"\r\n            required></b-form-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"Password\" :required=\"true\">\r\n          <b-form-input\r\n            autocomplete=\"new-password\"\r\n            type=\"password\"\r\n            :disabled=\"IsLogin\"\r\n            ref=\"pw_input\"\r\n            @keyup.enter=\"PasswordEnterClickHandler\"\r\n            @keyup.up=\"FocusAccountInput\"\r\n            @keyup.esc=\"Password = ''\"\r\n            v-model=\"Password\"\r\n            :state=\"Password != ''\"\r\n            placeholder=\"請輸入密碼\"\r\n            required></b-form-input>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"IsLogin\">\r\n          <b-button\r\n            @click=\"LogoutHandle()\"\r\n            :loading=\"logouting\"\r\n            class=\"w-100\"\r\n            variant=\"danger\">Logout</b-button>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"!IsLogin\">\r\n          <b-button @click=\"LoginHandle()\" :loading=\"logining\" class=\"w-100\" variant=\"primary\">Login</b-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <b-button @click=\"dialogVisible = false\" class=\"w-100\">Cancel</b-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"login-message\">{{ message }}</div>\r\n    </div>\r\n    <!-- <KeyBoard @onChange=\"onChange\" :input=\"keyboard_input\"></KeyBoard> -->\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { userStore } from '@/store'\r\nimport KeyBoard from '@/components/Tools/SimpleKeyboard.vue'\r\nimport bus from '@/event-bus.js';\r\nimport { ClearLoginCookie, IsLoginLastTime } from '@/api/AuthHelper.js'\r\n// import { OkModal, OkCancelModal } from '@/components/ModalHelper.js'\r\nexport default {\r\n  components: {\r\n    KeyBoard,\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      UserName: '',\r\n      Password: '',\r\n      focus_input: 'account',\r\n      keyboard_input: '',\r\n      message: '',\r\n      logining: false,\r\n      logouting: false,\r\n      ShowLogoutDialog: false,\r\n      // OkModal: new OkModal()\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    IsLogin() {\r\n      return userStore.getters.IsLogin;\r\n    }\r\n  },\r\n  methods: {\r\n    FocusPasswordInput() {\r\n      this.$refs['pw_input'].focus();\r\n    },\r\n    FocusAccountInput() {\r\n      this.$refs['account'].focus();\r\n    },\r\n\r\n    PasswordEnterClickHandler() {\r\n      this.LoginHandle();\r\n    },\r\n    Show(current_route = '/') {\r\n      this.current_route = current_route;\r\n\r\n      if (!this.IsLogin) {\r\n        this.message = this.UserName = this.Password = '';\r\n      }\r\n      else {\r\n        this.UserName = userStore.getters.UserName;\r\n        this.Password = '********************';\r\n      }\r\n      this.dialogVisible = true;\r\n    },\r\n    async LoginHandle() {\r\n\r\n      if (this.UserName == '') {\r\n        this.message = '請輸入 Account'\r\n        this.FocusAccountInput();\r\n        return;\r\n      }\r\n      if (this.Password == '') {\r\n        this.message = '請輸入 Passowrd'\r\n        this.FocusPasswordInput();\r\n        return;\r\n      }\r\n\r\n      this.logining = true;\r\n      setTimeout(async () => {\r\n\r\n        const user = {\r\n          Username: this.UserName,\r\n          Password: this.Password\r\n        };\r\n\r\n        var response = await userStore.dispatch('login', user)\r\n        if (response != undefined) {\r\n          if (response.confirm) {\r\n            this.dialogVisible = false;\r\n            this.$swal.fire({ title: '登入成功!', icon: 'success', timer: 3000 })\r\n          } else {\r\n            this.message = response.message;\r\n          }\r\n        }\r\n        this.logining = false;\r\n      }, 10);\r\n\r\n    },\r\n    LogoutHandle() {\r\n\r\n      this.logouting = true;\r\n\r\n      setTimeout(() => {\r\n        ClearLoginCookie();\r\n        userStore.commit('setUser', null)\r\n        bus.emit('/logout', undefined);\r\n        this.$emit('RoleChanged', 0);\r\n        this.UserName = this.Password = '';\r\n        this.$swal.fire({ title: '登出成功!', icon: 'success', timer: 3000 })\r\n        setTimeout(() => {\r\n          //this.dialogVisible = this.isLogin = false;\r\n          if (this.$route.meta.isAdminUse) {\r\n            this.$router.push('/')\r\n          }\r\n        }, 1000);\r\n\r\n        this.logouting = false;\r\n      }, 100);\r\n\r\n\r\n    },\r\n    OnInputFocus(name) {\r\n      this.focus_input = name;\r\n\r\n      if (this.focus_input == 'account') {\r\n        this.keyboard_input = this.UserName + '';\r\n      } else {\r\n        this.keyboard_input = this.Password + '';\r\n      }\r\n    },\r\n    onChange(input) {\r\n      this.message = '';\r\n      console.log(input);\r\n      this.keyboard_input = input;\r\n      if (this.focus_input == \"account\") {\r\n        this.UserName = input;\r\n      } else {\r\n        this.$refs.pw_input.focus();\r\n        this.Password = input;\r\n        this.$refs.pw_input.focus();\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-header {\r\n  h3 {\r\n    text-align: left;\r\n    color: black;\r\n  }\r\n}\r\n\r\n.login-content {\r\n  position: relative;\r\n  top: -50px;\r\n  left: 10px;\r\n\r\n  .login-message {\r\n    color: red;\r\n    text-align: left;\r\n  }\r\n\r\n  .btn,\r\n  input {\r\n    margin-right: 21px;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div :class=\"keyboardClass\"></div>\r\n</template>\r\n  \r\n  <script>\r\nimport Keyboard from \"simple-keyboard\";\r\nimport \"simple-keyboard/build/css/index.css\";\r\n\r\nexport default {\r\n  name: \"SimpleKeyboard\",\r\n  props: {\r\n    keyboardClass: {\r\n      default: \"simple-keyboard\",\r\n      type: String\r\n    },\r\n    input: {\r\n      type: String\r\n    }\r\n  },\r\n  data: () => ({\r\n    keyboard: null\r\n  }),\r\n  mounted() {\r\n    this.keyboard = new Keyboard(this.keyboardClass, {\r\n      onChange: this.onChange,\r\n      onKeyPress: this.onKeyPress\r\n    });\r\n  },\r\n  methods: {\r\n    onChange(input) {\r\n      this.$emit(\"onChange\", input);\r\n    },\r\n    onKeyPress(button) {\r\n      this.$emit(\"onKeyPress\", button);\r\n\r\n      /**\r\n       * If you want to handle the shift and caps lock buttons\r\n       */\r\n      if (button === \"{shift}\" || button === \"{lock}\") this.handleShift();\r\n    },\r\n    handleShift() {\r\n      let currentLayout = this.keyboard.options.layoutName;\r\n      let shiftToggle = currentLayout === \"default\" ? \"shift\" : \"default\";\r\n\r\n      this.keyboard.setOptions({\r\n        layoutName: shiftToggle\r\n      });\r\n    }\r\n  },\r\n  watch: {\r\n    input(input) {\r\n      this.keyboard.setInput(input);\r\n    }\r\n  }\r\n};\r\n  </script>\r\n  \r\n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n  <style scoped>\r\n</style>\r\n  ","import { render } from \"./SimpleKeyboard.vue?vue&type=template&id=04b0acee\"\nimport script from \"./SimpleKeyboard.vue?vue&type=script&lang=js\"\nexport * from \"./SimpleKeyboard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Login.vue?vue&type=template&id=b9c8e9c6&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=b9c8e9c6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b9c8e9c6\"]])\n\nexport default __exports__","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nvar _axios = axios.create({\r\n   baseURL: param.backend_host,\r\n})\r\n\r\n/**取得前端網頁設定參數 */\r\nexport async function GetFrontendOptions() {\r\n   var ret = await _axios.get(`api/System/WebSite`);\r\n   return ret.data;\r\n}\r\n\r\n\r\n\r\n/**取得模式設定狀態(RUNMODE, HOST_CONN, HOST_OPERATION ) */\r\nexport async function GetOperationStates(mode = 0 | 1) {\r\n   var ret = await _axios.get(`api/system/OperationStates`);\r\n   return ret.data;\r\n}\r\n\r\n\r\n/**運轉模式切換。\r\n * 0:Maintain\r\n * 1:Run\r\n */\r\nexport async function RunMode(mode = 0 | 1, forecing_change = false) {\r\n   var ret = await _axios.post(`api/system/runmode?mode=${mode}&forecing_change=${forecing_change}`);\r\n   return ret.data;\r\n}\r\n\r\n/**Host Online/Offline模式切換。\r\n * 0:Offline\r\n * 1:Online\r\n */\r\nexport async function HostConnMode(mode = 0 | 1) {\r\n   var ret = await _axios.post(`api/system/hostconn?mode=${mode}`);\r\n   return ret.data;\r\n}\r\n\r\n/**HOST Local/Remote模式切換。\r\n * 0:Local\r\n * 1:Remote\r\n */\r\nexport async function HostOperationMode(mode = 0 | 1) {\r\n   var ret = await _axios.post(`api/system/hostoperation?mode=${mode}`);\r\n   return ret.data;\r\n}\r\n\r\n\r\n/**搬運任務產生模式切換。\r\n * 0:MANUAL\r\n * 1:LOCAL_AUTO\r\n */\r\nexport async function TransferMode(mode = 0 | 1) {\r\n   var ret = await _axios.post(`api/system/TransferMode?mode=${mode}`);\r\n   return ret.data;\r\n}","import { render } from \"./Header.vue?vue&type=template&id=4c7b52f8&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=4c7b52f8&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4c7b52f8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"alarm-display w-100 fixed-bottom\" v-bind:style=\"dynamic_style_setting\">\r\n    <transition name=\"el-zoom-in-bottom\">\r\n      <div v-show=\"mode=='show'\" class=\"show-mode border\">\r\n        <div class=\"d-flex flex-row\">\r\n          <b-button squared variant=\"secondary\" @click=\"mode='hidden'\">\r\n            <i class=\"bi bi-chevron-double-down\"></i>\r\n          </b-button>\r\n          <div class=\"alarm-display-container d-flex flex-row w-100\">\r\n            <div class=\"h-50 w-100 border d-flex flex-row\">\r\n              <div class=\"alarm-type\">設備異常</div>\r\n              <div>a</div>\r\n            </div>\r\n            <div class=\"h-50 w-100 border d-flex flex-row\">\r\n              <div class=\"alarm-type\">AGV警報</div>\r\n              <div>b</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <div v-show=\"mode=='hidden'\" class=\"hidden-mode\">\r\n      <b-button squared variant=\"danger\" @click=\"mode='show'\">\r\n        Alarms\r\n        <i class=\"bi bi-chevron-double-up\"></i>\r\n      </b-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '@/event-bus.js'\r\nimport { watch, ref } from 'vue';\r\nimport { useRoute } from 'vue-router'\r\nexport default {\r\n  setup() {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      mode: 'show', //hidden;show\r\n      dynamic_style_setting: {\r\n        zIndex: 20000\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    // bus.emit('/router-change', display_name);\r\n    const currentRoute = ref('')\r\n    const route = useRoute()\r\n    watch(\r\n      () => route.path,\r\n      (newValue, oldValue) => {\r\n        if (newValue != \"/\") {\r\n          this.mode = 'hidden'\r\n        }\r\n        else this.mode = 'show'\r\n      }\r\n    )\r\n    bus.on('/alarm_footer_send_to_back', (enable) => {\r\n      this.dynamic_style_setting.zIndex = enable ? 2 : 20000;\r\n    });\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.alarm-display {\r\n  z-index: 22333;\r\n  .alarm-display-container {\r\n    border: 2px solid white;\r\n    height: 85px;\r\n    margin-left: 8px;\r\n    .alarm-type {\r\n      width: 130px;\r\n      border: 2px solid rgb(174, 174, 174);\r\n      background-color: orange;\r\n      color: white;\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n  .show-mode {\r\n    background: pink;\r\n    // box-shadow: 4px 8px 25px 2px black;\r\n  }\r\n  .hidden-mode {\r\n    background-color: transparent;\r\n    text-align: left;\r\n  }\r\n  button,\r\n  .hidden-mode,\r\n  .show-mode {\r\n    height: 40px;\r\n  }\r\n\r\n  .show-mode {\r\n    height: 45px;\r\n  }\r\n}\r\n</style>","import { render } from \"./AlarmDisplay.vue?vue&type=template&id=500f3560&scoped=true\"\nimport script from \"./AlarmDisplay.vue?vue&type=script&lang=js\"\nexport * from \"./AlarmDisplay.vue?vue&type=script&lang=js\"\n\nimport \"./AlarmDisplay.vue?vue&type=style&index=0&id=500f3560&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-500f3560\"]])\n\nexport default __exports__","<template>\r\n  <div\r\n    class=\"connection-state d-flex flex-row justify-content-between fixed-bottom text-dark text-start\">\r\n    <div class=\"d-flex flex-row\">\r\n      <i class=\"bi bi-three-dots-vertical\"></i>\r\n      <div\r\n        class=\"conn-block px-1 border-end\"\r\n        v-for=\"connection in Connections\"\r\n        :key=\"connection.name\">\r\n        <label>{{ connection.name }}</label>\r\n        <el-tag\r\n          effect=\"dark\"\r\n          :type=\"connection.connected ? 'success' : 'danger'\">{{ connection.connected ? '已連線' : '斷線' }}</el-tag>\r\n      </div>\r\n    </div>\r\n    <div @dblclick=\"handleTimeDoubleClick\" class=\"sys-time\">{{ sys_time }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport WebSocketHelp from '@/api/WebSocketHepler'\r\nimport param from '@/gpm_param'\r\nimport moment from 'moment'\r\nimport { userStore } from '@/store'\r\nexport default {\r\n  data() {\r\n    return {\r\n      Connections: [\r\n        {\r\n          name: \"SERVER\",\r\n          connected: false,\r\n        },\r\n        {\r\n          name: \"VMS\",\r\n          connected: false,\r\n        },\r\n        // {\r\n        //   name: \"DB\",\r\n        //   connected: false,\r\n        // },\r\n      ],\r\n      sys_time: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    setInterval(() => {\r\n      this.sys_time = moment(Date.now()).format('yyyy-MM-DD HH:mm:ss')\r\n    }, 1000);\r\n\r\n    this.ConnectionCheck(undefined, '/ws/VMSAliveCheck', 0);\r\n    this.ConnectionCheck(param.vms_ws_host, '/ws/VMSAliveCheck', 1);\r\n  },\r\n  methods: {\r\n    ConnectionCheck(host, ws_url, index) {\r\n      var alive_check_ws = new WebSocketHelp(ws_url, host);\r\n      alive_check_ws.Connect();\r\n      alive_check_ws.onclose = (ev) => {\r\n        console.log(ws_url + ' onclose')\r\n        this.Connections[index].connected = false;\r\n        setTimeout(() => {\r\n          this.ConnectionCheck(host, ws_url, index);\r\n        }, 1000)\r\n\r\n      }\r\n      alive_check_ws.onopen = (ev) => {\r\n        this.Connections[index].connected = true;\r\n      }\r\n    },\r\n    handleTimeDoubleClick() {\r\n      userStore.dispatch('login', {\r\n        UserName: 'dev',\r\n        Password: '12345678'\r\n      })\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.connection-state {\r\n  background-color: rgb(49, 49, 49);\r\n  // border-block: 3px solid rgb(187, 187, 187);\r\n  padding: 5px;\r\n  padding-left: 70px;\r\n\r\n  i,\r\n  .sys-time {\r\n    font-weight: bold;\r\n    font-family: monospace;\r\n    color: #ffffff;\r\n  }\r\n\r\n  .conn-block {\r\n    margin-right: 8px;\r\n    padding: auto 5px;\r\n\r\n    label {\r\n      color: rgb(255, 255, 255);\r\n      margin: auto 5px;\r\n    }\r\n\r\n    label,\r\n    .el-tag {\r\n      font-weight: bold;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./ConnectionState.vue?vue&type=template&id=0f865be7&scoped=true\"\nimport script from \"./ConnectionState.vue?vue&type=script&lang=js\"\nexport * from \"./ConnectionState.vue?vue&type=script&lang=js\"\n\nimport \"./ConnectionState.vue?vue&type=style&index=0&id=0f865be7&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f865be7\"]])\n\nexport default __exports__","<template>\r\n  <div v-if=\"IsAnyAGVNeedToMOVE\" class=\"move_agv_notify\">\r\n    <el-badge :value=\"NeedToMoveAGVNum\" class=\"item\">\r\n      <el-button @click=\"HandleBtnClick\" style=\"font-size:large\" plain type=\"warning\" size=\"large\">\r\n        <el-icon>\r\n          <Warning />\r\n        </el-icon>\r\n        <span class=\"mx-1\">移車提示</span>\r\n      </el-button>\r\n    </el-badge>\r\n    <div>\r\n      <el-dialog draggable width=\"400\" :modal=\"false\" title=\"移車\" v-model=\"DialogVisible\">\r\n        <el-table row-key=\"AgvName\" :data=\"WattingAGVInfo\">\r\n          <el-table-column label=\"被阻車輛\" prop=\"AgvName\"></el-table-column>\r\n          <el-table-column label=\"當前地點\" prop=\"AgvName\">\r\n            <template #default=\"scope\">\r\n              <div>{{GetCurrentLocInfoByTag(scope.row.Tag)}}</div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"被阻地點\" prop=\"AgvName\">\r\n            <template #default=\"scope\">\r\n              <div>{{ scope.row.WaitingInfo.WaitingPoint.Name }}</div>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { MapStore } from '@/components/Map/store'\r\nimport { ElNotification } from 'element-plus'\r\nimport { Warning } from '@element-plus/icons-vue'\r\nexport default {\r\n  components: {\r\n    Warning,\r\n  },\r\n  data() {\r\n    return {\r\n      DialogVisible: false\r\n    }\r\n  },\r\n  computed: {\r\n    IsAnyAGVNeedToMOVE() {\r\n\r\n      return this.NeedToMoveAGVNum > 0;\r\n    },\r\n    WattingAGVInfo() {\r\n      var AGVNavInfo = MapStore.getters.AGVNavInfo.AGVDisplays;\r\n      var WattingAGVInfo = AGVNavInfo.filter(agv => agv.WaitingInfo.IsWaiting)\r\n      return WattingAGVInfo;\r\n    },\r\n    NeedToMoveAGVNum() {\r\n      return this.WattingAGVInfo.length\r\n    }\r\n  },\r\n  methods: {\r\n    HandleBtnClick() {\r\n      this.DialogVisible = true;\r\n    },\r\n    GetCurrentLocInfoByTag(tag) {\r\n      var points = MapStore.getters.MapData.Points;\r\n      var pt = Object.values(points).find(pt => pt.TagNumber == tag)\r\n      return `${pt.TagNumber}:${pt.Name}`\r\n\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.move_agv_notify {\r\n  position: fixed;\r\n  bottom: 43px;\r\n  right: 23px;\r\n  z-index: 9990;\r\n  .item {\r\n    font-size: 14px;\r\n  }\r\n}\r\n</style>","import { render } from \"./MoveAGVNotify.vue?vue&type=template&id=237d485d&scoped=true\"\nimport script from \"./MoveAGVNotify.vue?vue&type=script&lang=js\"\nexport * from \"./MoveAGVNotify.vue?vue&type=script&lang=js\"\n\nimport \"./MoveAGVNotify.vue?vue&type=style&index=0&id=237d485d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-237d485d\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"agv-alarm-messages\">\r\n        <!-- Examples \r\n            <AGVAlarmItem :isDisconnection=\"true\" agv_name=\"AGV_001\" alarm_type=\"alarm\" text=\"連線中斷\"></AGVAlarmItem>\r\n            <AGVAlarmItem :isDisconnection=\"true\" agv_name=\"AGV_002\" alarm_type=\"alarm\" text=\"連線中斷\"></AGVAlarmItem>\r\n            <AGVAlarmItem :isBatteryLowLevel=\"true\" alarm_type=\"alarm\" text=\"電池低電量警報\"></AGVAlarmItem>\r\n            <AGVAlarmItem :isBatteryTemperatureHigh=\"true\" alarm_type=\"warning\" text=\"電池過溫警報\"></AGVAlarmItem>\r\n            <AGVAlarmItem alarm_type=\"alarm\" text=\"alarm!!\"></AGVAlarmItem>\r\n        -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport AGVAlarmItem from './AGVAlarmItem.vue'\r\n\r\nexport default {\r\n    components: {\r\n        AGVAlarmItem,\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.agv-alarm-messages {\r\n    position: absolute;\r\n    top: 140px;\r\n    right: 15px;\r\n    z-index: 2;\r\n    // width: 310px;\r\n    // background: rgb(175, 175, 175);\r\n    border-radius: 4px;\r\n    padding: 10px;\r\n}\r\n</style>","<template>\r\n    <div class=\"agv-alarm-item my-2 d-flex rounded\" v-bind:class=\"alarm_type\">\r\n        <div class=\"icon px-2 text-light\" v-bind:class=\"alarm_type == 'alarm' ? 'bg-danger' : 'bg-warning'\">\r\n            <i v-if=\"isBatteryTemperatureHigh\" class=\"bi bi-thermometer-high\"></i>\r\n            <i v-else-if=\"isBatteryLowLevel\" class=\"bi bi-battery\"></i>\r\n            <i v-else-if=\"isDisconnection\" class=\"bi bi-reception-1\"></i>\r\n            <i v-else class=\"bi bi-exclamation-diamond\"></i>\r\n        </div>\r\n        <div class=\"agv-name\">{{ agv_name }}|</div>\r\n        <div class=\"text\">{{ text }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        alarm_type: {\r\n            type: String,\r\n            default: 'warning'\r\n        },\r\n        agv_name: {\r\n            type: String,\r\n            default: 'AGV_001'\r\n        },\r\n        text: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        isBatteryTemperatureHigh: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        isBatteryLowLevel: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        isDisconnection: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.agv-alarm-item {\r\n    font-size: 28px;\r\n    padding: auto 10px;\r\n    cursor: pointer;\r\n\r\n    .agv-name {\r\n        font-size: smaller;\r\n        padding: 5px;\r\n        // background: rgb(11, 94, 215);\r\n        // color: rgb(11, 94, 215);\r\n        font-weight: bold;\r\n    }\r\n\r\n    .text {\r\n        width: auto;\r\n        letter-spacing: 4px;\r\n    }\r\n}\r\n\r\n.agv-alarm-item:hover {\r\n    color: white;\r\n    background: rgb(11, 94, 215);\r\n}\r\n\r\n.warning {\r\n    background: rgb(255, 189, 66);\r\n    color: white;\r\n}\r\n\r\n.alarm {\r\n    background: rgb(250, 32, 69);\r\n    color: white;\r\n}\r\n</style>","import { render } from \"./AGVAlarmItem.vue?vue&type=template&id=7922e32c&scoped=true\"\nimport script from \"./AGVAlarmItem.vue?vue&type=script&lang=js\"\nexport * from \"./AGVAlarmItem.vue?vue&type=script&lang=js\"\n\nimport \"./AGVAlarmItem.vue?vue&type=style&index=0&id=7922e32c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7922e32c\"]])\n\nexport default __exports__","import { render } from \"./AGVAlarmMessageDisplay.vue?vue&type=template&id=25571013&scoped=true\"\nimport script from \"./AGVAlarmMessageDisplay.vue?vue&type=script&lang=js\"\nexport * from \"./AGVAlarmMessageDisplay.vue?vue&type=script&lang=js\"\n\nimport \"./AGVAlarmMessageDisplay.vue?vue&type=style&index=0&id=25571013&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-25571013\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=6b9791df\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=6b9791df&lang=scss\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import bus from '@/event-bus'\r\n\r\nclass Modal {\r\n  constructor() {\r\n    bus.on('/OKOnlyModal_Ok', () => {\r\n      alert('ok')\r\n    })\r\n    bus.on('/OKOnlyModal_Cancel', () => {\r\n      alert('cancel')\r\n    })\r\n  }\r\n  static install(app) {\r\n    app.config.globalProperties.$Modal = new Modal()\r\n  }\r\n\r\n  ShowOKModal(title, content, title_variant = 'primary') {\r\n    this.props = {\r\n      title: title,\r\n      content: content,\r\n      title_variant: title_variant,\r\n    }\r\n    bus.emit('/ShowOKOnlyModal', this.props)\r\n  }\r\n}\r\n\r\nexport default Modal\r\n","import { EqStore, agv_states_store, userStore } from \"./store\";\r\nimport { MapStore } from '@/components/Map/store'\r\nimport param from \"./gpm_param\";\r\nimport clsAGVStateDto from \"@/ViewModels/clsAGVStateDto.js\"\r\n\r\nfunction generateRandomUserID(length) {\r\n    var result = '';\r\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var charactersLength = characters.length;\r\n    for (var i = 0; i < length; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n    }\r\n    return result;\r\n}\r\n\r\nvar user_id = generateRandomUserID(10);\r\nuserStore.commit('setUserID', user_id);\r\n\r\n/**VMS數據 */\r\nconst agv_states_data_fetch_worker = new Worker('websocket_worker.js')\r\nagv_states_data_fetch_worker.onmessage = (event) => {\r\n    if (event.data != 'error' && event.data != 'closed') {\r\n\r\n        var data = Object.values(event.data).map(d => new clsAGVStateDto(d));\r\n        agv_states_store.commit('storeAgvStates', data)\r\n    }\r\n}\r\nagv_states_data_fetch_worker.postMessage({ command: 'connect', ws_url: param.backend_ws_host + `/ws/VMSStatus?user_id=${user_id}` });\r\n\r\n/**設備狀態 */\r\nconst worker = new Worker('websocket_worker.js')\r\nworker.onmessage = (event) => {\r\n    if (event.data != 'error' && event.data != 'closed')\r\n        EqStore.commit('setData', event.data)\r\n}\r\nworker.postMessage({ command: 'connect', ws_url: param.backend_ws_host + `/ws/EQStatus` });\r\n\r\n\r\n/**AGV導航狀態 */\r\nconst worker2 = new Worker('websocket_worker.js')\r\nworker2.onmessage = (event) => {\r\n    if (event.data != 'error' && event.data != 'closed')\r\n        MapStore.commit('setAGVDynamicPathInfo', event.data)\r\n}\r\nworker2.postMessage({ command: 'connect', ws_url: param.vms_ws_host + `/ws/AGVNaviPathsInfo` });\r\n\r\n/**HotRun 狀態 */\r\nconst worker_hotrun_data = new Worker('websocket_worker.js')\r\nworker_hotrun_data.onmessage = (event) => {\r\n    if (event.data != 'error' && event.data != 'closed')\r\n        agv_states_store.commit('setHotRunStates', event.data)\r\n}\r\nworker_hotrun_data.postMessage({ command: 'connect', ws_url: param.backend_ws_host + `/ws/HotRun` });\r\n\r\n/**動態交通狀態數據 */\r\nconst worker_dynamic_traffic_data = new Worker('websocket_worker.js')\r\nworker_dynamic_traffic_data.onmessage = (event) => {\r\n    if (event.data != 'error' && event.data != 'closed') {\r\n        MapStore.commit('setControledPathesBySystem', event.data.ControledPathesByTraffic)\r\n    }\r\n}\r\nworker_dynamic_traffic_data.postMessage({ command: 'connect', ws_url: param.vms_ws_host + `/ws/DynamicTrafficData` });\r\n\r\n","import bus from './event-bus'\r\nimport { GetFrontendOptions } from './api/SystemAPI';\r\nimport { userStore } from './store';\r\nvar idleTime = 0\r\nGetFrontendOptions().then(options => {\r\n    var interval = setInterval(() => {\r\n        idleTime += 1;\r\n        if (idleTime >= options.WebUserLogoutExipreTime) {\r\n            if (userStore.getters.IsLogin) {\r\n                userStore.dispatch('logout', null)\r\n                bus.emit('auto_logout_notify_invoke', \"\");\r\n            }\r\n\r\n            resetTimer();\r\n        }\r\n    }, 1000);\r\n\r\n})\r\ndocument.addEventListener('touchstart', resetTimer);\r\ndocument.addEventListener('touchmove', resetTimer);\r\ndocument.addEventListener('touchend', resetTimer);\r\ndocument.addEventListener('mousemove', resetTimer);\r\ndocument.addEventListener('mousedown', resetTimer)\r\ndocument.addEventListener('keydown', resetTimer);\r\n\r\nfunction resetTimer() {\r\n    idleTime = 0;\r\n}","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport { userStore } from './store'\r\nimport { MapStore } from '@/components/Map/store'\r\nimport ElementPlus from 'element-plus'\r\nimport 'element-plus/dist/index.css'\r\nimport BootstrapVue3 from 'bootstrap-vue-3'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue-3/dist/bootstrap-vue-3.css'\r\nimport 'bootstrap-icons/font/bootstrap-icons.css'\r\nimport { createI18n } from 'vue-i18n'\r\nimport './global.scss'\r\nimport Modal from './components/ModalHelper'\r\nimport Vuesax from 'vuesax3'\r\nimport 'vuesax3/dist/vuesax.css'\r\nimport VueApexCharts from 'vue3-apexcharts'\r\nimport VueSweetalert2 from 'vue-sweetalert2'\r\nimport 'sweetalert2/dist/sweetalert2.min.css'\r\n\r\nimport 'vuefinder/dist/style.css'\r\nimport VueFinder from 'vuefinder/dist/vuefinder'\r\nimport './BackendDataFetchWorker.js'\r\nimport './idling_detector.js'\r\n\r\ndocument.title = \"GPV AGVS\"\r\nconst i18n = createI18n({\r\n  legacy: false,\r\n  locale: 'zh-TW',\r\n  fallbackLocale: 'en-US',\r\n  messages: {\r\n    'zh-TW': require('./locales/zh-TW.json'),\r\n    'en-US': require('./locales/en-US.json'),\r\n  },\r\n})\r\n\r\nconst Sweetalert_options = {\r\n  confirmButtonColor: 'rgb(13, 110, 253)',\r\n  cancelButtonColor: '#ff7674',\r\n}\r\n\r\nconst app = createApp(App)\r\napp.config.globalProperties.$ = app.config.globalProperties\r\n\r\nModal.install(app)\r\n\r\n// 合併 store\r\nconst mergedStore = { ...store, ...userStore };\r\n\r\napp.use(mergedStore);\r\napp.use(VueApexCharts)\r\n\r\napp.use(Vuesax)\r\napp.use(mergedStore)\r\napp.use(router)\r\napp.use(BootstrapVue3)\r\napp.use(ElementPlus)\r\napp.use(i18n)\r\napp.use(VueSweetalert2, Sweetalert_options)\r\napp.use(VueFinder)\r\napp.mount('#app')\r\n","<template>\r\n  <div class=\"home-view h-100 custom-tabs-head\" v-loading=\"loading\">\r\n    <div v-bind:style=\"{\r\n      visibility: isEasyMode ? 'hidden' : 'visible'\r\n    }\" class=\"d-flex flex-row \">\r\n      <div class=\"left-col border-right flex-fill\">\r\n        <AGVStatusVue></AGVStatusVue>\r\n        <TaskStatusVue height=\"500px\"></TaskStatusVue>\r\n      </div>\r\n      <b-tabs v-bind:style=\"{ width: '60%' }\" :model-value=\"right_side_tabSelected\" @activate-tab=\"TabActiveHandle\">\r\n        <b-tab title=\"地圖\">\r\n          <div style=\"height:800px\" class=\"border\">\r\n            <HomeMap></HomeMap>\r\n            <!-- <LMap></LMap> -->\r\n          </div>\r\n        </b-tab>\r\n        <b-tab title=\"設備狀態\">\r\n          <div class=\"border w-100\">\r\n            <EQStatus></EQStatus>\r\n          </div>\r\n        </b-tab>\r\n      </b-tabs>\r\n      <TaskAllocationVue></TaskAllocationVue>\r\n    </div>\r\n    <div v-bind:style=\"{\r\n      visibility: isEasyMode ? 'visible' : 'hidden',\r\n      position: 'absolute',\r\n      top: '140px',\r\n      width: '100%',\r\n      height: '82vh'\r\n    }\" class=\"easy_mode d-flex\">\r\n      <div>\r\n        <AGVStatusVue :IsEasyMode=\"true\"></AGVStatusVue>\r\n      </div>\r\n      <div style=\"width:100%;padding-right:50px\" class=\"border\">\r\n        <HomeMap id=\"homemap-easymode\"></HomeMap>\r\n        <!-- <LMap></LMap> -->\r\n      </div>\r\n    </div>\r\n    <TaskDispatchNewUI class=\"new-dispatch-pnl\" v-bind:class=\"show_new_dispatch_panel ? 'dispatch-show' : 'hide'\" @close=\"() => { show_new_dispatch_panel = false }\" v-show=\"show_new_dispatch_panel\"></TaskDispatchNewUI>\r\n    <TaskDispathActionButton @onTaskDispatch=\"() => {\r\n      right_side_tabSelected = 0;\r\n    }\" v-if=\"IsLogin\" @on-click=\"() => { show_new_dispatch_panel = true }\"></TaskDispathActionButton>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AGVStatusVue from '@/components/HomeView/AGVStatus/AGVStatus.vue'\r\nimport HomeMap from '@/components/HomeView/HomeMap.vue';\r\nimport LMap from '@/components/NavMap/AGVMap.vue'\r\nimport TaskDispathActionButton from '@/components/TaskDispathActionButton.vue'\r\nimport TaskDispatchNewUI from '@/components/TaskDispatchNewUI.vue'\r\nimport EQStatus from '@/components/HomeView/EQStatus.vue'\r\nimport TaskStatusVue from '@/components/HomeView/TaskStatus.vue';\r\nimport TaskAllocationVue from '@/components/HomeView/TaskAllocation.vue';\r\nimport bus from '@/event-bus.js'\r\nimport { userStore, agvs_settings_store } from '@/store';\r\nexport default {\r\n  components: {\r\n    AGVStatusVue, TaskStatusVue, HomeMap, TaskAllocationVue, EQStatus, LMap, TaskDispathActionButton, TaskDispatchNewUI\r\n  },\r\n  methods: {\r\n    TabActiveHandle(tabIndex) {\r\n      this.right_side_tabSelected = tabIndex\r\n    }\r\n  },\r\n  computed: {\r\n    IsRunMode() { return agvs_settings_store.getters.IsRunMode; },\r\n    IsLogin() { return userStore.getters.IsLogin; },\r\n  },\r\n  data() {\r\n    return {\r\n      isEasyMode: false,\r\n      loading: false,\r\n      show_new_dispatch_panel: false,\r\n      right_side_tabSelected: 0,\r\n    }\r\n  },\r\n  mounted() {\r\n    bus.on('view_mode_changed', (isEasyMode) => {\r\n      this.loading = true\r\n      this.isEasyMode = isEasyMode;\r\n      setTimeout(() => {\r\n        this.loading = false\r\n      }, 300)\r\n\r\n    });\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.home-view {\r\n\r\n  .left-col {\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  .dispatch-show {\r\n    animation: slideInFromLeft 0.2s ease-out forwards;\r\n\r\n    z-index: 233;\r\n  }\r\n\r\n\r\n  @keyframes slideInFromLeft {\r\n    0% {\r\n      transform: translateX(-100%);\r\n    }\r\n\r\n    100% {\r\n      transform: translateX(0);\r\n    }\r\n  }\r\n\r\n}\r\n</style>","<template>\r\n  <div style=\"height: 600px; width: 800px\">\r\n    <l-map :zoom=\"mapZoom\" :center=\"mapCenter\" style=\"height: 100%\">\r\n      <!-- <l-tile-layer :url=\"tileLayerUrl\"></l-tile-layer> -->\r\n\r\n      <!-- 圖層一：顯示三個點 -->\r\n      <l-geo-json :geojson=\"pointsGeoJson\" :options=\"pointsGeoJsonOptions\" />\r\n\r\n      <!-- 圖層二：顯示點之間的連線 -->\r\n      <l-geo-json :geojson=\"linesGeoJson\" :options=\"linesGeoJsonOptions\" />\r\n    </l-map>\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\nimport { ref } from 'vue';\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport { LMap, LTileLayer, LGeoJson } from \"@vue-leaflet/vue-leaflet\";\r\n\r\nimport { MapStore } from '@/components/Map/store'\r\n\r\nexport default {\r\n  components: {\r\n    LMap,\r\n    LTileLayer,\r\n    LGeoJson,\r\n  },\r\n  setup() {\r\n    const mapCenter = ref([0, 0]); // 设置地图初始中心为 [0, 0]\r\n    const mapZoom = ref(2); // 设置初始缩放级别\r\n    const tileLayerUrl = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\r\n\r\n    // 圖層一的 GeoJSON 數據\r\n    var pointsGeoJson = ref({\r\n      type: \"FeatureCollection\",\r\n      features: [\r\n        {\r\n          type: \"Feature\",\r\n          properties: {\r\n            color: \"red\",\r\n            name: \"red658856885687\"\r\n          },\r\n          geometry: {\r\n            type: \"Point\",\r\n            coordinates: [0, 1], // 第一個點的經緯度坐標\r\n          },\r\n        },\r\n        {\r\n          type: \"Feature\",\r\n          properties: {\r\n            color: \"blue\",\r\n            name: \"blue\"\r\n          },\r\n          geometry: {\r\n            type: \"Point\",\r\n            coordinates: [0, 2], // 第二個點的經緯度坐標\r\n          },\r\n        },\r\n        {\r\n          type: \"Feature\",\r\n          properties: {\r\n            color: \"green\",\r\n            name: \"green\"\r\n          },\r\n          geometry: {\r\n            type: \"Point\",\r\n            coordinates: [0, 3], // 第三個點的經緯度坐標\r\n          },\r\n        },\r\n      ],\r\n    });\r\n    // 圖層二的 GeoJSON 數據\r\n    var linesGeoJson = ref({\r\n      type: \"FeatureCollection\",\r\n      features: [\r\n        {\r\n          type: \"Feature\",\r\n          geometry: {\r\n            type: \"LineString\",\r\n            coordinates: [\r\n              [0, 1], // 第一個點的經緯度坐標\r\n              [0, 2], // 第二個點的經緯度坐標\r\n            ],\r\n          },\r\n        },\r\n        {\r\n          type: \"Feature\",\r\n          geometry: {\r\n            type: \"LineString\",\r\n            coordinates: [\r\n              [0, 1], // 第一個點的經緯度坐標\r\n              [22, 3], // 第三個點的經緯度坐標\r\n            ],\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    // 圖層一的 GeoJSON 样式选项\r\n    const pointsGeoJsonOptions = ref({\r\n      pointToLayer: (feature, latLng) => {\r\n        const icon = L.divIcon({\r\n          className: \"custom-icon station-icon\", // 添加 CSS 类名，用于样式控制\r\n          html: `<span>${feature.properties.name}</span>`, // 在标记上方添加文字\r\n        });\r\n        return L.marker(latLng, { icon });\r\n      },\r\n    });\r\n    // 圖層二的 GeoJSON 样式选项\r\n    const linesGeoJsonOptions = ref({\r\n      style: {\r\n        color: \"green\", // 线段的颜色为绿色\r\n        weight: 3, // 线段的宽度\r\n      },\r\n    });\r\n\r\n    async function GetMapData() {\r\n      var geoMapdata = await MapStore.dispatch('DownloadGeoMapData')\r\n      return geoMapdata;\r\n    }\r\n    return {\r\n      mapCenter,\r\n      mapZoom,\r\n      tileLayerUrl,\r\n      pointsGeoJson,\r\n      pointsGeoJsonOptions,\r\n      linesGeoJson,\r\n      linesGeoJsonOptions,\r\n      GetMapData\r\n    };\r\n  },\r\n  async mounted() {\r\n    var mapdata = await this.GetMapData()\r\n    this.pointsGeoJson = mapdata.PointsGeoJsonData\r\n    this.linesGeoJson = mapdata.LinesGeoJsonData\r\n  }\r\n};\r\n  </script>\r\n  \r\n  <style lang=\"scss\">\r\n.custom-icon {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #464646;\r\n  border: 2px solid #333;\r\n  border-radius: 50%;\r\n  width: 50px;\r\n  height: 50px;\r\n  color: #333;\r\n  font-weight: bold;\r\n\r\n  span {\r\n    position: absolute;\r\n    color: blue;\r\n    top: -20px;\r\n    right: -40px;\r\n    width: 50px;\r\n    text-align: left;\r\n  }\r\n}\r\n\r\n.station-icon {\r\n  background-color: #ff0077;\r\n}\r\n</style>\r\n  ","import { render } from \"./AGVMap.vue?vue&type=template&id=4725102f\"\nimport script from \"./AGVMap.vue?vue&type=script&lang=js\"\nexport * from \"./AGVMap.vue?vue&type=script&lang=js\"\n\nimport \"./AGVMap.vue?vue&type=style&index=0&id=4725102f&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <el-popover\r\n        placement=\"left-start\"\r\n        :visible=\"action_menu_visible\"\r\n        :width=\"200\"\r\n        content=\"\">\r\n        <template #reference>\r\n            <div class=\"task-dispatch-btn-container\">\r\n                <el-popover :popper-style=\"order_info_style\" :visible=\"order_info_visible\" placement=\"left-start\" :width=\"475\">\r\n                    <template #reference>\r\n                        <span></span>\r\n                    </template>\r\n                    <div class=\"w-100 h-100\">\r\n                        <div class=\"w-100 bg-info d-flex\">\r\n                        </div>\r\n                        <el-row class=\"order-row\">\r\n                            <el-col :span=\"5\">\r\n                                <div class=\"item-name\">動作</div>\r\n                            </el-col>\r\n                            <el-col class=\"item-value\" :span=\"12\">{{ selected_action_display }}</el-col>\r\n                            <el-col class=\"item-actions\" :span=\"7\">\r\n                                <b-button size=\"sm\" variant=\"link\" @click=\"() => {\r\n                                    HandleCancelBtnClick();\r\n                                    action_menu_visible = true;\r\n                                }\">重新選取</b-button></el-col>\r\n                        </el-row>\r\n                        <el-row class=\"order-row\" v-bind:style=\"agv_select_row_class\" @click=\"HandleSelectAGVFromMapBtnClick\">\r\n                            <el-col :span=\"5\">\r\n                                <div class=\"item-name\">車輛</div>\r\n                            </el-col>\r\n                            <el-col class=\"item-value\" :span=\"12\">\r\n                                <el-select placeholder=\"從地圖或選單選擇車輛\" @click=\"HandleSelectAGVFromMapBtnClick\" size=\"large\" v-model=\"selected_agv\">\r\n                                    <el-option v-for=\"obj in AgvNameList\" :key=\"obj.value\" :label=\"obj.label\"></el-option>\r\n                                </el-select>\r\n                            </el-col>\r\n                            <!-- <el-col class=\"item-value\" :span=\"12\">{{ IsAutoSelectAGV ? '自動選車' : selected_agv }}</el-col> -->\r\n                            <el-col class=\"item-actions\" :span=\"7\">\r\n                                <!-- <b-button size=\"sm\" variant=\"link\" @click=\"HandleSelectAGVFromMapBtnClick\">從地圖選取</b-button> -->\r\n                                <!-- <b-button size=\"sm\" variant=\"link\" @click=\"() => { current_progress = 'select-agv'; is_reselecting_flag = true }\">列表選取</b-button> -->\r\n                            </el-col>\r\n                        </el-row>\r\n                        <el-row v-if=\"selected_action == 'carry'\" class=\"order-row\" v-bind:style=\"source_select_row_class\" @click=\"HandleSelectSoureStationFromMapBtnClick\">\r\n                            <el-col :span=\"5\">\r\n                                <div class=\"item-name\">來源</div>\r\n                            </el-col>\r\n                            <el-col class=\"item-value\" :span=\"12\">\r\n                                <el-select placeholder=\"從地圖或選單選擇來源\"\r\n                                    @change=\"HandleFromSelectChanged\"\r\n                                    @click=\"HandleSelectSoureStationFromMapBtnClick\" size=\"large\" v-model=\"selected_source.TagNumber\">\r\n                                    <el-option v-for=\"tag in FromStationOptions\" :key=\"tag.tag\" :label=\"tag.name_display\" :value=\"tag.tag\"></el-option>\r\n                                </el-select>\r\n                                <!-- {{ selected_source ? selected_source.Graph.Display : '' }} -->\r\n                            </el-col>\r\n                            <el-col class=\"item-actions\" :span=\"7\">\r\n                                <!-- <b-button size=\"sm\" variant=\"link\" @click=\"HandleSelectSoureStationFromMapBtnClick\">從地圖選取</b-button> -->\r\n                                <!-- <b-button size=\"sm\" variant=\"link\" @click=\"() => { current_progress = 'select-source'; is_reselecting_flag = false }\">列表選取</b-button> -->\r\n                            </el-col>\r\n                        </el-row>\r\n                        <el-row class=\"order-row\" v-bind:style=\"destine_select_row_class\" @click=\"HandleSelectDestineStationFromMapBtnClick\">\r\n                            <el-col :span=\"5\">\r\n                                <div class=\"item-name\">目的地</div>\r\n                            </el-col>\r\n                            <el-col class=\"item-value\" :span=\"12\">\r\n                                <el-select placeholder=\"從地圖或選單選擇目的地\" @click=\"HandleSelectDestineStationFromMapBtnClick\" size=\"large\" v-model=\"selected_destine.TagNumber\">\r\n                                    <el-option\r\n                                        v-for=\"tag in DetermineDestinOptions()\"\r\n                                        :key=\"tag.tag\"\r\n                                        :label=\"tag.name_display\"\r\n                                        :value=\"tag.tag\"></el-option>\r\n                                </el-select>\r\n                                <!-- {{ selected_destine ? selected_destine.Graph.Display : '' }} -->\r\n                            </el-col>\r\n                            <el-col class=\"item-actions\" :span=\"7\">\r\n                                <!-- <b-button size=\"sm\" variant=\"link\" @click=\"HandleSelectDestineStationFromMapBtnClick\">從地圖選取</b-button> -->\r\n                                <!-- <b-button size=\"sm\" variant=\"link\" @click=\"() => { current_progress = 'select-destine'; is_reselecting_flag = true }\">列表選取</b-button> -->\r\n                            </el-col>\r\n                        </el-row>\r\n                        <div class=\"w-100 py-1 d-flex border-top\" style=\"height: 50px;\">\r\n                            <b-button @click=\"HandleConfirmBtnClicked\" :disabled=\"!task_dispatch_btn_pushable\" class=\"w-50 mx-1\" variant=\"primary\">確認派送</b-button>\r\n                            <b-button class=\"w-50 mx-1\" variant=\"light\" @click=\"() => {\r\n                                order_info_visible = false;\r\n                                action_menu_visible = true;\r\n                            }\">返回選擇動作</b-button>\r\n                            <b-button class=\"w-50 mx-1\" variant=\"danger\" @click=\"HandleCancelBtnClick\">取消</b-button>\r\n                        </div>\r\n                    </div>\r\n                </el-popover>\r\n                <b-button squared variant=\"primary\" @click=\"() => {\r\n                    // $emit('on-click');\r\n                    if (action_menu_visible) {\r\n                        action_menu_visible = false;\r\n                    }\r\n                    else if (!order_info_visible)\r\n                        action_menu_visible = true\r\n                }\">任務派送</b-button>\r\n            </div>\r\n        </template>\r\n        <div class=\"actions-btn-conatiner\">\r\n            <b-button class=\"w-100 my-1\" variant=\"light\" v-if=\"!IsRunMode || IsDeveloper\" @click=\"SelectActionHandle('move')\"> 移動</b-button>\r\n            <b-button class=\"w-100 my-1\" variant=\"light\" v-if=\"!IsRunMode || IsDeveloper\" @click=\"SelectActionHandle('unload')\"> 取貨 </b-button>\r\n            <b-button class=\"w-100 my-1\" variant=\"light\" v-if=\"!IsRunMode || IsDeveloper\" @click=\"SelectActionHandle('load')\"> 放貨 </b-button>\r\n            <b-button class=\"w-100 my-1\" variant=\"primary\" @click=\"SelectActionHandle('carry')\"> 搬運 </b-button>\r\n            <b-button class=\"w-100 my-1\" variant=\"warning\" @click=\"SelectActionHandle('charge')\"> 充電 </b-button>\r\n            <b-button class=\"w-100 my-1\" variant=\"danger\" @click=\"() => { action_menu_visible = false }\"> 取消 </b-button>\r\n        </div>\r\n    </el-popover>\r\n</template>\r\n\r\n<script>\r\nimport bus from '@/event-bus.js'\r\nimport Notifier from '@/api/NotifyHelper';\r\nimport { TaskAllocation, clsMoveTaskData, clsMeasureTaskData, clsLoadTaskData, clsUnloadTaskData, clsCarryTaskData, clsExangeBatteryTaskData, clsChargeTaskData, clsParkTaskData } from '@/api/TaskAllocation'\r\nimport { userStore, agv_states_store, agvs_settings_store } from '@/store';\r\nimport { GetEQOptions } from '@/api/EquipmentAPI'\r\nimport { MapPointModel } from '@/components/Map/mapjs';\r\nimport { MapStore } from '@/components/Map/store'\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            action_menu_visible: false,\r\n            order_info_visible: false,\r\n            selected_action: '',\r\n            selected_agv: '',\r\n            selected_source: {\r\n                Graph: {\r\n                    Display: ''\r\n                }\r\n            },\r\n            selected_destine: {\r\n                Graph: {\r\n                    Display: ''\r\n                }\r\n            },\r\n            Cst_ID_Input: '',\r\n            order_info_style: {\r\n                backgroundColor: 'rgba(255, 255, 255,.8)'\r\n            },\r\n            source_select_row_class: '',\r\n            destine_select_row_class: '',\r\n            agv_select_row_class: '',\r\n            map_events_bus: {\r\n                agv_selected: '/map/agv_selected',\r\n                station_selected: '/map/station_selected'\r\n            },\r\n            bypass_eq_status_check: false,\r\n            equipments_options: [],\r\n            downstream_tags: []\r\n        }\r\n    },\r\n    computed: {\r\n        IsRunMode() {\r\n            return agvs_settings_store.getters.IsRunMode;\r\n        },\r\n        IsDeveloper() {\r\n            return userStore.getters.IsDeveloperLogining;\r\n        },\r\n        AgvNameList() {\r\n            var namelist = [];\r\n            if (this.IsRunMode) {\r\n                namelist.push({ value: '', label: '自動選車' });\r\n                if (this.IsDeveloper)\r\n                    createdAgvNameOptions(namelist);\r\n            }\r\n            else {\r\n                createdAgvNameOptions(namelist);\r\n            }\r\n\r\n            function createdAgvNameOptions(namelist) {\r\n                agv_states_store.getters.AGVNameList.forEach(element => {\r\n                    namelist.push({\r\n                        value: element,\r\n                        label: element\r\n                    });\r\n                });\r\n            }\r\n            return namelist;\r\n        },\r\n        IsShowBackTo() {\r\n            return this.current_progress != 'select-action'\r\n        },\r\n        selected_action_display() {\r\n            var _action = this.selected_action;\r\n            if (_action == 'move') {\r\n                return '移動'\r\n            }\r\n            if (_action == 'unload') {\r\n                return '取貨'\r\n            }\r\n            if (_action == 'load') {\r\n                return '放貨'\r\n            }\r\n            if (_action == 'carry') {\r\n                return '搬運'\r\n            }\r\n            if (_action == 'charge') {\r\n                return '充電'\r\n            }\r\n        },\r\n        IsAutoSelectAGV() {\r\n            return (this.selected_action == 'carry' || this.selected_action == 'unload') && this.selected_agv == '';\r\n        },\r\n        task_dispatch_btn_pushable() {\r\n            if (this.selected_action == 'carry')\r\n                return (this.selected_agv != '' || this.IsAutoSelectAGV) && this.selected_source != undefined && this.selected_destine != undefined;\r\n            else\r\n                return (this.selected_agv != '' || this.IsAutoSelectAGV) && this.selected_destine != undefined;\r\n        },\r\n        EQStations() {\r\n            return MapStore.getters.AllEqStation\r\n        },\r\n        bay_names() {\r\n\r\n            var bay_data = MapStore.getters.BaysData;\r\n            return Object.keys(bay_data).map(bay_name => ({\r\n                tag: bay_name,\r\n                name: bay_name\r\n            }))\r\n\r\n        },\r\n        FromStationOptions() {\r\n            var _agvOptions = agv_states_store.getters.AGVNameList.map(name => {\r\n                return {\r\n                    tag: name,\r\n                    name_display: name\r\n                }\r\n            })\r\n            var _stations = [...this.EQStations, ..._agvOptions];\r\n            return _stations;\r\n        }\r\n    },\r\n    methods: {\r\n        SelectActionHandle(action) {\r\n            this.$emit('onTaskDispatch')\r\n            this.selected_action = action;\r\n            this.HandleActionSelected(action);\r\n            this.action_menu_visible = false;\r\n            this.order_info_visible = true;\r\n            if (action == 'carry' || action == 'unload') {\r\n\r\n                this.selected_agv = '自動選車';\r\n                if (action == 'carry') {\r\n                    this.HandleSelectSoureStationFromMapBtnClick();\r\n                } else {\r\n                    this.HandleSelectDestineStationFromMapBtnClick();\r\n                }\r\n            }\r\n            else {\r\n                this.HandleSelectAGVFromMapBtnClick();\r\n            }\r\n        },\r\n        HandleActionSelected(action) {\r\n            this.source_select_row_class =\r\n                this.destine_select_row_class =\r\n                this.agv_select_row_class = '';\r\n            var selectedStyle = {\r\n                backgroundColor: 'rgb(13, 110, 253)',\r\n                color: 'white',\r\n                borderRadius: '1px solid black'\r\n            }\r\n            if (action == 'select-agv')\r\n                this.agv_select_row_class = selectedStyle;\r\n\r\n            if (action == 'select-source')\r\n                this.source_select_row_class = selectedStyle;\r\n\r\n            if (action == 'select-destine')\r\n                this.destine_select_row_class = selectedStyle;\r\n        },\r\n        HandleSelectAGVFromMapBtnClick() {\r\n            this.HandleActionSelected(\"select-agv\");\r\n            bus.off(this.map_events_bus.agv_selected)\r\n            bus.off(this.map_events_bus.station_selected)\r\n            bus.emit('change_to_select_agv_mode');\r\n            this.current_progress = 'select-agv';\r\n            this.is_reselecting_flag = true;\r\n            bus.on(this.map_events_bus.agv_selected, (agv_name) => {\r\n                this.selected_agv = agv_name;\r\n                if (this.selected_action == 'carry') {\r\n                    this.HandleSelectSoureStationFromMapBtnClick();\r\n                    this.HandleActionSelected('select-source')\r\n                } else {\r\n                    this.HandleSelectDestineStationFromMapBtnClick();\r\n                    this.HandleActionSelected('select-destine')\r\n                }\r\n\r\n            })\r\n\r\n        },\r\n        HandleSelectSoureStationFromMapBtnClick() {\r\n            this.HandleActionSelected(\"select-source\");\r\n            bus.off(this.map_events_bus.agv_selected)\r\n            bus.off(this.map_events_bus.station_selected)\r\n            bus.emit('change_to_select_eq_station_mode', { action_type: this.selected_action, direction: 'source' });\r\n\r\n            this.current_progress = 'select-source';\r\n            this.is_reselecting_flag = false;\r\n\r\n            bus.on(this.map_events_bus.station_selected, (_station_data) => {\r\n                console.info(_station_data);\r\n                if (_station_data.IsEquipment) {\r\n\r\n                    if (_station_data == this.selected_destine)\r\n                        return;\r\n\r\n                    this.selected_source = _station_data;\r\n                    this.HandleFromSelectChanged(this.selected_source.TagNumber);\r\n                    this.HandleSelectDestineStationFromMapBtnClick();\r\n                    this.HandleActionSelected('select-destine')\r\n                }\r\n            })\r\n        },\r\n        HandleSelectDestineStationFromMapBtnClick() {\r\n            this.HandleActionSelected(\"select-destine\");\r\n            bus.off(this.map_events_bus.agv_selected)\r\n            bus.off(this.map_events_bus.station_selected)\r\n            bus.emit('change_to_select_eq_station_mode', { action_type: this.selected_action, direction: 'destine' });\r\n            this.current_progress = 'select-destine';\r\n            this.is_reselecting_flag = true;\r\n            bus.on(this.map_events_bus.station_selected, (_station_data) => {\r\n                console.info(_station_data);\r\n                if (this.selected_action == 'charge' && !_station_data.IsCharge)\r\n                    return;\r\n                if ((this.selected_action == 'load' || this.selected_action == 'unload' || this.selected_action == 'carry') && !_station_data.IsEquipment)\r\n                    return;\r\n                if (this.selected_action == 'carry' && _station_data == this.selected_source)\r\n                    return;\r\n                this.selected_destine = _station_data;\r\n            })\r\n        },\r\n        HandleCancelBtnClick() {\r\n            bus.off(this.map_events_bus.agv_selected)\r\n            bus.off(this.map_events_bus.station_selected)\r\n            this.order_info_visible = false;\r\n            this.selected_source = this.selected_destine = { Graph: { Display: '' } };\r\n            this.source_select_row_class = this.destine_select_row_class = this.agv_select_row_class = '';\r\n            bus.emit('change_to_normal_view_mode');\r\n\r\n        },\r\n        HandleConfirmBtnClicked() {\r\n            this.$swal.fire(\r\n                {\r\n                    title: '確定要派送此任務?',\r\n                    text: `${this.selected_agv} 執行 ${this.selected_action_display} 任務,終點:${this.selected_destine.Graph.Display}`,//TODO 完整的名稱\r\n                    icon: 'question',\r\n                    showCancelButton: true,\r\n                    confirmButtonText: '確定',\r\n                    cancelButtonText: '取消',\r\n                    customClass: 'my-sweetalert'\r\n                }).then(res => {\r\n                    if (res.isConfirmed) {\r\n                        this.TaskDeliveryHandle()\r\n                    }\r\n                })\r\n        },\r\n        async TaskDeliveryHandle() {\r\n            // TaskAllocation.Task();\r\n\r\n            if (this.IsDeveloper) {\r\n                this.bypass_eq_status_check = true;\r\n            } else\r\n                if (userStore.getters.level == 0)\r\n                    this.bypass_eq_status_check = false;\r\n\r\n            var response = { confirm: true, message: '' }\r\n            var _destinTag = this.selected_destine ? this.selected_destine.TagNumber : -1;\r\n            var _sourceTag = this.selected_source ? this.selected_source.TagNumber : -1;\r\n            var _selected_agv = this.selected_agv == '自動選車' || this.selected_agv == '' ? '' : this.selected_agv;\r\n            if (this.selected_action == 'move') {\r\n                response = await TaskAllocation.MoveTask(new clsMoveTaskData(_selected_agv, _destinTag, 50));\r\n            }\r\n\r\n            if (this.selected_action == 'measure') {\r\n                response = await TaskAllocation.MeasureTask(new clsMeasureTaskData(_selected_agv, _destinTag));\r\n            }\r\n            if (this.selected_action == 'load') {\r\n                response = await TaskAllocation.LoadTask(new clsLoadTaskData(_selected_agv, _destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n            }\r\n\r\n            if (this.selected_action == 'unload') {\r\n                response = await TaskAllocation.UnloadTask(new clsUnloadTaskData(_selected_agv, _destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n            }\r\n\r\n            if (this.selected_action == 'carry') {\r\n                response = await TaskAllocation.CarryTask(new clsCarryTaskData(_selected_agv, _sourceTag, 1, _destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (this.selected_action == 'exchange_battery') {\r\n                response = await TaskAllocation.ExangeBatteryTask(new clsExangeBatteryTaskData(_selected_agv, _destinTag, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (this.selected_action == 'charge') {\r\n                response = await TaskAllocation.ChargeTask(new clsChargeTaskData(_selected_agv, _destinTag, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (this.selected_action == 'park') {\r\n                response = await TaskAllocation.ParkTask(new clsParkTaskData(_selected_agv, _destinTag, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (response.status != 200) {\r\n                const is_Unauthorized = response.status == 401;\r\n                this.$swal.fire({\r\n                    title: is_Unauthorized ? '須重新進行登入' : '任務派送失敗!',\r\n                    text: is_Unauthorized ? '' : response.mesage,\r\n                    icon: 'error',\r\n                    showCancelButton: false,\r\n                    showConfirmButton: true,\r\n                    confirmButtonText: 'OK',\r\n                    customClass: 'my-sweetalert',\r\n                }).then(res => {\r\n                    if (is_Unauthorized) {\r\n                        userStore.dispatch('logout', '')\r\n                        bus.emit('/show-login-view-invoke')\r\n\r\n                    }\r\n                })\r\n            }\r\n            else {\r\n                //{confirm:true,message:''}\r\n                if (response.data.confirm) {\r\n                    this.HandleCancelBtnClick();\r\n                    Notifier.Success(`任務-[${this.selected_action_display}] 已派送!`, 'bottom', 2000);\r\n                } else {\r\n                    this.$swal.fire(\r\n                        {\r\n                            text: response.data.message,\r\n                            title: '任務派送失敗!',\r\n                            icon: 'error',\r\n                            showCancelButton: false,\r\n                            confirmButtonText: 'OK',\r\n                            customClass: 'my-sweetalert'\r\n                        })\r\n                }\r\n            }\r\n\r\n        },\r\n        async HandleFromSelectChanged(source_tag) {\r\n\r\n            this.selected_destine = { TagNumber: undefined }\r\n            console.log(source_tag)\r\n\r\n            this.downstream_tags = [];\r\n            this.equipments_options = await GetEQOptions();\r\n            var source_eq = this.equipments_options.find(eq => eq.TagID == source_tag)\r\n            if (source_eq) {\r\n                var downstream_eq_names = source_eq.ValidDownStreamEndPointNames\r\n                console.info(downstream_eq_names)\r\n                var downstread_eq_options = this.equipments_options.filter(eq => downstream_eq_names.includes(eq.Name))\r\n                console.info(downstread_eq_options)\r\n                Object.values(downstread_eq_options).forEach(element => {\r\n                    this.downstream_tags.push({\r\n                        tag: element.TagID,\r\n                        name: `${element.Name}(Tag=${element.TagID})`,\r\n                        name_display: element.Name\r\n                    })\r\n                });\r\n            }\r\n        },\r\n        DetermineDestinOptions() {\r\n            if (this.selected_action == 'measure')\r\n                return this.bay_names;\r\n            else if (this.selected_action == 'move')\r\n                return MapStore.getters.AllNormalStationOptions;\r\n            else if (this.selected_action == 'load' || this.selected_action == 'unload')\r\n                return MapStore.getters.AllEqStation;\r\n            else if (this.selected_action == 'charge')\r\n                return MapStore.getters.AllChargeStation;\r\n            else if (this.selected_action == 'carry')\r\n                return this.downstream_tags;\r\n            else if (this.selected_action == 'exchange_battery')\r\n                return MapStore.getters.AllExangeBatteryStation;\r\n            else\r\n                return this.tags;\r\n\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.task-dispatch-btn-container {\r\n    position: fixed;\r\n    bottom: 40px;\r\n    right: 15px;\r\n    z-index: 10;\r\n\r\n    button {\r\n        font-size: 40px;\r\n    }\r\n\r\n    box-shadow: -3px 0px 24px 3px rgb(61, 61, 61);\r\n\r\n}\r\n\r\n.order-row {\r\n    height: 52px;\r\n    margin: 2px auto;\r\n    //background-color: whitesmoke;\r\n    font-size: 20px;\r\n    padding-left: 12px;\r\n    padding-top: 7px;\r\n    font-weight: bold;\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n\r\n    .item-name {\r\n        font-size: 22px\r\n    }\r\n\r\n    .item-value {\r\n        color: rgb(13, 110, 253);\r\n\r\n        input {\r\n            color: rgb(13, 110, 253);\r\n        }\r\n    }\r\n\r\n    .item-actions {\r\n        text-align: right;\r\n\r\n        button {\r\n            margin: auto 2px;\r\n        }\r\n    }\r\n}\r\n\r\n.order-row:hover {\r\n    background-color: rgb(235, 235, 235);\r\n}\r\n\r\n.selected-div {\r\n    background-color: 'pink'\r\n}\r\n</style>","import { render } from \"./TaskDispathActionButton.vue?vue&type=template&id=5baacc30&scoped=true\"\nimport script from \"./TaskDispathActionButton.vue?vue&type=script&lang=js\"\nexport * from \"./TaskDispathActionButton.vue?vue&type=script&lang=js\"\n\nimport \"./TaskDispathActionButton.vue?vue&type=style&index=0&id=5baacc30&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5baacc30\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"task-dispatch-new-ui\">\r\n        <div class=\"bg-primary text-light d-flex flex-row\">\r\n            <div class=\"w-100 title-text\"> 任務派送</div>\r\n            <i @click=\"Leave\" class=\"close-btn mx-2 bi bi-x-circle\"></i>\r\n        </div>\r\n        <div v-if=\"IsShowBackTo\" class=\"back-to-last-step px-2\" @click=\"HandleBackToPush\">返回 [{{ lastProgressDisplay }}]</div>\r\n        <div v-show=\"current_progress == 'select-action'\" class=\"page-pnl\">\r\n            <div class=\"head-text\">請選擇任務動作</div>\r\n            <div class=\"actions-btn-conatiner\">\r\n                <div v-if=\"!IsRunMode || IsDeveloper\" @click=\"SelectActionHandle('move')\" class=\"action\"> <label>移動</label> </div>\r\n                <div v-if=\"!IsRunMode || IsDeveloper\" @click=\"SelectActionHandle('unload')\" class=\"action\"> <label>取貨</label> </div>\r\n                <div v-if=\"!IsRunMode || IsDeveloper\" @click=\"SelectActionHandle('load')\" class=\"action\"> <label>放貨</label> </div>\r\n                <div @click=\"SelectActionHandle('carry')\" class=\"action\"> <label>搬運</label> </div>\r\n                <div @click=\"SelectActionHandle('charge')\" class=\"action\"> <label>充電</label> </div>\r\n            </div>\r\n        </div>\r\n        <div v-show=\"current_progress == 'select-agv'\" class=\"page-pnl\">\r\n            <div class=\"head-text\">請選擇車輛</div>\r\n            <div class=\"actions-btn-conatiner\">\r\n                <div v-for=\"agv_name in AgvNameList\"\r\n                    :key=\"agv_name.value\" @click=\"SelectAgvHandle(agv_name.value)\" class=\"action\"> <label>{{ agv_name.label }}</label> </div>\r\n                <!-- <div @click=\"SelectAgvHandle('AGV2')\" class=\"action\"> <label>AGV2</label> </div> -->\r\n            </div>\r\n        </div>\r\n        <div v-show=\"current_progress == 'select-source'\" class=\"page-pnl\">\r\n            <div class=\"head-text\">請選擇來源設備</div>\r\n            <div class=\"station-btn-conatiner\">\r\n                <div v-for=\" station in eq_stations\" :key=\"station.tag\" class=\"action\" @click=\"SelectSourceHandle(station)\"> <label>{{ station.name_display }}</label> </div>\r\n                <!-- <div @click=\"SelectSourceHandle('EQ_A')\" class=\"action\"> <label>EQ_A</label> </div> -->\r\n            </div>\r\n        </div>\r\n        <div v-show=\"current_progress == 'select-destine'\" class=\"page-pnl\">\r\n            <div class=\"head-text\">請選擇目的地</div>\r\n            <div class=\"station-btn-conatiner\">\r\n                <div v-for=\" station in destine_stations\" :key=\"station.tag\" class=\"action\" @click=\"SelectDestineHandle(station)\"> <label>{{ station.name_display }}</label> </div>\r\n                <!-- <div @click=\"SelectDestineHandle('EQ_B')\" class=\"action\"> <label>EQ_B</label> </div> -->\r\n            </div>\r\n        </div>\r\n        <div v-show=\"current_progress == 'confirm-task'\" class=\"page-pnl\">\r\n            <div class=\"head-text\">確認派送任務</div>\r\n            <div class=\"actions-btn-conatiner\">\r\n                <!-- 顯示訂單內容 -->\r\n                <div class=\"order-content\">\r\n                    <div class=\"order-row\">\r\n                        <label class=\"title\">動作</label>\r\n                        <label class=\"value\">{{ selected_action_display }}</label>\r\n                        <b-button @click=\"() => { current_progress = 'select-action'; is_reselecting_flag = false }\">重新選取</b-button>\r\n                    </div>\r\n                    <div class=\"order-row\">\r\n                        <label class=\"title\">車輛</label>\r\n                        <label class=\"value\">{{ selected_agv == '' ? '自動選車' : selected_agv }}</label>\r\n                        <b-button @click=\"() => { current_progress = 'select-agv'; is_reselecting_flag = true }\">重新選取</b-button>\r\n                    </div>\r\n                    <div v-if=\"selected_action == 'carry'\" class=\"order-row\">\r\n                        <label class=\"title\">來源</label>\r\n                        <label class=\"value\">{{ selected_source.name_display }}</label>\r\n                        <b-button @click=\"() => { current_progress = 'select-source'; is_reselecting_flag = false }\">重新選取</b-button>\r\n                    </div>\r\n                    <div class=\"order-row\">\r\n                        <label class=\"title\">目的地</label>\r\n                        <label class=\"value\">{{ selected_destine.name_display }}</label>\r\n                        <b-button @click=\"() => { current_progress = 'select-destine'; is_reselecting_flag = true }\">重新選取</b-button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"d-flex justify-content-center\">\r\n                    <div @click=\"HandleConfirmBtnClicked\" class=\"action bg-primary text-light\"> <label>確認派送</label> </div>\r\n                    <div @click=\"SelectDestineHandle('EQ_B')\" class=\"action bg-danger text-light\"> <label>取消</label> </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '@/event-bus';\r\nimport Notifier from '@/api/NotifyHelper';\r\nimport { MapStore } from '@/components/Map/store';\r\nimport { GetEQOptions } from '@/api/EquipmentAPI'\r\nimport { TaskAllocation, clsMoveTaskData, clsMeasureTaskData, clsLoadTaskData, clsUnloadTaskData, clsCarryTaskData, clsExangeBatteryTaskData, clsChargeTaskData, clsParkTaskData } from '@/api/TaskAllocation'\r\nimport { userStore, agv_states_store, agvs_settings_store } from '@/store';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            current_progress: 'select-action',\r\n            selected_action: '',\r\n            selected_agv: '',\r\n            selected_source: '',\r\n            selected_destine: '',\r\n            Cst_ID_Input: '',\r\n            downstream_stations: [],\r\n            bypass_eq_status_check: false,\r\n            is_reselecting_flag: false\r\n        }\r\n    },\r\n    methods: {\r\n        SelectActionHandle(action) {\r\n            this.selected_action = action;\r\n            this.current_progress = 'select-agv';\r\n        },\r\n        SelectAgvHandle(agv) {\r\n            this.selected_agv = agv;\r\n            if (this.is_reselecting_flag) {\r\n                this.current_progress = 'confirm-task'\r\n                return;\r\n            }\r\n            if (this.selected_action == 'carry')\r\n                this.current_progress = 'select-source';\r\n            else\r\n                this.current_progress = 'select-destine';\r\n        },\r\n        SelectSourceHandle(source) {\r\n            this.HandleFromSelectChanged(source.tag).then(_destines => {\r\n                this.selected_source = source;\r\n                this.current_progress = 'select-destine'\r\n            })\r\n        },\r\n        SelectDestineHandle(destine) {\r\n            this.selected_destine = destine;\r\n\r\n            if (this.is_reselecting_flag && this.selected_action != 'carry') {\r\n                this.current_progress = 'confirm-task'\r\n                return;\r\n            }\r\n            this.current_progress = 'confirm-task'\r\n        },\r\n        HandleBackToPush() {\r\n            this.is_reselecting_flag = false;\r\n            if (this.current_progress == 'select-agv')\r\n                this.current_progress = 'select-action'\r\n\r\n            if (this.current_progress == 'select-source')\r\n                this.current_progress = 'select-agv'\r\n\r\n            if (this.current_progress == 'select-destine') {\r\n                if (this.selected_action == 'carry')\r\n                    this.current_progress = 'select-source'\r\n                else\r\n                    this.current_progress = 'select-agv'\r\n            }\r\n            if (this.current_progress == 'confirm-task') {\r\n                this.current_progress = 'select-destine'\r\n            }\r\n        },\r\n        async HandleFromSelectChanged(source_tag) {\r\n            this.downstream_stations = [];\r\n            var equipments_options = await GetEQOptions();\r\n            var source_eq = equipments_options.find(eq => eq.TagID == source_tag)\r\n            if (source_eq) {\r\n                var downstream_eq_names = source_eq.ValidDownStreamEndPointNames\r\n                var downstread_eq_options = equipments_options.filter(eq => downstream_eq_names.includes(eq.Name))\r\n                console.info(downstread_eq_options)\r\n                Object.values(downstread_eq_options).forEach(element => {\r\n                    this.downstream_stations.push({\r\n                        tag: element.TagID,\r\n                        name: `${element.Name}(Tag=${element.TagID})`,\r\n                        name_display: element.Name\r\n                    })\r\n                });\r\n            }\r\n            return this.downstream_stations;\r\n        },\r\n        HandleConfirmBtnClicked() {\r\n            this.$swal.fire(\r\n                {\r\n                    title: '確定要派送此任務?',\r\n                    text: `${this.selected_agv} 執行 ${this.selected_action_display} 任務,終點:${this.selected_destine.name_display}`,//TODO 完整的名稱\r\n                    icon: 'question',\r\n                    showCancelButton: true,\r\n                    confirmButtonText: '確定',\r\n                    cancelButtonText: '取消',\r\n                    customClass: 'my-sweetalert'\r\n                }).then(res => {\r\n                    if (res.isConfirmed) {\r\n                        this.TaskDeliveryHandle()\r\n                    }\r\n                })\r\n        },\r\n        async TaskDeliveryHandle() {\r\n            // TaskAllocation.Task();\r\n\r\n            if (this.IsDeveloper) {\r\n                this.bypass_eq_status_check = true;\r\n            } else\r\n                if (userStore.getters.level == 0)\r\n                    this.bypass_eq_status_check = false;\r\n\r\n            var response = { confirm: true, message: '' }\r\n            var _destinTag = this.selected_destine.tag;\r\n            var _sourceTag = this.selected_source.tag;\r\n            var _selected_agv = this.selected_agv;\r\n            if (this.selected_action == 'move') {\r\n                response = await TaskAllocation.MoveTask(new clsMoveTaskData(_selected_agv, _destinTag, 50));\r\n            }\r\n\r\n            if (this.selected_action == 'measure') {\r\n                response = await TaskAllocation.MeasureTask(new clsMeasureTaskData(_selected_agv, _destinTag));\r\n            }\r\n            if (this.selected_action == 'load') {\r\n                response = await TaskAllocation.LoadTask(new clsLoadTaskData(_selected_agv, _destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n            }\r\n\r\n            if (this.selected_action == 'unload') {\r\n                response = await TaskAllocation.UnloadTask(new clsUnloadTaskData(_selected_agv, _destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n            }\r\n\r\n            if (this.selected_action == 'carry') {\r\n                response = await TaskAllocation.CarryTask(new clsCarryTaskData(_selected_agv, _sourceTag, 1, _destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (this.selected_action == 'exchange_battery') {\r\n                response = await TaskAllocation.ExangeBatteryTask(new clsExangeBatteryTaskData(_selected_agv, _destinTag, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (this.selected_action == 'charge') {\r\n                response = await TaskAllocation.ChargeTask(new clsChargeTaskData(_selected_agv, _destinTag, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (this.selected_action == 'park') {\r\n                response = await TaskAllocation.ParkTask(new clsParkTaskData(_selected_agv, _destinTag, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (response.status != 200) {\r\n                const is_Unauthorized = response.status == 401;\r\n                this.$swal.fire({\r\n                    title: is_Unauthorized ? '須重新進行登入' : '任務派送失敗!',\r\n                    text: is_Unauthorized ? '' : response.mesage,\r\n                    icon: 'error',\r\n                    showCancelButton: false,\r\n                    showConfirmButton: true,\r\n                    confirmButtonText: 'OK',\r\n                    customClass: 'my-sweetalert',\r\n                }).then(res => {\r\n                    if (is_Unauthorized) {\r\n                        userStore.dispatch('logout', '')\r\n                        bus.emit('/show-login-view-invoke')\r\n                        this.Leave();\r\n\r\n                    }\r\n                })\r\n\r\n\r\n            }\r\n            else {\r\n                //{confirm:true,message:''}\r\n                if (response.data.confirm) {\r\n                    Notifier.Success(`任務-[${this.selected_action_display}] 已派送!`, 'bottom', 2000);\r\n                    this.Leave();\r\n                } else {\r\n                    this.$swal.fire(\r\n                        {\r\n                            text: response.data.message,\r\n                            title: '任務派送失敗!',\r\n                            icon: 'error',\r\n                            showCancelButton: false,\r\n                            confirmButtonText: 'OK',\r\n                            customClass: 'my-sweetalert'\r\n                        })\r\n                }\r\n            }\r\n\r\n        },\r\n        Leave() {\r\n            this.$emit('close')\r\n            this.is_reselecting_flag = false;\r\n            this.current_progress = 'select-action'\r\n        }\r\n    },\r\n    computed: {\r\n        IsRunMode() {\r\n            return agvs_settings_store.getters.IsRunMode;\r\n        },\r\n        IsShowBackTo() {\r\n            return this.current_progress != 'select-action'\r\n        },\r\n        lastProgressDisplay() {\r\n            var _currentProgress = this.current_progress;\r\n            if (_currentProgress == 'select-agv')\r\n                return '選擇動作'\r\n            if (_currentProgress == 'select-source')\r\n                return '選擇AGV'\r\n            if (_currentProgress == 'select-destine') {\r\n                if (this.selected_action == 'carry')\r\n                    return '選擇起點'\r\n                else\r\n                    return '選擇AGV'\r\n            }\r\n            if (_currentProgress == 'confirm-task')\r\n                return '選擇目的地'\r\n        },\r\n        selected_action_display() {\r\n            var _action = this.selected_action;\r\n            if (_action == 'move') {\r\n                return '移動'\r\n            }\r\n            if (_action == 'unload') {\r\n                return '取貨'\r\n            }\r\n            if (_action == 'load') {\r\n                return '放貨'\r\n            }\r\n            if (_action == 'carry') {\r\n                return '搬運'\r\n            }\r\n            if (_action == 'charge') {\r\n                return '充電'\r\n            }\r\n        },\r\n        IsDeveloper() {\r\n            return userStore.getters.IsDeveloperLogining;\r\n        },\r\n        AgvNameList() {\r\n            var namelist = [];\r\n            if (this.IsRunMode) {\r\n                namelist.push({ value: '', label: '自動選車' });\r\n                if (this.IsDeveloper)\r\n                    createdAgvNameOptions(namelist);\r\n            }\r\n            else {\r\n                createdAgvNameOptions(namelist);\r\n            }\r\n\r\n            function createdAgvNameOptions(namelist) {\r\n                agv_states_store.getters.AGVNameList.forEach(element => {\r\n                    namelist.push({\r\n                        value: element,\r\n                        label: element\r\n                    });\r\n                });\r\n            }\r\n            return namelist;\r\n        },\r\n        moveable_stations() {\r\n            return MapStore.getters.AllNormalStationOptions\r\n        },\r\n        chargable_tags() {\r\n            return MapStore.getters.AllChargeStation\r\n        },\r\n        eq_stations() {\r\n            return MapStore.getters.AllEqStation\r\n        },\r\n        destine_stations() {\r\n            if (this.selected_action == 'move') {\r\n                return this.moveable_stations\r\n            } else if (this.selected_action == 'charge') {\r\n                return this.chargable_tags\r\n            } else if (this.selected_action == 'unload' || this.selected_action == 'load') {\r\n                return this.eq_stations\r\n            } else if (this.selected_action == 'carry')\r\n                return this.downstream_stations;\r\n            else\r\n                return []\r\n\r\n        }\r\n\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.task-dispatch-new-ui {\r\n    position: fixed;\r\n    height: 100vh;\r\n    left: 65px;\r\n    top: 137px;\r\n    width: 45%;\r\n    border: 2px solid gray;\r\n    background: white;\r\n    border-radius: 7px;\r\n    opacity: 0.97;\r\n    box-shadow: -5rem 107px 15px 6rem gray;\r\n\r\n    .title-text {\r\n        font-size: 40px;\r\n        font-weight: bold;\r\n        text-align: left;\r\n        padding-left: 1rem;\r\n    }\r\n\r\n    .close-btn {\r\n        font-size: 36px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .close-btn:hover {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        font-size: 43px;\r\n    }\r\n\r\n    .back-to-last-step {\r\n        font-size: 26px;\r\n        cursor: pointer;\r\n        text-align: left;\r\n        background: pink;\r\n    }\r\n\r\n    .back-to-last-step:hover {\r\n        background: grey;\r\n        color: white;\r\n    }\r\n\r\n    @keyframes slideInFromLeft {\r\n        0% {\r\n            transform: translateX(-100%);\r\n        }\r\n\r\n        100% {\r\n            transform: translateX(0);\r\n        }\r\n    }\r\n\r\n    .page-pnl {\r\n        width: 100%;\r\n        height: 90%;\r\n        // background: pink;\r\n        align-items: center;\r\n        padding-top: 70px;\r\n        animation: slideInFromLeft 0.2s ease-out forwards;\r\n\r\n        .head-text {\r\n            font-size: 45px;\r\n            text-decoration: underline;\r\n            margin-bottom: 30px;\r\n        }\r\n\r\n        .station-btn-conatiner {\r\n            background: black;\r\n            display: flex;\r\n            flex-direction: row;\r\n            flex-wrap: wrap;\r\n\r\n            .action {\r\n                background: rgb(248, 248, 248);\r\n                width: 200px;\r\n                height: 60px;\r\n                margin: 6px auto;\r\n                border-radius: 8px;\r\n                font-weight: bold;\r\n                cursor: pointer;\r\n\r\n                label {\r\n                    font-size: 25px;\r\n                    cursor: pointer;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        .actions-btn-conatiner {\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: center;\r\n\r\n            .action {\r\n                background: rgb(21 115 253);\r\n                color: white;\r\n                width: 300px;\r\n                height: 70px;\r\n                margin: 6px auto;\r\n                border-radius: 8px;\r\n                font-weight: bold;\r\n                cursor: pointer;\r\n\r\n                label {\r\n                    font-size: 35px;\r\n                    cursor: pointer;\r\n                }\r\n\r\n            }\r\n\r\n            .action:hover {\r\n                background: white;\r\n                color: black;\r\n            }\r\n        }\r\n\r\n        .station-btn-conatiner,\r\n        .actions-btn-conatiner {\r\n            width: 100%;\r\n            // background: black;\r\n\r\n            .action:hover {\r\n                background-color: rgb(21, 115, 253);\r\n                color: white;\r\n            }\r\n\r\n            .action:active {\r\n                background-color: rgb(173, 173, 173);\r\n                color: rgb(91, 91, 91);\r\n            }\r\n\r\n            .order-content {\r\n                padding: 10px;\r\n\r\n                .order-row {\r\n                    display: flex;\r\n                    flex-direction: row;\r\n                    margin: 10px -59px 15px 50px;\r\n                    // background: blue;\r\n                    font-size: 30px;\r\n                    width: 87%;\r\n\r\n                    .title {\r\n                        font-weight: bold;\r\n                        width: 139px;\r\n                        text-align: center;\r\n                        background: #025883;\r\n                        color: white;\r\n                        padding: 2px 15px;\r\n                    }\r\n\r\n                    .value {\r\n                        width: 480px;\r\n                        background: ghostwhite;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import { render } from \"./TaskDispatchNewUI.vue?vue&type=template&id=364f358a&scoped=true\"\nimport script from \"./TaskDispatchNewUI.vue?vue&type=script&lang=js\"\nexport * from \"./TaskDispatchNewUI.vue?vue&type=script&lang=js\"\n\nimport \"./TaskDispatchNewUI.vue?vue&type=style&index=0&id=364f358a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-364f358a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"eq-status\" ref=\"eq-status-container\">\r\n    <div class=\"text-start border-bottom p-2 my-2 d-flex flex-row justify-content-space\">\r\n      <div class=\"d-flex\">\r\n        <div class=\"p-1\">\r\n          <i class=\"bi bi-three-dots-vertical pt-2\"></i>區域選擇\r\n        </div>\r\n        <RegionsSelector v-model=\"selected_region\"></RegionsSelector>\r\n      </div>\r\n      <div class=\"d-flex\">\r\n        <div class=\"p-1\">\r\n          <i class=\"bi bi-three-dots-vertical pt-2\"></i>顯示模式\r\n        </div>\r\n        <el-select style=\"width:120px\" v-model=\"display_mode\">\r\n          <el-option label=\"設備狀態\" value=\"lduld_state\"></el-option>\r\n          <el-option label=\"IO訊號\" value=\"io_siganl\"></el-option>\r\n        </el-select>\r\n      </div>\r\n      <div v-if=\"!show_lduld_state\" class=\"legend d-flex flex-row px-2\">\r\n        <div class=\"disconnect\"></div>\r\n        <span>斷線</span>\r\n        <div class=\"signal-on\"></div>\r\n        <span>訊號[ON]</span>\r\n        <div class=\"signal-off\"></div>\r\n        <span>訊號[OFF]</span>\r\n      </div>\r\n    </div>\r\n    <!-- <div v-if=\"IsDeveloperLogining\" class=\"dev-debug-global d-flex\">\r\n      <b-button variant=\"light\" @click=\"EmuAllLoad\">ALL Load</b-button>\r\n      <b-button class=\"mx-2\" variant=\"light\" @click=\"EmuAllBusy\">ALL Busy</b-button>\r\n    </div>-->\r\n    <el-table\r\n      class=\"px-1\"\r\n      border\r\n      siz=\"small\"\r\n      style=\"height:68vh\"\r\n      :header-cell-style=\"{ color: 'black', backgroundColor: 'white' }\"\r\n      :data=\"display_data\"\r\n      :row-style=\"{ fontWeight: 'bold' }\"\r\n      :row-class-name=\"eq_connection_status\"\r\n      row-key=\"EQName\">\r\n      <el-table-column type=\"expand\" max-width=\"40\">\r\n        <template #default=\"scope\">\r\n          <div class=\"hs-signals d-flex\">\r\n            <div class=\"mx-3\">交握訊號-EQ</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleHSsignaleChange(scope.row.EQName, 'L_REQ', !scope.row.HS_EQ_L_REQ)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_EQ_L_REQ)\">L_REQ</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleHSsignaleChange(scope.row.EQName, 'U_REQ', !scope.row.HS_EQ_U_REQ)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_EQ_U_REQ)\">U_REQ</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleHSsignaleChange(scope.row.EQName, 'READY', !scope.row.HS_EQ_READY)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_EQ_READY)\">READY</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleHSsignaleChange(scope.row.EQName, 'UP_READY', !scope.row.HS_EQ_UP_READY)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_EQ_UP_READY)\">UP_READY</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleHSsignaleChange(scope.row.EQName, 'LOW_READY', !scope.row.HS_EQ_LOW_READY)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_EQ_LOW_READY)\">LOW_READY</div>\r\n            <div\r\n              v-if=\"false\"\r\n              class=\"di-status\"\r\n              @click=\"HandleHSsignaleChange(scope.row.EQName, 'BUSY', !scope.row.HS_EQ_BUSY)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_EQ_BUSY)\">BUSY</div>\r\n          </div>\r\n          <div class=\"hs-signals d-flex\">\r\n            <div class=\"mx-3\">交握訊號-AGV</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'To_EQ_Up', !scope.row.To_EQ_Up)\"\r\n              v-bind:style=\"signalOn(scope.row.To_EQ_Up)\">To_EQ_Up</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'To_EQ_Low', !scope.row.To_EQ_Low)\"\r\n              v-bind:style=\"signalOn(scope.row.To_EQ_Low)\">To_EQ_Low</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'VALID', !scope.row.HS_AGV_VALID)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_AGV_VALID)\">VALID</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'TR_REQ', !scope.row.HS_AGV_TR_REQ)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_AGV_TR_REQ)\">TR_REQ</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'BUSY', !scope.row.HS_AGV_BUSY)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_AGV_BUSY)\">BUSY</div>\r\n            <div\r\n              v-if=\"false\"\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'READY', !scope.row.HS_AGV_READY)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_AGV_READY)\">READY</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'COMPT', !scope.row.HS_AGV_COMPT)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_AGV_COMPT)\">COMPT</div>\r\n          </div>\r\n          <div v-if=\"IsDeveloperLogining\" class=\"d-flex\">\r\n            <div class=\"mx-3\">模擬器:</div>\r\n            <el-button @click=\"LDULD_Emu_State_Switch(scope.row.EQName, 'busy')\">切換為Busy</el-button>\r\n            <el-button @click=\"LDULD_Emu_State_Switch(scope.row.EQName, 'load')\">切換為Load</el-button>\r\n            <el-button @click=\"LDULD_Emu_State_Switch(scope.row.EQName, 'unload')\">切換為Unload</el-button>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column sortable label=\"設備名稱\" prop=\"EQName\" width=\"170\">\r\n        <template #default=\"scope\">\r\n          <div> {{ scope.row.EQName }} <el-tooltip placement=\"top-start\" content=\"複製到剪貼簿\">\r\n              <i @click=\"CopyText(scope.row.EQName)\" class=\"copy-button copy-icon bi bi-clipboard\"></i>\r\n            </el-tooltip>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column sortable label=\"Tag\" prop=\"Tag\" width=\"60\" align=\"center\"></el-table-column>\r\n      <el-table-column v-if=\"show_lduld_state\" align=\"center\" label=\"主狀態\" prop=\"MainStatus\">\r\n        <template #default=\"scope\">\r\n          <el-tag\r\n            style=\"width:150px\"\r\n            :type=\"GetMainStatusTagtype(scope.row.MainStatus, scope.row.IsConnected)\"\r\n            effect=\"dark\">{{ GetMainStatusStr(scope.row.MainStatus, scope.row.IsConnected) }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column v-if=\"show_lduld_state\" align=\"center\" label=\"移載狀態\" prop=\"TransferStatus\">\r\n        <template #default=\"scope\">\r\n          <el-tag\r\n            style=\"width:150px\"\r\n            :type=\"GetTransferStatusTagtype(scope.row.TransferStatus, scope.row.IsConnected)\"\r\n            effect=\"dark\">{{ GetTransferStatusStr(scope.row.TransferStatus, scope.row.IsConnected) }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column v-if=\"show_lduld_state\" align=\"center\" label=\"帳籍狀態\" prop=\"TransferStatus\">\r\n        <template #default=\"scope\">\r\n          <el-table-column v-if=\"show_lduld_state\" align=\"center\" label=\"帳籍狀態\">\r\n            <template #default=\"scope\">\r\n              <div class=\"d-flex\">\r\n                <el-tag\r\n                  v-if=\"scope.row.Port_Exist\"\r\n                  class=\"mx-1\"\r\n                  type=\"success\"\r\n                  effect=\"dark\">有貨</el-tag>\r\n                <el-tag\r\n                  v-if=\"scope.row.Port_Exist\"\r\n                  class=\"mx-1\"\r\n                  type=\"info\"\r\n                  effect=\"dark\">滿框</el-tag>\r\n                <el-tag\r\n                  v-if=\"scope.row.Port_Exist\"\r\n                  class=\"mx-1\"\r\n                  type=\"info\"\r\n                  effect=\"dark\">空框</el-tag>\r\n                <el-tag\r\n                  v-if=\"!scope.row.Port_Exist\"\r\n                  class=\"mx-1\"\r\n                  type=\"warning\"\r\n                  effect=\"dark\">無貨</el-tag>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column v-if=\"show_lduld_state\" align=\"center\" label=\"ID\"></el-table-column>\r\n        </template>\r\n      </el-table-column>\r\n      <!-- <el-table-column sortable label=\"區域\" prop=\"Region\" width=\"110\"></el-table-column> -->\r\n      <!-- IO訊號 -->\r\n      <el-table-column\r\n        v-if=\"!show_lduld_state\"\r\n        label=\"可移入\"\r\n        prop=\"Load_Request\"\r\n        :min-width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Load_Request)\">可移入</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        v-if=\"!show_lduld_state\"\r\n        label=\"可移出\"\r\n        prop=\"Unload_Request\"\r\n        :min-width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Unload_Request)\">可移出</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        v-if=\"!show_lduld_state\"\r\n        label=\"貨物在席\"\r\n        prop=\"Port_Exist\"\r\n        :min-width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Port_Exist)\">{{ scope.row.Port_Exist ? '有貨' : '無貨' }}</div>\r\n        </template>\r\n      </el-table-column>\r\n      <!-- 轉換架之類的 -->\r\n      <!-- <el-table-column v-if=\"!show_lduld_state\" label=\"撈爪上位\" prop=\"Up_Pose\" :width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Up_Pose)\">撈爪上位</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column v-if=\"!show_lduld_state\" label=\"撈爪下位\" prop=\"Down_Pose\" :width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Down_Pose)\">撈爪下位</div>\r\n        </template>\r\n      </el-table-column> -->\r\n      <!--  -->\r\n      <el-table-column\r\n        v-if=\"!show_lduld_state\"\r\n        label=\"Down\"\r\n        prop=\"Eqp_Status_Down\"\r\n        :min-width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Eqp_Status_Down)\">{{ scope.row.EqType == 0 ? 'Normal' : 'Down' }}</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        v-if=\"!show_lduld_state\"\r\n        label=\"Run\"\r\n        prop=\"Eqp_Status_Run\"\r\n        :min-width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Eqp_Status_Run)\">Run</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        v-if=\"!show_lduld_state\"\r\n        label=\"Idle\"\r\n        prop=\"Eqp_Status_Idle\"\r\n        :min-width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Eqp_Status_Idle)\">Idle</div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport WebSocketHelp from '@/api/WebSocketHepler';\r\nimport RegionsSelector from '@/components/RegionsSelector.vue'\r\nimport { ElNotification } from 'element-plus'\r\nimport { EmuAPI, SetAGVHandshakeIO } from '@/api/EquipmentAPI.js'\r\nimport { userStore } from '@/store';\r\nimport param from '@/gpm_param.js'\r\nimport { EqStore } from '@/store'\r\nimport { watch } from 'vue';\r\nimport bus from '@/event-bus.js'\r\nimport { CopyText } from '@/api/Common/UtilityTools'\r\n\r\nexport default {\r\n  components: {\r\n    RegionsSelector,\r\n  },\r\n  data() {\r\n    return {\r\n      column_width: 103,\r\n      // eq_data: [\r\n      //   {\r\n      //     IsConnected: true,\r\n      //     EQName: 'GB123#1',\r\n      //     Load_Request: false,\r\n      //     Unload_Request: true,\r\n      //     Port_Exist: true,\r\n      //     Up_Pose: false,\r\n      //     Down_Pose: true,\r\n      //     Eqp_Status_Down: true,\r\n      //     Region: '',\r\n      //    TransferStatus:0,\r\n      //   }\r\n      // ],\r\n      selected_region: \"all\",\r\n      display_mode: 'lduld_state',\r\n      previous_eq_data: []\r\n    }\r\n  },\r\n  computed: {\r\n    IsDeveloperLogining() {\r\n      return userStore.getters.IsDeveloperLogining;\r\n    },\r\n    display_data() {\r\n      if (this.selected_region == 'all')\r\n        return this.eq_data;\r\n      else {\r\n        return this.eq_data.filter(eq => eq.Region == this.selected_region)\r\n      }\r\n    },\r\n    eq_data() {\r\n      return EqStore.getters.EQData\r\n    },\r\n    show_lduld_state() {\r\n      return this.display_mode == 'lduld_state'\r\n    }\r\n  },\r\n  mounted() {\r\n    //this.WsConnect();\r\n    var signal_divs = document.getElementsByClassName('di-status');\r\n    bus.on('/map_init_done', () => {\r\n      this.eq_data.forEach(eq_states => {\r\n        bus.emit('/eq_lduld_status_changed', {\r\n          tagNumber: eq_states.Tag,\r\n          status: eq_states.TransferStatus,\r\n        })\r\n      });\r\n\r\n    })\r\n\r\n  },\r\n  methods: {\r\n    userStoreTest() {\r\n      alert(userStore.getters.IsDeveloperLogining)\r\n    },\r\n\r\n    eq_connection_status(row, rowIndex) {\r\n      var isConnected = row.row.IsConnected;\r\n      return isConnected ? 'success-row' : 'error-row';\r\n    },\r\n    signalOn(status, isLoadable = false) {\r\n      if (status) {\r\n        if (isLoadable) {\r\n          return { backgroundColor: 'blue' }\r\n        }\r\n        return {\r\n          backgroundColor: 'lime'\r\n        }\r\n      }\r\n      else {\r\n        return {\r\n          backgroundColor: 'rgb(204, 204, 204)'\r\n        }\r\n      }\r\n    },\r\n    RegionSelectChanged(val) {\r\n      this.selected_region = val;\r\n    },\r\n    filterRegionData(value, row, column) {\r\n      console.log(row)\r\n    },\r\n    CopyText(text) {\r\n      CopyText(text)\r\n    },\r\n    LDULD_Emu_State_Switch(EQName = \"\", mode = 'busy|load|unlod') {\r\n      EmuAPI.SetState(EQName, mode)\r\n    },\r\n    EmuAllLoad() {\r\n      EmuAPI.EQAllLoad()\r\n    },\r\n    EmuAllBusy() {\r\n      EmuAPI.EQAllBusy()\r\n    },\r\n    HandleHSsignaleChange(eqname, signal_name, state) {\r\n      // alert(eqname + ',' + signal_name)\r\n      if (!this.IsDeveloperLogining)\r\n        return;\r\n      EmuAPI.SetEQHsSignal(eqname, signal_name, state)\r\n    },\r\n    HandleAGVHSSignaleChange(eqname, signal_name, state) {\r\n      // alert(eqname + ',' + signal_name)\r\n      if (!this.IsDeveloperLogining)\r\n        return;\r\n      SetAGVHandshakeIO(eqname, signal_name, state)\r\n    },\r\n    GetMainStatusStr(status_int, connected) {\r\n      if (!connected)\r\n        return '斷線';\r\n      switch (status_int) {\r\n        case 0:\r\n          return '當機'\r\n        case 1:\r\n          return '生產中'\r\n        case 2:\r\n          return '閒置'\r\n        case 3:\r\n          return '-'\r\n        default:\r\n          return status_int + ''\r\n      }\r\n    },\r\n    GetTransferStatusStr(status_int, connected) {\r\n      if (!connected)\r\n        return '斷線';\r\n      switch (status_int) {\r\n        case 0:\r\n          return '斷線'\r\n        case 1:\r\n          return '可收料'\r\n        case 2:\r\n          return '可出料'\r\n        case 3:\r\n          return 'No-Request'\r\n        default:\r\n          return status_int + ''\r\n      }\r\n    },\r\n    /**'success' | 'info' | 'warning' | 'danger' | '' */\r\n    GetTransferStatusTagtype(status_int, connected) {\r\n      if (!connected)\r\n        return 'danger';\r\n      switch (status_int) {\r\n        case 0:\r\n          return 'info'\r\n        case 1:\r\n          return 'warning'\r\n        case 2:\r\n          return 'success'\r\n        case 3:\r\n          return 'info'\r\n        case 4:\r\n          return 'success'\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    /**'success' | 'info' | 'warning' | 'danger' | '' */\r\n    GetMainStatusTagtype(status_int, connected) {\r\n      if (!connected)\r\n        return 'danger';\r\n      switch (status_int) {\r\n        case 0:\r\n          return 'danger'\r\n        case 1:\r\n          return 'success'\r\n        case 2:\r\n          return 'warning'\r\n        case 3:\r\n          return 'success'\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.eq-status {\r\n  height: 100%;\r\n  width: 50vw;\r\n\r\n  .legend {\r\n    div {\r\n      width: 40px;\r\n      height: 12px;\r\n      border-radius: 4px;\r\n\r\n      margin-right: 3px;\r\n      margin-top: 5px;\r\n    }\r\n\r\n    div:hover {\r\n      cursor: pointer;\r\n    }\r\n\r\n    span {\r\n      margin-right: 20px;\r\n      font-weight: bold;\r\n      font-size: 14px;\r\n      color: rgb(112, 112, 112);\r\n    }\r\n\r\n    .disconnect {\r\n      background-color: rgb(245, 108, 108);\r\n    }\r\n\r\n    .signal-on {\r\n      background-color: lime;\r\n    }\r\n\r\n    .signal-off {\r\n      background-color: rgb(204, 204, 204);\r\n    }\r\n  }\r\n\r\n  .di-status {\r\n    color: rgb(139, 139, 139);\r\n    height: 22px;\r\n    padding: 0;\r\n    margin: 0;\r\n    text-align: center;\r\n    font-size: 12px;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .hs-signals {\r\n    div {\r\n      margin: 3px;\r\n      padding: 3px;\r\n    }\r\n  }\r\n\r\n  .el-table .success-row {\r\n    --el-table-tr-bg-color: var(--el-color-success-light-9);\r\n  }\r\n\r\n  .el-table .error-row {\r\n    --el-table-tr-bg-color: var(--el-color-error);\r\n    color: white;\r\n  }\r\n}\r\n</style>","\r\nimport Clipboard from 'clipboard'\r\nimport { ElNotification } from 'element-plus'\r\n\r\nexport function CopyText(text) {\r\n    const clipboard = new Clipboard('.copy-button', {\r\n        text: () => text\r\n    });\r\n    clipboard.on('success', () => {\r\n        ElNotification({\r\n            title: text,\r\n            message: \"已複製到剪貼簿\",\r\n            duration: 1500\r\n        })\r\n        clipboard.destroy();\r\n    });\r\n\r\n    clipboard.on('error', () => {\r\n        clipboard.destroy();\r\n    });\r\n}","import { render } from \"./EQStatus.vue?vue&type=template&id=86d91c6e\"\nimport script from \"./EQStatus.vue?vue&type=script&lang=js\"\nexport * from \"./EQStatus.vue?vue&type=script&lang=js\"\n\nimport \"./EQStatus.vue?vue&type=style&index=0&id=86d91c6e&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=5364bae0\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=5364bae0&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"sys-settings custom-tabs-head-large p-1 \">\r\n    <b-tabs>\r\n      <b-tab title=\"AGV 電量設定\" active>\r\n        <div class=\"setting-tab\">\r\n          <AGVBatterySetting></AGVBatterySetting>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"用戶管理\">\r\n        <div class=\"setting-tab\">\r\n          <UserManager ref=\"user_manager\"></UserManager>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"充電站設置\">\r\n        <div class=\"setting-tab\">\r\n          <ChargeStationView></ChargeStationView>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"設備管理\">\r\n        <div class=\"setting-tab\">\r\n          <EQManager></EQManager>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"HOT RUN\">\r\n        <div class=\"setting-tab\">\r\n          <HotRUniew></HotRUniew>\r\n        </div>\r\n      </b-tab>\r\n    </b-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport UserManager from '@/components/SystemSettings/UserManager.vue';\r\nimport EQManager from '@/components/SystemSettings/EquipmentManager.vue';\r\nimport AGVBatterySetting from '@/components/SystemSettings/AGVBatterySetting.vue';\r\nimport ChargeStationView from '@/views/ChargeStation/ChargeStationHomeView.vue'\r\nimport HotRUniew from '@/views/HotRun.vue'\r\n\r\nexport default {\r\n  components: {\r\n    UserManager, EQManager, AGVBatterySetting, ChargeStationView, HotRUniew\r\n  },\r\n  data() {\r\n    return {\r\n      activeTab: 0,\r\n      tabID: {\r\n        user_manager: 'user_manager'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    TabActiveHandle(tab) {\r\n      if (tab == 2) {\r\n        this.$refs['user_manager'].DownloadUsers();\r\n      }\r\n    },\r\n    updateTabContent() {\r\n      this.$nextTick(() => {\r\n        // 在下一個異步更新周期中處理選項卡內容的更新\r\n        // 這樣可以避免觸發無限循環和 ResizeObserver loop limit exceeded 錯誤\r\n        // 在此處執行相應的選項卡內容更新操作\r\n        // 例如，你可以根據實際需求來計算內容的高度或重新佈局等操作\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.updateTabContent(); // 初始化選項卡內容的更新\r\n    });\r\n\r\n  },\r\n  watch: {\r\n    activeTab(newValue) {\r\n      if (newValue !== null) {\r\n        this.updateTabContent(); // 切換選項卡時處理內容的更新\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.sys-settings {\r\n  position: absolute;\r\n  top: 55px;\r\n  width: 96vw;\r\n\r\n  .setting-tab {\r\n    padding: 12px;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"user-manager\">\r\n    <div class=\"d-flex flex-row\">\r\n      <OperatieButtonSet @save=\"SaveSetting\" @restore=\"HandleRestoreBtnClicked\"></OperatieButtonSet>\r\n      <span class=\"flex-fill\"></span>\r\n      <el-button\r\n        @click=\"() => {\r\n        NewUser = {\r\n          UserName: '',\r\n          Password: '',\r\n          Role: 1\r\n        },\r\n          AddNewUserDialogShow = true\r\n      }\"\r\n        style=\"font-weight: bold;font-size: 20px;\"\r\n        type=\"primary\"\r\n        size=\"large\"\r\n      >新增使用者</el-button>\r\n    </div>\r\n    <div class=\"border\">\r\n      <el-table :data=\"UserData\" empty-text=\"沒有使用者\" size=\"large\">\r\n        <el-table-column label=\"使用者名稱\" prop=\"UserName\" width=\"180\"></el-table-column>\r\n        <el-table-column label=\"使用者密碼\" prop=\"Password\" width=\"220\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-input type=\"Password\" v-model=\"scope.row.Password\" show-password></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"使用者群組\" prop=\"Role\" width=\"180\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-select v-model=\"scope.row.Role\">\r\n                <el-option\r\n                  v-for=\"role in RoleOptions\"\r\n                  :key=\"role.value\"\r\n                  :value=\"role.value\"\r\n                  :label=\"role.label\"\r\n                ></el-option>\r\n              </el-select>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" min-width=\"120\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-button @click=\"DeleteUser(scope.row)\" type=\"danger\">刪除</el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <el-dialog v-model=\"AddNewUserDialogShow\" width=\"500\" title=\"新增使用者\" draggable>\r\n      <div>\r\n        <el-form>\r\n          <el-form-item label=\"使用者名稱\">\r\n            <el-input v-model=\"NewUser.UserName\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"使用者密碼\">\r\n            <el-input v-model=\"NewUser.Password\" type=\"password\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"使用者群組\">\r\n            <el-select v-model=\"NewUser.Role\">\r\n              <el-option\r\n                v-for=\"role in RoleOptions\"\r\n                :key=\"role.value\"\r\n                :value=\"role.value\"\r\n                :label=\"role.label\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <b-button\r\n            :disabled=\"NewUser.UserName == '' || NewUser.Password == ''\"\r\n            @click=\"HandleAddNewUserClick\"\r\n            class=\"w-100\"\r\n            variant=\"primary\"\r\n          >新增</b-button>\r\n        </el-form>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport OperatieButtonSet from './OperatieButtonSet.vue'\r\nimport { Modify, GetUsers, Delete, Add } from '@/api/UserAPI'\r\nimport Notifier from '@/api/NotifyHelper'\r\nexport default {\r\n  components: {\r\n    OperatieButtonSet,\r\n  },\r\n  data() {\r\n    return {\r\n      AddNewUserDialogShow: false,\r\n      UserData: [\r\n        {\r\n          UserName: \"jinwei\",\r\n          Password: \"1020\",\r\n          Role: 2\r\n        },\r\n        {\r\n          UserName: \"eng\",\r\n          Password: \"tset-pw2\",\r\n          Role: 1\r\n        },\r\n        {\r\n          UserName: \"test\",\r\n          Password: \"tset-pw3\",\r\n          Role: 0\r\n        }\r\n      ],\r\n      NewUser: {\r\n        UserName: \"eng\",\r\n        Password: \"tset-pw2\",\r\n        Role: 1\r\n      },\r\n      OriginUserData: {},\r\n      RoleOptions: [\r\n        {\r\n          label: \"Operator\",\r\n          value: 0\r\n        },\r\n        {\r\n          label: \"工程師\",\r\n          value: 1\r\n        },\r\n        {\r\n          label: \"開發人員\",\r\n          value: 2\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  mounted() {\r\n    this.DownloadUsers();\r\n  },\r\n  methods: {\r\n    async DeleteUser(userDto) {\r\n      this.$swal.fire(\r\n        {\r\n          text: `確定要刪除使用者-${userDto.UserName} ?`,\r\n          title: '刪除使用者',\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(async (res) => {\r\n          if (!res.isConfirmed)\r\n            return;\r\n          await Delete(userDto.UserName);\r\n          this.DownloadUsers();\r\n          Notifier.Danger(`使用者-${userDto.UserName}已刪除`, 'top', 1000);\r\n\r\n        })\r\n    },\r\n    async DownloadUsers() {\r\n      this.UserData = await GetUsers();\r\n      this.SaveAsOriginUserData();\r\n    },\r\n    async SaveSetting() {\r\n      var response = await Modify(this.UserData);\r\n      if (response.Success) {\r\n        Notifier.Success(\"使用者資料修改成功\", 'bottom', 3000);\r\n      } else\r\n        Notifier.Danger(\"使用者資料修改失敗\", 'bottom', 3000);\r\n    },\r\n    async HandleRestoreBtnClicked() {\r\n      this.$swal.fire(\r\n        {\r\n          text: '',\r\n          title: '確定要載入預設值?',\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then((res) => {\r\n          if (!res.isConfirmed)\r\n            return\r\n          this.DownloadUsers();\r\n          Notifier.Success(\"使用者資料已重新載入\", 'top', 2000);\r\n        })\r\n    },\r\n    SaveAsOriginUserData() {\r\n      this.OriginUserData = JSON.parse(JSON.stringify(this.UserData));\r\n    },\r\n    async HandleAddNewUserClick() {\r\n      var result = await Add(this.NewUser);\r\n      this.AddNewUserDialogShow = false;\r\n      if (!result.Success) {\r\n        this.$swal.fire(\r\n          {\r\n            text: `${result.Message}`,\r\n            title: `使用者新增失敗`,\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          }).then(() => {\r\n            this.AddNewUserDialogShow = true;\r\n          })\r\n      } else {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: `使用者 ${this.NewUser.UserName}-新增成功`,\r\n            icon: 'success',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n      }\r\n      this.DownloadUsers();\r\n\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.user-manager {\r\n}\r\n</style>","<template>\r\n  <div class=\"save-default-buttons-group border-bottom bg-default text-start\">\r\n    <el-button @click=\"HandleSaveBtnClick\" type=\"primary\" size=\"large\">儲存</el-button>\r\n    <el-button @click=\"HandleRestoreBtnClick\" type=\"danger\" size=\"large\">預設值</el-button>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  methods: {\r\n    HandleRestoreBtnClick() {\r\n      this.$emit('restore', \"\");\r\n    },\r\n    HandleSaveBtnClick() {\r\n      this.$emit('save', \"\");\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.save-default-buttons-group {\r\n  margin-bottom: 5px;\r\n  padding-bottom: 5px;\r\n  width: 100%;\r\n\r\n  button {\r\n    width: 100px;\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./OperatieButtonSet.vue?vue&type=template&id=6bebdf16&scoped=true\"\nimport script from \"./OperatieButtonSet.vue?vue&type=script&lang=js\"\nexport * from \"./OperatieButtonSet.vue?vue&type=script&lang=js\"\n\nimport \"./OperatieButtonSet.vue?vue&type=style&index=0&id=6bebdf16&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6bebdf16\"]])\n\nexport default __exports__","import { render } from \"./UserManager.vue?vue&type=template&id=05ef01b7\"\nimport script from \"./UserManager.vue?vue&type=script&lang=js\"\nexport * from \"./UserManager.vue?vue&type=script&lang=js\"\n\nimport \"./UserManager.vue?vue&type=style&index=0&id=05ef01b7&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"equipment-manager border-start border-end\">\r\n    <p class=\"text-start px-1\">\r\n      <b-button variant=\"primary\" squared @click=\"SaveSettingHandler\">儲存設定</b-button>\r\n      <b-button variant=\"info\" squared class=\"mx-2\" @click=\"AddNewEqHandler\">新增設備</b-button>\r\n      <b-button squared @click=\"ReloadSettingsHandler\">重新載入</b-button>\r\n    </p>\r\n    <el-table\r\n      :header-cell-style=\"{ color: 'white', backgroundColor: 'rgb(13, 110, 253)', fontSize: '16px' }\"\r\n      :data=\"EqDatas\"\r\n      size=\"small\"\r\n      border\r\n      height=\"680\"\r\n      style=\"width:1800px\">\r\n      <el-table-column label=\"Index\" prop=\"index\" width=\"80\" align=\"center\" fixed=\"left\" />\r\n      <el-table-column label=\"設備名稱\" prop=\"Name\" width=\"250\" fixed=\"left\">\r\n        <template #default=\"scope\">\r\n          <div class=\"d-flex\">\r\n            <b-form-input\r\n              :state=\"ValidName(scope.row)\"\r\n              v-model=\"scope.row.Name\"\r\n              placeholder=\"設備名稱\"\r\n              style=\"width:120px\"\r\n              :no-wheel=\"true\"\r\n              size=\"sm\"\r\n              :min=\"1\"\r\n              @input=\"HandleEqNameChange(scope.row, scope.row.Name)\"></b-form-input>\r\n            <b-button\r\n              class=\"mx-1\"\r\n              size=\"sm\"\r\n              variant=\"primary\"\r\n              @click=\"HandleUseMapDataDisplayName(scope.row.TagID)\">使用圖資設定</b-button>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"Tag ID\" prop=\"TagID\" width=\"100\" align=\"center\" fixed=\"left\">\r\n        <template #default=\"scope\">\r\n          <b-form-input\r\n            type=\"number\"\r\n            :state=\"ValidTag(scope.row)\"\r\n            v-model.number=\"scope.row.TagID\"\r\n            placeholder=\"tag id\"\r\n            :no-wheel=\"true\"\r\n            size=\"sm\"\r\n            :min=\"1\"></b-form-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"區域\" prop=\"Region\" width=\"130\">\r\n        <template #default=\"scope\">\r\n          <RegionsSelector v-model=\"scope.row.Region\"></RegionsSelector>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"下游設備\" width=\"550\">\r\n        <template #default=\"scope\">\r\n          <el-select\r\n            v-model=\"scope.row.ValidDownStreamEndPointNames\"\r\n            multiple\r\n            placeholder=\"Select\"\r\n            style=\"width: 500px\">\r\n            <el-option\r\n              v-for=\"eq_name in GetAvaluableEqNameList(scope.row.Name)\"\r\n              :key=\"eq_name\"\r\n              :label=\"eq_name\"\r\n              :value=\"eq_name\" />\r\n          </el-select>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"連線方式\" prop=\"ConnOptions.ConnMethod\" width=\"140\">\r\n        <template #default=\"scope\">\r\n          <el-select v-model=\"scope.row.ConnOptions.ConnMethod\" :size=\"cell_item_size\">\r\n            <el-option label=\"Modbus TCP\" :value=\"0\"></el-option>\r\n            <el-option label=\"Modbus RTU\" :value=\"1\"></el-option>\r\n            <el-option label=\"TCP/IP\" :value=\"2\"></el-option>\r\n            <el-option label=\"Serial Port\" :value=\"3\"></el-option>\r\n          </el-select>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"連線參數\" width=\"120\">\r\n        <el-table-column label=\"IP\" prop=\"ConnOptions.IP\" width=\"150\">\r\n          <template #default=\"scope\">\r\n            <el-input\r\n              :disabled=\"scope.row.ConnOptions.ConnMethod == 1\"\r\n              v-model=\"scope.row.ConnOptions.IP\"\r\n              :size=\"cell_item_size\"></el-input>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"Port\" prop=\"ConnOptions.Port\" width=\"120\">\r\n          <template #default=\"scope\">\r\n            <el-input\r\n              :disabled=\"scope.row.ConnOptions.ConnMethod == 1\"\r\n              v-model.number=\"scope.row.ConnOptions.Port\"\r\n              :size=\"cell_item_size\"></el-input>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"ComPort\" prop=\"ConnOptions.ComPort\" width=\"120\">\r\n          <template #default=\"scope\">\r\n            <el-input\r\n              :disabled=\"scope.row.ConnOptions.ConnMethod == 0\"\r\n              v-model=\"scope.row.ConnOptions.ComPort\"\r\n              :size=\"cell_item_size\"></el-input>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" min-width=\"270\" fixed=\"right\">\r\n        <template #default=\"scope\">\r\n          <div>\r\n            <el-button :size=\"cell_item_size\" type=\"danger\" @click=\"RemoveHandle(scope.row)\">移除</el-button>\r\n            <el-button\r\n              :size=\"cell_item_size\"\r\n              type=\"default\"\r\n              @click=\"ConnectTestHandle(scope.row)\">通訊測試</el-button>\r\n            <el-button\r\n              :size=\"cell_item_size\"\r\n              type=\"primary\"\r\n              @click=\"IOCheckBtnHandle(scope.row)\">IO點檢</el-button>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-drawer v-model=\"io_check_drawer\" direction=\"btt\">\r\n      <div class=\"hs-signals d-flex\">\r\n        <div class=\"mx-3\">交握訊號-EQ</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleHSsignaleChange(selected_eq_io_data.EQName, 'L_REQ', !scope.row.HS_EQ_L_REQ)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_EQ_L_REQ)\">L_REQ</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleHSsignaleChange(selected_eq_io_data.EQName, 'U_REQ', !scope.row.HS_EQ_U_REQ)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_EQ_U_REQ)\">U_REQ</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleHSsignaleChange(selected_eq_io_data.EQName, 'READY', !scope.row.HS_EQ_READY)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_EQ_READY)\">READY</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleHSsignaleChange(selected_eq_io_data.EQName, 'UP_READY', !scope.row.HS_EQ_UP_READY)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_EQ_UP_READY)\">UP_READY</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleHSsignaleChange(selected_eq_io_data.EQName, 'LOW_READY', !scope.row.HS_EQ_LOW_READY)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_EQ_LOW_READY)\">LOW_READY</div>\r\n        <div\r\n          v-if=\"false\"\r\n          class=\"di-status\"\r\n          @click=\"HandleHSsignaleChange(selected_eq_io_data.EQName, 'BUSY', !scope.row.HS_EQ_BUSY)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_EQ_BUSY)\">BUSY</div>\r\n      </div>\r\n      <div class=\"hs-signals d-flex\">\r\n        <div class=\"mx-3\">交握訊號-AGV</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'To_EQ_Up', !scope.row.To_EQ_Up)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.To_EQ_Up)\">To_EQ_Up</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'To_EQ_Low', !scope.row.To_EQ_Low)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.To_EQ_Low)\">To_EQ_Low</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'VALID', !scope.row.HS_AGV_VALID)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_AGV_VALID)\">VALID</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'TR_REQ', !scope.row.HS_AGV_TR_REQ)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_AGV_TR_REQ)\">TR_REQ</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'BUSY', !scope.row.HS_AGV_BUSY)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_AGV_BUSY)\">BUSY</div>\r\n        <div\r\n          v-if=\"false\"\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'READY', !scope.row.HS_AGV_READY)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_AGV_READY)\">READY</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'COMPT', !scope.row.HS_AGV_COMPT)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_AGV_COMPT)\">COMPT</div>\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GetEQOptions, SaveEQOptions, ConnectTest } from '@/api/EquipmentAPI.js';\r\nimport RegionsSelector from '@/components/RegionsSelector.vue'\r\nimport { MapStore } from '../Map/store';\r\nimport { EqStore } from '@/store'\r\nimport { ElNotification } from 'element-plus';\r\nimport { duration } from 'moment';\r\nexport default {\r\n  components: {\r\n    RegionsSelector,\r\n  },\r\n  data() {\r\n    return {\r\n      cell_item_size: '',\r\n      io_check_drawer: false,\r\n      EqDatas: [\r\n        // {\r\n        //   Name: \"123\",\r\n        //   TagID: 1,\r\n        //   ValidDownStreamEndPointNames: [],\r\n        //   ConnOptions: {\r\n        //     ConnMethod: 0,\r\n        //     IP: \"10.0.0.1\",\r\n        //     Port: 502,\r\n        //     ComPort: \"COM1\"\r\n        //   }\r\n        // }\r\n      ],\r\n      EqDatas_Orignal: [],\r\n      ValidTag: (row_) => {\r\n        var tag = row_.TagID;\r\n        var others_row = this.EqDatas.filter(d => d.Name != row_.Name)\r\n        var same_tag_rows = others_row.filter(row => row.TagID == tag)\r\n        return same_tag_rows.length == 0 && tag >= 1;\r\n      },\r\n      ValidName: (row_) => {\r\n        var name = row_.Name;\r\n        var same_name_row = this.EqDatas.filter(d => d.Name == row_.Name)\r\n        return same_name_row.length == 1 && name != '';\r\n      },\r\n      selected_eq: {}\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    GetAvaluableEqNameList(expect_name) {\r\n      return this.EqNames.filter(name => name != expect_name);\r\n    },\r\n    async SaveSettingHandler() {\r\n      var ret = await SaveEQOptions(this.EqDatas);\r\n      if (ret.confirm) {\r\n        this.$swal.fire({\r\n          title: '儲存成功',\r\n          icon: 'success',\r\n          timer: 2000\r\n        })\r\n      }\r\n      else {\r\n        this.$swal.fire({\r\n          title: '參數設定有誤',\r\n          text: ret.message,\r\n          icon: 'error',\r\n        })\r\n\r\n      }\r\n    },\r\n    async DownloadEQOptions() {\r\n      this.EqDatas = [];\r\n\r\n      var datas = await GetEQOptions()\r\n      for (let index = 0; index < datas.length; index++) {\r\n        const element = datas[index];\r\n        element.index = index;\r\n        this.EqDatas.push(element)\r\n      }\r\n      this.CloneEQDatas();\r\n    },\r\n    CloneEQDatas() {\r\n      this.EqDatas_Orignal = JSON.parse(JSON.stringify(this.EqDatas));\r\n    },\r\n    ReloadSettingsHandler() {\r\n      this.DownloadEQOptions();\r\n    },\r\n    AddNewEqHandler() {\r\n      this.EqDatas.push(\r\n        {\r\n          index: this.EqDatas.length,\r\n          Name: `New_EQ_${this.EqDatas.length}`,\r\n          TagID: 1,\r\n          ConnOptions: {\r\n            ConnMethod: 0,\r\n            IP: \"127.0.0.1\",\r\n            Port: 502,\r\n            ComPort: \"COM1\"\r\n          }\r\n        })\r\n    },\r\n    RemoveHandle(row) {\r\n      var remains = this.EqDatas.filter(eq => eq.Name != row.Name)\r\n      this.EqDatas = remains;\r\n    },\r\n    async IOCheckBtnHandle(row) {\r\n      this.selected_eq = row;\r\n      this.io_check_drawer = true;\r\n    },\r\n    async ConnectTestHandle(row) {\r\n      var ret = await ConnectTest(row.ConnOptions)\r\n      var display_text = ''\r\n      if (row.ConnOptions.ConnMethod == 0) {\r\n        display_text = `Modbus TCP - ${row.ConnOptions.IP}:${row.ConnOptions.Port}`\r\n      } else {\r\n        display_text = `Modbus RTU - ${row.ConnOptions.ComPort}`\r\n      }\r\n\r\n      if (ret.Connected) {\r\n        this.$swal.fire({\r\n          title: 'OK',\r\n          text: display_text,\r\n          icon: 'success'\r\n\r\n        })\r\n      } else {\r\n        this.$swal.fire({\r\n          title: 'Fail',\r\n          text: display_text,\r\n          icon: 'error'\r\n\r\n        })\r\n      }\r\n    },\r\n    beforeRouteLeave(to, from, next) {\r\n      alert('leave!')\r\n    },\r\n    async HandleUseMapDataDisplayName(tag) {\r\n      var mapPoint = await MapStore.dispatch('GetMapPointByTag', tag)\r\n      if (mapPoint) {\r\n        var row = this.EqDatas.find(eq => eq.TagID == tag);\r\n        var _name = mapPoint.Graph.Display;\r\n        row.Name = _name;\r\n        this.HandleEqNameChange(row, mapPoint.Name);\r\n        ElNotification({\r\n          message: `Get Display Name From Map Success(Tag ${tag} = ${_name})`,\r\n          duration: 1000,\r\n          type: 'success',\r\n          title: '設備同步名稱'\r\n        })\r\n      } else {\r\n        ElNotification({\r\n          message: `Get Display Name From Map Fail`,\r\n          duration: 1000,\r\n          type: 'error',\r\n          title: '設備同步名稱失敗'\r\n        })\r\n      }\r\n\r\n    },\r\n    HandleEqNameChange(row, newName) {\r\n      var tagid = row.TagID;\r\n      var oriOptions = this.EqDatas_Orignal.find(d => d.TagID == tagid);\r\n      var oriName = oriOptions.Name;\r\n      var useOriNameOptionsList = this.EqDatas.filter(eq => eq.ValidDownStreamEndPointNames.includes(oriName));\r\n      useOriNameOptionsList.forEach(option => {\r\n        var _index = option.ValidDownStreamEndPointNames.indexOf(oriName);\r\n        option.ValidDownStreamEndPointNames[_index] = newName;\r\n      });\r\n      this.CloneEQDatas();\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n    this.DownloadEQOptions();\r\n  },\r\n  computed: {\r\n    EqNames() {\r\n      return this.EqDatas.map(ep => ep.Name);\r\n    },\r\n    eq_data() {\r\n      return EqStore.getters.EQData\r\n    },\r\n    selected_eq_io_data() {\r\n      return this.eq_data.find(eq => eq.EQName == this.selected_eq.EQName)\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.equipment-manager {}\r\n</style>","import { render } from \"./EquipmentManager.vue?vue&type=template&id=33b8bc6d&scoped=true\"\nimport script from \"./EquipmentManager.vue?vue&type=script&lang=js\"\nexport * from \"./EquipmentManager.vue?vue&type=script&lang=js\"\n\nimport \"./EquipmentManager.vue?vue&type=style&index=0&id=33b8bc6d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-33b8bc6d\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"agv-battery-setting\">\r\n    <el-table\r\n      :header-cell-style=\"{color:'white',backgroundColor:'rgb(13, 110, 253)',fontSize:'16px'}\"\r\n      size=\"small\"\r\n      border\r\n      height=\"680\"\r\n    >\r\n      <el-table-column label=\"車輛名稱\"></el-table-column>\r\n      <el-table-column label=\"低電量提醒\"></el-table-column>\r\n      <el-table-column label=\"閒置-強制充電\"></el-table-column>\r\n      <el-table-column label=\"AGV 名稱\"></el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./AGVBatterySetting.vue?vue&type=template&id=1d3ed7c6\"\nimport script from \"./AGVBatterySetting.vue?vue&type=script&lang=js\"\nexport * from \"./AGVBatterySetting.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"charge-station-setup\" style=\"height:100%\">\r\n    <el-tabs tab-position=\"top\">\r\n      <el-tab-pane v-for=\"(data,name) in charge_station_data\" :key=\"name\" :label=\"name\">\r\n        <div class=\"charger-states border rounded text-start\">\r\n          <h3 class=\"px-2\">{{ name }}</h3>\r\n          <div class=\"d-flex w-100\">\r\n            <div class=\"state p-3\">\r\n              <h5 class=\"title\">狀態</h5>\r\n              <el-form label-width=\"120\" label-position=\"left\">\r\n                <el-form-item label=\"連線狀態\">\r\n                  <el-tag\r\n                    effect=\"dark\"\r\n                    :type=\"data.Connected?'primary':'danger'\"\r\n                  >{{ data.Connected?'Connected':'Disconnect' }}</el-tag>\r\n                </el-form-item>\r\n                <el-form-item label=\"狀態\">\r\n                  <el-tag\r\n                    effect=\"dark\"\r\n                    :type=\"GetTagType(data)\"\r\n                  >{{!data.Connected?'Disconnect': data.ErrorCodes.length==0?'Normal':'Warning' }}</el-tag>\r\n                </el-form-item>\r\n                <el-form-item label=\"異常碼\">\r\n                  <div class=\"row\" style=\"width:390px;padding-left:12px\">\r\n                    <el-tag\r\n                      effect=\"dark\"\r\n                      class=\"col-sm-3\"\r\n                      v-for=\"error_code in data.ErrorCodes\"\r\n                      :key=\"error_code\"\r\n                      type=\"danger\"\r\n                    >{{ error_code}}</el-tag>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"輸入電壓\">\r\n                  <el-tag>{{ data.Vin }} V</el-tag>\r\n                </el-form-item>\r\n                <el-form-item label=\"輸出電壓\">\r\n                  <el-tag>{{ data.Vout }} V</el-tag>\r\n                </el-form-item>\r\n                <el-form-item label=\"輸出電流\">\r\n                  <el-tag>{{ data.Iout }} A</el-tag>\r\n                </el-form-item>\r\n              </el-form>\r\n            </div>\r\n            <div class=\"state mx-2 p-3\">\r\n              <h5 class=\"title\">充電曲線參數</h5>\r\n              <el-form label-width=\"70\" label-position=\"left\">\r\n                <el-form-item label=\"CC\">\r\n                  <div class=\"d-flex\">\r\n                    <el-input :precision=\"2\" disabled v-model=\"data.CC\"></el-input>\r\n                    <el-button\r\n                      :disabled=\"!IsLogin\"\r\n                      @click=\"HandleSettingBtnClick(name,'cc',data.CC)\"\r\n                    >設定</el-button>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"CV\">\r\n                  <div class=\"d-flex\">\r\n                    <el-input :precision=\"2\" disabled v-model=\"data.CV\"></el-input>\r\n                    <el-button\r\n                      :disabled=\"!IsLogin\"\r\n                      @click=\"HandleSettingBtnClick(name,'cv',data.CV)\"\r\n                    >設定</el-button>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"FV\">\r\n                  <div class=\"d-flex\">\r\n                    <el-input :precision=\"2\" disabled v-model=\"data.FV\"></el-input>\r\n                    <el-button\r\n                      :disabled=\"!IsLogin\"\r\n                      @click=\"HandleSettingBtnClick(name,'fv',data.FV)\"\r\n                    >設定</el-button>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"TC\">\r\n                  <div class=\"d-flex\">\r\n                    <el-input :precision=\"2\" disabled v-model=\"data.TC\"></el-input>\r\n                    <el-button\r\n                      :disabled=\"!IsLogin\"\r\n                      @click=\"HandleSettingBtnClick(name,'tc',data.TC)\"\r\n                    >設定</el-button>\r\n                  </div>\r\n                </el-form-item>\r\n              </el-form>\r\n              <h6>充電曲線參考圖示</h6>\r\n              <img class=\"border rounded p-3\" src=\"images/charger_curve.png\" alt />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"text-start\" style=\"font-size: 14px;\">\r\n          <span>更新時間</span>\r\n          {{ FormatTime(data.UpdateTime) }}\r\n        </div>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n    <el-dialog\r\n      draggable\r\n      :title=\"`${DialogData.EqName}-${DialogData.Item.toUpperCase()} 設定`\"\r\n      width=\"300px\"\r\n      v-model=\"SettingDialogVisible\"\r\n    >\r\n      <el-form class=\"border-top py-2\" label-width=\"60px\">\r\n        <el-form-item :label=\"DialogData.Item.toUpperCase()\">\r\n          <el-input-number :step=\"0.1\" :precision=\"2\" v-model=\"DialogData.Value\"></el-input-number>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"d-flex justify-content-end w-100 border-top py-2\">\r\n        <el-button type=\"primary\" @click=\"HandleConfirmClick\">確定</el-button>\r\n        <el-button type=\"danger\" @click=\"SettingDialogVisible=false\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { EqStore, userStore, UIStore } from '@/store'\r\nimport param from '@/gpm_param.js'\r\nimport { ChargerAPI } from '@/api/EquipmentAPI.js'\r\nimport moment from 'moment'\r\nexport default {\r\n  computed: {\r\n    charge_station_data() {\r\n      return EqStore.getters.ChargeStationData\r\n    },\r\n    IsLogin() {\r\n      return userStore.getters.IsLogin\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      select: 1,\r\n      SettingDialogVisible: false,\r\n      DialogData: {\r\n        EqName: '',\r\n        Item: 'CC',\r\n        Value: 33\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    GetTagType(data) {\r\n      if (!data.Connected) {\r\n        return 'danger'\r\n      }\r\n      if (data.ErrorCodes.length == 0)\r\n        return 'success'\r\n      else {\r\n        return 'warning'\r\n      }\r\n    },\r\n    FormatTime(time) {\r\n      return moment(time).format('yyyy/MM/DD HH:mm:ss');\r\n    },\r\n    HandleSettingBtnClick(charge_station_name, setting_item, value) {\r\n      this.DialogData.EqName = charge_station_name\r\n      this.DialogData.Item = setting_item\r\n      this.DialogData.Value = value\r\n      this.SettingDialogVisible = true;\r\n    },\r\n    HandleConfirmClick() {\r\n      this.SettingDialogVisible = false;\r\n\r\n      this.$swal.fire(\r\n        {\r\n          text: '',\r\n          title: `確定要將${this.DialogData.EqName} ${this.DialogData.Item.toUpperCase()} 更改為 ${this.DialogData.Value} ?`,\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(async (res) => {\r\n          if (res.isConfirmed) {\r\n            var response = await ChargerAPI.SetCurveSetting(this.DialogData.EqName, this.DialogData.Item, this.DialogData.Value)\r\n            var swalIcon = response.confirm ? 'success' : 'error'\r\n            this.$swal.fire(\r\n              {\r\n                text: response.confirm ? '' : response.message,\r\n                title: response.confirm ? '修改成功' : '修改失敗',\r\n                icon: swalIcon,\r\n                showCancelButton: false,\r\n                confirmButtonText: 'OK',\r\n                customClass: 'my-sweetalert',\r\n                timer: response.confirm ? 3000 : -1\r\n              }).then((res) => {\r\n                if (!response.confirm)\r\n                  this.SettingDialogVisible = true;\r\n\r\n              })\r\n\r\n          } else {\r\n            this.SettingDialogVisible = true;\r\n          }\r\n        })\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.el-tabs__content {\r\n  padding: 3px;\r\n  color: #6b778c;\r\n  font-size: 32px;\r\n  font-weight: 600;\r\n}\r\n\r\n.charger-states {\r\n  .state {\r\n    width: 30%;\r\n  }\r\n  .title {\r\n    font-weight: bold;\r\n    width: 100%;\r\n    border-bottom: 1px solid grey;\r\n  }\r\n  .el-form-item__label {\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    letter-spacing: 4px;\r\n  }\r\n  .el-tag {\r\n    width: 120px;\r\n    height: 35px;\r\n    margin: 3px;\r\n  }\r\n  .el-tag,\r\n  input {\r\n    font-size: 18px;\r\n  }\r\n  input {\r\n    width: 100px;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>","import { render } from \"./ChargeStationHomeView.vue?vue&type=template&id=9c135ff6\"\nimport script from \"./ChargeStationHomeView.vue?vue&type=script&lang=js\"\nexport * from \"./ChargeStationHomeView.vue?vue&type=script&lang=js\"\n\nimport \"./ChargeStationHomeView.vue?vue&type=style&index=0&id=9c135ff6&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <div class=\"border p-2 text-start\">\r\n      <div class=\"w-100 border-bottom my-1\">\r\n        <el-button\r\n          class=\"my-1\"\r\n          type=\"danger\"\r\n          @click=\"() => {\r\n            hotRunScripts.push({\r\n              no: hotRunScripts.length + 1,\r\n              agv_name: undefined,\r\n              loop_num: 10,\r\n              finish_num: 0,\r\n              action_num: 9,\r\n              state: 'IDLE',\r\n              actions: []\r\n            })\r\n          }\">新增動作</el-button>\r\n        <el-button @click=\"HandleSaveBtnClick\" type=\"primary\">儲存設定</el-button>\r\n      </div>\r\n      <el-table row-key=\"no\" :data=\"hotRunScripts\" :default-expand-all=\"false\" border>\r\n        <el-table-column label=\"NO.\" prop=\"no\" width=\"60\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"執行AGV\" prop=\"agv_name\" width=\"150\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-select v-model=\"scope.row.agv_name\">\r\n                <el-option\r\n                  v-for=\"agv_name in AgvNameList\"\r\n                  :key=\"agv_name\"\r\n                  :label=\"agv_name\"\r\n                  :value=\"agv_name\"></el-option>\r\n              </el-select>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"狀態\" prop=\"state\" width=\"120\" align=\"center\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-tag\r\n                effect=\"dark\"\r\n                :type=\"scope.row.state == 'Running' ? 'success' : 'warning'\">{{ scope.row.state }}</el-tag>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"已完成次數\" prop=\"finish_num\" width=\"100\" align=\"center\">\r\n          <template #default=\"scope\">\r\n            <div>{{ scope.row.finish_num }}/{{ scope.row.loop_num }}</div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"Loop次數\" prop=\"finish_num\" width=\"120\" align=\"center\">\r\n          <template #default=\"scope\">\r\n            <el-input-number\r\n              size=\"small\"\r\n              style=\"width:80px\"\r\n              :step=\"1\"\r\n              :precision=\"0\"\r\n              v-model=\"scope.row.loop_num\"></el-input-number>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"動作數\" width=\"140\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <span class=\"mx-2\">{{ scope.row.actions.length }}</span>\r\n              <el-button\r\n                size=\"small\"\r\n                @click=\"() => {\r\n                  action_drawer_visible = true;\r\n                  selected_script_name = scope.row.agv_name;\r\n                  selected_script_actions = scope.row.actions;\r\n                }\">動作設定</el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"Comment\" width=\"240\">\r\n          <template #default=\"scope\">\r\n            <el-input v-model=\"scope.row.comment\"></el-input>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column>\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-button\r\n                :type=\"scope.row.state == 'Running' ? 'danger' : 'success'\"\r\n                size=\"small\"\r\n                @click=\"HandleStartBtnClick(scope.row)\">{{ scope.row.state == 'Running' ? '中止' : '執行' }}</el-button>\r\n              <el-button size=\"small\" @click=\"HandleDeleteScript(scope.row)\" type=\"danger\">刪除</el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-drawer v-model=\"action_drawer_visible\" direction=\"rtl\" size=\"60%\">\r\n        <template #header=\"{ titleId, titleClass }\">\r\n          <h4\r\n            class=\"text-danger px-5 text-center\"\r\n            :id=\"titleId\"\r\n            :class=\"titleClass\">HOT RUN Actions Setting : {{ selected_script_name }}</h4>\r\n        </template>\r\n        <div class=\"px-2 text-start\">\r\n          <el-button\r\n            class=\"mx-2\"\r\n            type=\"danger\"\r\n            @click=\"() => {\r\n              selected_script_actions.push({\r\n                no: selected_script_actions.length + 1,\r\n                action: 'move',\r\n                source_tag: undefined,\r\n                destine_tag: undefined\r\n              })\r\n            }\">新增動作</el-button>\r\n          <el-button class=\"mx-2\" @click=\"HandleSaveBtnClickInDrawer\" type=\"primary\">儲存設定</el-button>\r\n          <el-table\r\n            row-key=\"no\"\r\n            style=\"width:1024px\"\r\n            border\r\n            class=\"m-2\"\r\n            :data=\"selected_script_actions\">\r\n            <el-table-column width=\"50\">\r\n              <template #default=\"scope\">\r\n                <div class=\"text-start w-100\">\r\n                  <el-button class=\"w-100\" size=\"small\" @click=\"action_move_up(scope.row)\">▲</el-button>\r\n                  <el-button class=\"w-100\" size=\"small\" @click=\"action_move_down(scope.row)\">▼</el-button>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"NO.\" prop=\"no\" width=\"60\" align=\"center\"></el-table-column>\r\n            <el-table-column label=\"動作\" prop=\"action\" width=\"120\">\r\n              <template #default=\"scope\">\r\n                <el-select class=\"w-100\" v-model=\"scope.row.action\" placeholder=\"請選擇Action\">\r\n                  <el-option label=\"移動\" value=\"move\"></el-option>\r\n                  <el-option label=\"停車\" value=\"park\"></el-option>\r\n                  <el-option label=\"搬運\" value=\"carry\"></el-option>\r\n                  <el-option label=\"放貨\" value=\"load\"></el-option>\r\n                  <el-option label=\"取貨\" value=\"unload\"></el-option>\r\n                  <el-option label=\"充電\" value=\"charge\"></el-option>\r\n                  <el-option label=\"巡檢量測\" value=\"measure\"></el-option>\r\n                </el-select>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"起點\" prop=\"source_tag\" width=\"250\">\r\n              <template #default=\"scope\">\r\n                <el-select\r\n                  :disabled=\"scope.row.action != 'carry'\"\r\n                  class=\"w-100\"\r\n                  v-model=\"scope.row.source_tag\"\r\n                  placeholder=\"請選擇起點\">\r\n                  <el-option\r\n                    v-for=\"option in GetOption(scope.row.action)\"\r\n                    :key=\"option\"\r\n                    :label=\"option.name\"\r\n                    :value=\"option.tag\"></el-option>\r\n                </el-select>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"卡匣ID\" width=\"150\">\r\n              <template #default=\"scope\">\r\n                <el-input :disabled=\"scope.row.action != 'carry' && scope.row.action != 'unload'\" v-model=\"scope.row.cst_id\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"終點\" prop=\"destine_tag\" width=\"250\">\r\n              <template #default=\"scope\">\r\n                <el-select v-if=\"scope.row.action != 'measure'\" class=\"w-100\" v-model=\"scope.row.destine_tag\" placeholder=\"請選擇終點\">\r\n                  <el-option\r\n                    v-for=\"option in GetOption(scope.row.action)\"\r\n                    :key=\"option\"\r\n                    :label=\"option.name\"\r\n                    :value=\"option.tag\"></el-option>\r\n                </el-select>\r\n                <el-select v-else class=\"w-100\" v-model=\"scope.row.destine_name\" placeholder=\"請選擇終點\">\r\n                  <el-option\r\n                    v-for=\"option in GetOption(scope.row.action)\"\r\n                    :key=\"option\"\r\n                    :label=\"option.name\"\r\n                    :value=\"option.tag\"></el-option>\r\n                </el-select>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column>\r\n              <template #default=\"scope\">\r\n                <el-button\r\n                  @click=\"HandleDeleteHotRunAction(scope.row)\"\r\n                  size=\"small\"\r\n                  type=\"danger\">Delete</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </el-drawer>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { watch } from 'vue'\r\nimport { userStore, agv_states_store } from '@/store';\r\nimport { MapStore } from '@/components/Map/store'\r\nimport { SaveHotRunSettings, GetHotRunSettings, StartHotRun, StopHotRun } from '@/api/TaskAllocation'\r\nexport default {\r\n  data() {\r\n    return {\r\n      hotRunScripts: [\r\n        {\r\n          no: 1,\r\n          agv_name: 'AGV_001',\r\n          loop_num: 10,\r\n          finish_num: 0,\r\n          state: 'IDLE',\r\n          actions: [\r\n            {\r\n              no: 1,\r\n              action: 'move',\r\n              source_tag: 0,\r\n              destine_tag: 2,\r\n              cst_id: \"\",\r\n            },\r\n            {\r\n              no: 2,\r\n              action: 'move',\r\n              source_tag: 0,\r\n              destine_tag: 2,\r\n              cst_id: \"\",\r\n            }\r\n          ]\r\n        },\r\n\r\n      ],\r\n      action_drawer_visible: false,\r\n      selected_script_name: '123',\r\n      selected_script_actions: []\r\n    }\r\n\r\n  },\r\n  methods: {\r\n    GetOption(action) {\r\n      if (action == 'move')\r\n        return this.moveable_tags\r\n      if (action == 'park')\r\n        return this.parkable_tags\r\n      if (action == 'load' | action == 'unload' | action == 'carry')\r\n        return this.stock_tags\r\n      if (action == 'charge')\r\n        return this.chargable_tags\r\n      if (action == 'measure')\r\n        return this.bay_tags\r\n    },\r\n    action_move_up(action_data) {\r\n      var index = this.selected_script_actions.indexOf(action_data)\r\n      //alert(index)\r\n      if (index == 0)\r\n        return;\r\n      this.selected_script_actions = this.move_element_up(this.selected_script_actions, index)\r\n      //0->1\r\n      //   [0,1,2]\r\n\r\n    },\r\n    action_move_down(action_data) {\r\n      var index = this.selected_script_actions.indexOf(action_data)\r\n      //alert(index)\r\n      if (index == this.selected_script_actions.length - 1)\r\n        return;\r\n      this.selected_script_actions = this.move_element_down(this.selected_script_actions, index)\r\n\r\n    },\r\n    move_element_up(arr, n) {\r\n      if (n > 0 && n < arr.length) {\r\n        const temp = arr[n]\r\n        arr.splice(n, 1)\r\n        arr.splice(n - 1, 0, temp);\r\n\r\n        for (let index = 0; index < arr.length; index++) {\r\n          arr[index].no = index + 1\r\n        }\r\n\r\n        return arr;\r\n      }\r\n    },\r\n    move_element_down(arr, n) {\r\n      if (n >= 0 && n < arr.length - 1) {\r\n        const temp = arr[n]\r\n        arr.splice(n, 1)\r\n        arr.splice(n + 1, 0, temp);\r\n\r\n        for (let index = 0; index < arr.length; index++) {\r\n          arr[index].no = index + 1\r\n        }\r\n        return arr;\r\n      }\r\n    },\r\n    async HandleStartBtnClick(script) {\r\n      if (script.state == 'IDLE') {\r\n\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '執行Hot Run ?',\r\n            icon: 'question',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          }).then(async (res) => {\r\n            if (res.isConfirmed) {\r\n              var response = await StartHotRun(script.no)\r\n              if (!response.confirm) {\r\n                this.$swal.fire(\r\n                  {\r\n                    text: response.message,\r\n                    title: '無法執行HOT RUN',\r\n                    icon: 'error',\r\n                    showCancelButton: false,\r\n                    confirmButtonText: 'OK',\r\n                    customClass: 'my-sweetalert'\r\n                  })\r\n              } else {\r\n                this.$swal.fire(\r\n                  {\r\n                    text: '',\r\n                    title: 'HOT RUN Start!',\r\n                    icon: 'success',\r\n                    showCancelButton: false,\r\n                    confirmButtonText: 'OK',\r\n                    customClass: 'my-sweetalert'\r\n                  })\r\n              }\r\n\r\n            }\r\n          })\r\n      } else {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '確定要終止?',\r\n            icon: 'question',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          }).then(res => {\r\n            if (res.isConfirmed) {\r\n              StopHotRun(script.no)\r\n            }\r\n          })\r\n      }\r\n    },\r\n    async HandleSaveBtnClick() {\r\n      var response = await SaveHotRunSettings(this.hotRunScripts)\r\n\r\n      this.$swal.fire(\r\n        {\r\n          text: response.result ? '' : response.message,\r\n          title: response.result ? '儲存成功' : '儲存失敗',\r\n          icon: response.result ? 'success' : 'error',\r\n          showCancelButton: false,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert',\r\n          timer: response.result ? 1000 : undefined\r\n        })\r\n    },\r\n    async HandleSaveBtnClickInDrawer() {\r\n      this.action_drawer_visible = false\r\n      setTimeout(async () => {\r\n        await this.HandleSaveBtnClick();\r\n        setTimeout(() => {\r\n          this.action_drawer_visible = true;\r\n        }, 1000);\r\n      }, 100);\r\n    },\r\n    HandleDeleteHotRunAction(action) {\r\n      var index = this.selected_script_actions.indexOf(action)\r\n      this.selected_script_actions.splice(index, 1)\r\n    },\r\n    HandleDeleteScript(row) {\r\n      this.$swal.fire(\r\n        {\r\n          text: '',\r\n          title: '確定要刪除此腳本?',\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(res => {\r\n          if (res.isConfirmed) {\r\n            if (row.state == 'Running') {\r\n              StopHotRun(row.no)\r\n            }\r\n            this.hotRunScripts.splice(this.hotRunScripts.indexOf(row), 1);\r\n            for (let index = 0; index < this.hotRunScripts.length; index++) {\r\n              this.hotRunScripts[index].no = index + 1\r\n            }\r\n          }\r\n        })\r\n    }\r\n  },\r\n  computed: {\r\n    AgvNameList() {\r\n      return agv_states_store.getters.AGVNameList\r\n    },\r\n    moveable_tags() { return MapStore.getters.AllNormalStationOptions },\r\n    stock_tags() { return MapStore.getters.AllEqStation },\r\n    chargable_tags() { return MapStore.getters.AllChargeStation },\r\n    parkable_tags() { return MapStore.getters.AllParkingStationOptions },\r\n    bay_tags() {\r\n      var bay_data = MapStore.getters.BaysData;\r\n      return Object.keys(bay_data).map(bay_name => ({\r\n        tag: bay_name,\r\n        name: bay_name\r\n      }))\r\n    },\r\n    hot_run_states() {\r\n      return agv_states_store.getters.HotRunStates\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n    setTimeout(async () => {\r\n\r\n      this.hotRunScripts = await GetHotRunSettings();\r\n\r\n      watch(() => this.hot_run_states, (newValue, oldValue) => {\r\n\r\n        for (let index = 0; index < newValue.length; index++) {\r\n          const _script = newValue[index];\r\n          var script_exist = this.hotRunScripts.find(scr => scr.no == _script.no);\r\n          if (script_exist) {\r\n            script_exist.state = _script.state;\r\n            script_exist.finish_num = _script.finish_num;\r\n          }\r\n        }\r\n\r\n      }, { deep: true, immediate: true })\r\n    }, 100);\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.settings-content {\r\n  div {\r\n    margin: 2px;\r\n    font-weight: bold;\r\n  }\r\n}\r\n</style>","import { render } from \"./HotRun.vue?vue&type=template&id=dee378c6&scoped=true\"\nimport script from \"./HotRun.vue?vue&type=script&lang=js\"\nexport * from \"./HotRun.vue?vue&type=script&lang=js\"\n\nimport \"./HotRun.vue?vue&type=style&index=0&id=dee378c6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-dee378c6\"]])\n\nexport default __exports__","import { render } from \"./SystemSettings.vue?vue&type=template&id=49d70ff3\"\nimport script from \"./SystemSettings.vue?vue&type=script&lang=js\"\nexport * from \"./SystemSettings.vue?vue&type=script&lang=js\"\n\nimport \"./SystemSettings.vue?vue&type=style&index=0&id=49d70ff3&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"data-view custom-tabs-head-large\">\r\n    <b-tabs>\r\n      <b-tab title=\"歷史任務查詢\">\r\n        <div class=\"w-100\">\r\n          <TaskQuery></TaskQuery>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"歷史警報查詢\">\r\n        <div class=\"w-100\">\r\n          <AlarmQuery></AlarmQuery>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"AGV軌跡查詢\">\r\n        <div class=\"w-100\">\r\n          <AGVLocusDisplay></AGVLocusDisplay>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"儀器量測結果查詢\">\r\n        <div class=\"w-100\">\r\n          <InstrumentMeasureQuery></InstrumentMeasureQuery>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"機台稼動\">\r\n        <b-tabs style=\"height: 100vh;\">\r\n          <b-tab title=\"查詢\">\r\n            <AvalibilityQuery></AvalibilityQuery>\r\n          </b-tab>\r\n          <!-- <b-tab title=\"今日稼動\">\r\n            <AvailbilitysData></AvailbilitysData>\r\n          </b-tab>-->\r\n        </b-tabs>\r\n      </b-tab>\r\n    </b-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AvailbilitysData from '@/components/DataView/AvailbilitysData.vue';\r\nimport AvalibilityQuery from '@/components/DataView/AvalibilityQuery.vue';\r\nimport AlarmQuery from '@/components/DataView/AlarmQuery.vue';\r\nimport TaskQuery from '@/components/DataView/TaskQuery.vue';\r\nimport AGVLocusDisplay from '@/components/DataView/AGVLocus.vue';\r\nimport InstrumentMeasureQuery from '@/components/DataView/InstrumentMeasureQuery.vue';\r\nexport default {\r\n  components: {\r\n    AvailbilitysData, AvalibilityQuery, AlarmQuery, AGVLocusDisplay, TaskQuery, InstrumentMeasureQuery\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.data-view {\r\n  position: absolute;\r\n  width: 100%;\r\n  top: 55px;\r\n\r\n  .nav-item {\r\n    button {\r\n      font-size: 20px;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"data-view text-start p-2\">\r\n    <h3>今日稼動狀態</h3>\r\n    <div class=\"bg-light py-3 mx-1 border\">\r\n      <AvailabilityTimelineChart ref=\"rt-availbility-chart\"></AvailabilityTimelineChart>\r\n      <!-- <AvailabilityPieChart :ava_datas=\"data\"></AvailabilityPieChart> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GetTodayAvailability } from '@/api/AvailabilitysAPI'\r\nimport AvailabilityPieChart from '@/components/Availabilitys/AvailabilityPieChart.vue';\r\nimport AvailabilityTimelineChart from '@/components/Availabilitys/AvailabilityTimelineChart.vue';\r\nimport { useRoute } from 'vue-router';\r\nimport { watch } from 'vue';\r\nimport moment from 'moment';\r\nexport default {\r\n  components: {\r\n    AvailabilityPieChart, AvailabilityTimelineChart\r\n  },\r\n  data() {\r\n    return {\r\n      data: [2, 33, 1, 2, 3],\r\n      todayData: {},\r\n      pause: true,\r\n      timer: undefined\r\n    }\r\n  },\r\n  mounted() {\r\n    this.FetchTodayDataAndRender();\r\n\r\n\r\n    const route = useRoute()\r\n    watch(\r\n      () => route.path,\r\n      (newValue, oldValue) => {\r\n        this.pause = newValue != \"/data\";\r\n        if (this.pause) {\r\n          this.StopTimer()\r\n        } else {\r\n          this.StartTimer()\r\n        }\r\n      }\r\n    )\r\n  },\r\n  computed: {\r\n    todayTimelineChart() {\r\n      return this.$refs['rt-availbility-chart'];\r\n    }\r\n  },\r\n  methods: {\r\n    async FetchTodayDataAndRender() {\r\n      this.todayData = await GetTodayAvailability();\r\n      if (this.todayTimelineChart) {\r\n        this.todayTimelineChart.RenderChart(this.todayData);\r\n      }\r\n    },\r\n    StartTimer() {\r\n      this.FetchTodayDataAndRender();\r\n      // this.timer = setInterval(() => {\r\n      //   this.FetchTodayDataAndRender();\r\n      // }, 10000);\r\n    },\r\n    StopTimer() {\r\n      if (this.timer) {\r\n        clearInterval(this.timer)\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n})\r\n\r\n/**取得今日的稼動資料 */\r\nexport async function GetTodayAvailability() {\r\n  console.log(Date.now())\r\n  var res = await axios_entity.get('api/Availabilitys/Today')\r\n  console.log(Date.now())\r\n  return res.data\r\n}\r\n\r\n/**查詢稼動資料 */\r\nexport async function Query(AGVName, StartDate, EndDate) {\r\n  var res = await axios_entity.get(`api/Availabilitys/Query?AGVName=${AGVName}&StartDate=${StartDate}&EndDate=${EndDate}`)\r\n  return res.data\r\n}\r\n","<template>\r\n  <div class=\"border rounded\" style=\"height:600px;width: 95%; display: flex;flex-direction:column;\">\r\n    <vue3-chart-js\r\n      :key=\"myChart.type\"\r\n      ref=\"chartRef\"\r\n      :id=\"myChart.id\"\r\n      :type=\"myChart.type\"\r\n      :data=\"myChart.data\"\r\n      :options=\"myChart.options\"\r\n      @before-render=\"beforeRenderLogic\"\r\n    ></vue3-chart-js>\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\nimport Vue3ChartJs from '@j-t-mcc/vue3-chartjs'\r\nimport { watch } from 'vue'\r\nexport default {\r\n  components: {\r\n    Vue3ChartJs,\r\n  },\r\n  props: {\r\n    ava_datas: {\r\n      type: Array,\r\n      default() {\r\n        return [1, 1, 1, 1, 1]\r\n      }\r\n    },\r\n    colorSet: {\r\n      type: Array,\r\n      default() {\r\n        return [\r\n          'rgb(2, 176, 8)',\r\n          'rgb(255, 226, 6)',\r\n          'rgb(255, 92, 92)',\r\n          'rgb(51, 207, 255)',\r\n          'rgb(186, 186, 186)'\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      myChart: {\r\n        id: 'pie',\r\n        type: 'pie',\r\n        data: {\r\n          labels: ['RUN', 'IDLE', 'DOWN', 'CHARGE', 'UNKNOWN', 'UNKNOWN'],\r\n          datasets: [\r\n            {\r\n              backgroundColor: this.colorSet,\r\n              data: [0, 0, 0, 0, 0]\r\n            }\r\n          ],\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          maintainAspectRatio: false,\r\n          animations: {\r\n            tension: {\r\n              duration: 1000,\r\n              easing: 'linear',\r\n              from: 1,\r\n              to: 0,\r\n              loop: true\r\n            }\r\n          },\r\n          scales: {\r\n\r\n          },\r\n          plugins: {\r\n            legend: {\r\n              position: 'top',\r\n            },\r\n            title: {\r\n              display: true,\r\n              text: '稼動率',\r\n            }\r\n          },\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    beforeRenderLogic(event) {\r\n      //...\r\n      //if(a === b) {\r\n      //  event.preventDefault()\r\n      //}\r\n    },\r\n    updateChart(data) {\r\n      this.myChart.type = 'pie'\r\n      this.myChart.options.scales = undefined\r\n      this.myChart.data.datasets[0].data = data\r\n      this.$refs.chartRef.update();\r\n    },\r\n    updateStackBarChart(days = {\r\n      dates: [],\r\n      idle: [],\r\n      run: [],\r\n      down: [],\r\n      charge: [],\r\n    }) {\r\n      this.myChart.type = 'bar'\r\n      this.myChart.data.labels = days.dates;\r\n      this.myChart.data.datasets = [\r\n        {\r\n          label: 'IDLE',\r\n          data: days.idle,\r\n          backgroundColor: this.colorSet[1],\r\n          stack: 'Stack 1' // 堆疊群組的名稱\r\n        },\r\n        {\r\n          label: 'RUN',\r\n          data: days.run,\r\n          backgroundColor: this.colorSet[0],\r\n          stack: 'Stack 1'\r\n        },\r\n        {\r\n          label: 'DOWN',\r\n          data: days.down,\r\n          backgroundColor: this.colorSet[2],\r\n          stack: 'Stack 1' // 堆疊群組的名稱\r\n        },\r\n\r\n        {\r\n          label: 'CHARGE',\r\n          data: days.charge,\r\n          backgroundColor: this.colorSet[3],\r\n          stack: 'Stack 1' // 堆疊群組的名稱\r\n        }\r\n      ]\r\n      try {\r\n        this.$refs.chartRef.update();\r\n      } catch (error) {\r\n      }\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n    watch(() => this.ava_datas, (neaData, o) => {\r\n      this.updateChart(neaData);\r\n    }, { deep: true })\r\n  },\r\n\r\n}\r\n  </script>","import { render } from \"./AvailabilityPieChart.vue?vue&type=template&id=19d0d14c\"\nimport script from \"./AvailabilityPieChart.vue?vue&type=script&lang=js\"\nexport * from \"./AvailabilityPieChart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"w-100 rounded\" id=\"my-timeline-chart\" v-loading=\"loading\">\r\n    <div class=\"my-legend px-5 my-3 d-flex flex-row justify-content-between\">\r\n      <div class=\"d-flex flex-row mx-1\" v-for=\"(value, key) in colors\" :key=\"key\">\r\n        <div\r\n          class=\"mt-1 mx-1 rounded\"\r\n          v-bind:style=\"{backgroundColor:value,height:'10px',width:'40px'}\"\r\n        ></div>\r\n        <span style=\"font-size:9px\">{{ key.toUpperCase()}}</span>\r\n      </div>\r\n    </div>\r\n    <apexchart\r\n      ref=\"apex-chart\"\r\n      width=\"100%\"\r\n      height=\"400\"\r\n      type=\"rangeBar\"\r\n      :options=\"chartOptions\"\r\n      :series=\"series\"\r\n    ></apexchart>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { watch } from 'vue'\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      colors: {\r\n        run: 'rgb(98, 243, 166)',\r\n        idle: 'rgb(255, 226, 6)',\r\n        down: 'rgb(219, 7, 0)',\r\n        charge: 'rgb(51, 207, 255)',\r\n        unknown: 'rgb(186, 186, 186)'\r\n      },\r\n      series: [\r\n        // {\r\n        //   name: 'Bob',\r\n        //   data: [\r\n        //     {\r\n        //       x: 'Design',\r\n        //       y: [\r\n        //         new Date('2019-03-05').getTime(),\r\n        //         new Date('2019-03-08').getTime()\r\n        //       ],\r\n        //       fillColor: '#00E396',\r\n        //     },\r\n        //     {\r\n        //       x: 'Design',\r\n        //       y: [\r\n        //         new Date('2019-03-09').getTime(),\r\n        //         new Date('2019-03-12').getTime()\r\n        //       ]\r\n        //     },\r\n        //     {\r\n        //       x: 'Design',\r\n        //       y: [\r\n        //         new Date('2019-03-12').getTime(),\r\n        //         new Date('2019-03-13').getTime()\r\n        //       ]\r\n        //     },\r\n        //   ]\r\n        // },\r\n\r\n      ],\r\n      chartOptions: {\r\n        chart: {\r\n          height: 550,\r\n          type: 'rangeBar',\r\n          animations: {\r\n            enabled: false,\r\n            dynamicAnimation: {\r\n              enabled: false,\r\n              speed: 350\r\n            }\r\n          }\r\n        },\r\n        dynamicUpdate: false,\r\n        plotOptions: {\r\n          bar: {\r\n            horizontal: true,\r\n            barHeight: '80%'\r\n          }\r\n        },\r\n        xaxis: {\r\n          type: 'datetime',\r\n\r\n        },\r\n        stroke: {\r\n          width: 0\r\n        },\r\n        fill: {\r\n          type: 'solid',\r\n          opacity: 1\r\n        },\r\n        legend: {\r\n          show: false,\r\n          // position: 'top',\r\n          // horizontalAlign: 'left'\r\n        }\r\n      },\r\n      data: {},\r\n      datetime: 1\r\n    }\r\n  },\r\n  computed: {\r\n    chart() {\r\n      return this.$refs['apex-chart'];\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    async RenderChart(data) {\r\n      this.data = data;\r\n      var _series = [];\r\n      this.chart.updateSeries(_series);\r\n      console.log('1', Date.now());\r\n      Object.keys(data).forEach(agv_name => {\r\n        _series.push(this.BuildDataSeries(agv_name, data[agv_name]));\r\n      })\r\n      this.chart.updateSeries(_series, false);\r\n      console.log('2', Date.now());\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n      }, 600);\r\n    },\r\n    BuildDataSeries(agv_name, data) {\r\n      var _series = {\r\n        name: agv_name,\r\n        data: []\r\n      }\r\n      data.idle.forEach(d => {\r\n        _series.data.push({\r\n          x: agv_name,\r\n          y: [new Date(d.from).getTime(), new Date(d.to).getTime()],\r\n          fillColor: this.colors.idle,\r\n        })\r\n      })\r\n      data.run.forEach(d => {\r\n        _series.data.push({\r\n          x: agv_name,\r\n          y: [new Date(d.from).getTime(), new Date(d.to).getTime()],\r\n          fillColor: this.colors.run,\r\n        })\r\n      })\r\n      data.down.forEach(d => {\r\n\r\n        _series.data.push({\r\n          x: agv_name,\r\n          y: [new Date(d.from).getTime(), new Date(d.to).getTime()],\r\n          fillColor: this.colors.down,\r\n        })\r\n      })\r\n      data.charge.forEach(d => {\r\n        _series.data.push({\r\n          x: agv_name,\r\n          y: [new Date(d.from).getTime(), new Date(d.to).getTime()],\r\n          fillColor: this.colors.charge,\r\n        })\r\n      })\r\n      data.unknown.forEach(d => {\r\n        _series.data.push({\r\n          x: agv_name,\r\n          y: [new Date(d.from).getTime(), new Date(d.to).getTime()],\r\n          fillColor: this.colors.unknown,\r\n        })\r\n      })\r\n      return _series;\r\n    }\r\n  },\r\n  mounted() {\r\n    // watch(() => this.data, (new_, old_) => {\r\n\r\n    //   Object.keys(new_).forEach((agv_name) => {\r\n    //     var newAgvData = new_[agv_name]\r\n    //     var oldAgvData = old_[agv_name]\r\n    //     if (!newAgvData) {\r\n    //       return;\r\n    //     }\r\n    //     if (!oldAgvData) {\r\n    //       this.series.push(this.BuildDataSeries(agv_name, newAgvData))\r\n    //     }\r\n    //     else {\r\n\r\n    //     }\r\n    //   })\r\n    // })\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.my-legend {\r\n  width: 120px;\r\n}\r\n</style>","import { render } from \"./AvailabilityTimelineChart.vue?vue&type=template&id=2b01abca\"\nimport script from \"./AvailabilityTimelineChart.vue?vue&type=script&lang=js\"\nexport * from \"./AvailabilityTimelineChart.vue?vue&type=script&lang=js\"\n\nimport \"./AvailabilityTimelineChart.vue?vue&type=style&index=0&id=2b01abca&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AvailbilitysData.vue?vue&type=template&id=0c7e40f2\"\nimport script from \"./AvailbilitysData.vue?vue&type=script&lang=js\"\nexport * from \"./AvailbilitysData.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"avalibity-query d-flex flex-row\">\r\n    <div class=\"options text-start h-100 p-3 bg-light border\">\r\n      <el-form :model=\"options\">\r\n        <el-form-item label=\"AGV名稱\">\r\n          <AGVSelector v-model=\"options.AGVName\"></AGVSelector>\r\n        </el-form-item>\r\n        <el-form-item label=\"起始日期\">\r\n          <el-date-picker value-format=\"YYYY-MM-DD\" v-model=\"options.StartDate\"></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"結束日期\">\r\n          <el-date-picker value-format=\"YYYY-MM-DD\" v-model=\"options.EndDate\"></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <b-button @click=\"QueryData\" class=\"w-100\" variant=\"primary\">查詢</b-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div class=\"chart-display h-100 w-100 d-flex justify-content-center\">\r\n      <div class=\"w-100 m-1\">\r\n        <el-radio-group v-model=\"chart_type\" @change=\"HandleChartTypeChanged\">\r\n          <el-radio-button size=\"large\" label=\"pie\">圓餅圖</el-radio-button>\r\n          <el-radio-button size=\"large\" label=\"bar\">直條圖</el-radio-button>\r\n          <!-- <el-radio-button size=\"large\" label=\"edit-station\">編輯點位[2]</el-radio-button>\r\n          <el-radio-button size=\"large\" label=\"remove-station\">移除點位[3]</el-radio-button>-->\r\n        </el-radio-group>\r\n        <div class=\"m-2 p-1\">\r\n          <AvailabilityPieChart v-show=\"chart_type=='pie'\" class ref=\"piechart\"></AvailabilityPieChart>\r\n          <AvailabilityPieChart v-show=\"chart_type=='bar'\" class ref=\"barchart\"></AvailabilityPieChart>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Query } from '@/api/AvailabilitysAPI'\r\nimport AGVSelector from '@/components/AGVSelector'\r\nimport AvailabilityPieChart from '@/components/Availabilitys/AvailabilityPieChart.vue';\r\nimport { agv_states_store } from '@/store'\r\nimport moment from 'moment'\r\nexport default {\r\n  components: {\r\n    AvailabilityPieChart, AGVSelector\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      chart_type: 'pie',\r\n      options: {\r\n        AGVName: 'AGV_001',\r\n        StartDate: '',\r\n        EndDate: '',\r\n      },\r\n      query_data: {\r\n        total: [],\r\n        days: {\r\n          dates: [],\r\n          idle: [],\r\n          run: [],\r\n          down: [],\r\n          charge: [],\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    agvNameList() {\r\n      return agv_states_store.getters.AGVNameList;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.options.StartDate = moment(Date.now()).add(-7, 'days').format('YYYY-MM-DD')\r\n    this.options.EndDate = moment(Date.now()).format('YYYY-MM-DD')\r\n  },\r\n  methods: {\r\n    async QueryData() {\r\n      this.loading = true;\r\n      this.query_data = await Query(this.options.AGVName, this.options.StartDate, this.options.EndDate);\r\n      this.$refs['barchart'].updateStackBarChart(this.query_data.days);\r\n      this.$refs['piechart'].updateChart(this.query_data.total);\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n      }, 400);\r\n    },\r\n    HandleChartTypeChanged() {\r\n\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.avalibity-query {\r\n  height: 100vh;\r\n  .options {\r\n    width: 20%;\r\n  }\r\n}\r\n</style>","import { render } from \"./AvalibilityQuery.vue?vue&type=template&id=0787ab0b&scoped=true\"\nimport script from \"./AvalibilityQuery.vue?vue&type=script&lang=js\"\nexport * from \"./AvalibilityQuery.vue?vue&type=script&lang=js\"\n\nimport \"./AvalibilityQuery.vue?vue&type=style&index=0&id=0787ab0b&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0787ab0b\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"alarm-query\">\r\n    <div class=\"query-options bg-light d-flex border-bottom w-100 py-2\">\r\n      <label>Start Time</label>\r\n      <input type=\"datetime-local\" v-model=\"start_time\" prop=\"Start Time\" />\r\n      <label>End Time</label>\r\n      <input type=\"datetime-local\" v-model=\"end_time\" prop=\"End Time\" />\r\n      <label>警報類型</label>\r\n      <select\r\n        v-bind:class=\"AlarmTypeSelected == 'ALL' ? '' : AlarmTypeSelected == 'Alarm' ? 'bg-danger text-light' : 'bg-warning text-light'\"\r\n        prop=\"EQ Name\"\r\n        v-model=\"AlarmTypeSelected\"\r\n      >\r\n        <option>ALL</option>\r\n        <option class=\"bg-danger text-light\">Alarm</option>\r\n        <option class=\"bg-warning text-light\">Warning</option>\r\n      </select>\r\n      <label>EQ Name</label>\r\n      <select prop=\"EQ Name\" v-model=\"AGVSelected\">\r\n        <option>ALL</option>\r\n        <option v-for=\"name in AgvNameList\" :key=\"name\">{{ name }}</option>\r\n      </select>\r\n      <label>任務名稱</label>\r\n      <input type=\"text\" v-model=\"TaskName\" placeholder=\"ALL\" size=\"20\" />\r\n      <b-button\r\n        @click=\"QueryAlarm()\"\r\n        :QueryAlarm=\"QueryAlarm\"\r\n        class=\"Select-Query\"\r\n        variant=\"primary\"\r\n        size=\"sm\"\r\n        style=\"float:right\"\r\n      >搜尋</b-button>\r\n      <b-button\r\n        @click=\"SaveTocsv()\"\r\n        :SaveTocsv=\"SaveTocsv\"\r\n        class=\"SaveTocsv mx-2\"\r\n        variant=\"primary\"\r\n        size=\"sm\"\r\n        style=\"float:right\"\r\n      >輸出csv檔</b-button>\r\n    </div>\r\n    <div>\r\n      <el-table\r\n        border\r\n        :data=\"alarms\"\r\n        empty-text=\"No Alarms\"\r\n        :row-class-name=\"row_state_class_name\"\r\n        size=\"small\"\r\n        style=\"width: 100%;font-weight: bold;\"\r\n        aria-current=\"currentpage\"\r\n        id=\"alarmtable\"\r\n      >\r\n        <el-table-column label=\"發生時間\" prop=\"Time\" width=\"140\">\r\n          <template #default=\"scope\">{{ formatTime(scope.row.Time) }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"AGV名稱\" prop=\"Equipment_Name\" width=\"80\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"警報碼\" prop=\"AlarmCode\" width=\"60\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"警報描述\" prop=\"Description_En\" min-width=\"420\">\r\n          <template #default=\"scope\">\r\n            <div>{{ scope.row.Description_En }}({{ scope.row.Description_Zh }})</div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"警報類型\" prop=\"Level\" width=\"100\" align=\"center\">\r\n          <template #default=\"scope\">\r\n            <el-tag\r\n              style=\"width:80px\"\r\n              effect=\"dark\"\r\n              :type=\"scope.row.Level == 1 ? 'danger' : 'warning'\"\r\n            >{{ scope.row.Level == 1 ? 'Alarm' : 'Warning' }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"任務名稱\" prop=\"Task_Name\" width=\"210\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              {{ scope.row.Task_Name }}\r\n              <el-tooltip placement=\"top-start\" content=\"複製到剪貼簿\">\r\n                <i\r\n                  v-if=\"scope.row.Task_Name != ''\"\r\n                  @click=\"CopyText(scope.row.Task_Name)\"\r\n                  class=\"copy-button copy-icon bi bi-clipboard\"\r\n                ></i>\r\n              </el-tooltip>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"發生地點\" prop=\"OccurLocation\" width=\"120\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"持續時間(s)\" prop=\"Duration\" width=\"90\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"清除警報人員\" prop=\"ResetAalrmMemberName\" min-width=\"120\"></el-table-column>\r\n      </el-table>\r\n      <div class=\"d-flex flex-row justify-content-center\">\r\n        <b-pagination\r\n          :per-page=\"per_page_num\"\r\n          :total-rows=\"rows\"\r\n          aria-controls=\"alarmtable\"\r\n          class=\"pagination justify-content-center\"\r\n          v-model=\"currentpage\"\r\n          @click=\"PageChnageHandle\"\r\n        ></b-pagination>\r\n        <div class=\"mx-3 py-2\">\r\n          共\r\n          <span style=\"font-weight: bold; font-size: large;\">{{ rows }}</span>筆\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { QueryAlarm } from '@/api/AlarmAPI.js'\r\nimport { SaveTocsv } from '@/api/AlarmAPI.js'\r\nimport moment from 'moment'\r\nimport Notifier from '@/api/NotifyHelper'\r\nimport { CopyText } from '@/api/Common/UtilityTools'\r\n\r\nimport { userStore, agv_states_store } from '@/store';\r\nexport default {\r\n  data() {\r\n    return {\r\n      start_time: '2023-06-01 00:00:00',\r\n      end_time: '2023-06-03 00:00:00',\r\n      AGVSelected: 'ALL',\r\n      AlarmTypeSelected: 'ALL',\r\n      TaskName: '',\r\n      alarms: [],\r\n      per_page_num: 19,\r\n      rows: 1,\r\n      currentpage: 1,\r\n      loading: false,\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    AgvNameList() {\r\n      return agv_states_store.getters.AGVNameList\r\n    },\r\n  },\r\n  mounted() {\r\n    const EndDate = new Date();\r\n    this.end_time = EndDate.toISOString().substring(0, 10) + ' 23:59:59';\r\n    this.start_time = moment(this.end_time, 'YYYY-MM-DD HH:mm:ss').subtract(7, 'days').format('YYYY-MM-DD HH:mm:ss');\r\n    setTimeout(() => {\r\n      QueryAlarm(this.currentpage, this.start_time, this.end_time, this.AGVSelected, this.TaskName).then(retquery => {\r\n        this.alarms = retquery.alarms\r\n        this.rows = retquery.count;\r\n        this.currentpage = retquery.currentpage;\r\n      }).catch(er => {\r\n        Notifier.Danger('警報查詢失敗後端服務異常')\r\n      });\r\n    }, 500);\r\n\r\n  },\r\n  methods: {\r\n    formatTime(_time) {\r\n      return moment(_time).format('yyyy-MM-DD HH:mm:ss');\r\n    },\r\n    onmessage(ev) {\r\n      this.alarms = JSON.parse(ev.data)\r\n    },\r\n    row_state_class_name({ row, rowIndex }) {\r\n      if (row.rowIndex < 0) {\r\n        return '';\r\n      }\r\n      var level = this.alarms[rowIndex].Level;\r\n      return level == 1 ? 'alarm-row' : 'warning-row';\r\n    },\r\n    async QueryAlarm() {\r\n      this.loading = true;\r\n      this.alarms = [];\r\n      this.rows = 1;\r\n      this.currentpage = 1;\r\n      this.payload = 2;\r\n      setTimeout(() => {\r\n        QueryAlarm(this.currentpage, this.start_time, this.end_time, this.AGVSelected, this.TaskName, this.AlarmTypeSelected).then(retquery => {\r\n          this.alarms = retquery.alarms\r\n          this.rows = retquery.count;\r\n          this.currentpage = retquery.currentpage;\r\n        }).then(dat => {\r\n          //window.open('http://localhost:5216/MapFiles/test.csv')\r\n\r\n        }).catch(er => {\r\n          this.loading = false;\r\n          Notifier.Danger('警報查詢失敗後端服務異常')\r\n        });\r\n      }, 300);\r\n    },\r\n    async SaveTocsv() {\r\n      await SaveTocsv(this.start_time, this.end_time, this.AGVSelected, this.TaskName)\r\n      Notifier.Primary('檔案儲存成功')\r\n    },\r\n    PageChnageHandle(payload) {\r\n      QueryAlarm(this.currentpage, this.start_time, this.end_time, this.AGVSelected, this.TaskName, this.AlarmTypeSelected).then(retquery => {\r\n        this.alarms = retquery.alarms;\r\n      }\r\n      ).catch(er => {\r\n        Notifier.Danger('警報查詢失敗後端服務異常')\r\n      });\r\n    },\r\n    CopyText(text) {\r\n      CopyText(text)\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.alarm-query {\r\n  overflow-y: scroll;\r\n  padding: 0px;\r\n\r\n  .query-options {\r\n    label {\r\n      margin: auto 10px;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n\r\n  .el-table .warning-row {\r\n    background-color: rgb(255, 237, 186);\r\n    /* --el-table-tr-bg-color: var(--el-color-warning-light-9); */\r\n  }\r\n\r\n  .el-table .alarm-row {\r\n    background-color: rgb(245, 198, 206);\r\n  }\r\n}\r\n</style>","import { render } from \"./AlarmQuery.vue?vue&type=template&id=0ec670be\"\nimport script from \"./AlarmQuery.vue?vue&type=script&lang=js\"\nexport * from \"./AlarmQuery.vue?vue&type=script&lang=js\"\n\nimport \"./AlarmQuery.vue?vue&type=style&index=0&id=0ec670be&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"Task-query\">\r\n    <div class=\"Task-options bg-light d-flex border-bottom w-100 py-2\">\r\n      <label>Start Time</label>\r\n      <input type=\"datetime-local\" v-model=\"start_time\" prop=\"Start Time\" />\r\n      <label>End Time</label>\r\n      <input type=\"datetime-local\" v-model=\"end_time\" prop=\"End Time\" />\r\n      <label>任務名稱</label>\r\n      <input type=\"text\" v-model=\"TaskName\" placeholder=\"ALL\" size=\"20\" />\r\n      <label>EQ Name</label>\r\n      <select prop=\"EQ Name\" v-model=\"AGVSelected\">\r\n        <option>ALL</option>\r\n        <option v-for=\"name in AgvNameList\" :key=\"name\">{{ name }}</option>\r\n      </select>\r\n      <label>任務類型</label>\r\n      <select prop=\"EQ Name\" v-model=\"ActionTypeSelected\">\r\n        <option>ALL</option>\r\n        <option>移動</option>\r\n        <option>取貨</option>\r\n        <option>放貨</option>\r\n        <option>搬運</option>\r\n        <option>充電</option>\r\n        <option>量測</option>\r\n        <option>交換電池</option>\r\n      </select>\r\n      <label>執行結果</label>\r\n      <select prop=\"EQ Name\" v-model=\"ExecuteResultSelected\">\r\n        <option>ALL</option>\r\n        <option>完成</option>\r\n        <option>失敗</option>\r\n        <option>取消</option>\r\n      </select>\r\n      <b-button\r\n        @click=\"TaskQuery()\"\r\n        :TaskQuery=\"TaskQuery\"\r\n        class=\"Select-Query\"\r\n        variant=\"primary mx-1\"\r\n        size=\"sm\"\r\n        style=\"float:right\"\r\n      >搜尋</b-button>\r\n      <b-button\r\n        @click=\"SaveTocsv()\"\r\n        :SaveTocsv=\"SaveTocsv\"\r\n        class=\"SaveTocsv mx-2\"\r\n        variant=\"primary\"\r\n        size=\"sm\"\r\n        style=\"float:right\"\r\n      >輸出csv檔</b-button>\r\n    </div>\r\n    <div>\r\n      <el-table\r\n        v-loading=\"loading\"\r\n        :data=\"tasks\"\r\n        empty-text=\"No Tasks\"\r\n        row-class-name=\"row_state_class_name\"\r\n        size=\"small\"\r\n        style=\"width: 100%;font-weight: bold;\"\r\n        border\r\n        aria-current=\"currentpage\"\r\n        id=\"Tasktable\"\r\n      >\r\n        <el-table-column label=\"任務名稱\" prop=\"TaskName\" width=\"230\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              {{ scope.row.TaskName }}\r\n              <el-tooltip placement=\"top-start\" content=\"複製到剪貼簿\">\r\n                <i\r\n                  @click=\"CopyText(scope.row.TaskName)\"\r\n                  class=\"copy-button copy-icon bi bi-clipboard\"\r\n                ></i>\r\n              </el-tooltip>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"接收時間\" prop=\"RecieveTime\" width=\"160\">\r\n          <template #default=\"scope\">{{ formatTime(scope.row.RecieveTime) }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"結束時間\" prop=\"FinishTime\" width=\"160\">\r\n          <template #default=\"scope\">{{ formatTime(scope.row.FinishTime) }}</template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"執行結果\" prop=\"StateName\" width=\"100\" align=\"center\">\r\n          <template #default=\"scope\">\r\n            <el-tag\r\n              effect=\"dark\"\r\n              :type=\"scope.row.State == 4 ? 'success' : scope.row.State == 6 ? 'danger' : 'warning'\"\r\n            >{{ scope.row.StateName }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"AGV名稱\" prop=\"DesignatedAGVName\" width=\"100\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"任務類型\" prop=\"ActionName\" min-width=\"30\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"起始站點\" prop=\"From_Station\" width=\"120\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"結束站點\" prop=\"To_Station\" width=\"120\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"載物ID\" prop=\"Carrier_ID\" min-width=\"30\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              {{ scope.row.Carrier_ID == '-1' ? '' : scope.row.Carrier_ID }}\r\n              <el-tooltip placement=\"top-start\" content=\"複製到剪貼簿\">\r\n                <i\r\n                  v-if=\"scope.row.Carrier_ID != '-1' && scope.row.Carrier_ID != ''\"\r\n                  @click=\"CopyText(scope.row.Carrier_ID)\"\r\n                  class=\"copy-button copy-icon bi bi-clipboard\"\r\n                ></i>\r\n              </el-tooltip>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"派工人員\" prop=\"DispatcherName\" width=\"100\"></el-table-column>\r\n        <el-table-column label=\"失敗原因\" prop=\"FailureReason\" min-width=\"120\">\r\n          <template #default=\"scope\">\r\n            <div class=\"text-danger\">\r\n              <div v-for=\"alarm in scope.row.FailureReason.split(',')\" :key=\"alarm\">{{ alarm }}</div>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"d-flex flex-row justify-content-center\">\r\n        <b-pagination\r\n          :per-page=\"per_page_num\"\r\n          :total-rows=\"rows\"\r\n          aria-controls=\"Tasktable\"\r\n          class=\"pagination justify-content-center\"\r\n          v-model=\"currentpage\"\r\n          @click=\"PageChnageHandle\"\r\n        ></b-pagination>\r\n        <div class=\"mx-3 py-2\">\r\n          共\r\n          <span style=\"font-weight: bold; font-size: large;\">{{ rows }}</span>筆\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport { TaskQuery } from '@/api/TaskAPI.js'\r\nimport { SaveTocsv } from '@/api/TaskAPI.js'\r\nimport { userStore, agv_states_store } from '@/store';\r\nimport { CopyText } from '@/api/Common/UtilityTools'\r\nimport moment from 'moment'\r\nimport Notifier from '@/api/NotifyHelper'\r\nexport default {\r\n  data() {\r\n    return {\r\n      start_time: '2023-06-01 00:00:00',\r\n      end_time: '2023-06-30 00:00:00',\r\n      AGVSelected: 'ALL',\r\n      ExecuteResultSelected: 'ALL',\r\n      ActionTypeSelected: 'ALL',\r\n      TaskName: '',\r\n      tasks: [],\r\n      per_page_num: 19,\r\n      rows: 1,\r\n      currentpage: 1,\r\n      loading: false,\r\n    }\r\n  },\r\n  computed: {\r\n    AgvNameList() {\r\n      return agv_states_store.getters.AGVNameList\r\n    },\r\n  },\r\n  mounted() {\r\n    const EndDate = new Date();\r\n    this.end_time = EndDate.toISOString().substring(0, 10) + ' 23:59:59';\r\n    this.start_time = moment(this.end_time, 'YYYY-MM-DD HH:mm:ss').subtract(7, 'days').format('YYYY-MM-DD HH:mm:ss');\r\n\r\n    setTimeout(() => {\r\n      TaskQuery(this.currentpage, this.start_time, this.end_time, this.AGVSelected, this.TaskName).then(retquery => {\r\n        this.tasks = retquery.tasks\r\n        this.rows = retquery.count;\r\n        this.currentpage = retquery.currentpage;\r\n      }).catch(er => {\r\n        Notifier.Danger('警報查詢失敗後端服務異常')\r\n      });\r\n    }, 500);\r\n  },\r\n  methods: {\r\n    formatTime(_time) {\r\n      return moment(_time).format('yyyy-MM-DD HH:mm:ss');\r\n    },\r\n    onmessage(ev) {\r\n      this.tasks = JSON.parse(ev.data)\r\n    },\r\n\r\n    async TaskQuery() {\r\n      this.loading = true;\r\n      this.tasks = [];\r\n      this.rows = 1;\r\n      this.currentpage = 1;\r\n      this.payload = 2;\r\n      setTimeout(() => {\r\n        TaskQuery(this.currentpage, this.start_time, this.end_time, this.AGVSelected, this.TaskName, this.ExecuteResultSelected, this.ActionTypeSelected).then(retquery => {\r\n          this.tasks = retquery.tasks\r\n          this.rows = retquery.count;\r\n          this.currentpage = retquery.currentpage;\r\n          this.loading = false;\r\n        }).catch(er => {\r\n          this.loading = false;\r\n          Notifier.Danger('警報查詢失敗後端服務異常')\r\n        });\r\n      }, 300);\r\n\r\n    },\r\n    async SaveTocsv() {\r\n      SaveTocsv(this.start_time, this.end_time, this.AGVSelected, this.TaskName)\r\n      Notifier.Primary('檔案儲存成功')\r\n    },\r\n    PageChnageHandle(payload) {\r\n      TaskQuery(this.currentpage, this.start_time, this.end_time, this.AGVSelected, this.TaskName, this.ExecuteResultSelected, this.ActionTypeSelected).then(retquery => {\r\n        this.tasks = retquery.tasks;\r\n      }\r\n      ).catch(er => {\r\n        Notifier.Danger('警報查詢失敗後端服務異常')\r\n      });\r\n    },\r\n    CopyText(text) {\r\n      CopyText(text)\r\n    }\r\n  },\r\n}\r\n</script>\r\n  \r\n<style lang=\"scss\" scoped>\r\n.Task-query {\r\n  overflow-y: scroll;\r\n  padding: 0px;\r\n\r\n  .Task-options {\r\n    label {\r\n      margin: auto 10px;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./TaskQuery.vue?vue&type=template&id=97a53476&scoped=true\"\nimport script from \"./TaskQuery.vue?vue&type=script&lang=js\"\nexport * from \"./TaskQuery.vue?vue&type=script&lang=js\"\n\nimport \"./TaskQuery.vue?vue&type=style&index=0&id=97a53476&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-97a53476\"]])\n\nexport default __exports__","<!--  -->\r\n<template>\r\n    <div class=''>\r\n        <CommonOptions @OnQueryBtnClick=\"HandleQueryBtnClick\"></CommonOptions>\r\n        <div class=\"w-100 my-1 border rounded p-2\">\r\n            <b-pagination :per-page=\"QueryResult.DataNumPerPage\" :total-rows=\"QueryResult.TotalDataNum\" aria-controls=\"measure_result_table\"\r\n                class=\"pagination justify-content-start\" v-model=\"QueryResult.Page\" @click=\"PageChnageHandle\"></b-pagination>\r\n            <el-table border :data=\"QueryResult.dataList\" style=\"width:1800px\" id=\"measure_result_table\">\r\n                <el-table-column prop=\"TaskName\" label=\"任務名稱\" fixed=\"left\" width=\"210\"></el-table-column>\r\n                <el-table-column prop=\"AGVName\" label=\"AGV名稱\" fixed=\"left\" width=\"90\"></el-table-column>\r\n                <el-table-column prop=\"BayName\" label=\"Bay名稱\" fixed=\"left\" width=\"90\"></el-table-column>\r\n                <el-table-column prop=\"location\" label=\"量測點位\" fixed=\"left\"></el-table-column>\r\n                <el-table-column :formatter=\"TimeFormatter\" prop=\"StartTime\" label=\"開始量測時間\" fixed=\"left\" width=\"180\"></el-table-column>\r\n                <el-table-column :formatter=\"ResultFormatter\" prop=\"result\" label=\"量測結果\" fixed=\"left\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"illuminance\" label=\"照度(lux)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"decibel\" label=\"分貝(dB)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"temperature\" label=\"溫度 (℃)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"humudity\" label=\"濕度 (%)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"IPA\" label=\"IPA (異丙醇)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"Acetone\" label=\"Acetone (丙酮)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"TVOC\" label=\"TVOC (Non-Target)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"PID\" label=\"PID\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"partical_03um\" label=\"微塵粒子(0.3μm)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"partical_05um\" label=\"微塵粒子(0.5μm)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"partical_10um\" label=\"微塵粒子(1.0μm)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"partical_30um\" label=\"微塵粒子(3.0μm)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"partical_50um\" label=\"微塵粒子(5.0μm)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"partical_100um\" label=\"微塵粒子(10.0μm)\" fixed=\"right\"></el-table-column>\r\n            </el-table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CommonOptions from './CommonOptions'\r\nimport { Query } from '@/api/MeasureResultAPI'\r\nimport moment from 'moment'\r\nexport default {\r\n    components: { CommonOptions },\r\n    data() {\r\n        return {\r\n            QueryResult: {\r\n\r\n            },\r\n            Options: {}\r\n        };\r\n    },\r\n    computed: {},\r\n    watch: {},\r\n    methods: {\r\n        async HandleQueryBtnClick(options) {\r\n            this.Options = options;\r\n            this.QueryResult = await Query(options)\r\n        },\r\n        ResultFormatter(row, column, cellValue, index) {\r\n            return cellValue == 'done' ? '成功' : '失敗'\r\n        },\r\n        TimeFormatter(row, column, cellValue, index) {\r\n            return moment(cellValue).format('yyyy-MM-DD \\r\\n HH:mm:ss')\r\n        },\r\n        ValFormatter(row, column, cellValue, index) {\r\n            return cellValue == '-1' || cellValue == '-1.0' ? 'NA' : cellValue;\r\n        },\r\n        PageChnageHandle() {\r\n            this.Options.Page = this.QueryResult.Page;\r\n            this.HandleQueryBtnClick(this.Options);\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n    },\r\n}\r\n</script>\r\n<style lang='scss' scoped></style>","<!--  -->\r\n<template>\r\n    <div class='common-options'>\r\n        <div class=\"options d-flex\">\r\n            <div class=\"block\">\r\n                <div class=\"title\">開始時間</div>\r\n                <div class=\"control\">\r\n                    <el-date-picker\r\n                        v-model=\"OPTIONS.StartTimeStr\"\r\n                        type=\"date\"\r\n                        placeholder=\"選擇開始日期\" />\r\n                </div>\r\n            </div>\r\n            <div class=\"block\">\r\n                <div class=\"title\">結束時間</div>\r\n                <div class=\"control\">\r\n                    <el-date-picker\r\n                        v-model=\"OPTIONS.EndTimeStr\"\r\n                        type=\"date\"\r\n                        placeholder=\"選擇結束日期\" />\r\n                </div>\r\n            </div>\r\n            <div class=\"block\">\r\n                <div class=\"title\">AGV</div>\r\n                <div class=\"control\">\r\n                    <el-select v-model=\"OPTIONS.AGVName\">\r\n                        <el-option v-for=\"name in AGVNameList\" :key=\"name\" :label=\"name\" :value=\"name\"></el-option>\r\n                    </el-select>\r\n                </div>\r\n            </div>\r\n            <div class=\"block\">\r\n                <div class=\"title\">量測結果</div>\r\n                <div class=\"control\">\r\n                    <el-select v-model=\"OPTIONS.Result\">\r\n                        <el-option v-for=\"option in Results\" :key=\"option.value\" :label=\"option.label\" :value=\"option.value\"></el-option>\r\n                    </el-select>\r\n                </div>\r\n            </div>\r\n            <div class=\"block\">\r\n                <div class=\"title\"></div>\r\n                <div class=\"my-4\">\r\n                    <b-button @click=\"HandleQueryBtnClick\" variant=\"primary\">查詢</b-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport clsQueryOptions from '@/api/Common/clsQueryOptions';\r\nimport { agv_states_store } from '@/store';\r\nexport default {\r\n    components: {},\r\n    props: {\r\n        Results: {\r\n            type: Array,\r\n            default() {\r\n                return [\r\n                    {\r\n                        value: 2,\r\n                        label: \"ALL\"\r\n                    },\r\n                    {\r\n                        value: 0,\r\n                        label: \"成功\"\r\n                    }, {\r\n                        value: 1,\r\n                        label: \"失敗\"\r\n                    },]\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            OPTIONS: new clsQueryOptions(),\r\n\r\n        };\r\n    },\r\n    computed: {\r\n        AGVNameList() {\r\n            var list = [\"ALL\"];\r\n            agv_states_store.getters.AGVNameList.forEach(element => {\r\n\r\n                list.push(element)\r\n            });\r\n            return list;\r\n        }\r\n    },\r\n    watch: {},\r\n    methods: {\r\n        HandleQueryBtnClick() {\r\n            this.OPTIONS.Page = 1;\r\n            this.$emit('OnQueryBtnClick', this.OPTIONS)\r\n        }\r\n    },\r\n    mounted() {\r\n    },\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n.common-options {\r\n    .block {\r\n        margin: 3px;\r\n\r\n        .title {\r\n            text-align: left;\r\n            font-weight: bold;\r\n            font-size: 20px;\r\n        }\r\n    }\r\n\r\n}\r\n</style>","import { render } from \"./CommonOptions.vue?vue&type=template&id=41579660&scoped=true\"\nimport script from \"./CommonOptions.vue?vue&type=script&lang=js\"\nexport * from \"./CommonOptions.vue?vue&type=script&lang=js\"\n\nimport \"./CommonOptions.vue?vue&type=style&index=0&id=41579660&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-41579660\"]])\n\nexport default __exports__","import { render } from \"./InstrumentMeasureQuery.vue?vue&type=template&id=4772be91\"\nimport script from \"./InstrumentMeasureQuery.vue?vue&type=script&lang=js\"\nexport * from \"./InstrumentMeasureQuery.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DataView.vue?vue&type=template&id=bb9b8584\"\nimport script from \"./DataView.vue?vue&type=script&lang=js\"\nexport * from \"./DataView.vue?vue&type=script&lang=js\"\n\nimport \"./DataView.vue?vue&type=style&index=0&id=bb9b8584&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"alarm-view\">\r\n    <div class=\"d-flex flex-row mb-2\">\r\n      <h3 class=\"flex-fill\">系統警報</h3>\r\n      <b-button v-if=\"is_user_login\" variant=\"danger\" @click=\"ResetSystemAlarm()\">警報復歸</b-button>\r\n    </div>\r\n    <el-table :data=\"sys_alarms\" border :row-class-name=\"row_state_class_name\">\r\n      <el-table-column label=\"時間\" prop=\"Time\" width=\"160\">\r\n        <template #default=\"scope\">{{ formatTime(scope.row.Time) }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"設備名稱\" prop=\"Equipment_Name\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"警報碼\" prop=\"AlarmCode\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"警報描述\" prop=\"Description_En\">\r\n        <template #default=\"scope\">\r\n          <div>{{ scope.row.Description_En }}({{ scope.row.Description_Zh }})</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"警報類型\" prop=\"Level\" width=\"120\">\r\n        <template #default=\"scope\">\r\n          <div>{{ scope.row.Level == 1 ? 'ALARM' : 'WARNING' }}</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"任務名稱\" prop=\"Task_Name\" width=\"160\"></el-table-column>\r\n      <el-table-column label=\"發生地點\" prop=\"OccurLocation\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"持續時間\" prop=\"Duration\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"清除警報人員\" prop=\"ResetAalrmMemberName\" width=\"120\"></el-table-column>\r\n    </el-table>\r\n    <el-divider></el-divider>\r\n    <h3>設備警報</h3>\r\n    <el-table :data=\"eq_alarms\" border :row-class-name=\"row_state_class_name\">\r\n      <el-table-column label=\"時間\" prop=\"Time\" width=\"160\">\r\n        <template #default=\"scope\">{{ formatTime(scope.row.Time) }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"設備名稱\" prop=\"Equipment_Name\" width=\"150\"></el-table-column>\r\n      <el-table-column label=\"警報碼\" prop=\"AlarmCode\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"警報描述\" prop=\"Description_En\">\r\n        <template #default=\"scope\">\r\n          <div>{{ scope.row.Description_En }}({{ scope.row.Description_Zh }})</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"警報類型\" prop=\"Level\" width=\"120\">\r\n        <template #default=\"scope\">\r\n          <div>{{ scope.row.Level == 1 ? 'ALARM' : 'WARNING' }}</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"任務名稱\" prop=\"Task_Name\" width=\"160\"></el-table-column>\r\n      <el-table-column label=\"發生地點\" prop=\"OccurLocation\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"持續時間\" prop=\"Duration\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"清除警報人員\" prop=\"ResetAalrmMemberName\" width=\"120\"></el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { AlarmHelper, ResetSystemAlarm } from '@/api/AlarmAPI.js'\r\nimport moment from 'moment'\r\nimport { userStore } from '@/store'\r\nexport default {\r\n  data() {\r\n    return {\r\n      alarms: [\r\n        {\r\n          Time: '2021/04/17 13:13:44',\r\n          Level: 'ALARM',\r\n          Source: 'System',\r\n          AlarmCode: 2,\r\n          Description_Zh: '車載管理系統斷線',\r\n          Description_En: 'VMS Disconnect',\r\n          OccurLocation: 32,\r\n          Equipment_Name: 'System',\r\n          Task_Name: '',\r\n          Duration: 0,\r\n          Checked: '',\r\n          ResetAalrmMemberName: '',\r\n        },\r\n        {\r\n          Time: '2021/04/18 12:23:23',\r\n          Level: 'WARNING',\r\n          Source: 'System',\r\n          AlarmCode: 2,\r\n          Description_Zh: '車載管理系統斷線',\r\n          Description_En: 'VMS Disconnect',\r\n          OccurLocation: 32,\r\n          Equipment_Name: 'System',\r\n          Task_Name: '',\r\n          Duration: 0,\r\n          Checked: '',\r\n          ResetAalrmMemberName: '',\r\n        }\r\n      ],\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    is_user_login() {\r\n      return userStore.getters.IsLogin;\r\n    },\r\n    sys_alarms() {\r\n      return this.alarms.filter(alarm => alarm.Source == 0)\r\n    },\r\n    eq_alarms() {\r\n      return this.alarms.filter(alarm => alarm.Source == 1)\r\n    }\r\n  },\r\n  mounted() {\r\n    var alarmHelper = new AlarmHelper(this.onmessage);\r\n  },\r\n  methods: {\r\n    ResetSystemAlarm() {\r\n      ResetSystemAlarm();\r\n    },\r\n    formatTime(time) {\r\n      return moment(time).format('yyyy/MM/DD HH:mm:ss')\r\n    },\r\n    onmessage(ev) {\r\n      this.alarms = JSON.parse(ev.data)\r\n    },\r\n    row_state_class_name({ row, rowIndex }) {\r\n      return row.Level == 1 ? 'ALARM' : 'WARNING';\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.alarm-view {\r\n  text-align: left;\r\n  padding: 8px;\r\n\r\n  .el-table {\r\n    .WARNING {\r\n      background: rgb(255, 210, 6);\r\n      color: black;\r\n    }\r\n\r\n    .ALARM {\r\n      background: rgb(232, 96, 96);\r\n      color: white;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./AlarmView.vue?vue&type=template&id=2f607c39\"\nimport script from \"./AlarmView.vue?vue&type=script&lang=js\"\nexport * from \"./AlarmView.vue?vue&type=script&lang=js\"\n\nimport \"./AlarmView.vue?vue&type=style&index=0&id=2f607c39&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {\r\n  createRouter,\r\n  createWebHashHistory,\r\n  createWebHistory,\r\n  createMemoryHistory,\r\n} from 'vue-router'\r\nimport HomeView from '../views/HomeView.vue'\r\nimport SystemSettings from '../views/SystemSettings.vue'\r\nimport DataVue from '../views/DataView.vue'\r\nimport AlarmView from '@/views/AlarmView.vue'\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'home',\r\n    component: HomeView\r\n  },\r\n  {\r\n    path: '/OP',\r\n    name: 'OP',\r\n    component: () => import('../views/SimpleOpUsePage.vue'),\r\n  },\r\n  {\r\n    path: '/maptest',\r\n    name: 'maptest',\r\n    component: () => import('../components/Map/Map.vue'),\r\n    meta: {\r\n      isAdminUse: true\r\n    }\r\n  },\r\n  {\r\n    path: '/map',\r\n    name: 'map',\r\n    component: () => import('../views/MapView.vue'),\r\n    meta: {\r\n      isAdminUse: true\r\n    }\r\n  },\r\n  {\r\n    path: '/racks_status',\r\n    name: 'racks_status',\r\n    component: () => import('../views/RacksStatusView.vue'),\r\n  },\r\n  {\r\n    path: '/sys_settings',\r\n    name: 'sys_settings',\r\n    component: SystemSettings,\r\n    meta: {\r\n      isAdminUse: true\r\n    }\r\n  },\r\n  {\r\n    path: '/data',\r\n    name: 'data',\r\n    component: DataVue,\r\n  },\r\n  {\r\n    path: '/alarm',\r\n    name: 'alarm',\r\n    component: AlarmView,\r\n  },\r\n]\r\n\r\nexport const tsmc_routes = [\r\n  {\r\n    path: '/',\r\n    name: 'home',\r\n    component: () => import('@/views/TSMC/TSMC_Home.vue'),\r\n    children: [\r\n      {\r\n        path: '/',\r\n        name: '/',\r\n        component: () => import('@/views/TSMC/Components/TaskDispatch.vue'),\r\n        meta: {\r\n          Display: \"車輛狀態與任務\"\r\n        }\r\n      },\r\n      {\r\n        path: 'BirdView',\r\n        name: 'BirdView',\r\n        component: () => import('@/views/TSMC/Components/BirdView.vue'),\r\n        meta: {\r\n          Display: \"Bird View\"\r\n        }\r\n      }, {\r\n        path: 'AGVLocus',\r\n        name: 'AGVLocus',\r\n        component: () => import('@/components/DataView/AGVLocus.vue'),\r\n        meta: {\r\n          Display: \"AGV軌跡\"\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/map',\r\n    name: 'map',\r\n    component: () => import('../views/MapView.vue'),\r\n  },\r\n  {\r\n    path: '/alarm',\r\n    name: 'alarm',\r\n    component: AlarmView,\r\n  },\r\n  {\r\n    path: '/data',\r\n    name: 'data',\r\n    component: DataVue,\r\n  },\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  // routes: tsmc_routes,\r\n  routes: routes,\r\n})\r\n\r\nexport default router\r\n","import { createStore } from 'vuex'\r\nimport { Login, StoreToLocalStorage, UserRouteChange } from '@/api/UserAPI';\r\nimport MapAPI from '@/api/MapAPI'\r\nimport clsAGVStateDto from \"@/ViewModels/clsAGVStateDto.js\"\r\n\r\n\r\nexport default createStore({\r\n\r\n  state: {\r\n    configs: {\r\n\r\n    }\r\n  },\r\n  mutations: {\r\n    setConfigs(state, configs) {\r\n      state.configs = configs\r\n    }\r\n  },\r\n  actions: {\r\n    SetConfig({ commit }, configs) {\r\n      commit('setConfigs', configs)\r\n    }\r\n  }\r\n})\r\n\r\nexport const agv_states_store = createStore({\r\n  state: {\r\n    agv_states: [new clsAGVStateDto()],\r\n    hotrun_states: []\r\n  },\r\n  getters: {\r\n    AGVStatesData: state => state.agv_states,\r\n    AGVNameList: state => {\r\n      return state.agv_states.map(agv => agv.AGV_Name)\r\n    },\r\n    HotRunStates: state => state.hotrun_states\r\n  },\r\n  mutations: {\r\n    storeAgvStates(state, data) {\r\n      state.agv_states = data\r\n    },\r\n    setHotRunStates(state, data) {\r\n      state.hotrun_states = data\r\n    }\r\n  }\r\n})\r\n\r\n/**系統參數設定狀態管理 */\r\nexport const agvs_settings_store = createStore({\r\n  state: {\r\n    sys_settings: {\r\n      operations: {\r\n        system_run_mode: false,\r\n        host_online_mode: false,\r\n        host_remote_mode: false,\r\n        transfer_mode: false\r\n      }\r\n    }\r\n  },\r\n  mutations: {\r\n    setOperations(state, operations) {\r\n      state.sys_settings.operations = operations\r\n    },\r\n    setRunMode(state, actived) {\r\n      state.sys_settings.operations.system_run_mode = actived\r\n    },\r\n    setHostOnline(state, actived) {\r\n      state.sys_settings.operations.host_online_mode = actived\r\n    },\r\n    setHostRemote(state, actived) {\r\n      state.sys_settings.operations.host_remote_mode = actived\r\n    },\r\n    setTransferRemote(state, actived) {\r\n      state.sys_settings.operations.transfer_mode = actived\r\n    }\r\n  },\r\n  actions: {\r\n\r\n  },\r\n  getters: {\r\n    IsRunMode: state => {\r\n      return state.sys_settings.operations.system_run_mode;\r\n    },\r\n\r\n  },\r\n  // modules: {\r\n  // }\r\n})\r\n\r\n/**用戶狀態管理 */\r\nexport const userStore = createStore({\r\n  state: {\r\n    user: null,\r\n    current_route: '',\r\n    web_user_id: ''\r\n  },\r\n  mutations: {\r\n    setUser(state, user) {\r\n      state.user = user\r\n      if (user) {\r\n        StoreToLocalStorage(user)\r\n      } else {\r\n        localStorage.removeItem('user')\r\n      }\r\n    },\r\n    setUserID(state, user_id) {\r\n      state.web_user_id = user_id;\r\n      console.log(user_id);\r\n    },\r\n    setRoute(state, route) {\r\n      state.current_route = route;\r\n      console.log(route);\r\n    },\r\n  },\r\n  actions: {\r\n    async login({ commit }, user) {\r\n      var server_reply = await Login(user);\r\n      if (server_reply.Success) {\r\n        commit('setUser', server_reply);\r\n      } else {\r\n        commit('setUser', null);\r\n      }\r\n      console.log(server_reply);\r\n      return { confirm: server_reply.Success, message: server_reply.Message }\r\n    },\r\n\r\n    logout({ commit }) {\r\n      commit('setUser', null)\r\n    },\r\n    async user_route_change({ commit, state }, route) {\r\n      commit('setRoute', route);\r\n      var result = await UserRouteChange(state.web_user_id, route)\r\n      return result\r\n    }\r\n  },\r\n  getters: {\r\n    IsLogin: state => {\r\n      return state.user != null;\r\n    },\r\n    level: state => {\r\n      if (state.user)\r\n        return state.user.Role\r\n      else\r\n        return -1\r\n    },\r\n    UserName: state => {\r\n      if (state.user)\r\n        return state.user.UserName\r\n      else\r\n        return \"\"\r\n    },\r\n    IsDeveloperLogining: state => {\r\n      if (state.user == null)\r\n        return false;\r\n      if (state.user.Role != 2 && state.user.Role != 3)\r\n        return false;\r\n      return true;\r\n    },\r\n    WebUserID: state => {\r\n      return state.web_user_id;\r\n    }\r\n  },\r\n})\r\n\r\nexport const UIStore = createStore({\r\n  state: {\r\n    locus: {\r\n    }\r\n  }\r\n})\r\n\r\nexport const EqStore = createStore({\r\n  state: {\r\n    EQ: [],\r\n    ChargeStation: {}\r\n  },\r\n  getters: {\r\n    EQData: state => {\r\n      return state.EQ;\r\n    },\r\n    ChargeStationData: state => {\r\n      return state.ChargeStation;\r\n    }\r\n  },\r\n  mutations: {\r\n    setData(state, data) {\r\n      state.EQ = data.EQPData\r\n      state.ChargeStation = data.ChargeStationData\r\n    }\r\n  },\r\n  actions: {\r\n  }\r\n})\r\n\r\n\r\n","<template>\r\n  <el-select v-model=\"selected\" @change=\"HandleSelectChanged\">\r\n    <el-option v-for=\"name in agvNameList\" :key=\"name\" :label=\"name\" :value=\"name\"></el-option>\r\n  </el-select>\r\n</template>\r\n\r\n<script>\r\nimport { agv_states_store } from '@/store'\r\n\r\nexport default {\r\n  props: {\r\n    default: {\r\n      type: String,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      selected: this.value\r\n    }\r\n  },\r\n  methods: {\r\n    HandleSelectChanged() {\r\n      //this.$emit('switch', this.isChecked);\r\n    }\r\n  },\r\n  computed: {\r\n    agvNameList() {\r\n      return agv_states_store.getters.AGVNameList;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.selected = this.default;\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./AGVSelector.vue?vue&type=template&id=30f9b062\"\nimport script from \"./AGVSelector.vue?vue&type=script&lang=js\"\nexport * from \"./AGVSelector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"agv-locus border rounded\">\r\n    <div class=\"w-100 d-flex\">\r\n      <div class=\"menu-container bg-light p-2 border\">\r\n        <div class=\"border-bottom my-1 py-2\">\r\n          <div class=\"time-pick text-start d-flex\">\r\n            <div>\r\n              <div class=\"label\">車輛選擇</div>\r\n              <AGVSelector v-model=\"agvname\"></AGVSelector>\r\n            </div>\r\n            <div>\r\n              <div class=\"label\">開始時間</div>\r\n              <el-date-picker\r\n                v-model=\"timePick.start_time\"\r\n                type=\"datetime\"\r\n                placeholder=\"選擇開始時間\"\r\n                format=\"YYYY/MM/DD HH:mm:ss\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <div class=\"label\">結束時間</div>\r\n              <el-date-picker\r\n                v-model=\"timePick.end_time\"\r\n                type=\"datetime\"\r\n                placeholder=\"選擇結束時間\"\r\n                format=\"YYYY/MM/DD HH:mm:ss\"\r\n              />\r\n            </div>\r\n            <el-button\r\n              @click=\"HandleSearchBtnClicked\"\r\n              style=\"height:30px;font-size: large;width:120px;position:relative;top:16px\"\r\n              class=\"my-2\"\r\n              type=\"primary\"\r\n            >搜尋</el-button>\r\n          </div>\r\n        </div>\r\n        <el-table\r\n          v-loading=\"loading\"\r\n          :data=\"tableData\"\r\n          style=\"width:720px\"\r\n          height=\"700\"\r\n          highlight-current-row\r\n          size=\"small\"\r\n        >\r\n          <el-table-column align=\"center\" label=\"No\" width=\"50\">\r\n            <template #default=\"scope\">\r\n              <div>{{GetNo(scope.row)}}</div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"Task ID\" prop=\"task_id\"></el-table-column>\r\n          <el-table-column label=\"開始時間\" prop=\"start_time\">\r\n            <template #default=\"scope\">{{ FormatTime(scope.row.start_time) }}</template>\r\n          </el-table-column>\r\n          <el-table-column label=\"結束時間\" prop=\"end_time\">\r\n            <template #default=\"scope\">{{ FormatTime(scope.row.end_time) }}</template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"花費時間(秒)\" prop=\"duration\" min-width=\"60\">\r\n            <template #default=\"scope\">\r\n              <div>\r\n                <el-tag effect=\"dark\" type=\"info\">{{ CalculatTimeSpend(scope.row) }}</el-tag>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"顯示軌跡\" min-width=\"50\">\r\n            <template #default=\"scope\">\r\n              <div class=\"w-100\" @click=\"ShowLocusHandler(scope.row)\">\r\n                <i class=\"view-icon bi bi-eye-fill\"></i>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n      <div class=\"bg-light border flex-fill\">\r\n        <div class=\"locus-settings bg-dark text-light d-flex py-1 px-3\">\r\n          <div>\r\n            <span>軌跡顏色</span>\r\n            <el-color-picker @change=\"HandleLocusSettingChange\" v-model=\"locus_settings.color\" />\r\n          </div>\r\n          <div>\r\n            <span>軌跡寬度</span>\r\n            <el-select v-model=\"locus_settings.width\" @change=\"HandleLocusSettingChange\">\r\n              <el-option v-for=\"width in 12\" :key=\"width\" :value=\"width\"></el-option>\r\n            </el-select>\r\n          </div>\r\n          <div class=\"flex-fill text-end\">\r\n            <el-button type=\"primary\">儲存軌跡圖</el-button>\r\n          </div>\r\n        </div>\r\n        <Map\r\n          v-loading=\"locus_painting\"\r\n          class=\"bg-light border\"\r\n          ref=\"map\"\r\n          id=\"locus_map\"\r\n          :editable=\"false\"\r\n          :agv_show=\"false\"\r\n          :station_show=\"true\"\r\n        ></Map>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AGVSelector from '@/components/AGVSelector'\r\n\r\nimport Map from '@/components/Map/Map.vue'\r\nimport { GetTasks, GetTrajectory } from '@/api/TaskAPI.js'\r\nimport { agv_states_store } from '@/store'\r\nimport { MapStore } from '@/components/Map/store'\r\nimport moment from 'moment'\r\nexport default {\r\n  components: {\r\n    Map, AGVSelector\r\n  },\r\n  computed: {\r\n    agvNameList() {\r\n      return agv_states_store.getters.AGVNameList;\r\n    },\r\n    map_station_data() {\r\n      return MapStore.getters.MapStations\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      tableData: [\r\n        {\r\n          task_id: '',\r\n          start_time: '2023-08-03 12:00:00',\r\n          end_time: '2023-08-03 12:10:00',\r\n          duration: 600,\r\n          corrdinations: [[0, 0], [-1.2, 2.2], [-1.3, 2.3], [-1.4, 3]]\r\n        },\r\n\r\n      ],\r\n      agvname: 'AGV_001',\r\n      timePick: {\r\n        start_time: '2023-08-03 12:00:00',\r\n        end_time: '2023-08-04 12:00:00'\r\n      },\r\n      locus_settings: {\r\n\r\n        color: 'red',\r\n        width: 1,\r\n      },\r\n      showing_row_data: {},\r\n      loading: false,\r\n      locus_painting: false\r\n    }\r\n  },\r\n  methods: {\r\n    SetDefaultTimeInterval() {\r\n\r\n    },\r\n    GetNo(row) {\r\n      return this.tableData.indexOf(row) + 1;\r\n    },\r\n    async ShowLocusHandler(row_data) {\r\n\r\n      try {\r\n        this.locus_painting = true;\r\n        setTimeout(async () => {\r\n          if (row_data.corrdinations == undefined) {\r\n\r\n            var trajData = await GetTrajectory(row_data.task_id)\r\n            if (trajData) {\r\n              row_data.corrdinations = trajData.coordinations.map(data => ([data.X, data.Y]))\r\n              this.showing_row_data = row_data;\r\n            }\r\n          }\r\n\r\n          this.$refs.map.ShowLocus(row_data.corrdinations, this.locus_settings.color, this.locus_settings.width)\r\n          this.locus_painting = false;\r\n        }, 300);\r\n      } catch (error) {\r\n        this.$swal.fire(\r\n          {\r\n            text: error.response.data,\r\n            title: '後端服務異常',\r\n            icon: 'error',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n      }\r\n\r\n    },\r\n    FormatTime(time) {\r\n      return moment(time).format('YYYY/MM/DD HH:mm:ss')\r\n    },\r\n    HandleLocusSettingChange() {\r\n      this.$refs.map.ShowLocus(this.showing_row_data.corrdinations, this.locus_settings.color, this.locus_settings.width)\r\n    },\r\n    async HandleSearchBtnClicked() {\r\n\r\n      this.SaveLocusSettingsToLocalStroage();\r\n      if (this.agvname == '') {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '請選擇車輛',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n        return;\r\n      }\r\n\r\n      var startTime = moment(this.timePick.start_time).format('YYYY/MM/DD HH:mm:ss')\r\n      var endTime = moment(this.timePick.end_time).format('YYYY/MM/DD HH:mm:ss')\r\n      var tasklist = []\r\n      this.loading = true;\r\n      setTimeout(async () => {\r\n        tasklist = await GetTasks(startTime, endTime, this.agvname)\r\n        this.tableData = tasklist.map(obj => ({\r\n          task_id: obj.TaskName,\r\n          start_time: obj.RecieveTime,\r\n          end_time: obj.FinishTime,\r\n          duration: 0,\r\n          corrdinations: undefined\r\n        }))\r\n        this.loading = false\r\n      }, 200);\r\n\r\n    },\r\n\r\n    SaveLocusSettingsToLocalStroage() {\r\n      localStorage.setItem('locus', JSON.stringify({ locus_paint: this.locus_settings, time: this.timePick }))\r\n    },\r\n    ReloadLocusSettingsFromLocalStorage() {\r\n      var settings_json = localStorage.getItem('locus')\r\n      if (settings_json) {\r\n        var store = JSON.parse(settings_json);\r\n        if (store.locus_paint)\r\n          this.locus_settings = store.locus_paint\r\n        if (store.time)\r\n          this.timePick = store.time\r\n        else {\r\n          this.timePick.start_time = this.timePick.end_time = moment(Date.now()).format('YYYY-MM-DD HH:mm:ss')\r\n        }\r\n      }\r\n    },\r\n    CalculatTimeSpend(row) {\r\n      return moment(row.end_time).unix() - moment(row.start_time).unix();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.SetDefaultTimeInterval();\r\n    this.ReloadLocusSettingsFromLocalStorage();\r\n    //假資料 \r\n    this.tableData = []\r\n    // for (let index = 1; index < 51; index++) {\r\n    //   var coordinates = []\r\n    //   for (let n = 1; n < 100; n++) {\r\n    //     coordinates.push([(n / 50.0) + (n % index * (n % 2 == 0 ? 0.1 : -1)), n / 10])\r\n    //   }\r\n    //   this.tableData.push({\r\n    //     start_time: `2022-08-03 12:${index}:00`,\r\n    //     end_time: '2022-08-03 12:10:00',\r\n    //     duration: 600,\r\n    //     corrdinations: coordinates\r\n    //   })\r\n\r\n    // }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.agv-locus {\r\n  padding-right: 3%;\r\n  .time-pick {\r\n    .label {\r\n      font-weight: bold;\r\n      letter-spacing: 2px;\r\n    }\r\n  }\r\n  .view-icon:hover {\r\n    cursor: pointer;\r\n    font-size: large;\r\n  }\r\n\r\n  .locus-settings {\r\n    span {\r\n      font-weight: bold;\r\n    }\r\n    span,\r\n    div {\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./AGVLocus.vue?vue&type=template&id=4893f878&scoped=true\"\nimport script from \"./AGVLocus.vue?vue&type=script&lang=js\"\nexport * from \"./AGVLocus.vue?vue&type=script&lang=js\"\n\nimport \"./AGVLocus.vue?vue&type=style&index=0&id=4893f878&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4893f878\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"agv-status card-like\">\r\n    <div class=\"title\">\r\n      <i class=\"bi bi-three-dots-vertical\"></i>車輛狀態 STATUS\r\n    </div>\r\n    <el-tabs class=\"px-1\" tab-position=\"top\">\r\n      <el-tab-pane\r\n        v-for=\"group in Groups\"\r\n        :key=\"group.group\"\r\n        :label=\"`${group.group_name}(${group.agv_states.length})`\">\r\n        <el-table\r\n          v-if=\"!IsEasyMode\"\r\n          :header-cell-style=\"{ color: 'white', border: '1px solid rgb(222, 226, 230)', backgroundColor: 'rgb(13, 110, 253)' }\"\r\n          :data=\"group.agv_states\"\r\n          size=\"small\"\r\n          height=\"93%\"\r\n          empty-text=\"沒有AGV\"\r\n          :row-class-name=\"connected_class\"\r\n          highlight-current-row\r\n          style=\"width:100%\"\r\n          border\r\n          class=\"border\"\r\n          @row-click=\"HandleRowClick\">\r\n          <el-table-column label=\"車輛名稱\" prop=\"AGV_Name\" align=\"center\" min-width=\"80px\" type=\"index\">\r\n            <template #default=\"scope\">\r\n              <b>{{ scope.row.AGV_Name.toUpperCase() }}</b>\r\n            </template>\r\n          </el-table-column>\r\n          <!-- <el-table-column label=\"AGV ID\" prop=\"AGV_ID\"></el-table-column> -->\r\n          <!-- <el-table-column label=\"通訊狀態\"></el-table-column> -->\r\n          <el-table-column label=\"AGV 狀態\" align=\"left\" width=\"300\">\r\n            <template #default=\"scope\">\r\n              <div class=\"w-100\" style=\"position: absolute; top:0;left:0\">\r\n                <el-row class=\"h-50\">\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border px-1 py-2 text-center  bg-light\">狀態</div>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <div class=\"h-100 border p-1\">\r\n                      <el-tag class=\"h-100 w-100\" effect=\"dark\" :type=\"AGV_Status_TagType(scope.row.MainStatus)\">\r\n                        <b>{{ AGVStatusFormatter(scope.row) }}</b>\r\n                      </el-tag>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"4\">\r\n                    <div class=\"h-100 border py-2 text-center  bg-light\">載物ID </div>\r\n                  </el-col>\r\n                  <el-col :span=\"11\">\r\n                    <div class=\"h-100 w-100 border p-2\"> <b> {{ scope.row.CurrentCarrierID }}</b></div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row class=\"h-50\">\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border px-1 py-2 text-center  bg-light\">派車</div>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <div class=\"h-100 border p-1\">\r\n                      <el-tag class=\"h-100 w-100 \"\r\n                        effect=\"dark\"\r\n                        @click=\"ShowOnlineStateChangeModal(scope.row.AGV_Name, scope.row.OnlineStatus, scope.row.Model)\"\r\n                        :type=\"scope.row.OnlineStatus == 0 ? 'info' : 'success'\">\r\n                        <b>{{ scope.row.OnlineStatus == 1 ? '已上線' : '離線中' }}</b>\r\n                      </el-tag>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"4\">\r\n                    <div class=\"h-100 border py-2 text-center bg-light\">位置 </div>\r\n                  </el-col>\r\n                  <el-col :span=\"11\">\r\n                    <div class=\"w-100 h-100 border p-1\">\r\n                      <i\r\n                        class=\"bi bi-geo-alt-fill\"\r\n                        style=\"font-size:20px;cursor:pointer\"\r\n                        @click=\"HandleShowAGVInMapCenter(scope.row.AGV_Name)\"></i>\r\n                      <b>{{ scope.row.StationName }}</b>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row class=\"h-50\">\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border px-1 py-2 text-center  bg-light\">電量</div>\r\n                  </el-col>\r\n                  <el-col :span=\"21\">\r\n                    <div class=\"h-100 border px-2 py-3 d-flex\">\r\n                      <b-progress class=\"flex-fill\" :max=\"100\" :min=\"0\" animated>\r\n                        <i\r\n                          v-if=\"scope.row.IsCharging\"\r\n                          v-bind:class=\"BatteryClass(scope.row.BatteryLevel_1, scope.row.IsCharging)\"\r\n                          style=\"color:white\"\r\n                          class=\"bi bi-lightning-charge battery-icon\"></i>\r\n                        <b-progress-bar\r\n                          :animated=\"true\"\r\n                          v-bind:class=\"BatteryClass(scope.row.BatteryLevel_1, scope.row.IsCharging)\"\r\n                          :value=\"scope.row.BatteryLevel_1\"\r\n                          :label=\"`${((scope.row.BatteryLevel_1 / 100) * 100).toFixed(2)}%`\"></b-progress-bar>\r\n                      </b-progress>\r\n                      <b-progress\r\n                        v-if=\"scope.row.BatteryLevel_2 != -1.0\"\r\n                        class=\"flex-fill mx-1\"\r\n                        :max=\"100\"\r\n                        :min=\"0\"\r\n                        animated>\r\n                        <i\r\n                          v-if=\"scope.row.IsCharging\"\r\n                          v-bind:class=\"BatteryClass(scope.row.BatteryLevel_2, scope.row.IsCharging)\"\r\n                          style=\"color:white\"\r\n                          class=\"bi bi-lightning-charge battery-icon\"></i>\r\n                        <b-progress-bar\r\n                          :animated=\"true\"\r\n                          v-bind:class=\"BatteryClass(scope.row.BatteryLevel_2, scope.row.IsCharging)\"\r\n                          :value=\"scope.row.BatteryLevel_2\"\r\n                          :label=\"`${((scope.row.BatteryLevel_2 / 100) * 100).toFixed(2)}%`\"></b-progress-bar>\r\n                      </b-progress>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <!-- <el-table-column label=\"上線狀態\" prop=\"OnlineStatus\" align=\"center\" width=\"80\">\r\n            <template #default=\"scope\">\r\n              <div class=\"online-status-div\">\r\n                <el-tag\r\n                  effect=\"dark\"\r\n                  @click=\"ShowOnlineStateChangeModal(scope.row.AGV_Name, scope.row.OnlineStatus, scope.row.Model)\"\r\n                  :type=\"scope.row.OnlineStatus == 0 ? 'danger' : 'success'\">\r\n                  <b>{{ scope.row.OnlineStatus == 1 ? '已上線' : '離線中' }}</b>\r\n                </el-tag>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"運轉狀態\"\r\n            prop=\"MainStatus\"\r\n            :formatter=\"AGVStatusFormatter\"\r\n            align=\"center\"\r\n            width=\"80\">\r\n            <template #default=\"scope\">\r\n              <div>\r\n                <el-tag effect=\"dark\" :type=\"AGV_Status_TagType(scope.row.MainStatus)\">\r\n                  <b>{{ AGVStatusFormatter(scope.row) }}</b>\r\n                </el-tag>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"位置\" prop=\"StationName\" align=\"left\">\r\n            <template #default=\"scope\">\r\n              <div>\r\n                <i\r\n                  class=\"bi bi-geo-alt-fill\"\r\n                  style=\"font-size:20px;cursor:pointer\"\r\n                  @click=\"HandleShowAGVInMapCenter(scope.row.AGV_Name)\"></i>\r\n                <b>{{ scope.row.StationName }}</b>\r\n              </div>\r\n            </template>\r\n          </el-table-column> -->\r\n          <el-table-column label=\"任務狀態\" align=\"left\" min-width=\"420\">\r\n            <template #default=\"scope\">\r\n              <div class=\"w-100\" style=\"position: absolute; top:0;left:0\">\r\n                <el-row class=\"h-50\">\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border p-2 text-center  bg-light\">狀態</div>\r\n                  </el-col>\r\n                  <el-col :span=\"21\">\r\n                    <div class=\"h-100 border p-1\">\r\n                      <b>{{ GetTransferProcessDescription(scope.row, scope.row.TransferProcess) }} {{ scope.row.TaskName == '' ? '' : `(${scope.row.TaskName})` }}</b>\r\n                    </div>\r\n                  </el-col>\r\n                  <!-- <el-col :span=\"3\">\r\n                    <div class=\"h-100 border p-2 text-center  bg-light\">ID</div>\r\n                  </el-col>\r\n                  <el-col :span=\"12\">\r\n                    <div class=\"h-100 border p-1\">\r\n                      <b>{{ scope.row.TaskName }}</b>\r\n                    </div>\r\n                  </el-col> -->\r\n                </el-row>\r\n                <el-row class=\"h-50\">\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border px-1 py-2 text-center  bg-light\">起點</div>\r\n                  </el-col>\r\n                  <el-col :span=\"9\">\r\n                    <div class=\"h-100 border p-1\">\r\n                      <el-tag class=\"h-100 w-100 \"\r\n                        effect=\"light\">\r\n                        <b>{{ scope.row.TaskSourceStationName }}</b>\r\n                      </el-tag>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border py-2 text-center bg-light\">目的地 </div>\r\n                  </el-col>\r\n                  <el-col :span=\"9\">\r\n                    <div class=\"h-100 border p-1\">\r\n                      <el-tag class=\"h-100 w-100 \"\r\n                        effect=\"light\">\r\n                        <b>{{ scope.row.TaskDestineStationName }}</b>\r\n                      </el-tag>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row class=\"h-50\">\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border px-1 py-2 text-center  bg-light\">操作</div>\r\n                  </el-col>\r\n                  <el-col :span=\"21\">\r\n                    <div class=\"h-100 border p-1 d-flex\">\r\n                      <b-button\r\n                        class=\"w-50 my-1 mx-2\"\r\n                        @click=\"ShowOnlineStateChangeModal(scope.row.AGV_Name, scope.row.OnlineStatus, scope.row.Model)\"\r\n                        size=\"sm\"\r\n                        :variant=\"scope.row.OnlineStatus == 1 ? 'danger' : 'success'\"> {{ scope.row.OnlineStatus == 1 ? '下線' : '請求上線' }} </b-button>\r\n                      <b-button v-if=\"!IsRunMode\"\r\n                        class=\"w-50 my-1 mx-2\"\r\n                        @click=\"ShowTaskAllocationView(scope.row)\"\r\n                        size=\"sm\"\r\n                        variant=\"primary\">\r\n                        <i class=\"bi bi-bus-front\"></i>任務 </b-button>\r\n                      <b-button v-if=\"!IsRunMode\"\r\n                        class=\"w-50 my-1 mx-2\"\r\n                        @click=\"ShowAGVChargeConfirmDialog(scope.row)\"\r\n                        size=\"sm\"\r\n                        variant=\"warning\">\r\n                        <i class=\"bi bi-lightning-charge-fill\"></i> {{ group.group == 3 ? '交換電池' : '充電' }} </b-button>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <!-- <el-table-column prop=\"TaskName\" label=\"任務名稱\" /> -->\r\n          <!-- <el-table-column label=\"任務\">\r\n            <el-table-column prop=\"TaskName\" label=\"名稱\" />\r\n            <el-table-column prop=\"TaskRunStatus\" label=\"狀態\">\r\n              <template #default=\"scope\">\r\n                <div\r\n                  v-show=\"scope.row.TaskName!=''\"\r\n                >{{ this.GetTaskRunStatusString(scope.row.TaskRunStatus) }}</div>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table-column>\r\n          -->\r\n          <!-- <el-table-column\r\n            v-if=\"group.group == 0 || group.group == 1\"\r\n            label=\"載物ID\"\r\n            prop=\"CurrentCarrierID\"></el-table-column> -->\r\n          <!-- <el-table-column label=\"電量\" prop=\"BatteryLevel\" min-width=\"120\">\r\n            <template #default=\"scope\">\r\n              <div>\r\n                <b-progress class=\"flex-fill\" :max=\"100\" :min=\"0\" animated>\r\n                  <i\r\n                    v-if=\"scope.row.IsCharging\"\r\n                    v-bind:class=\"BatteryClass(scope.row.BatteryLevel_1, scope.row.IsCharging)\"\r\n                    style=\"color:white\"\r\n                    class=\"bi bi-lightning-charge battery-icon\"></i>\r\n                  <b-progress-bar\r\n                    :animated=\"true\"\r\n                    v-bind:class=\"BatteryClass(scope.row.BatteryLevel_1, scope.row.IsCharging)\"\r\n                    :value=\"scope.row.BatteryLevel_1\"\r\n                    :label=\"`${((scope.row.BatteryLevel_1 / 100) * 100).toFixed(2)}%`\"></b-progress-bar>\r\n                </b-progress>\r\n                <b-progress\r\n                  v-if=\"scope.row.BatteryLevel_2 != -1.0\"\r\n                  class=\"flex-fill my-1\"\r\n                  :max=\"100\"\r\n                  :min=\"0\"\r\n                  animated>\r\n                  <i\r\n                    v-if=\"scope.row.IsCharging\"\r\n                    v-bind:class=\"BatteryClass(scope.row.BatteryLevel_2, scope.row.IsCharging)\"\r\n                    style=\"color:white\"\r\n                    class=\"bi bi-lightning-charge battery-icon\"></i>\r\n                  <b-progress-bar\r\n                    :animated=\"true\"\r\n                    v-bind:class=\"BatteryClass(scope.row.BatteryLevel_2, scope.row.IsCharging)\"\r\n                    :value=\"scope.row.BatteryLevel_2\"\r\n                    :label=\"`${((scope.row.BatteryLevel_2 / 100) * 100).toFixed(2)}%`\"></b-progress-bar>\r\n                </b-progress>\r\n              </div>\r\n            </template>\r\n          </el-table-column> -->\r\n          <el-table-column width=\"1\">\r\n            <template #default=\"scope\">\r\n              <div v-bind:style=\"{ height: IsRunMode ? '110px' : '125px' }\" class=\"d-flex flex-column\">\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div v-else class=\" easy-mode\">\r\n          <div\r\n            v-for=\"state in group.agv_states\"\r\n            :key=\"state.AGV_Name\"\r\n            class=\"easy-mode-car-card border rounded my-2 p-2\"\r\n            v-bind:style=\"{ backgroundColor: state.Connected ? 'rgb(229, 255, 240)' : 'rgb(255, 184, 182)' }\">\r\n            <!-- {{ state.AGV_Name }} -->\r\n            <div class=\"d-flex\">\r\n              <div class=\"mx-1 border-end px-1\">\r\n                <span class=\"border-bottom\" style=\"font-weight:bolder\">{{ state.AGV_Name }}</span>\r\n                <div class=\"py-1\">\r\n                  <img src=\"agv.png\" @click=\"HandleShowAGVInMapCenter(state.AGV_Name)\" />\r\n                  <el-tag\r\n                    effect=\"dark\"\r\n                    @click=\"ShowOnlineStateChangeModal(state.AGV_Name, state.OnlineStatus, state.Model)\"\r\n                    :type=\"state.OnlineStatus == 0 ? 'danger' : 'success'\">\r\n                    <b>{{ state.OnlineStatus == 1 ? 'ONLINE' : 'OFFLINE' }}</b>\r\n                  </el-tag>\r\n                </div>\r\n              </div>\r\n              <div style=\"padding-top:5px\" class=\"w-100\">\r\n                <div class=\"d-flex w-100\">\r\n                  <div class=\"item-title\">狀態</div>\r\n                  <div class=\"w-100 text-start\">\r\n                    <el-tag effect=\"dark\" :type=\"AGV_Status_TagType(state.MainStatus)\">\r\n                      <b>{{ AGVStatusFormatter(state) }}</b>\r\n                    </el-tag>\r\n                  </div>\r\n                </div>\r\n                <div class=\"d-flex w-100 my-2\">\r\n                  <div class=\"item-title\">電量</div>\r\n                  <div class=\"w-100 px-1 text-start\">\r\n                    <div style=\"width:110px\">\r\n                      <b-progress class=\"flex-fill\" :max=\"100\" :min=\"0\" animated>\r\n                        <b-progress-bar\r\n                          :animated=\"true\"\r\n                          v-bind:class=\"BatteryClass(state.BatteryLevel_1)\"\r\n                          :value=\"state.BatteryLevel_1\"\r\n                          :label=\"`${((state.BatteryLevel_1 / 100) * 100).toFixed(2)}%`\"></b-progress-bar>\r\n                      </b-progress>\r\n                      <b-progress\r\n                        v-if=\"state.BatteryLevel_2 != -1.0\"\r\n                        class=\"flex-fill my-1\"\r\n                        :max=\"100\"\r\n                        :min=\"0\"\r\n                        animated>\r\n                        <b-progress-bar\r\n                          :animated=\"true\"\r\n                          v-bind:class=\"BatteryClass(state.BatteryLevel_2)\"\r\n                          :value=\"state.BatteryLevel_2\"\r\n                          :label=\"`${((state.BatteryLevel_2 / 100) * 100).toFixed(2)}%`\"></b-progress-bar>\r\n                      </b-progress>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"d-flex w-100 my-1\">\r\n                  <div class=\"item-title\">位置</div>\r\n                  <div class=\"w-100 text-start\" style=\"font-size:font-size: 14px;\">\r\n                    <b>{{ state.StationName }}</b>\r\n                    <i\r\n                      class=\"bi bi-geo-alt-fill\"\r\n                      style=\"font-size:20px;cursor:pointer\"\r\n                      @click=\"HandleShowAGVInMapCenter(state.AGV_Name)\"></i>\r\n                  </div>\r\n                </div>\r\n                <div class=\"d-flex w-100 my-1\">\r\n                  <div class=\"item-title\">載物ID</div>\r\n                  <div class=\"w-100 text-start\">\r\n                    <b>{{ state.Cst }}</b>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n  <!--Modals-->\r\n  <div class=\"modals\">\r\n    <b-modal\r\n      v-model=\"ShowOnlineStateChange\"\r\n      title=\"ONLINE / OFFLINE REQUEST CONFIRM.\"\r\n      :centered=\"true\"\r\n      @ok=\"SendOnlineStateChangeRequest\"\r\n      :no-close-on-esc=\"true\"\r\n      header-bg-variant=\"warning\"\r\n      header-text-variant=\"light\">\r\n      <p ref=\"online_status_change_noti_txt\"></p>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Notifier from '@/api/NotifyHelper';\r\nimport bus from '@/event-bus';\r\nimport { IsLoginLastTime } from '@/api/AuthHelper';\r\nimport { OnlineRequest, OfflineRequest } from '@/api/VMSAPI';\r\nimport { TaskAllocation, clsChargeTaskData } from '@/api/TaskAllocation.js'\r\nimport { userStore, agvs_settings_store, agv_states_store } from '@/store'\r\nexport default {\r\n  mounted() {\r\n  },\r\n  data() {\r\n    return {\r\n\r\n      ShowOnlineStateChange: false,\r\n      ShowChargeConfirmDialog: false,\r\n      OnlineStatusReq: {\r\n        AGV_Name: '',\r\n        Online_Status: '',\r\n        Model: 0\r\n      },\r\n    }\r\n  },\r\n  props: {\r\n    IsEasyMode: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n  },\r\n  methods: {\r\n    HandleRowClick(row, row_) {\r\n      //alert(row.IP + `:${row.Port}`)\r\n    },\r\n    HandleShowAGVInMapCenter(agv_name) {\r\n      bus.emit('/show_agv_at_center', agv_name)\r\n    },\r\n    ShowTaskAllocationView(clsAgvStatus) {\r\n      if (!IsLoginLastTime().isLogin) {\r\n        this.$swal.fire({\r\n          title: '權限不足',\r\n          text: '您沒有指派任務的權限，請先進行登入。',\r\n          icon: 'warning',\r\n          showCancelButton: true\r\n        }).then((confirm) => {\r\n          if (confirm.isConfirmed)\r\n            bus.emit('/show-login-view-invoke', '');\r\n        });\r\n        return;\r\n      }\r\n      bus.emit('bus-show-task-allocation', { agv_name: clsAgvStatus.AGV_Name, agv_type: clsAgvStatus.Model, action: '', station_data: undefined });\r\n    },\r\n    ShowOnlineStateChangeModal(agv_name, current_online_status, Model) {\r\n\r\n      if (!this.IsLogin) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '沒有請求車子上下線的權限，請先進行登入',\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: '登入',\r\n            cancelButtonText: '取消',\r\n            customClass: 'my-sweetalert'\r\n          }).then(response => {\r\n            if (response.isConfirmed) {\r\n              bus.emit('/show-login-view-invoke', '');\r\n            }\r\n          })\r\n        return;\r\n      }\r\n      this.OnlineStatusReq.AGV_Name = agv_name;\r\n      this.OnlineStatusReq.Online_Status = current_online_status == 0 ? 'Online' : 'Offline';\r\n      this.OnlineStatusReq.Model = Model;\r\n      var online_text = this.OnlineStatusReq.Online_Status == 'Online' ? '上線' : '下線';\r\n      this.$swal.fire(\r\n        {\r\n          text: `確定要將 ${this.OnlineStatusReq.AGV_Name} ${online_text}?`,\r\n          title: `${this.OnlineStatusReq.AGV_Name} - ${online_text}`,\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(async (res) => {\r\n          if (res.isConfirmed) {\r\n            var resp = await this.SendOnlineStateChangeRequest()\r\n          }\r\n        })\r\n\r\n    },\r\n    async SendOnlineStateChangeRequest() {\r\n      Notifier.Primary(`${this.OnlineStatusReq.AGV_Name} ${this.OnlineStatusReq.Online_Status} 請求已送出`, 'top', 2000);\r\n      var response = null\r\n      try {\r\n\r\n\r\n        if (this.OnlineStatusReq.Online_Status == 'Online') {\r\n          var res = await OnlineRequest(this.OnlineStatusReq.AGV_Name, this.OnlineStatusReq.Model);\r\n          response = res.data;\r\n        } else {\r\n          var res = await OfflineRequest(this.OnlineStatusReq.AGV_Name, this.OnlineStatusReq.Model);\r\n          response = res.data;\r\n        }\r\n        if (response.ReturnCode != 0) {\r\n          this.$swal.fire(\r\n            {\r\n              text: `${this.OnlineStatusReq.AGV_Name} ${this.OnlineStatusReq.Online_Status} 失敗:${response.Message}`,\r\n              title: '',\r\n              icon: 'error',\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              customClass: 'my-sweetalert'\r\n            })\r\n        }\r\n      } catch (error) {\r\n        this.$swal.fire(\r\n          {\r\n            title: 'VMS系統通訊異常',\r\n            text: `${error.message} , Please confirm that the VMS is currently in service.`,\r\n            icon: 'error',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n      }\r\n\r\n    },\r\n    ShowAGVChargeConfirmDialog(agv_status) {\r\n\r\n      if (userStore.getters.level < 0) {\r\n        this.$swal.fire({\r\n          title: '權限不足',\r\n          text: '您沒有指派AGV充電的權限，請先進行登入。',\r\n          icon: 'warning',\r\n          showCancelButton: true\r\n\r\n        }).then((confirm) => {\r\n          if (confirm.isConfirmed)\r\n            bus.emit('/show-login-view-invoke', '');\r\n        });\r\n        return;\r\n      }\r\n\r\n\r\n      this.Agv_Selected = agv_status.AGV_Name;\r\n\r\n\r\n      this.$swal.fire(\r\n        {\r\n          title: `確定要將${agv_status.AGV_Name}派送至充電站充電?`,\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(res => {\r\n          if (res.isConfirmed) {\r\n            this.AGVChargeTask()\r\n          }\r\n        })\r\n    },\r\n    AGVChargeTask() {\r\n      TaskAllocation.ChargeTask(new clsChargeTaskData(this.Agv_Selected, -1))\r\n    },\r\n    AGV_Status_TagType(status_code) {\r\n      if (status_code == 1)\r\n        return \"warning\"\r\n      else if (status_code == 2)\r\n        return \"success\"\r\n      else if (status_code == 3)\r\n        return \"danger\"\r\n      else if (status_code == 4)\r\n        return \"\"\r\n      else\r\n        return \"\"\r\n    },\r\n    GetTaskRunStatusString(status_code) {\r\n      if (status_code == 1)\r\n        return \"等待\"\r\n      else if (status_code == 2)\r\n        return \"執行中\"\r\n      else if (status_code == 3)\r\n        return \"完成\"\r\n      else if (status_code == 4)\r\n        return \"失敗\"\r\n      else\r\n        return \"Unknown\"\r\n    },\r\n    GetAGVStatusString(status_code) {\r\n      if (status_code == 1)\r\n        return \"閒置中\"\r\n      else if (status_code == 2)\r\n        return \"執行中\"\r\n      else if (status_code == 3)\r\n        return \"當機\"\r\n      else if (status_code == 4)\r\n        return \"充電中\"\r\n      else\r\n        return \"Unknown\"\r\n    },\r\n    GetTransferProcessDescription(agv_data, status_code) {\r\n      if (agv_data.MainStatus != 2 || status_code == 0 || status_code == 9)\r\n        return \"\"\r\n      else if (status_code == 1)\r\n        return \"前往來源設備\"\r\n      else if (status_code == 2)\r\n        return \"取貨中\"\r\n      else if (status_code == 3)\r\n        return \"前往終點設備\"\r\n      else if (status_code == 4)\r\n        return \"放貨中\"\r\n      else if (status_code == 5)\r\n        return \"退出充電站/WIP\"\r\n      else if (status_code == 6)\r\n        return \"移動中\"\r\n      else if (status_code == 7)\r\n        return \"前往充電站\"\r\n      else if (status_code == 8)\r\n        return \"停車-充電站\"\r\n      else\r\n        return \"Unknown\"\r\n    },\r\n    AGVStatusFormatter(row, column) {\r\n      if (row == undefined)\r\n        return this.GetAGVStatusString(999)\r\n\r\n      var status_code = row.MainStatus;\r\n      return this.GetAGVStatusString(status_code)\r\n    },\r\n    connected_class({ row, rowIndex }) {\r\n      var agv_row_class = this.IsRunMode ? 'agv-row-no-operation' : 'agv-row';\r\n      return row.Connected ? `${agv_row_class} connect` : `${agv_row_class} disconnect`\r\n    }\r\n    ,\r\n    BatteryClass(level, isCharging = false) {\r\n\r\n      if (isCharging)\r\n        return 'batter-charging'\r\n      if (level >= 30) {\r\n        return 'batter-full-level'\r\n      }\r\n      else if (level > 10 && level < 30) {\r\n        return 'batter-mid-level'\r\n      }\r\n      else {\r\n        return 'batter-low-level'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    AGVDatas() {\r\n      return agv_states_store.getters.AGVStatesData;\r\n    },\r\n    Groups() {\r\n\r\n      function GetGroupName(group_enum) {\r\n        if (group_enum == 0)\r\n          return 'Fork AGV'\r\n        else if (group_enum == 1)\r\n          return '潛盾 AGV'\r\n        else if (group_enum == 2)\r\n          return 'YUNTECH AGV'\r\n        else if (group_enum == 3)\r\n          return '巡檢 AGV'\r\n        else\r\n          return 'GROUP'\r\n      }\r\n\r\n      var groups = this.AGVDatas.map(agv => agv.Group)\r\n      const uniqueGroups = [...new Set(groups)];\r\n      var output = [];\r\n      for (let index = 0; index < uniqueGroups.length; index++) {\r\n        const group = uniqueGroups[index];\r\n        var agvlist = this.AGVDatas.filter(agv => agv.Group == group)\r\n        output.push({ group: group, group_name: GetGroupName(group), agv_states: agvlist })\r\n      }\r\n\r\n      return output;\r\n    },\r\n    IsLogin() {\r\n      return userStore.getters.IsLogin;\r\n    },\r\n    IsRunMode() {\r\n      return agvs_settings_store.getters.IsRunMode;\r\n    },\r\n    AGV_Names() {\r\n      var agv_name_list = [];\r\n      this.AGVDatas.forEach(agvData => {\r\n        agv_name_list.push(agvData.AGV_Name);\r\n      });\r\n      return agv_name_list\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.agv-status {\r\n  .easy-mode {\r\n    font-size: 18px;\r\n\r\n    .easy-mode-car-card {\r\n      width: 316px;\r\n\r\n      .item-title {\r\n        width: 90px;\r\n        font-size: small;\r\n      }\r\n    }\r\n  }\r\n\r\n  .online-status-div:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .agv-row-no-operation {\r\n    .cell {\r\n      padding: 8px 11px;\r\n    }\r\n  }\r\n\r\n  .connect {\r\n    background-color: rgb(229, 255, 240);\r\n  }\r\n\r\n  .disconnect {\r\n    background-color: rgb(255, 184, 182);\r\n  }\r\n\r\n  .batter-full-level {\r\n    background-color: rgb(13, 110, 253);\r\n  }\r\n\r\n  .batter-mid-level {\r\n    background-color: orange;\r\n  }\r\n\r\n  .batter-low-level {\r\n    background-color: red;\r\n  }\r\n\r\n  .batter-charging {\r\n    background-color: rgb(57, 194, 57);\r\n  }\r\n\r\n  .battery-icon {\r\n    font-size: 16px;\r\n    position: relative;\r\n    top: -5px;\r\n    height: 25px;\r\n    padding-left: 3px;\r\n  }\r\n}\r\n</style>","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n})\r\n\r\nvar axios_entity_vms = axios.create({\r\n  baseURL: param.vms_host,\r\n})\r\n\r\nexport async function OnlineRequest(AGV_Name,Model=0) {\r\n  return await axios_entity_vms.get(\r\n    `/api/VmsManager/OnlineRequet?agv_name=${AGV_Name}&model=${Model}`,\r\n  )\r\n}\r\n\r\nexport async function OfflineRequest(AGV_Name,Model=0) {\r\n  return await axios_entity_vms.get(\r\n    `/api/VmsManager/OfflineRequet?agv_name=${AGV_Name}&model=${Model}`,\r\n  )\r\n}\r\n","import { render } from \"./AGVStatus.vue?vue&type=template&id=49ca3084\"\nimport script from \"./AGVStatus.vue?vue&type=script&lang=js\"\nexport * from \"./AGVStatus.vue?vue&type=script&lang=js\"\n\nimport \"./AGVStatus.vue?vue&type=style&index=0&id=49ca3084&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"map card-like\">\r\n    <!-- <div class=\"title\">\r\n      <i class=\"bi bi-map\"></i>MAP SHOW\r\n    </div>-->\r\n    <Map canva_height=\"800px\" @onTransferRequst=\"HandleTransferReq\" :id=\"id\" class=\"w-100\" :task_dispatch_menu_show=\"true\" :eq_lduld_status_show=\"true\"></Map>\r\n    <CargoTransferDialog ref=\"transfer_dialog\"></CargoTransferDialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Map from '@/components/Map/Map.vue'\r\nimport { MapStore } from '@/components/Map/store'\r\nimport CargoTransferDialog from './CargoTransferDialog.vue'\r\nimport { AGVOption, clsAGVDisplay, clsMapStation } from '@/components/Map/mapjs';\r\n\r\nexport default {\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: \"homemap\"\r\n    },\r\n  },\r\n  components: {\r\n    Map, CargoTransferDialog\r\n  },\r\n  data() {\r\n    return {\r\n      navPathDisplayData: {},\r\n      agv_colors: [\r\n        '#42c2f5',\r\n        'limegreen',\r\n        'orange',\r\n        'pink',\r\n        'red',\r\n        'purple',\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    map_station_data() {\r\n      return MapStore.getters.MapStations\r\n    },\r\n    agvs_info() {\r\n      return MapStore.getters.AGVNavInfo;\r\n    }\r\n  },\r\n  mounted() {\r\n  },\r\n  methods: {\r\n    HandleTransferReq(data = { station_data: {}, action: 'load' }) {\r\n      // alert(JSON.stringify(station_data))\r\n      this.$refs.transfer_dialog.ShowDialog(data.station_data, data.action);\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.map {\r\n  height: 100%;\r\n}\r\n</style>","<template>\r\n    <el-dialog destroy-on-close :modal=\"false\" style=\"z-index:0\" v-model=\"show_dialog\" draggable :title=\"`${source_station.Name}-搬運任務`\">\r\n        <div class=\"justify-content-center px-5 cargo-transfer\">\r\n            <div class=\"w-100 border-bottom my-1\">\r\n                <h3>車輛選擇</h3>\r\n            </div>\r\n            <el-select v-if=\"!isRunMode\" class=\"w-100\" v-model=\"selectedAGVName\">\r\n                <el-option\r\n                    v-for=\"agv_name in AgvNameList\"\r\n                    :key=\"agv_name\"\r\n                    :label=\"agv_name == 'Assigning' ? '自動選車' : agv_name\"\r\n                    :value=\"agv_name == 'Assigning' ? '' : agv_name\"></el-option>\r\n            </el-select>\r\n            <el-select v-else disabled class=\"w-100\" v-model=\"autoSelectAGVName\">\r\n            </el-select>\r\n            <el-divider></el-divider>\r\n            <div class=\"w-100 border-bottom my-1\">\r\n                <h3>{{ action == 'unload' ? '下游設備列表' : '來源設備列表' }}</h3>\r\n            </div>\r\n            <el-table size=\"small\" border :data=\"CandicateEQOptions\">\r\n                <el-table-column v-if=\"action == 'unload'\" label=\"起點\">\r\n                    <template #default=\"scope\">\r\n                        <b style=\"color:blue\"> {{ source_station.Graph.Display }} </b>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"action == 'unload' ? '下游設備' : '上游設備'\" prop=\"Name\">\r\n                    <template #default=\"scope\">\r\n                        <b> {{ scope.row.Name }} </b>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column v-if=\"action == 'load'\" label=\"終點\">\r\n                    <template #default=\"scope\">\r\n                        <b style=\"color:seagreen\"> {{ source_station.Graph.Display }} </b>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column align=\"center\" label=\"TAG\" prop=\"TagID\"></el-table-column>\r\n                <el-table-column align=\"center\" label=\"動作\">\r\n                    <template #default=\"scope\">\r\n                        <el-popconfirm\r\n                            width=\"220\"\r\n                            confirm-button-text=\"確定\"\r\n                            cancel-button-text=\"取消\"\r\n                            icon-color=\"#626AEF\"\r\n                            title=\"確定要進行此搬運任務?\"\r\n                            @confirm=\"HandleTransferBtnClick(scope.row.TagID)\">\r\n                            <template #reference>\r\n                                <b-button style=\"width:90px\" size=\"sm\" variant=\"primary\" :disabled=\"!Transferable(scope.row.TagID)\">搬運</b-button>\r\n                            </template>\r\n                        </el-popconfirm>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column width=\"300\" label=\"說明\">\r\n                    <template #default=\"scope\">\r\n                        <div class=\"text-danger\">{{ GetNoTransferActionReason(scope.row.TagID) }}</div>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <!-- <el-dialog draggable destroy-on-close width=\"500\" title=\"確定要進行此搬運任務?\" v-model=\"confirm_dialog_show\">\r\n            <div class=\"d-flex flex-row justify-content-center\">\r\n                <b-button>確定</b-button>\r\n                <b-button>取消</b-button>\r\n            </div>\r\n        </el-dialog> -->\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { GetEQOptions, SaveEQOptions, ConnectTest } from '@/api/EquipmentAPI.js';\r\nimport { EqStore, agvs_settings_store, agv_states_store } from '@/store'\r\nimport { TaskAllocation, clsCarryTaskData } from '@/api/TaskAllocation';\r\nimport { InfoFilled } from '@element-plus/icons-vue'\r\n\r\nexport default {\r\n    components: {\r\n        InfoFilled,\r\n    },\r\n    data() {\r\n        return {\r\n            show_dialog: false,\r\n            confirm_dialog_show: false,\r\n            source_station: {},\r\n            EQOptions: [],\r\n            CandicateEQOptions: [],\r\n            action: '',\r\n            selectedAGVName: '',\r\n            autoSelectAGVName: '自動指派'\r\n        }\r\n    },\r\n    methods: {\r\n        ShowDialog(source_station, action = 'load') {\r\n            if (this.isRunMode) {\r\n                this.selectedAGVName = 'Assigning'\r\n            } else if (this.selectedAGVName == '') {\r\n                this.selectedAGVName = this.AgvNameList[0]\r\n            }\r\n            this.source_station = source_station;\r\n            this.action = action;\r\n            this.CandicateEQOptions = [];\r\n            var source_tag = source_station.TagNumber\r\n            GetEQOptions().then(options => {\r\n                var source = options.find(opt => opt.TagID == source_tag)\r\n                var downstreamEqNames = source.ValidDownStreamEndPointNames\r\n                this.EQOptions = options\r\n                if (action == 'unload')\r\n                    this.CandicateEQOptions = options.filter(eq => downstreamEqNames.includes(eq.Name))\r\n                else {\r\n                    //找到上游設備>\r\n                    this.CandicateEQOptions = options.filter(eq => eq.ValidDownStreamEndPointNames.includes(source_station.Name))\r\n                }\r\n\r\n                this.show_dialog = true\r\n            })\r\n        },\r\n        Transferable(TagID) {\r\n            if (TagID == undefined)\r\n                return true;\r\n\r\n            var EQ = this.eq_status_data.find(eq => eq.Tag == TagID);\r\n            if (this.action == 'load') {\r\n                //來源機台必須 U_REQ ON and 下點位 and Status down \r\n                if (EQ.EqType == 0)\r\n                    return EQ.Unload_Request && EQ.Up_Pose && EQ.IsConnected && EQ.Eqp_Status_Down\r\n                else if (EQ.EqType == 1)\r\n                    return EQ.Unload_Request && EQ.IsConnected && EQ.Eqp_Status_Idle\r\n            } else {\r\n                if (EQ.EqType == 0)\r\n                    return EQ.Load_Request && EQ.Down_Pose && EQ.IsConnected && EQ.Eqp_Status_Down\r\n                else if (EQ.EqType == 1)\r\n                    return EQ.Load_Request && EQ.IsConnected && EQ.Eqp_Status_Idle\r\n            }\r\n        },\r\n        GetNoTransferActionReason(TagID) {\r\n            if (TagID == undefined)\r\n                return \"\";\r\n            var EQ = this.eq_status_data.find(eq => eq.Tag == TagID);\r\n            var action = this.action == 'load' ? 'unload' : 'load';\r\n            if (!EQ.IsConnected)\r\n                return `${EQ.EQName} 機台尚未連線`\r\n\r\n\r\n            if (!EQ.Eqp_Status_Down && EQ.EqType == 0)\r\n                return `${EQ.EQName} 機台狀態異常(Eqp_Status_Down)`\r\n\r\n\r\n            if (EQ.Eqp_Status_Down && EQ.EqType == 1)\r\n                return `${EQ.EQName} 機台狀態異常(Eqp_Status_Down)`\r\n\r\n            if (action == 'load') {\r\n                if (!EQ.Load_Request)\r\n                    return `${EQ.EQName} 機台未發起載入請求(Load_Request)`\r\n                if (!EQ.Down_Pose && EQ.EqType == 0)\r\n                    return `${EQ.EQName} 設備機構位置錯誤(Down_Pose)`\r\n            }\r\n            if (action == 'unload') {\r\n                if (!EQ.Unload_Request)\r\n                    return `${EQ.EQName} 機台未發起移出請求(Unload_Request)`\r\n                if (!EQ.Up_Pose && EQ.EqType == 0)\r\n                    return `${EQ.EQName} 設備機構位置錯誤(Up_Pose)`\r\n            }\r\n            return \"\"\r\n        },\r\n        HandleTransferBtnClick(tag) {\r\n            if (this.selectedAGVName == '') {\r\n                this.show_dialog = false;\r\n                this.$swal.fire(\r\n                    {\r\n                        text: '',\r\n                        title: '請選擇車輛',\r\n                        icon: 'warning',\r\n                        showCancelButton: false,\r\n                        confirmButtonText: 'OK',\r\n                        customClass: 'my-sweetalert'\r\n                    }).then(() => {\r\n                        this.show_dialog = true\r\n                    })\r\n                return;\r\n            }\r\n            // alert(destin_tag)\r\n            var sourceTag = '-1'\r\n            var destineTag = '-1'\r\n            if (this.action == 'load') {\r\n                sourceTag = tag\r\n                destineTag = this.source_station.TagNumber\r\n            } else {\r\n                sourceTag = this.source_station.TagNumber\r\n                destineTag = tag\r\n            }\r\n            var agvName = this.selectedAGVName == \"Assigning\" ? '' : this.selectedAGVName;\r\n            TaskAllocation.CarryTask(new clsCarryTaskData(agvName, sourceTag, 1, destineTag, 1, '-1', 5))\r\n        }\r\n    },\r\n    computed: {\r\n        eq_status_data() {\r\n            return EqStore.getters.EQData\r\n        },\r\n        isRunMode() {\r\n            return agvs_settings_store.getters.IsRunMode\r\n        },\r\n\r\n        AgvNameList() {\r\n            return agv_states_store.getters.AGVNameList\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.cargo-transfer {\r\n    h3 {\r\n        text-align: left;\r\n    }\r\n}\r\n</style>","import { render } from \"./CargoTransferDialog.vue?vue&type=template&id=feaad786&scoped=true\"\nimport script from \"./CargoTransferDialog.vue?vue&type=script&lang=js\"\nexport * from \"./CargoTransferDialog.vue?vue&type=script&lang=js\"\n\nimport \"./CargoTransferDialog.vue?vue&type=style&index=0&id=feaad786&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-feaad786\"]])\n\nexport default __exports__","import { render } from \"./HomeMap.vue?vue&type=template&id=237c3ad1&scoped=true\"\nimport script from \"./HomeMap.vue?vue&type=script&lang=js\"\nexport * from \"./HomeMap.vue?vue&type=script&lang=js\"\n\nimport \"./HomeMap.vue?vue&type=style&index=0&id=237c3ad1&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-237c3ad1\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"task-allocation\">\r\n    <el-drawer\r\n      :show-close=\"false\"\r\n      v-model=\"show\"\r\n      :header=\"false\"\r\n      size=\"95%\"\r\n      direction=\"btt\"\r\n      :modal=\"false\"\r\n      :z-index=\"123\"\r\n      @closed=\"HandleDrawerClosed\">\r\n      <template #header>\r\n        <div class=\"d-flex\">\r\n          <el-button\r\n            @click=\"() => { show = false }\"\r\n            size=\"large\"\r\n            style=\"margin-left:53px;font-size:larger;\"\r\n            type=\"primary\">←返回(ESC)</el-button>\r\n          <h3 class=\"flex-fill text-center\">Local任務派送-車輛:{{ selectedAGVName }}</h3>\r\n        </div>\r\n      </template>\r\n      <div class=\"drawer-content border-top\" v-loading=\"wait_task_confirm\">\r\n        <div class=\"d-flex flex-row py-1 w-100 h-100\">\r\n          <el-form label-width=\"100px\" label-position=\"left\" size=\"large\" style=\"width:500px\">\r\n            <el-form-item label=\"AGV車輛選擇\">\r\n              <el-select class=\"w-100\" v-model=\"selectedAGVName\">\r\n                <el-option\r\n                  v-for=\"agv_name in AgvNameList\"\r\n                  :key=\"agv_name.value\"\r\n                  :label=\"agv_name.label\"\r\n                  :value=\"agv_name.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"AGV任務動作\">\r\n              <el-select\r\n                v-if=\"agv_type != 2\"\r\n                class=\"w-100\"\r\n                v-model=\"selectedAction\"\r\n                placeholder=\"請選擇Action\"\r\n                @change=\"ActionChangeHandler\">\r\n                <el-option label=\"移動\" value=\"move\"></el-option>\r\n                <el-option label=\"停車\" value=\"park\"></el-option>\r\n                <el-option label=\"搬運\" value=\"carry\"></el-option>\r\n                <el-option label=\"放貨\" value=\"load\"></el-option>\r\n                <el-option label=\"取貨\" value=\"unload\"></el-option>\r\n                <el-option label=\"充電\" value=\"charge\"></el-option>\r\n                <el-option v-if=\"IsDeveloper\" label=\"巡檢量測\" value=\"measure\"></el-option>\r\n              </el-select>\r\n              <!-- 巡檢AGV使用 -->\r\n              <el-select\r\n                v-else\r\n                class=\"w-100\"\r\n                v-model=\"selectedAction\"\r\n                placeholder=\"請選擇Action\"\r\n                @change=\"ActionChangeHandler\">\r\n                <el-option label=\"移動\" value=\"move\"></el-option>\r\n                <el-option label=\"交換電池\" value=\"exchange_battery\"></el-option>\r\n                <el-option label=\"巡檢量測\" value=\"measure\"></el-option>\r\n                <el-option label=\"進Bay\" value=\"in-bay\"></el-option>\r\n                <el-option label=\"出Bay\" value=\"out-bay\"></el-option>\r\n                <!-- <el-option label=\"停車\" value=\"park\"></el-option> -->\r\n                <!-- <el-option label=\"搬運\" value=\"carry\"></el-option>\r\n                <el-option label=\"放貨\" value=\"load\"></el-option>\r\n                <el-option label=\"取貨\" value=\"unload\"></el-option>\r\n                <el-option label=\"充電\" value=\"charge\"></el-option>-->\r\n              </el-select>\r\n            </el-form-item>\r\n            <!--  -->\r\n            <el-form-item label=\"起點\" v-if=\"selectedAction == 'carry'\">\r\n              <el-select\r\n                class=\"w-100\"\r\n                v-model=\"sourceTag\"\r\n                @change=\"HandleFromSelectChanged\"\r\n                placeholder=\"選擇站點\">\r\n                <el-option v-for=\"tag in tags\" :key=\"tag.tag\" :label=\"tag.name\" :value=\"tag.tag\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"目的地\">\r\n              <el-select class=\"w-100\" v-model=\"destinTag\" placeholder=\"選擇站點\">\r\n                <el-option\r\n                  v-for=\"tag in DetermineDestinOptions()\"\r\n                  :key=\"tag.tag\"\r\n                  :label=\"tag.name\"\r\n                  :value=\"tag.tag\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <!--  -->\r\n            <el-form-item\r\n              v-if=\"selectedAction === 'carry' | selectedAction === 'unload'\"\r\n              label=\"貨物ID\">\r\n              <el-input class=\"w-100\" v-model=\"Cst_ID_Input\" autocomplete></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <b-button\r\n                class=\"w-100 my-2\"\r\n                @click=\"TaskDeliveryBtnClickHandle\"\r\n                variant=\"primary\">派送任務</b-button>\r\n              <!-- <b-button class=\"w-100\" @click=\"HandleNavPathPreviewBtnClick\" variant=\"default\">預覽路徑</b-button> -->\r\n            </el-form-item>\r\n            <el-form-item v-if=\"IsDeveloper\" label=\"Bypass 設備狀態檢查\">\r\n              <el-checkbox class=\"w-100\" v-model=\"bypass_eq_status_check\"></el-checkbox>\r\n            </el-form-item>\r\n          </el-form>\r\n          <Map\r\n            canva_height=\"750px\"\r\n            id=\"task_allocation_map\"\r\n            class=\"w-100 border rounded mx-2\"\r\n            ref=\"_map\"></Map>\r\n        </div>\r\n        <div v-if=\"selectedAction == 'charge'\" class=\"img charge\"></div>\r\n        <div v-else class=\"img delivery\"></div>\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Notifier from '@/api/NotifyHelper';\r\nimport bus from '@/event-bus';\r\nimport clsAGVStateDto from '@/ViewModels/clsAGVStateDto';\r\nimport MapShowVue from '../MapShow.vue';\r\nimport Map from '@/components/Map/Map.vue'\r\nimport { MapStore } from '@/components/Map/store'\r\nimport { TaskAllocation, clsMoveTaskData, clsMeasureTaskData, clsLoadTaskData, clsUnloadTaskData, clsCarryTaskData, clsExangeBatteryTaskData, clsChargeTaskData, clsParkTaskData } from '@/api/TaskAllocation'\r\nimport { userStore, agv_states_store, agvs_settings_store } from '@/store';\r\nimport { MapPointModel } from '@/components/Map/mapjs';\r\nimport { GetEQOptions } from '@/api/EquipmentAPI'\r\nexport default {\r\n  components: {\r\n    MapShowVue, Map\r\n  },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      clsAgvStatus: new clsAGVStateDto(),\r\n      confirm_dialog_show: false,\r\n      notify_dialog_show: false,\r\n      wait_task_confirm: false,\r\n      bypass_eq_status_check: false,\r\n      notify_text: '',\r\n      selectedAGVName: '',\r\n      selectedAction: 'move', // 選擇的Action\r\n      sourceTag: '', // 選擇的tag_id\r\n      destinTag: '', // 選擇的to_tag\r\n      Cst_ID_Input: '', // 選擇的cst_id\r\n      moveable_tags: [ // tag_id選項\r\n        { tag: 1, name: '標籤1' },\r\n      ],\r\n      parkable_tags: [ // tag_id選項\r\n      ],\r\n      stock_tags: [\r\n        { tag: 1, name: '標籤1' },\r\n        { tag: 2, name: '標籤2' },\r\n      ],\r\n      chargable_tags: [ // tag_id選項\r\n        { tag: 50, name: '充電站(TAG-50)' },\r\n        { tag: 70, name: '充電站(TAG-70)' },\r\n      ],\r\n      downstream_tags: [\r\n        { tag: 1, name: '標籤1' },\r\n        { tag: 2, name: '標籤2' }\r\n      ],\r\n      csts: [ // cst_id選項\r\n        { tag: 1, name: '' },\r\n      ],\r\n      agv_type: 0,\r\n      equipments_options: undefined\r\n    }\r\n  },\r\n  computed: {\r\n    Map() {\r\n      return this.$refs['_map']\r\n    },\r\n\r\n    AgvNameList() {\r\n      var namelist = [];\r\n      if (agvs_settings_store.getters.IsRunMode) {\r\n        namelist.push({ value: '', label: '自動選車' });\r\n        if (this.IsDeveloper)\r\n          createdAgvNameOptions(namelist);\r\n      }\r\n      else {\r\n        createdAgvNameOptions(namelist);\r\n      }\r\n\r\n      function createdAgvNameOptions(namelist) {\r\n        agv_states_store.getters.AGVNameList.forEach(element => {\r\n          namelist.push({\r\n            value: element,\r\n            label: element\r\n          });\r\n        });\r\n      }\r\n      return namelist;\r\n    },\r\n    tags() {\r\n      if (this.selectedAction == 'move')\r\n        return this.moveable_tags;\r\n      else if (this.selectedAction == 'charge')\r\n        return this.chargable_tags;\r\n      else if (this.selectedAction == 'load' | this.selectedAction == 'unload' | this.selectedAction == 'carry') {\r\n        return this.stock_tags;\r\n      }\r\n      else\r\n        return this.parkable_tags;\r\n    },\r\n\r\n    IsDeveloper() {\r\n      return userStore.getters.IsDeveloperLogining;\r\n    },\r\n    IsUserLogin() {\r\n      return userStore.getters.level != 0\r\n    },\r\n    bay_names() {\r\n\r\n      var bay_data = MapStore.getters.BaysData;\r\n      return Object.keys(bay_data).map(bay_name => ({\r\n        tag: bay_name,\r\n        name: bay_name\r\n      }))\r\n\r\n    },\r\n    exchanger_options() {\r\n      return MapStore.getters.AllExangeBatteryStation;\r\n    }\r\n  },\r\n  methods: {\r\n    ActionChangeHandler(action) {\r\n\r\n      this.sourceTag = undefined;\r\n      this.destinTag = undefined;\r\n      var highlight_color = 'blue'\r\n      if (action == 'move')\r\n        this.Map.HighLightFeaturesByStationType(0, highlight_color);\r\n      if (action == 'carry' | action == 'load' | action == 'unload')\r\n        this.Map.HighLightFeaturesByStationType(1, highlight_color);\r\n      if (action == 'charge')\r\n        this.Map.HighLightFeaturesByStationType(3, highlight_color);\r\n    },\r\n    HandleNavPathPreviewBtnClick() {\r\n    },\r\n    DetermineDestinOptions() {\r\n\r\n      if (this.selectedAction == 'measure')\r\n        return this.bay_names;\r\n      else if (this.selectedAction == 'carry')\r\n        return this.downstream_tags;\r\n      else if (this.selectedAction == 'exchange_battery')\r\n        return this.exchanger_options;\r\n      else\r\n        return this.tags;\r\n\r\n    },\r\n    TaskDeliveryBtnClickHandle() {\r\n      if (!this.selectedAGVName && !agvs_settings_store.getters.IsRunMode) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '尚未選擇車輛',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n        return;\r\n      }\r\n      if (!this.selectedAction) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '尚未選擇動作',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n        return;\r\n      }\r\n      if (this.destinTag == '' | this.destinTag == undefined) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '尚未選擇目的地',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n\r\n        return;\r\n      }\r\n\r\n      if (this.selectedAction == 'carry' && (this.sourceTag == '' | this.sourceTag == undefined)) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '尚未選擇起點',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n        return;\r\n      }\r\n      // if ((this.selectedAction == 'carry' | this.selectedAction == 'load' | this.selectedAction == 'unload') && (this.Cst_ID_Input == '' | this.Cst_ID_Input == undefined)) {\r\n      //   this.$swal.fire(\r\n      //     {\r\n      //       text: '',\r\n      //       title: '尚未填寫/選擇CST ID',\r\n      //       icon: 'warning',\r\n      //       showCancelButton: false,\r\n      //       confirmButtonText: 'OK',\r\n      //       customClass: 'my-sweetalert'\r\n      //     })\r\n      //   return;\r\n      // }\r\n      var destinName = this.destinTag\r\n      this.$swal.fire(\r\n        {\r\n          title: '確定要派送此任務?',\r\n          text: `${this.selectedAGVName} 執行 ${this.selectedAction.toUpperCase()} 任務,終點:${destinName}`,//TODO 完整的名稱\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: '確定',\r\n          cancelButtonText: '取消',\r\n          customClass: 'my-sweetalert'\r\n        }).then(res => {\r\n          if (res.isConfirmed) {\r\n            this.TaskDeliveryHandle()\r\n          }\r\n        })\r\n    },\r\n    async TaskDeliveryHandle() {\r\n      // TaskAllocation.Task();\r\n      if (userStore.getters.level == 0)\r\n        this.bypass_eq_status_check = false;\r\n      this.wait_task_confirm = true\r\n      var response = { confirm: true, message: '' }\r\n\r\n      if (this.selectedAction == 'move') {\r\n        response = await TaskAllocation.MoveTask(new clsMoveTaskData(this.selectedAGVName, this.destinTag, 50));\r\n      }\r\n\r\n      if (this.selectedAction == 'measure') {\r\n        response = await TaskAllocation.MeasureTask(new clsMeasureTaskData(this.selectedAGVName, this.destinTag));\r\n      }\r\n      if (this.selectedAction == 'load') {\r\n        response = await TaskAllocation.LoadTask(new clsLoadTaskData(this.selectedAGVName, this.destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n      }\r\n\r\n      if (this.selectedAction == 'unload') {\r\n        response = await TaskAllocation.UnloadTask(new clsUnloadTaskData(this.selectedAGVName, this.destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n      }\r\n\r\n      if (this.selectedAction == 'carry') {\r\n        response = await TaskAllocation.CarryTask(new clsCarryTaskData(this.selectedAGVName, this.sourceTag, 1, this.destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n      }\r\n      if (this.selectedAction == 'exchange_battery') {\r\n        response = await TaskAllocation.ExangeBatteryTask(new clsExangeBatteryTaskData(this.selectedAGVName, this.destinTag, 50, this.bypass_eq_status_check));\r\n      }\r\n      if (this.selectedAction == 'charge') {\r\n        response = await TaskAllocation.ChargeTask(new clsChargeTaskData(this.selectedAGVName, this.destinTag, 50, this.bypass_eq_status_check));\r\n      }\r\n      if (this.selectedAction == 'park') {\r\n        response = await TaskAllocation.ParkTask(new clsParkTaskData(this.selectedAGVName, this.destinTag, 50, this.bypass_eq_status_check));\r\n      }\r\n      this.wait_task_confirm = false;\r\n      if (response.status != 200) {\r\n        const is_Unauthorized = response.status == 401;\r\n        this.$swal.fire({\r\n          title: is_Unauthorized ? '須重新進行登入' : '任務派送失敗!',\r\n          text: is_Unauthorized ? '' : response.mesage,\r\n          icon: 'error',\r\n          showCancelButton: false,\r\n          showConfirmButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert',\r\n        }).then(res => {\r\n          if (is_Unauthorized) {\r\n            this.show = false;\r\n            userStore.dispatch('logout', '')\r\n            bus.emit('/show-login-view-invoke')\r\n\r\n          }\r\n        })\r\n\r\n\r\n      }\r\n      else {\r\n        //{confirm:true,message:''}\r\n        if (response.data.confirm) {\r\n          Notifier.Success(`任務-[${this.selectedAction.toUpperCase()}] 已派送!`, 'bottom', 2000);\r\n          setTimeout(() => {\r\n            this.show = false;\r\n          }, 400);\r\n        } else {\r\n          this.$swal.fire(\r\n            {\r\n              text: response.data.message,\r\n              title: '任務派送失敗!',\r\n              icon: 'error',\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              customClass: 'my-sweetalert'\r\n            })\r\n        }\r\n      }\r\n\r\n    },\r\n    HandleDrawerClosed() {\r\n    },\r\n\r\n    MapStationClicked(MapPoint) {\r\n      // alert(MapPoint.TagNumber)\r\n      if (!MapPoint)\r\n        return;\r\n      var _station_type = MapPoint.StationType\r\n      if (_station_type == 0)\r\n        this.selectedAction = 'move'\r\n      if (_station_type == 1)\r\n        this.selectedAction = 'unload'\r\n      if (_station_type == 3)\r\n        this.selectedAction = 'charge'\r\n\r\n\r\n      var option = this.tags.findLast(tag => tag.tag == MapPoint.TagNumber);\r\n      console.info(option)\r\n      if (option)\r\n        this.sourceTag = MapPoint.TagNumber\r\n    },\r\n    async HandleFromSelectChanged(source_tag) {\r\n      this.destinTag = undefined\r\n      this.downstream_tags = [];\r\n      this.equipments_options = await GetEQOptions();\r\n      var source_eq = this.equipments_options.find(eq => eq.TagID == source_tag)\r\n      if (source_eq) {\r\n        var downstream_eq_names = source_eq.ValidDownStreamEndPointNames\r\n        console.info(downstream_eq_names)\r\n        var downstread_eq_options = this.equipments_options.filter(eq => downstream_eq_names.includes(eq.Name))\r\n        console.info(downstread_eq_options)\r\n        Object.values(downstread_eq_options).forEach(element => {\r\n          this.downstream_tags.push({\r\n            tag: element.TagID,\r\n            name: `${element.Name}(Tag=${element.TagID})`\r\n          })\r\n        });\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    bus.on('bus-show-task-allocation', (data = { agv_name: undefined, agv_type: 0, action: '', station_data: new MapPointModel() }) => {\r\n      if (!this.IsUserLogin && !agvs_settings_store.getters.IsRunMode) {\r\n        setTimeout(() => {\r\n\r\n          this.$swal.fire(\r\n            {\r\n              text: '',\r\n              title: '請先進行登入',\r\n              icon: 'warning',\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              customClass: 'my-sweetalert'\r\n            }).then(() => {\r\n\r\n              bus.emit('/show-login-view-invoke')\r\n            })\r\n\r\n        }, 200);\r\n        return;\r\n      }\r\n      this.agv_type = data.agv_type\r\n      this.sourceTag = undefined;\r\n      this.destinTag = undefined;\r\n      this.selectedAGVName = agvs_settings_store.getters.IsRunMode ? '' : undefined;\r\n      this.moveable_tags = MapStore.getters.AllNormalStationOptions\r\n      this.stock_tags = MapStore.getters.AllEqStation\r\n      this.chargable_tags = MapStore.getters.AllChargeStation\r\n      this.parkable_tags = MapStore.getters.AllParkingStationOptions\r\n\r\n      this.selectedAction = data.action\r\n      if (data.agv_name) {\r\n        this.selectedAGVName = data.agv_name;\r\n      }\r\n\r\n      if (data.station_data) {\r\n\r\n        if (this.selectedAction == 'carry') {\r\n          this.sourceTag = data.station_data.TagNumber\r\n          this.HandleFromSelectChanged(this.sourceTag)\r\n        }\r\n        else {\r\n          this.destinTag = data.station_data.TagNumber\r\n        }\r\n      }\r\n      this.show = true;\r\n    })\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.task-allocation {\r\n  .item {\r\n    display: flex;\r\n    flex-direction: row;\r\n    padding-left: 50px;\r\n\r\n    .title {\r\n      width: 120px;\r\n    }\r\n  }\r\n\r\n  .drawer-content {\r\n    height: 100%;\r\n    width: 100%;\r\n    padding-left: 76px;\r\n    position: absolute;\r\n    top: 67px;\r\n\r\n    .img {\r\n      width: 200px;\r\n      height: 200px;\r\n      position: absolute;\r\n      bottom: 86px;\r\n      opacity: 0.2;\r\n      background-repeat: no-repeat;\r\n      background-size: cover;\r\n    }\r\n\r\n    .delivery {\r\n      background-image: url(\"@/assets/images/fast-delivery.png\");\r\n    }\r\n\r\n    .charge {\r\n      background-image: url(\"@/assets/images/charging-station.png\");\r\n    }\r\n  }\r\n}\r\n</style>","<template>\r\n  <div @mousemove=\"MapMouseMoveHandler\">\r\n    <b-alert class=\"map-notify py-1 px-2 text-start\" v-if=\"!only_view\" show variant=\"info\">\r\n      <div class=\"mode-text\">{{ Mode_Text }}</div>\r\n      <div class=\"d-flex flex-row\">\r\n        <div class=\"tips-text\" v-for=\"tip in Tips\" :key=\"tip\">\r\n          <i class=\"bi bi-info-square\"></i> {{ tip }}\r\n        </div>\r\n      </div>\r\n    </b-alert>\r\n    <div class=\"map-show h-100 border py-2 px-2 d-flex flex-row bg-light\">\r\n      <div class=\"w-100\">\r\n        <div\r\n          v-if=\"hoverPointData != undefined\"\r\n          id=\"point-tooltip\"\r\n          class=\"rounded text-start p-2\"\r\n          v-bind:style=\"TooltipStyle\">\r\n          <div>名稱 :{{ hoverPointData.Name }}</div>\r\n          <div>Tag :{{ hoverPointData.TagNumber }} ({{ hoverPointData.X }},{{ hoverPointData.Y }},{{ hoverPointData.Direction }} )</div>\r\n          <div>站點類型 :{{ GetPointTypeNameByTypeNum(hoverPointData.StationType) }}</div>\r\n        </div>\r\n        <div class=\"header-div w-100 d-flex flex-row justify-content-between\">\r\n          <div class=\"options text-start d-flex flex-row\">\r\n            <div class=\"d-flex flex-row option-container\">\r\n              <span>\r\n                <i class=\"bi bi-three-dots-vertical\"></i>顯示方式 </span>\r\n              <b-form-group @change=\"NameDisplayChangeHandle\" v-slot=\"{ ariaDescribedby }\">\r\n                <b-form-radio\r\n                  v-model=\"display_selected\"\r\n                  :aria-describedby=\"ariaDescribedby\"\r\n                  name=\"some-radios\"\r\n                  value=\"Index\">Index</b-form-radio>\r\n                <b-form-radio\r\n                  v-model=\"display_selected\"\r\n                  :aria-describedby=\"ariaDescribedby\"\r\n                  name=\"some-radios\"\r\n                  value=\"Tag\">Tag</b-form-radio>\r\n                <b-form-radio\r\n                  v-model=\"display_selected\"\r\n                  :aria-describedby=\"ariaDescribedby\"\r\n                  name=\"some-radios\"\r\n                  value=\"Name\">名稱</b-form-radio>\r\n              </b-form-group>\r\n            </div>\r\n            <div class=\"d-flex flex-row option-container\">\r\n              <span>\r\n                <i class=\"bi bi-three-dots-vertical\"></i>AGV顯示 </span>\r\n              <b-form-group @change=\"AGVDisplayChangeHandle\">\r\n                <b-form-radio v-model=\"agv_display_mode_selected\" value=\"hidden\">隱藏</b-form-radio>\r\n                <b-form-radio v-model=\"agv_display_mode_selected\" value=\"show\">顯示</b-form-radio>\r\n              </b-form-group>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <b-form-input v-model=\"map_name\" disabled size=\"sm\" :state=\"map_name != undefined\"></b-form-input>\r\n          </div>\r\n        </div>\r\n        <div\r\n          v-loading=\"loading\"\r\n          ref=\"map\"\r\n          :key=\"reload_key\"\r\n          class=\"map border\"\r\n          @click=\"HideAllMenus\">\r\n          <!--任務選單-->\r\n          <div\r\n            class=\"edit-mode-menu bg-light border rounded\"\r\n            v-if=\"showTaskAllocationMenu\"\r\n            ref=\"contextMenu\"\r\n            :style=\"map_contextmenu_style\">\r\n            <div class=\"p-2 text-start\">\r\n              <span v-show=\"!is_agv_feature_selected\">Tag:</span>\r\n              <span v-show=\"is_agv_feature_selected\">AGV:</span>\r\n              <b>{{ is_agv_feature_selected ? current_select_agv_name : current_select_featureID }}</b>\r\n            </div>\r\n            <div class=\"px-1\" style=\"position:absolute;left:6px\">\r\n              <b-button\r\n                class=\"w-100 my-1\"\r\n                size=\"sm\"\r\n                variant=\"primary\"\r\n                @click=\"handleTaskAllocatModeMenuClick('move')\">移動</b-button>\r\n              <b-button\r\n                class=\"w-100 my-1\"\r\n                size=\"sm\"\r\n                variant=\"primary\"\r\n                @click=\"handleTaskAllocatModeMenuClick('load')\">放貨</b-button>\r\n              <b-button\r\n                class=\"w-100 my-1\"\r\n                size=\"sm\"\r\n                variant=\"primary\"\r\n                @click=\"handleTaskAllocatModeMenuClick('unload')\">取貨</b-button>\r\n            </div>\r\n          </div>\r\n          <!--AGV選單-->\r\n          <div\r\n            class=\"edit-mode-menu bg-light border rounded\"\r\n            v-if=\"showAGVMenu\"\r\n            ref=\"contextMenu\"\r\n            :style=\"map_contextmenu_style\">\r\n            <div class=\"p-2 text-start border-bottom\">\r\n              <span>AGV :</span>\r\n              <b>{{ current_select_agv_name }}</b>\r\n            </div>\r\n            <div class=\"px-1\" style=\"position:absolute;left:6px\">\r\n              <el-color-picker v-model=\"color\" show-alpha />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <MapPointSettingDrawer\r\n        ref=\"point-setting-drawer\"\r\n        @OnPointSettingChanged=\"PointSettingChangedHandle\"></MapPointSettingDrawer>\r\n    </div>\r\n    <b-modal\r\n      draggable\r\n      title=\"移除路徑\"\r\n      v-model=\"selectPathVisible\"\r\n      :hide-header-close=\"true\"\r\n      hide-footer\r\n      no-close-on-esc\r\n      @cancel=\"() => { selectPathVisible = false }\"\r\n      header-bg-variant=\"primary\"\r\n      header-text-variant=\"light\">\r\n      <el-table height=\"150px\" row-key=\"startPoint.Name\" :data=\"PathesSelectedForDelete\">\r\n        <el-table-column label=\"起點\" prop=\"startPoint.Name\"></el-table-column>\r\n        <el-table-column label=\"終點\" prop=\"endPoint.Name\"></el-table-column>\r\n        <el-table-column>\r\n          <template #default=\"scope\">\r\n            <b-button\r\n              variant=\"danger\"\r\n              @click=\"RemovePathByPointsIndex(scope.row.startStation_Index, scope.row.endStation_Index)\">Remove</b-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport 'ol/ol.css';\r\nimport ContextMenu from 'ol-contextmenu';\r\nimport { Map, View, Feature } from 'ol';\r\nimport { Layer, Vector as VectorLayer } from 'ol/layer';\r\nimport { Vector as VectorSource } from 'ol/source';\r\nimport { Point } from 'ol/geom';\r\nimport { Circle as CircleStyle, Fill, Stroke, Style, Text, RegularShape, Image, Icon } from 'ol/style';\r\nimport { Pointer, DragPan } from 'ol/interaction'\r\nimport LineString from 'ol/geom/LineString';\r\nimport MapAPI from '@/api/MapAPI'\r\nimport { GetPointTypeNameByTypeNum } from '@/api/MapAPI'\r\nimport bus from '@/event-bus'\r\nimport Notifier from '@/api/NotifyHelper';\r\nimport MapPointSettingDrawer from '@/components/MapPointSettingDrawer.vue'\r\nimport WebSocketHelp from '@/api/WebSocketHepler';\r\nimport param from '@/gpm_param'\r\nimport { MapStore } from '@/components/Map/store'\r\n\r\nexport default {\r\n  name: 'MapComponent',\r\n  components: {\r\n    MapPointSettingDrawer,\r\n  },\r\n  props: {\r\n    edit_mode: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          enabled: false,\r\n          mode_selected: 'none'\r\n        }\r\n      }\r\n    },\r\n    task_allocatable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    show_agv: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    only_view: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    zoom: {\r\n      type: Number,\r\n      default: 6\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      reload_key: 1,\r\n      loading: false,\r\n      selected_feature: undefined,\r\n      mouse_click_coordinate: undefined,\r\n      display_selected: \"Name\",\r\n      agv_display_mode_selected: \"show\",\r\n      map: new Map(),\r\n      showTaskAllocationMenu: false,\r\n      showAGVMenu: false,\r\n      selectPathVisible: false,\r\n      PathesSelectedForDelete: [],\r\n      dynamic_traffic_data: {\r\n        AGVTrafficStates: {}\r\n      },\r\n      path_plan_tags: [],\r\n      contextMenu: {},\r\n      agv_color_set: [\r\n        'lime', 'rgb(51, 194, 255)', 'yellow', 'rgb(64, 158, 255)', 'pink', 'gold', 'red', 'grey'\r\n      ],\r\n      TooltipStyle: {\r\n        top: '0px',\r\n        left: '0px'\r\n      },\r\n      hoverPointData: undefined,\r\n      map_contextmenu_style: {\r\n        position: 'absolute',\r\n        top: '112px',\r\n        left: '400px',\r\n        visibility: 'visible',\r\n        zIndex: 200,\r\n        width: '170px',\r\n        height: '157px',\r\n        //style=\"visibility: visible; z-index: 200;\"\r\n      },\r\n      layer_index: {\r\n        station: 1,\r\n        station_line: 2,\r\n        eq_station: 3,\r\n        agv: 4,\r\n        move_path: 5,\r\n        path_plan: 6,\r\n        mesh: 7,\r\n      },\r\n      stations: [],\r\n      station_features: [],\r\n      agvList: [],\r\n      path_start_end: {\r\n        start: undefined,\r\n        end: undefined\r\n      },\r\n      PathPlanLineStyle: new Style({\r\n        stroke: new Stroke({\r\n          color: 'blue',\r\n          width: 8,\r\n          lineDash: null,\r\n        }),\r\n      }),\r\n      pointStyle: (feature) => {\r\n        const GetPointFeatureInfo = function (feature) {\r\n\r\n          var featureID = feature.getId();\r\n          if (featureID) {\r\n            //var featureID = `Point:${index}:${_tagID}:${stationType}:${Name}`;\r\n            var split = featureID.split(':')\r\n            var index = split[1];\r\n            var tag = split[2];\r\n            var stationType = split[3];\r\n            var name = split[4];\r\n            return {\r\n              index: index,\r\n              tag: tag,\r\n              station_type: stationType,\r\n              name: name\r\n            }\r\n          }\r\n        }\r\n\r\n        var pointRawData = feature.get('data');\r\n        var pointInfo = GetPointFeatureInfo(feature)\r\n        var text_display = '';\r\n        var text_color = 'gold'\r\n        if (this.display_selected == 'Name') {\r\n          text_display = pointInfo.name;\r\n          text_color = 'gold'\r\n        }\r\n        else if (this.display_selected == 'Tag') {\r\n          text_display = pointInfo.tag;\r\n          text_color = 'lime'\r\n        }\r\n        else {\r\n          text_display = pointInfo.index;\r\n          text_color = 'rgb(90, 213, 255)'\r\n        }\r\n        var eq_station_icon = new Icon({\r\n          src: '/images/eq-icon.png', // 设置PNG图像的路径\r\n          scale: 0.45,\r\n          anchor: [0.5, 0.5],\r\n          size: [64, 64],\r\n          opacity: 1,\r\n          color: 'white'\r\n        })\r\n        var rack_station_icon = new Icon({\r\n          src: '/images/rack_station.png', // 设置PNG图像的路径\r\n          scale: 0.45,\r\n          anchor: [0.5, 0.5],\r\n          size: [64, 64],\r\n          opacity: 1,\r\n          color: 'white'\r\n        })\r\n        var charge_station_icon = new Icon({\r\n          src: '/images/charging-station.png', // 设置PNG图像的路径\r\n          scale: 0.5,\r\n          anchor: [0.5, 0.5],\r\n          size: [64, 64],\r\n          opacity: 1,\r\n          color: 'white'\r\n\r\n        })\r\n        var icon_stroke = (selected) => {\r\n          return new Stroke({\r\n            color: selected ? 'red' : 'black',\r\n            width: selected ? 2 : 1,\r\n          })\r\n        };\r\n        var polygonImg = (points, rotation = 0, color = 'rgb(37, 172, 95)', selected = false) => {\r\n          return new RegularShape({\r\n            radius: 7,\r\n            fill: new Fill({\r\n              color: color,\r\n            }),\r\n            stroke: icon_stroke(selected),\r\n            angle: rotation,\r\n            points: points,\r\n          })\r\n        }\r\n\r\n        var circleImg = (color, selected = false) => {\r\n          return new CircleStyle({\r\n            radius: 6,\r\n            fill: new Fill({\r\n              color: color,\r\n            }),\r\n            stroke: icon_stroke(selected),\r\n          })\r\n        }\r\n        var EQ_Ints = [1, 11, 21, 32];\r\n        var STK_Ints = [2, 6, 12, 22];\r\n        var Charge_Ints = [3, 5, 6];\r\n        var polyPoint = 3;\r\n        var polyRotation = 0;\r\n        var color = 'rgb(243, 123, 55)'\r\n        if (EQ_Ints.includes(pointRawData.StationType)) {\r\n          polyPoint = 4;\r\n          polyRotation = Math.PI / 180.0 * 45;\r\n        }\r\n        else if (STK_Ints.includes(pointRawData.StationType)) {\r\n          polyPoint = 4;\r\n          polyRotation = Math.PI / 180.0 * 90;\r\n        }\r\n        else if (Charge_Ints.includes(pointRawData.StationType)) {\r\n          polyPoint = 3;\r\n          polyRotation = Math.PI / 180.0 * 0;\r\n        }\r\n\r\n        if (!pointRawData.Enable)\r\n          color = 'red';\r\n        else {\r\n          if (pointRawData.IsSegment | pointRawData.IsAvoid)\r\n            color = 'rgb(0, 122, 255)';\r\n          if (pointRawData.IsParking)\r\n            color = 'pink';\r\n        }\r\n        var highlight = feature.get('highlight')\r\n        var selected = feature.get('selected');\r\n        var isEQ = feature.get('data').IsEquipment;\r\n        var isCharge = feature.get('data').IsCharge;\r\n        var isSTK = feature.get('data').IsSTK;\r\n        var isRegisted = feature.get('IsRegisted');\r\n\r\n        var GetImage = () => {\r\n          if (isEQ)\r\n            return eq_station_icon;\r\n          if (isSTK)\r\n            return rack_station_icon;\r\n          if (isCharge)\r\n            return charge_station_icon;\r\n          return pointRawData.StationType == 0 ? circleImg(color, selected) : polygonImg(polyPoint, polyRotation, color, selected)\r\n        }\r\n\r\n        return new Style({\r\n          image: GetImage(),\r\n          //image: eq_station_icon,\r\n          text: new Text({\r\n            text: text_display + (isRegisted ? '(已註冊)' : ''),\r\n            offsetX: 12,\r\n            offsetY: isEQ | isCharge ? -25 : -15,\r\n            font: 'bold 14px sans-serif',\r\n            fill: new Fill({\r\n              color: pointRawData.Enable ? text_color : 'rgb(255, 106, 138)'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: highlight | selected ? 'red' : 'black',\r\n              width: highlight ? 4 : 3\r\n            })\r\n          }),\r\n        });\r\n\r\n      },\r\n      point_icon_style: (feature) => {\r\n        return new Style({\r\n\r\n        })\r\n      },\r\n      pathStyle: (feature) => {\r\n        var isEQLink = feature.get('data').IsEQLink\r\n        var isPathClose = feature.get('data').IsPathClose\r\n        const geometry = feature.getGeometry();\r\n        const styles = [\r\n          new Style({\r\n            stroke: new Stroke({\r\n              color: isPathClose ? 'red' : (isEQLink ? 'rgb(115, 115, 115)' : 'rgb(176, 176, 178)'),\r\n              width: 2.7,\r\n              lineDash: isEQLink ? [4, 11] : null // 虛線模式（設定虛線段的長度和間隔）\r\n            }),\r\n          }),\r\n        ];\r\n\r\n        geometry.forEachSegment(function (start, end) {\r\n          const dx = end[0] - start[0];\r\n          const dy = end[1] - start[1];\r\n          const rotation = Math.atan2(dy, dx);\r\n\r\n          // arrows\r\n          styles.push(\r\n            new Style({\r\n              geometry: new Point(end),\r\n              image: new Icon({\r\n                src: 'arrow.png',\r\n                anchor: [1.2, 0.5],\r\n                rotateWithView: true,\r\n                rotation: -rotation,\r\n                scale: 0.18,\r\n                color: isPathClose ? 'red' : 'white'\r\n              }),\r\n            })\r\n          );\r\n          if (isPathClose) {\r\n            start = [(end[0] + start[0]) / 2, (end[1] + start[1]) / 2]\r\n            const dx = end[0] - start[0];\r\n            const dy = end[1] - start[1];\r\n            const rotation = Math.atan2(dy, dx);\r\n            // arrows\r\n            styles.push(\r\n              new Style({\r\n                geometry: new Point(start),\r\n                image: new Icon({\r\n                  src: 'close.png',\r\n                  anchor: [1.2, 0.5],\r\n                  rotateWithView: true,\r\n                  rotation: -rotation,\r\n                  scale: 0.5,\r\n                }),\r\n              })\r\n            );\r\n          }\r\n        });\r\n        return styles;\r\n      },\r\n      UnloadIconStyle: (feature) => {\r\n\r\n        if (!this.task_allocatable)\r\n          return;\r\n\r\n        var data = feature.get('data');\r\n        if (data.StationType != 1) {\r\n          return;\r\n        }\r\n\r\n        if (!feature.get('unload'))\r\n          return;\r\n        var unload_icon = new Icon({\r\n          src: '/unloading.png', // 设置PNG图像的路径\r\n          scale: 1, // 设置PNG图像的缩放比例\r\n          anchor: [0, 1.3], // 设置PNG图像的锚点，即图片的中心点位置\r\n          size: [44, 44],// 设置PNG图像的大小\r\n          opacity: 1,\r\n          offset: [0, 1]  // 向上移動10像素\r\n\r\n        })\r\n\r\n        return new Style({\r\n          image: unload_icon,\r\n\r\n        })\r\n      },\r\n      path_store: {\r\n\r\n      },\r\n      IsSelectAGVMode: false,\r\n      IsSelectEQStationMode: false\r\n    }\r\n  },\r\n  async mounted() {\r\n    this.loading = true;\r\n    if (!this.show_agv) {\r\n      this.agv_display_mode_selected = 'hidden'\r\n\r\n    }\r\n    setTimeout(() => {\r\n      this.FetchMap();\r\n      bus.on('unload_eq_tags', (unload_tags) => {\r\n        this.SetFeatureHasUnloadReq(unload_tags)\r\n      })\r\n      this.TrafficStateWsInit();\r\n    }, 300);\r\n\r\n  },\r\n  computed: {\r\n\r\n    map_data() {\r\n      return MapStore.getters.MapData;\r\n    },\r\n    map_name() {\r\n      return MapStore.getters.MapName;\r\n    },\r\n    Mode_Text() {\r\n      if (!this.edit_mode.enabled)\r\n        return \"檢視模式\"\r\n      if (this.edit_mode.mode_selected == 'edit_point')\r\n        return \"編輯點位模式\"\r\n      if (this.edit_mode.mode_selected == 'add_point')\r\n        return \"新增點位模式\"\r\n      if (this.edit_mode.mode_selected == 'remove_point')\r\n        return \"移除點位模式\"\r\n      if (this.edit_mode.mode_selected == 'add_path')\r\n        return \"新增路徑模式\"\r\n      if (this.edit_mode.mode_selected == 'remove_path')\r\n        return \"移除路徑模式\"\r\n    },\r\n    Tips() {\r\n      if (!this.edit_mode.enabled)\r\n        return []\r\n      if (this.edit_mode.mode_selected == 'edit_point')\r\n        return [\"使用滑鼠【左鍵】拖曳點位。\", \"滑鼠【右鍵】點擊點位顯示編輯頁面。\"]\r\n      if (this.edit_mode.mode_selected == 'add_point')\r\n        return [\"使用滑鼠【右鍵】點擊地圖新增點位。\"]\r\n      if (this.edit_mode.mode_selected == 'remove_point')\r\n        return [\"使用滑鼠【左鍵】點擊欲移除的點位。\"]\r\n      if (this.edit_mode.mode_selected == 'add_path')\r\n        return [\"使用滑鼠【左鍵】點擊路徑起點點位以及終點點位。\"]\r\n      if (this.edit_mode.mode_selected == 'remove_path')\r\n        return [\"使用滑鼠【左鍵】點擊欲移除的路徑。\"]\r\n    },\r\n    current_select_featureID() {\r\n      if (this.selected_feature) {\r\n        return this.selected_feature.getId();\r\n      } else\r\n        return \"\";\r\n    },\r\n    current_select_agv_name() {\r\n      return (this.current_select_featureID + '').replace(\"AGV_\", \"\");\r\n    },\r\n\r\n    is_agv_feature_selected() {\r\n      if (!this.selected_feature)\r\n        return false;\r\n      var feature_id = this.selected_feature.getId();\r\n      return (feature_id + '').includes('AGV')\r\n    },\r\n    Station_Layer() {\r\n      return this.map.getLayers().item(this.layer_index.station);\r\n    },\r\n    Line_Layer() {\r\n      return this.map.getLayers().item(this.layer_index.station_line);\r\n    },\r\n    AGV_Layer() {\r\n      return this.map.getLayers().item(this.layer_index.agv);\r\n    },\r\n    Nav_Path_Layer() {\r\n      return this.map.getLayers().item(this.layer_index.move_path);\r\n    },\r\n    PathPlan_Layer() {\r\n      return this.map.getLayers().item(this.layer_index.path_plan);\r\n    },\r\n    Mesh_Layer() {\r\n      return this.map.getLayers().item(this.layer_index.mesh);\r\n    },\r\n  },\r\n  methods: {\r\n    GetPointTypeNameByTypeNum(tnum) {\r\n      return GetPointTypeNameByTypeNum(tnum)\r\n    },\r\n    UpdatePathPlanRender(tags = []) {\r\n\r\n      this.path_plan_tags = tags;\r\n      let source = this.PathPlan_Layer.getSource();\r\n      source.clear();\r\n\r\n      if (tags.length == 0) {\r\n        return;\r\n      }\r\n      var features = this.CreateLineFeaturesOfPath(tags);\r\n      source.addFeatures(features);\r\n      source.changed();\r\n    },\r\n    CreateLineFeaturesOfEachStaion() {\r\n      var lineFeatures = [];\r\n\r\n      this.map_data.Pathes.forEach(path => {\r\n        //tag\r\n        var start_tag = path.StartPoint.TagNumber;\r\n        var end_tag = path.EndPoint.TagNumber;\r\n\r\n        var startStation = this.stations.find(st => st.tag == start_tag);\r\n        var endStation = this.stations.find(st => st.tag == end_tag);\r\n        var startFeature = startStation.feature;\r\n        var endFeature = endStation.feature;\r\n\r\n        let lineFeature = new Feature(\r\n          {\r\n            geometry: new LineString([startFeature.getGeometry().getCoordinates(), endFeature.getGeometry().getCoordinates()]),\r\n          },\r\n        );\r\n\r\n        lineFeature.setId(`path:${startStation.index}:${endStation.index}`);\r\n        lineFeature.set('data', path)\r\n        lineFeatures.push(lineFeature);\r\n      })\r\n\r\n      // Object.keys(this.map_data.Points).forEach(index_str => {\r\n      //   var index = parseInt(index_str)\r\n      //   var current_station = this.stations.find(st => st.index == index);\r\n      //   var targets = this.map_data.Points[index_str].Target;\r\n      //   Object.keys(targets).forEach(index_str => {\r\n      //     var _index = parseInt(index_str)\r\n\r\n      //     var station_link = this.stations.find(st => st.index == _index);\r\n      //     if (station_link != undefined) {\r\n      //       let lineFeature = new Feature(\r\n      //         {\r\n      //           geometry: new LineString([current_station.feature.getGeometry().getCoordinates(), station_link.feature.getGeometry().getCoordinates()]),\r\n      //         },\r\n      //       );\r\n\r\n      //       lineFeature.setId(`path:${index}:${_index}`);\r\n      //       lineFeatures.push(lineFeature);\r\n      //     }\r\n      //   })\r\n\r\n      // })\r\n\r\n      return lineFeatures;\r\n    },\r\n    CreateLineFeaturesOfPath(tags = [], color) {\r\n      // 创建一条线要素，连接两个点要素\r\n      var lineFeatures = [];\r\n\r\n      for (let index = 0; index < tags.length; index++) {\r\n        const tag = tags[index];\r\n        const next_tag = tags[index + 1];\r\n        //找出feature\r\n        if (next_tag != undefined) {\r\n\r\n          var current_station = this.stations.find(st => st.tag == tag);\r\n          var next_station = this.stations.find(st => st.tag == next_tag);\r\n          let lineFeature = new Feature({\r\n            geometry: new LineString(\r\n              [current_station.feature.getGeometry().getCoordinates(), next_station.feature.getGeometry().getCoordinates()],\r\n            ),\r\n          });\r\n          lineFeature.setStyle(new Style(\r\n            {\r\n              stroke: new Stroke({\r\n                color: color,\r\n                width: 6\r\n              }),\r\n            }\r\n          ));\r\n          lineFeatures.push(lineFeature);\r\n\r\n        }\r\n      }\r\n      return lineFeatures;\r\n    },\r\n    AGVDisplayControl(display) {\r\n      this.AGV_Layer.setVisible(display);\r\n      this.Nav_Path_Layer.setVisible(display);\r\n    },\r\n\r\n    UpdatePointDisplay() {\r\n      this.Station_Layer.getSource().changed();\r\n    },\r\n    PointSettingChangedHandle(dto) {\r\n      var index = dto.index;\r\n      var pointData = dto.pointData;\r\n\r\n      this.map_data.Points[index] = pointData;\r\n      var feature = this.stations.filter(pt => pt.index == index)[0].feature;\r\n      this.SetPointFeatureIDByPointData(feature, index, pointData);\r\n      this.stations.filter(pt => pt.index == index)[0].feature = feature;\r\n      //this.UpdatePointDisplay();\r\n\r\n    },\r\n    /**使用站點資料設定Point Feature ID */\r\n    SetPointFeatureIDByPointData(feature, pt_index, pointData) {\r\n      var featureID = `Point:${pt_index}:${pointData.TagNumber}:${pointData.StationType}:${pointData.Name}`;\r\n      feature.setId(featureID);\r\n      feature.set('data', pointData)\r\n    },\r\n    Highlight(layer = 'normal|eq|charge|park') {\r\n      this.AllUnHighlight()\r\n      var features = []\r\n      if (layer == 'normal') {\r\n        features = this.GetAllNormalPtFeature();\r\n      }\r\n      if (layer == 'eq') {\r\n        features = this.GetAllEQPtFeature()\r\n      }\r\n      if (layer == 'charge') {\r\n        features = this.GetAllChargePtFeature()\r\n      }\r\n      if (layer == 'park') {\r\n        features = this.GetAllParkPtFeature()\r\n      }\r\n      this.HighlightControl(features, true)\r\n    },\r\n    AllUnHighlight() {\r\n      this.HighlightControl(this.station_features, false);\r\n    },\r\n    HighlightControl(features = [], IsHighlight) {\r\n      features.forEach(feature => {\r\n        feature.set('highlight', IsHighlight)\r\n      })\r\n    },\r\n\r\n    TrafficStateWsInit() {\r\n\r\n      const worker = new Worker('websocket_worker.js')\r\n      worker.onmessage = (event) => {\r\n        this.dynamic_traffic_data = event.data;\r\n        setTimeout(() => {\r\n          var GetAGVStatusString = (status_code) => {\r\n            if (status_code == 1)\r\n              return \"IDLE\"\r\n            else if (status_code == 2)\r\n              return \"RUN\"\r\n            else if (status_code == 3)\r\n              return \"DOWN\"\r\n            else if (status_code == 4)\r\n              return \"充電\"\r\n            else\r\n              return \"Unknown\"\r\n          }\r\n          this.UpdateRegistedPropery(this.dynamic_traffic_data.RegistedPoints);\r\n          var agv_data = []\r\n          Object.keys(this.dynamic_traffic_data.AGVTrafficStates).forEach(agvname => {\r\n            var agvTrafficInfo = this.dynamic_traffic_data.AGVTrafficStates[agvname];\r\n            var agv_currentTag = agvTrafficInfo.CurrentPosition == null ? 0 : agvTrafficInfo.CurrentPosition.TagNumber;\r\n            agv_data.push({\r\n              AGV_Name: agvTrafficInfo.AGVName,\r\n              Current_Tag: agv_currentTag,\r\n              State: GetAGVStatusString(agvTrafficInfo.AGVStatus),\r\n              IsOnline: agvTrafficInfo.IsOnline\r\n            })\r\n          });\r\n\r\n          if (!this.show_agv)\r\n            return;\r\n\r\n          this.UpdateAGVLayer(agv_data);\r\n\r\n          Object.keys(this.dynamic_traffic_data.AGVTrafficStates).forEach(agvname => {\r\n            var agvTrafficInfo = this.dynamic_traffic_data.AGVTrafficStates[agvname];\r\n            var tags = agvTrafficInfo.RemainNavTrajectory.map(pt => pt.TagNumber)\r\n            var agv_currentTag = agvTrafficInfo.CurrentPosition == null ? 0 : agvTrafficInfo.CurrentPosition.TagNumber;\r\n            this.UpdateNavPathRender(agvname, agv_currentTag, tags)\r\n          });\r\n        }, 100);\r\n\r\n      }\r\n      worker.postMessage({ command: 'connect', ws_url: param.vms_ws_host + '/ws/DynamicTrafficData' });\r\n\r\n    },\r\n    UpdateRegistedPropery(registed_point) {\r\n\r\n      var registedTags = Object.keys(registed_point);\r\n      this.station_features.forEach(ft => {\r\n        var tagNumber = ft.get('data').TagNumber;\r\n        var isRegisted = registedTags.includes(tagNumber)\r\n        ft.set('IsRegisted', isRegisted)\r\n      })\r\n    },\r\n    MapMouseMoveHandler(ev) {\r\n      this.TooltipStyle.left = `${ev.x}px`\r\n      this.TooltipStyle.top = `${ev.y - 110}px`\r\n    },\r\n    Reload() {\r\n      //TODO RELOAD MAP\r\n      this.FetchMap();\r\n    },\r\n    FetchMap() {\r\n\r\n      setTimeout(() => {\r\n        if (this.map_data) {\r\n          this.loading = false;\r\n          this.MapDataInit();\r\n          this.MapInitializeRender();\r\n          Notifier.Success('Success Fetch Map Data From Server.', 'bottom', 2000);\r\n\r\n        } else {\r\n          Notifier.Warning('嘗試下載圖資...', 'bottom', 3000);\r\n          this.FetchMap();\r\n        }\r\n      }, 1000);\r\n\r\n      // MapAPI.GetMapFromLocal().then((map) => {\r\n      //   this.loading = false;\r\n      //   if (map == undefined) {\r\n      //     Notifier.Danger('圖資取得失敗(後端伺服器異常)', 'bottom', 3000);\r\n      //   }\r\n      //   else if (map.Points == undefined) {\r\n      //     Notifier.Danger('圖資取得失敗(AGVS伺服器異常)', 'bottom', 3000);\r\n      //   }\r\n      //   else {\r\n      //     Notifier.Success('Success Fetch Map Data From Server.', 'bottom', 2000);\r\n\r\n      //     this.MapDataInit(map);\r\n      //     this.MapInitializeRender();\r\n\r\n      //   }\r\n\r\n      // });\r\n    },\r\n    get_agv_position(name) {\r\n      var agv = this.agvList.find(agv => agv.name == name);\r\n      return this.get_agv_position_byTag(agv.current_tag)\r\n    },\r\n    get_agv_position_byTag(current_tag) {\r\n      var feature_ = this.station_features.find(sf => sf.get('data').TagNumber == current_tag)\r\n      if (feature_ == undefined)\r\n        return [0, 0];\r\n      else {\r\n        return feature_.getGeometry().getCoordinates();\r\n      }\r\n    },\r\n    GetNormalStations() {\r\n      if (!this.map_data)\r\n        return [];\r\n      var stations = Object.values(this.map_data.Points);\r\n      return stations.filter(st => st.StationType == 0);\r\n    },\r\n    GetLDULDableStations() {\r\n      if (!this.map_data)\r\n        return [];\r\n\r\n      const lduldable_types = [1, 2, 6, 11, 12, 21, 22];\r\n\r\n      var stations = Object.values(this.map_data.Points);\r\n      return stations.filter(st => lduldable_types.includes(st.StationType));\r\n    },\r\n    GetChargeStations() {\r\n      if (!this.map_data)\r\n        return [];\r\n      const chargable_types = [3, 5, 6];\r\n      var stations = Object.values(this.map_data.Points);\r\n      return stations.filter(st => chargable_types.includes(st.StationType));\r\n    },\r\n    GetParkStations() {\r\n      if (!this.map_data)\r\n        return [];\r\n      var stations = Object.values(this.map_data.Points);\r\n      return stations.filter(st => st.IsParking);\r\n    },\r\n    MapDataInit() {\r\n      this.map_name = this.map_data.Name;\r\n      this.stations = [];\r\n      Object.keys(this.map_data.Points).forEach(index => {\r\n        var pt_data = this.map_data.Points[index];\r\n        var Graph = pt_data.Graph\r\n        var _tagID = pt_data.TagNumber;\r\n        var _stationType = pt_data.StationType;\r\n        var _feature = new Feature({\r\n          geometry: new Point([Graph.X * 1000, Graph.Y * -1000]),\r\n          name: index,\r\n        });\r\n\r\n        this.SetPointFeatureIDByPointData(_feature, index, pt_data);\r\n        _feature.set('StationType', _stationType)\r\n        _feature.set('Tag', _tagID)\r\n        this.AddStation(\r\n          {\r\n            index: index,\r\n            tag: _tagID,\r\n            feature: _feature,\r\n          }\r\n\r\n        );\r\n\r\n      })\r\n    },\r\n    AddStation(data) {\r\n      data.feature.set('highlight', false)\r\n      this.stations.push(data);\r\n      this.station_features.push(data.feature)\r\n    },\r\n    GetAllNormalPtFeature() {\r\n      return this.station_features.filter(ft => ft.get('StationType') == 0);\r\n    },\r\n\r\n    GetAllParkPtFeature() {\r\n      return this.station_features.filter(ft => ft.get('data').IsParking);\r\n    },\r\n    GetAllEQPtFeature() {\r\n      return this.station_features.filter(ft => ft.get('data').IsEQLink);\r\n    },\r\n    GetAllChargePtFeature() {\r\n      return this.station_features.filter(ft => ft.get('data').IsCharge);\r\n    },\r\n    MapInitializeRender() {\r\n      const lineFeatures = this.CreateLineFeaturesOfEachStaion();\r\n      this.map = new Map({\r\n        target: this.$refs.map,\r\n        layers: [\r\n          // add a vector layer with no source\r\n          new VectorLayer({//0\r\n            source: new VectorSource(),\r\n            name: '1'\r\n          }),\r\n          new VectorLayer({//1\r\n            source: new VectorSource({\r\n              features: this.station_features\r\n            }),\r\n            style: this.pointStyle,\r\n            zIndex: 2,\r\n          }),\r\n          new VectorLayer({//3\r\n            source: new VectorSource({\r\n              features: lineFeatures\r\n            }),\r\n            style: this.pathStyle,\r\n            zIndex: 1\r\n          }),\r\n          new VectorLayer({//2\r\n            source: new VectorSource(),\r\n          }),\r\n\r\n          new VectorLayer({//4\r\n            source: new VectorSource({\r\n              features: [],\r\n            }\r\n            ),\r\n            zIndex: 11111\r\n          }),\r\n          new VectorLayer({//5:導航任務路徑顯示\r\n            source: new VectorSource({\r\n              features: []\r\n            }),\r\n            zIndex: 122\r\n          }),\r\n          new VectorLayer({//路徑規劃測試顯示\r\n            source: new VectorSource({\r\n              features: []\r\n            }),\r\n            style: this.PathPlanLineStyle\r\n          }),\r\n          new VectorLayer({ //Unload Icon 圖層\r\n            source: new VectorSource({\r\n              features: this.station_features\r\n            }),\r\n            style: this.UnloadIconStyle,\r\n            zIndex: 122\r\n          }),\r\n          new VectorLayer({ //固定的圖標圖層\r\n            source: new VectorSource({\r\n              features: [\r\n                new Feature({\r\n                  geometry: new Point([0, 0]),\r\n                  name: \"原點\",\r\n                  id: \"原點\"\r\n                })\r\n              ]\r\n            }),\r\n            style: (feature) => new Style({\r\n              text: new Text({\r\n                text: feature.getId(),\r\n                offsetX: 12,\r\n                offsetY: -15,\r\n                font: 'bold 14px sans-serif',\r\n                fill: new Fill({\r\n                  color: 'black'\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: 'black',\r\n                  width: 3\r\n                })\r\n              }),\r\n            }),\r\n            zIndex: 122\r\n          }),\r\n        ],\r\n        view: new View({\r\n          center: [0, 0],\r\n          zoom: this.zoom,\r\n        }),\r\n      });\r\n\r\n      if (!this.show_agv) {\r\n        this.AGVDisplayControl(false);\r\n      }\r\n      this.CreateMapEvent()\r\n      this.CreateMeshLayer();\r\n      this.$emit('loaded', '')\r\n    },\r\n    CreateMapEvent() {\r\n\r\n      var that = this;\r\n      var isEditMode = () => { return that.edit_mode.enabled };\r\n      var isEditPointMode = () => { return that.edit_mode.mode_selected == 'edit_point' };\r\n      var isRemovePointMode = () => { return that.edit_mode.mode_selected == 'remove_point' };\r\n      var isAddPointMode = () => { return that.edit_mode.mode_selected == 'add_point' };\r\n      var isRemovePathMode = () => { return that.edit_mode.mode_selected == 'remove_path' };\r\n      var isAddPathMode = () => { return that.edit_mode.mode_selected == 'add_path' };\r\n\r\n      var dragControl = (active) => {\r\n        var interactions = that.map.getInteractions();\r\n        interactions.forEach(function (interaction) {\r\n          if (interaction instanceof DragPan) {\r\n            interaction.setActive(active);\r\n          }\r\n        });\r\n      }\r\n\r\n      this.map.on('pointerup', event => {\r\n        if (!that.selected_feature)\r\n          return\r\n\r\n        this.hoverPointData = undefined;\r\n        if (isEditMode() && isAddPointMode() && event.originalEvent.button === 2) {\r\n          document.addEventListener('contextmenu', function (event) {\r\n            event.preventDefault();\r\n          });\r\n\r\n          that.AddNewPoint();\r\n        }\r\n        that.$emit('onStationClick', that.selected_feature.get('data'))\r\n      })\r\n\r\n      // this.map.on('pointermove', (event) => {\r\n      //   var feature = this.map.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\r\n      //     return feature;\r\n      //   });\r\n      //   if (feature && feature.get('data')) {\r\n      //     var data = feature.get('data');\r\n      //     this.hoverPointData = data;\r\n      //   } else {\r\n      //     this.hoverPointData = undefined;\r\n      //   }\r\n      // })\r\n\r\n\r\n      this.map.on('pointerdown', (event) => {\r\n\r\n        that.mouse_click_coordinate = event.coordinate\r\n        if (this.selected_feature) {\r\n          this.selected_feature.set('selected', false);\r\n        }\r\n        this.selected_feature = this.map.forEachFeatureAtPixel(event.pixel, (feature) => {\r\n\r\n          if (feature) {\r\n            that.selected_feature = feature;\r\n            that.selected_feature.set('selected', true);\r\n            if (!isEditMode())\r\n              return undefined;\r\n\r\n            var feature_id = feature.getId();\r\n            var isPathFeature = (feature_id + '').includes('path:')\r\n            if (event.originalEvent.button === 2) { // 右键\r\n              document.addEventListener('contextmenu', function (event) {\r\n                event.preventDefault();\r\n              });\r\n\r\n              if (isEditPointMode()) {\r\n                that.ShowPointSettingDrawer();\r\n              }\r\n            }\r\n            else if (event.originalEvent.button === 0) {//左键\r\n              if (isRemovePathMode()) {\r\n                if (!isPathFeature)\r\n                  return;\r\n                that.RemovePath();\r\n              }\r\n              else if (isRemovePointMode()) {\r\n                if (isPathFeature)\r\n                  return;\r\n                that.RemovePoint();\r\n              }\r\n              else if (isAddPathMode()) {\r\n                if (isPathFeature)\r\n                  return;\r\n                if (that.path_start_end.start == undefined) {\r\n                  that.path_start_end.start = feature\r\n                } else {\r\n                  that.path_start_end.end = feature\r\n                  that.UpdatePathOfBetweenTags();\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          return feature;\r\n        });\r\n\r\n\r\n      });\r\n      // 创建一个拖动交互操作\r\n      var dragInteraction = new Pointer({\r\n        handleDownEvent: function (event) {\r\n          var map = event.map;\r\n          var feature = map.forEachFeatureAtPixel(event.pixel, function (feature) {\r\n            return feature;\r\n          });\r\n          if (!feature)\r\n            return false;\r\n          that.selected_feature = feature;\r\n          var feature_id = feature.getId();\r\n          if (feature_id) {\r\n            this.feature_ = feature;\r\n            this.coordinate_ = event.coordinate;\r\n            return true;\r\n          }\r\n          return false;\r\n        },\r\n        handleDragEvent: function (event) {\r\n          if (isEditMode() && isAddPointMode() && event.originalEvent.button === 0)\r\n            return;\r\n\r\n          if (!isEditMode())\r\n            return;\r\n          if (!isEditPointMode() && !isAddPointMode()) {\r\n            return;\r\n          }\r\n          var deltaX = event.coordinate[0] - this.coordinate_[0];\r\n          var deltaY = event.coordinate[1] - this.coordinate_[1];\r\n          var geometry = this.feature_.getGeometry();\r\n          geometry.translate(deltaX, deltaY);\r\n          this.coordinate_ = event.coordinate;\r\n\r\n          that.UpdateStationPathLayer();\r\n\r\n          //更新本地圖資\r\n          var featureID = that.selected_feature.getId();\r\n          var index = parseInt(featureID.split(':')[1])\r\n\r\n          var coordinates = that.selected_feature.getGeometry().getCoordinates();\r\n          that.map_data.Points[index].Graph.X = Math.round(coordinates[0] / 1000.0, 0);\r\n          that.map_data.Points[index].Graph.Y = Math.round(coordinates[1] / -1000.0, 0);\r\n          that.UpdatePathPlanRender(that.path_plan_tags);\r\n\r\n        },\r\n        handleUpEvent: function () {\r\n          this.feature_ = null;\r\n          this.coordinate_ = null;\r\n          return false;\r\n        },\r\n        handleMoveEvent: function (event) {\r\n\r\n          var map = event.map;\r\n          var feature = map.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\r\n            return feature;\r\n          });\r\n          if (feature) {\r\n            map.getTargetElement().style.cursor = 'pointer';\r\n          } else {\r\n            map.getTargetElement().style.cursor = '';\r\n          }\r\n        }\r\n      });\r\n\r\n      // 将拖动交互操作添加到地图中\r\n      this.map.addInteraction(dragInteraction);\r\n\r\n    },\r\n    /**更新地圖路徑圖層 */\r\n    UpdateStationPathLayer() {\r\n      var New_lineFeatures = this.CreateLineFeaturesOfEachStaion();\r\n      var source = this.Line_Layer.getSource();\r\n      source.clear(); // 清空原有的要素\r\n      source.addFeatures(New_lineFeatures); // 添加新的要素\r\n      source.changed();\r\n    },\r\n    UpdatePathOfBetweenTags() {\r\n      var start_ = this.GetPointDataByFeature(this.path_start_end.start)\r\n      var end_ = this.GetPointDataByFeature(this.path_start_end.end)\r\n      if (!start_ | !end_) {\r\n        this.path_start_end = { start: undefined, end: undefined }\r\n        return;\r\n      }\r\n      if (start_.index != end_.index) {\r\n        var startPoint = this.map_data.Points[start_.index];\r\n        var endPoint = this.map_data.Points[end_.index];\r\n        if (startPoint.Target[end_.index] == undefined) {\r\n          startPoint.Target[end_.index] = 1\r\n          this.map_data.Pathes.push({ StartPoint: startPoint, EndPoint: endPoint });\r\n        }\r\n        this.UpdateStationPathLayer();\r\n      }\r\n      this.path_start_end = { start: undefined, end: undefined }\r\n    },\r\n    CreateMeshLayer() {\r\n      var mesh_vectorSource = new VectorSource();\r\n      var mesh_vectorLayer = new VectorLayer({\r\n        source: mesh_vectorSource,\r\n        zIndex: -1\r\n      });\r\n\r\n      var gridStyle = new Style({\r\n        stroke: new Stroke({\r\n          color: 'rgba(0, 0, 0, 0.1)',\r\n          width: 1,\r\n        })\r\n      });\r\n      var extent = this.map.getView().getProjection().getExtent(); // 获取地图范围\r\n      var gridInterval = 80000; // 设置网格间距为10000米\r\n      for (var x = extent[0]; x < extent[2]; x += gridInterval) {\r\n        var gridLine = new LineString([[x, extent[1]], [x, extent[3]]]); // 创建垂直网格线\r\n        var gridFeature = new Feature({\r\n          geometry: gridLine\r\n        });\r\n        gridFeature.setStyle(gridStyle);\r\n        mesh_vectorSource.addFeature(gridFeature);\r\n      }\r\n      for (var y = extent[1]; y < extent[3]; y += gridInterval) {\r\n        var gridLine = new LineString([[extent[0], y], [extent[2], y]]); // 创建水平网格线\r\n        var gridFeature = new Feature({\r\n          geometry: gridLine\r\n        });\r\n        gridFeature.setStyle(gridStyle);\r\n        mesh_vectorSource.addFeature(gridFeature);\r\n      }\r\n      this.map.addLayer(mesh_vectorLayer);\r\n    },\r\n    UpdateAGVLayer(agv_data) {\r\n      if (!this.AGV_Layer)\r\n        return;\r\n      var output = this.CreateAGVFeatures(agv_data);\r\n      var agv_layer_source = this.AGV_Layer.getSource()\r\n      agv_layer_source.clear();\r\n      agv_layer_source.addFeatures(output.agv_features);\r\n      agv_layer_source.changed();\r\n\r\n      var agv_nav_path_layer_source = this.Nav_Path_Layer.getSource()\r\n      agv_nav_path_layer_source.clear();\r\n      agv_nav_path_layer_source.addFeatures(output.agv_nav_path_features);\r\n      agv_nav_path_layer_source.changed();\r\n\r\n\r\n    },\r\n    GetAgvProp(agv_name) {\r\n      return this.agvList.find(av => av.name == agv_name);\r\n    },\r\n    HightlightAGV(agv_name) {\r\n      this.agvList.forEach(prop => {\r\n        prop.heighlight = false\r\n        prop.isOnline = false\r\n      })\r\n      var agvProp = this.GetAgvProp(agv_name);\r\n      if (agvProp) {\r\n        this.GetAgvProp(agv_name).heighlight = true;\r\n      }\r\n    },\r\n    CreateAGVFeatures(agv_data = []) {\r\n\r\n      var agv_features = [];\r\n      var agv_nav_path_features = [];\r\n      var idx = 0;\r\n      agv_data.forEach(info => {\r\n        var agv_name = info.AGV_Name;\r\n        var agv_current_tag = info.Current_Tag\r\n        var agv_state = info.State\r\n        var isOnline = info.IsOnline\r\n\r\n        var agv_prop_exist = this.GetAgvProp(agv_name);\r\n        if (agv_prop_exist) {\r\n          agv_prop_exist.current_tag = agv_current_tag;\r\n          agv_prop_exist.theta = info.Rotation;\r\n          agv_prop_exist.state = agv_state;\r\n        } else {\r\n          agv_prop_exist = {\r\n            name: agv_name,\r\n            current_tag: agv_current_tag,\r\n            previous_tag: -1,\r\n            color: this.agv_color_set[idx],\r\n            theta: info.Rotation,\r\n            state: agv_state,\r\n            heighlight: false\r\n          }\r\n          this.agvList.push(agv_prop_exist)\r\n        }\r\n        var agv_position = this.get_agv_position(agv_name);\r\n        var agv_feature = new Feature({\r\n          geometry: new Point(agv_position),\r\n          name: agv_name,\r\n        })\r\n        agv_feature.setId('AGV_' + agv_name);\r\n        agv_features.push(agv_feature);\r\n\r\n        var agvIcon = new Icon({\r\n          src: '/agv.png', // 设置PNG图像的路径\r\n          scale: .8, // 设置PNG图像的缩放比例\r\n          anchor: [0.5, 0.5], // 设置PNG图像的锚点，即图片的中心点位置\r\n          size: [60, 60],// 设置PNG图像的大小\r\n          opacity: 1,\r\n\r\n        })\r\n\r\n        agv_feature.setStyle(new Style({\r\n          image: agvIcon,\r\n          text: new Text({\r\n            text: agv_name,\r\n            offsetX: 0,\r\n            offsetY: 20,\r\n            font: 'bold 14px Arial',\r\n            fill: new Fill({\r\n              color: isOnline ? agv_prop_exist.color : 'rgb(192, 192, 192)'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: 'black',\r\n              width: 3\r\n            })\r\n          }),\r\n        }));\r\n        //agv_feature.getStyle().getImage().setRotation(-agv_prop_exist.theta);//設定旋轉角度\r\n\r\n        var nav_path_feature = new Feature({\r\n          geometry: new Point(agv_position),\r\n          name: agv_name\r\n        })\r\n        agv_nav_path_features.push(nav_path_feature);\r\n        idx += 1;\r\n      });\r\n      return { agv_features: agv_features, agv_nav_path_features: agv_nav_path_features }\r\n    },\r\n    /**顯示站點設定抽屜 */\r\n    ShowPointSettingDrawer() {\r\n      var pointData = this.GetPointDataByFeature(this.selected_feature);\r\n      if (pointData) {\r\n        this.$refs['point-setting-drawer'].Show(pointData);\r\n      }\r\n    },\r\n    /**移除站點 */\r\n    RemovePoint() {\r\n      var pointData = this.GetPointDataByFeature(this.selected_feature);\r\n      delete this.map_data.Points[pointData.index];\r\n      var _index = this.stations.findIndex(p => p.index == pointData.index);\r\n      this.stations.splice(_index, 1)\r\n      this.Station_Layer.getSource().removeFeature(this.selected_feature)\r\n      this.Station_Layer.getSource().changed();\r\n      this.UpdateStationPathLayer();\r\n    },\r\n    /**設定Feature屬性Unload */\r\n    SetFeatureHasUnloadReq(unload_tags) {\r\n      //console.info(unload_eqs)\r\n      this.station_features.forEach(feat => {\r\n        var data = feat.get('data')\r\n        var isUnload = unload_tags.includes(data.TagNumber)\r\n        feat.set('unload', isUnload)\r\n      })\r\n\r\n    },\r\n    async AddNewPoint() {\r\n\r\n      var pt_index = this.GetNewPointIndex();\r\n      var source = this.Station_Layer.getSource()\r\n      var _feature = new Feature({\r\n        geometry: new Point(this.mouse_click_coordinate),\r\n        name: pt_index,\r\n      });\r\n\r\n      //新增資料\r\n      var new_point = await this.CloneAPointData();\r\n      new_point.Graph = {\r\n        X: parseInt(this.mouse_click_coordinate[0] / (1000.0)),\r\n        Y: parseInt(this.mouse_click_coordinate[1] / (-1000.0)),\r\n        Display: pt_index + ''\r\n      }\r\n      new_point.TagNumber = (pt_index);\r\n      new_point.Target = {}\r\n      new_point.Name = pt_index + ''\r\n      this.map_data.Points[pt_index] = new_point;\r\n      this.SetPointFeatureIDByPointData(_feature, pt_index, new_point);\r\n      this.AddStation(\r\n        {\r\n          index: pt_index,\r\n          tag: pt_index,\r\n          feature: _feature\r\n        }\r\n      );\r\n      source.addFeature(_feature);\r\n      this.UpdateStationPathLayer();\r\n    },\r\n\r\n    handleAGVMenuItemClick(action) {\r\n      this.showAGVMenu = false;\r\n      if (action === 'add_point') {\r\n      }\r\n    },\r\n    handleTaskAllocatModeMenuClick(action) {\r\n      this.showTaskAllocationMenu = false;\r\n    },\r\n    ChangeFillColorOfFeature(feature, color) {\r\n      var fillStyle = new Fill({\r\n        color: color // 设置填充颜色，例如绿色半透明\r\n      });\r\n      var style = new Style({\r\n        fill: fillStyle // 设置要素的填充样式\r\n      });\r\n      feature.setStyle(style)\r\n      this.GetLayerOfFeature(feature).getSource().refresh();\r\n    },\r\n\r\n    RemovePath(check_way = true) {\r\n\r\n      var pathID = this.selected_feature.getId();\r\n      var splited = pathID.split(':')\r\n      var startStation_Index = parseInt(splited[1])\r\n      var endStation_Index = parseInt(splited[2])\r\n      var startPoint = this.map_data.Points[startStation_Index];\r\n      var endPoint = this.map_data.Points[endStation_Index];\r\n\r\n      //如果包含雙向\r\n      var revertPathIndex = this.GetPathIndex(endPoint, startPoint);\r\n      if (revertPathIndex != -1) {\r\n        this.PathesSelectedForDelete = [\r\n          {\r\n            startPoint: startPoint,\r\n            endPoint: endPoint,\r\n            startStation_Index: startStation_Index,\r\n            endStation_Index: endStation_Index\r\n          },\r\n          {\r\n            startPoint: endPoint,\r\n            endPoint: startPoint,\r\n            startStation_Index: endStation_Index,\r\n            endStation_Index: startStation_Index\r\n          }\r\n        ]\r\n        this.selectPathVisible = true;\r\n        return;\r\n      }\r\n      this.RemovePathByPointsIndex(startStation_Index, endStation_Index);\r\n    },\r\n\r\n    RemovePathByPointsIndex(startStation_Index, endStation_Index) {\r\n\r\n      var startPoint = this.map_data.Points[startStation_Index];\r\n      var endPoint = this.map_data.Points[endStation_Index];\r\n      delete startPoint.Target[endStation_Index]\r\n      var path_index = this.GetPathIndex(startPoint, endPoint)\r\n      this.map_data.Pathes.splice(path_index, 1)\r\n      this.UpdateStationPathLayer()\r\n      this.path_start_end = { start: undefined, end: undefined }\r\n      this.selectPathVisible = false;\r\n    },\r\n    GetPathIndex(startPt, endPt) {\r\n      return this.map_data.Pathes.findIndex(path => path.StartPoint.TagNumber == startPt.TagNumber && path.EndPoint.TagNumber == endPt.TagNumber)\r\n    },\r\n    /**從圖資資料中產生一個新的Point Index */\r\n    GetNewPointIndex() {\r\n      if (this.stations.length == 0)\r\n        return 1;\r\n      const sortedKeys = Object.keys(this.map_data.Points).map(Number).sort((a, b) => a - b); // 小到大排序\r\n      const lastKey = sortedKeys[sortedKeys.length - 1]; // 取得最後一個key\r\n      return lastKey + 1;\r\n    },\r\n    async CloneAPointData() {\r\n      if (this.stations.length == 0) {\r\n        var template = await MapAPI.GetMapStationTemplate()\r\n        return JSON.parse(JSON.stringify(template));\r\n      }\r\n      var points = Object.values(this.map_data.Points);\r\n      var lastPoint = points[points.length - 1]\r\n      return JSON.parse(JSON.stringify(lastPoint))\r\n    },\r\n\r\n\r\n    GetPointDataByFeature(feature) {\r\n\r\n      // var featureID = `Point:${index}:${_tagID}:${stationType}`;\r\n      var featureID = feature.getId();\r\n      var index = parseInt(featureID.split(':')[1]);\r\n      var tagID = parseInt(featureID.split(':')[2]);\r\n      if (tagID) {\r\n        var point = this.map_data.Points[index]\r\n        return {\r\n          index: index,\r\n          point: point\r\n        }\r\n      } else\r\n        return undefined;\r\n\r\n    },\r\n\r\n    NameDisplayChangeHandle() {\r\n      this.UpdatePointDisplay();\r\n    },\r\n    AGVDisplayChangeHandle() {\r\n\r\n      this.AGVDisplayControl(this.agv_display_mode_selected == 'show');\r\n    },\r\n    UpdateNavPathRender(agv_name, currentTag, tags = []) {\r\n      var layerName = `agv_path_layer_${agv_name}`\r\n      var layer = this.map.getLayers().getArray().find(layer => layer.get('id') == layerName);\r\n      let source = undefined\r\n      if (!layer) {\r\n        this.path_store[agv_name] = tags;\r\n        var path_vectorSource = new VectorSource();\r\n        var path_vectorLayer = new VectorLayer({\r\n          source: path_vectorSource,\r\n          zIndex: 666,\r\n          id: layerName\r\n        });\r\n        this.map.addLayer(path_vectorLayer)\r\n        source = path_vectorLayer.getSource();\r\n      }\r\n      else {\r\n        if (this.path_store[agv_name].length == tags.length) {\r\n          return;\r\n        }\r\n        this.path_store[agv_name] = tags;\r\n        source = layer.getSource();\r\n      }\r\n      source.clear();\r\n\r\n      var GetColor = (agvName) => {\r\n        var agv_prop = this.agvList.find(agv => agv.name == agvName);\r\n        var color = 'blue'\r\n        if (agv_prop) {\r\n          color = agv_prop.color;\r\n        }\r\n        return color;\r\n      }\r\n\r\n      var color = GetColor(agv_name);\r\n      if (tags.length != 0) {\r\n        var features = this.CreateLineFeaturesOfPath(tags, color);\r\n        source.addFeatures(features)\r\n      }\r\n      source.changed();\r\n    },\r\n  },\r\n};\r\n</script>\r\n  \r\n<style lang=\"scss\" scoped>\r\n.map-notify {\r\n  .mode-text {\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n  }\r\n\r\n  .tips-text {\r\n    color: \"orange\";\r\n  }\r\n}\r\n\r\n.map-show {\r\n  #point-tooltip {\r\n    position: fixed;\r\n    background-color: rgb(51, 51, 51);\r\n    color: white;\r\n    opacity: 0.9;\r\n    z-index: 9200;\r\n    border: 2px dashed black;\r\n  }\r\n\r\n  .header-div {\r\n    height: 26px;\r\n    margin-bottom: 9px;\r\n\r\n    .options {\r\n      .option-container {\r\n        background-color: rgb(235, 235, 235);\r\n        margin-right: 3px;\r\n        border-radius: 12px;\r\n        padding-left: 8px;\r\n\r\n        span {\r\n          // background-color: pink;\r\n          margin-right: 10px;\r\n          font-weight: bold;\r\n        }\r\n      }\r\n\r\n      .form-check {\r\n        float: right;\r\n        margin-right: 15px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.map {\r\n  height: 95%;\r\n  width: 100%;\r\n}\r\n</style>\r\n  ","import { render } from \"./MapShow.vue?vue&type=template&id=3613a1d6&scoped=true\"\nimport script from \"./MapShow.vue?vue&type=script&lang=js\"\nexport * from \"./MapShow.vue?vue&type=script&lang=js\"\n\nimport \"./MapShow.vue?vue&type=style&index=0&id=3613a1d6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3613a1d6\"]])\n\nexport default __exports__","import { render } from \"./TaskAllocation.vue?vue&type=template&id=543e5f68&scoped=true\"\nimport script from \"./TaskAllocation.vue?vue&type=script&lang=js\"\nexport * from \"./TaskAllocation.vue?vue&type=script&lang=js\"\n\nimport \"./TaskAllocation.vue?vue&type=style&index=0&id=543e5f68&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-543e5f68\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"task-status card-like\">\r\n    <div v-show=\"show_card_title\" class=\"title d-flex flex-row justify-content-between\">\r\n      <div><i class=\"bi bi-three-dots-vertical\"></i>任務狀態 TASK STATUS</div>\r\n      <div><i class=\"bi bi-sliders\" @click=\"ShowSettingsDrawer = true\"></i></div>\r\n    </div>\r\n    <div class=\"px-1\" v-if=\"display_mode == 'tabs'\">\r\n      <el-tabs size>\r\n        <el-tab-pane label=\"未完成任務\">\r\n          <RunningTaskTable :height=\"height\" :IncompletedTaskList=\"IncompletedTaskListTbData\"></RunningTaskTable>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"已結束任務\">\r\n          <CompletedTaskTable :height=\"height\" :CompletedTaskList=\"CompletedTaskListTbData\"></CompletedTaskTable>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </div>\r\n    <div v-else class=\"column-display-mode\">\r\n      <div class=\"title-display\">等待/執行中任務</div>\r\n      <RunningTaskTable :height=\"height\" :IncompletedTaskList=\"IncompletedTaskListTbData\"></RunningTaskTable>\r\n      <div class=\"title-display\">已結束任務</div>\r\n      <CompletedTaskTable :height=\"height\" :CompletedTaskList=\"CompletedTaskListTbData\"></CompletedTaskTable>\r\n    </div>\r\n    <el-drawer v-model=\"ShowSettingsDrawer\" title=\"任務狀態設定\">\r\n      <div class=\"setting-container w-100 bg-light text-start\">\r\n        <el-checkbox @change=\"HandleShowTrafficCkbChg\" v-model=\"Settings.ShowTrafficTask\" label=\"顯示交管任務\"></el-checkbox>\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport clsTaskState from '@/ViewModels/TaskState.js'\r\nimport param from '@/gpm_param'\r\nimport { userStore } from '@/store'\r\nimport RunningTaskTable from '@/components/TaskStatus/RunningTaskTable.vue'\r\nimport CompletedTaskTable from '@/components/TaskStatus/CompletedTaskTable.vue'\r\nexport default {\r\n  components: {\r\n    RunningTaskTable, CompletedTaskTable\r\n  },\r\n  props: {\r\n    display_mode: {\r\n      type: String,\r\n      default: 'tabs'\r\n    },\r\n    show_card_title: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    height: {\r\n      type: String,\r\n      defualt: '310px'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      IncompletedTaskList: [\r\n      ],\r\n      CompletedTaskList: [\r\n      ],\r\n      showCancelTaskConfirm: false,\r\n      cancelTaskName: '',\r\n      ShowSettingsDrawer: false,\r\n      Settings: {\r\n        ShowTrafficTask: true\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.WsInit();\r\n  },\r\n  computed: {\r\n    taskCancelable() {\r\n      return userStore.getters.IsLogin;\r\n    },\r\n    IncompletedTaskListTbData() {\r\n      if (!this.Settings.ShowTrafficTask) {\r\n        return this.IncompletedTaskList.filter(tk => !tk.DispatcherName.toUpperCase().includes('TRAFFIC'))\r\n      } else\r\n        return this.IncompletedTaskList\r\n    },\r\n    CompletedTaskListTbData() {\r\n      if (!this.Settings.ShowTrafficTask) {\r\n        return this.CompletedTaskList.filter(tk => !tk.DispatcherName.toUpperCase().includes('TRAFFIC'))\r\n      } else\r\n        return this.CompletedTaskList\r\n\r\n    },\r\n  },\r\n  methods: {\r\n\r\n    WsInit() {\r\n      const worker = new Worker('websocket_worker.js')\r\n      worker.onmessage = (event) => {\r\n        var parsedArray = event.data;\r\n        this.IncompletedTaskList = parsedArray.incompleteds.map(task => new clsTaskState(task));\r\n        this.CompletedTaskList = parsedArray.completeds.map(task => new clsTaskState(task));\r\n      }\r\n      worker.postMessage({ command: 'connect', ws_url: param.backend_ws_host + '/ws/TaskData' });\r\n    },\r\n    HandleShowTrafficCkbChg() {\r\n\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.task-status {\r\n  .setting-container {\r\n    .el-checkbox__input {\r\n      font-size: 25px;\r\n    }\r\n  }\r\n\r\n  .column-display-mode {\r\n    height: 100%;\r\n\r\n    .title-display {\r\n      text-align: left;\r\n      font-weight: bold;\r\n      letter-spacing: 1px;\r\n    }\r\n  }\r\n}\r\n</style>","import moment from 'moment'\r\n\r\nclass clsTaskState {\r\n  constructor(task) {\r\n    this.TaskName = task.TaskName\r\n    this.State = task.State\r\n    this.StateName = task.StateName\r\n    this.RecieveTime = task.RecieveTime\r\n    this.FinishTime = task.FinishTime\r\n    this.DispatcherName = task.DispatcherName\r\n    this.DesignatedAGVName = task.DesignatedAGVName\r\n    this.ACTIONS = {\r\n      MOVE: 0,\r\n      LOAD: 1,\r\n      UNLOAD: 2,\r\n      CHARGE: 3,\r\n      CARRY: 4,\r\n    }\r\n    this.Action = task.Action\r\n    this.From_Station = task.From_Station\r\n    this.From_Slot = task.From_Slot\r\n    this.To_Station = task.To_Station\r\n    this.To_Slot = task.To_Slot\r\n    this.Carrier_ID = task.Carrier_ID\r\n    this.Priority = task.Priority\r\n  }\r\n  get RecieveTime_Formated() {\r\n    return moment(this.RecieveTime).format('HH:mm:ss')\r\n  }\r\n  get FinishTime_Formated() {\r\n    return moment(this.FinishTime).format('HH:mm:ss')\r\n  }\r\n\r\n  get ActionName() {\r\n    switch (this.Action) {\r\n      case 0:\r\n        return '移動'\r\n      case 1:\r\n        return '取貨'\r\n      case 2:\r\n        return '取貨/停車'\r\n      case 3:\r\n        return '前進'\r\n      case 4:\r\n        return '後退'\r\n      case 6:\r\n        return '量測'\r\n      case 7:\r\n        return '放貨'\r\n      case 8:\r\n        return '充電'\r\n      case 9:\r\n        return '搬運'\r\n      case 12:\r\n        return '停車'\r\n      case 14:\r\n        return '交換電池'\r\n      default:\r\n        return 'Unknown'\r\n    }\r\n  }\r\n}\r\n\r\nexport default clsTaskState\r\n","<template>\r\n  <div class=\"running-task-table\">\r\n    <el-table\r\n      :header-cell-style=\"{ color: 'black', backgroundColor: 'rgb(241, 241, 241)' }\"\r\n      :data=\"IncompletedTaskList\"\r\n      row-key=\"TaskName\"\r\n      size=\"small\"\r\n      :row-class-name=\"row_class_name\"\r\n      empty-text=\"沒有任務\"\r\n      border\r\n      :height=\"height\">\r\n      <el-table-column label=\"任務名稱\" prop=\"TaskName\" width=\"180\"></el-table-column>\r\n      <el-table-column label=\"執行AGV\" prop=\"DesignatedAGVName\"></el-table-column>\r\n      <el-table-column label=\"接收時間\" prop=\"RecieveTime_Formated\" width=\"80\"></el-table-column>\r\n      <el-table-column label=\"任務狀態\" prop=\"StateName\" width=\"80\">\r\n        <template #default=\"scope\">\r\n          <el-tag effect=\"dark\" :type=\"GetTaskStateType(scope.row.State)\">{{ scope.row.StateName }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"動作\" prop=\"ActionName\" width=\"60\">\r\n        <template #default=\"scope\">\r\n          <b>{{ scope.row.ActionName }}</b>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"卡匣ID\" prop=\"Carrier_ID\" width=\"100\">\r\n        <template #default=\"scope\">{{ scope.row.Carrier_ID == \"-1\" ? \"\" : scope.row.Carrier_ID }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"起點\" prop=\"From_Station\">\r\n        <template #default=\"scope\">{{ GetStationName(scope.row.From_Station) }}</template>\r\n        <!-- <el-table-column label=\"站點\" prop=\"From_Station\"></el-table-column> -->\r\n        <!-- <el-table-column label=\"Port\" prop=\"From_Slot\" width=\"50\"></el-table-column> -->\r\n      </el-table-column>\r\n      <el-table-column label=\"終點\" prop=\"To_Station\">\r\n        <template #default=\"scope\">{{ GetStationName(scope.row.To_Station) }}</template>\r\n        <!-- <el-table-column label=\"站點\" prop=\"To_Station\"></el-table-column> -->\r\n        <!-- <el-table-column label=\"Port\" prop=\"To_Slot\" width=\"50\"></el-table-column> -->\r\n      </el-table-column>\r\n      <el-table-column label=\"派工人員\" prop=\"DispatcherName\"></el-table-column>\r\n      <el-table-column v-show=\"taskCancelable\" fixed=\"right\" width=\"100\">\r\n        <template #default=\"scope\">\r\n          <div>\r\n            <b-button size=\"sm\" variant=\"danger\" @click=\"CancelTaskHandler(scope.row.TaskName)\">取消任務</b-button>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { userStore } from '@/store'\r\nimport { TaskAllocation } from '@/api/TaskAllocation'\r\nimport { GetTaskStateType } from './TaskStatus'\r\nimport { MapStore } from '@/components/Map/store'\r\nimport bus from '@/event-bus';\r\n\r\nexport default {\r\n  props: {\r\n    IncompletedTaskList: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    height: {\r\n      type: String,\r\n      default() {\r\n        return '260px'\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      showCancelTaskConfirm: false,\r\n      cancelTaskName: ''\r\n    }\r\n  },\r\n  computed: {\r\n    taskCancelable() {\r\n      return userStore.getters.IsLogin;\r\n    },\r\n    MapPoints() {\r\n      return Object.values(MapStore.getters.MapData.Points)\r\n    }\r\n  },\r\n  methods: {\r\n    CancelTaskHandler(task_name) {\r\n      this.cancelTaskName = task_name;\r\n      var isHotRunTask = task_name.includes('HR')\r\n      this.$swal.fire(\r\n        {\r\n          title: '確定要取消任務?',\r\n          text: '任務ID ' + task_name,\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(res => {\r\n          if (res.isConfirmed) {\r\n            this.SendCancelTaskRequest()\r\n          }\r\n        })\r\n    },\r\n    async SendCancelTaskRequest() {\r\n      try {\r\n        await TaskAllocation.Cancel(this.cancelTaskName);\r\n      } catch (error) {\r\n        if (error.response.status == 401) {\r\n          bus.emit('/show-login-view-invoke')\r\n\r\n          // this.$swal.fire(\r\n          //   {\r\n          //     text: '',\r\n          //     title: '請先進行登入',\r\n          //     icon: 'warning',\r\n          //     showCancelButton: false,\r\n          //     confirmButtonText: 'OK',\r\n          //     customClass: 'my-sweetalert'\r\n          //   }).then(() => {\r\n\r\n          //     bus.emit('/show-login-view-invoke')\r\n          //   })\r\n        }\r\n      }\r\n    },\r\n    GetTaskStateType(State) {\r\n      return GetTaskStateType(State);\r\n    },\r\n    GetStationName(tag) {\r\n      var station = this.MapPoints.find(station => station.TagNumber + '' == tag)\r\n      if (station)\r\n        return station.Graph.Display\r\n      return tag\r\n    },\r\n    row_class_name({ row, rowIndex }) {\r\n      if (row.DispatcherName.toUpperCase() == 'TRAFFIC')\r\n        return 'traffic-task-row'\r\n      if (row.Action == 8 || row.Action == 14)\r\n        return 'charge-task-row'\r\n      return ''\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.running-task-table {\r\n  .el-table .traffic-task-row {\r\n    background-color: rgb(169, 223, 238);\r\n    /* --el-table-tr-bg-color: var(--el-color-warning-light-9); */\r\n  }\r\n\r\n  .el-table .charge-task-row {\r\n    background-color: rgb(252, 244, 179);\r\n  }\r\n}\r\n</style>","export function GetTaskStateType(state_code) {\r\n    //success\",\", \"info\", \"warning\", \"danger\", \"\"],\r\n    if (state_code == 1 || state_code == 2 || state_code == 3 || state_code == 4) //Running\r\n        return 'success'\r\n    else if (state_code == 6) //FAILURE\r\n        return 'danger'\r\n    else if (state_code == 7) //Cancel\r\n        return 'warning'\r\n    else\r\n        return 'info'         //Failure\r\n}","import { render } from \"./RunningTaskTable.vue?vue&type=template&id=fe629662\"\nimport script from \"./RunningTaskTable.vue?vue&type=script&lang=js\"\nexport * from \"./RunningTaskTable.vue?vue&type=script&lang=js\"\n\nimport \"./RunningTaskTable.vue?vue&type=style&index=0&id=fe629662&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"completed-task-table\">\r\n    <el-table\r\n      :header-cell-style=\"{ color: 'black', backgroundColor: 'rgb(241, 241, 241)' }\"\r\n      :data=\"CompletedTaskList\"\r\n      row-key=\"TaskName\"\r\n      size=\"small\"\r\n      border\r\n      :height=\"height\"\r\n      :row-class-name=\"row_class_name\"\r\n      empty-text=\"沒有任務\">\r\n      <el-table-column label=\"任務名稱\" prop=\"TaskName\" width=\"180\"></el-table-column>\r\n      <el-table-column label=\"執行AGV\" prop=\"DesignatedAGVName\"> </el-table-column>\r\n      <el-table-column label=\"接收時間\" prop=\"RecieveTime_Formated\" width=\"80\"></el-table-column>\r\n      <el-table-column label=\"結束時間\" prop=\"FinishTime_Formated\" width=\"80\"></el-table-column>\r\n      <el-table-column label=\"任務狀態\" prop=\"StateName\" width=\"80\">\r\n        <template #default=\"scope\">\r\n          <el-tag effect=\"dark\" :type=\"GetTaskStateType(scope.row.State)\">{{ scope.row.StateName }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"動作\" prop=\"ActionName\" width=\"60\">\r\n        <template #default=\"scope\">\r\n          <b>{{ scope.row.ActionName }}</b>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"卡匣ID\" prop=\"Carrier_ID\">\r\n        <template #default=\"scope\"> {{ scope.row.Carrier_ID == \"-1\" ? \"\" : scope.row.Carrier_ID }} </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"起點\">\r\n        <template #default=\"scope\">{{ GetStationName(scope.row.From_Station) }}</template>\r\n        <!-- <el-table-column label=\"站點\" prop=\"From_Station\"></el-table-column>\r\n        <el-table-column label=\"Port\" prop=\"From_Slot\" width=\"50\"></el-table-column>-->\r\n      </el-table-column>\r\n      <el-table-column label=\"終點\">\r\n        <template #default=\"scope\">{{ GetStationName(scope.row.To_Station) }}</template>\r\n        <!-- <el-table-column label=\"站點\" prop=\"To_Station\"></el-table-column>\r\n        <el-table-column label=\"Port\" prop=\"To_Slot\" width=\"50\"></el-table-column>-->\r\n      </el-table-column>\r\n      <el-table-column label=\"派工人員\" prop=\"DispatcherName\"></el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GetTaskStateType } from './TaskStatus'\r\nimport { MapStore } from '@/components/Map/store'\r\n\r\nexport default {\r\n  props: {\r\n    CompletedTaskList: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    height: {\r\n      type: String,\r\n      default() {\r\n        return '260px'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    MapPoints() {\r\n      return Object.values(MapStore.getters.MapData.Points)\r\n    }\r\n  },\r\n  methods: {\r\n    GetTaskStateType(State) {\r\n      return GetTaskStateType(State);\r\n    }\r\n    ,\r\n    GetStationName(tag) {\r\n      var station = this.MapPoints.find(station => station.TagNumber + '' == tag)\r\n      if (station)\r\n        return station.Graph.Display\r\n      return tag\r\n    },\r\n    row_class_name({ row, rowIndex }) {\r\n      if (row.DispatcherName.toUpperCase() == 'TRAFFIC')\r\n        return 'traffic-task-row'\r\n      if (row.Action == 8 || row.Action == 14)\r\n        return 'charge-task-row'\r\n      return ''\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.completed-task-table {\r\n\r\n  .el-table .traffic-task-row {\r\n    background-color: rgb(169, 223, 238);\r\n    /* --el-table-tr-bg-color: var(--el-color-warning-light-9); */\r\n  }\r\n\r\n  .el-table .charge-task-row {\r\n    background-color: rgb(252, 244, 179);\r\n  }\r\n}\r\n</style>","import { render } from \"./CompletedTaskTable.vue?vue&type=template&id=db13fc9e\"\nimport script from \"./CompletedTaskTable.vue?vue&type=script&lang=js\"\nexport * from \"./CompletedTaskTable.vue?vue&type=script&lang=js\"\n\nimport \"./CompletedTaskTable.vue?vue&type=style&index=0&id=db13fc9e&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TaskStatus.vue?vue&type=template&id=1ce47aed&scoped=true\"\nimport script from \"./TaskStatus.vue?vue&type=script&lang=js\"\nexport * from \"./TaskStatus.vue?vue&type=script&lang=js\"\n\nimport \"./TaskStatus.vue?vue&type=style&index=0&id=1ce47aed&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1ce47aed\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"map-point-setting-drawer\">\r\n    <el-drawer\r\n      v-model=\"show\"\r\n      size=\"35%\"\r\n      :close-on-press-escape=\"true\"\r\n      :close-on-click-modal=\"true\"\r\n      :show-close=\"false\"\r\n      :modal=\"true\"\r\n      modal-class=\"modal-style\"\r\n      :before-close=\"CancelBtnClickHandle\">\r\n      <template #header>\r\n        <div class=\"header border-bottom\">\r\n          <h3>點位設定-{{ index }}</h3>\r\n        </div>\r\n      </template>\r\n      <div class=\"draw-content w-100 px-2\">\r\n        <div class=\"text-start py-2\">\r\n          <!-- <b-button variant=\"danger\" @click=\"CancelBtnClickHandle\">離開</b-button> -->\r\n          <b-button variant=\"danger\" @click=\"CancelBtnClickHandle\">離開</b-button>\r\n          <b-button variant=\"primary\" @click=\"SaveBtnClickHandle\">儲存</b-button>\r\n        </div>\r\n        <div class=\"settings px-2\">\r\n          <div v-show=\"true\" class=\"text-start\">\r\n            <b-button size=\"sm\" variant=\"primary\" @click=\"Regist\">註冊</b-button>\r\n            <b-button size=\"sm\" variant=\"danger\" @click=\"Unregist\">解註冊</b-button>\r\n          </div>\r\n          <el-collapse v-model=\"activeNames\">\r\n            <el-collapse-item title=\"基本設定\" name=\"1\">\r\n              <el-form label-width=\"120px\" label-position=\"left\">\r\n                <el-form-item label=\"Point Index\">\r\n                  <el-input v-model=\"index\" disabled></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"顯示名稱\">\r\n                  <div>\r\n                    <el-input v-model=\"pointData_editing.Graph.Display\"></el-input>\r\n                  </div>\r\n                  <div>\r\n                    <el-button\r\n                      v-show=\"IsEQPoint\"\r\n                      @click=\"pointData_editing.Graph.Display = BindingEQInfo.Name\">使用繫連的EQ名稱</el-button>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"Tag\">\r\n                  <div class=\"tag\">\r\n                    <div>\r\n                      <span>ID</span>\r\n                      <el-input v-model.number=\"pointData_editing.TagNumber\"></el-input>\r\n                    </div>\r\n                    <div>\r\n                      <span>X</span>\r\n                      <el-input v-model=\"pointData_editing.X\"></el-input>\r\n                    </div>\r\n                    <div>\r\n                      <span>Y</span>\r\n                      <el-input v-model=\"pointData_editing.Y\"></el-input>\r\n                    </div>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"站點類型\">\r\n                  <el-select v-model=\"pointData_editing.StationType\" @change=\"StationTypeOnChange\">\r\n                    <el-option\r\n                      v-for=\"pt_type in stationTypes\"\r\n                      :key=\"pt_type.value\"\r\n                      :label=\"pt_type.label\"\r\n                      :value=\"pt_type.value\"></el-option>\r\n                  </el-select>\r\n                  <div v-show=\"IsEQPoint\">\r\n                    <el-input disabled v-model=\"BindingEQInfo.Name\"></el-input>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"角度\">\r\n                  <el-input-number v-model=\"pointData_editing.Direction\"></el-input-number>\r\n                </el-form-item>\r\n                <el-form-item v-if=\"pointData_editing.StationType != 0\" label=\"二次定位點角度\">\r\n                  <el-input-number v-model=\"pointData_editing.Direction_Secondary_Point\"></el-input-number>\r\n                </el-form-item>\r\n                <el-form-item label=\"雷射模式\">\r\n                  <el-input-number v-model=\"pointData_editing.LsrMode\" :step=\"1\"></el-input-number>\r\n                  <i\r\n                    class=\"bi bi-question-circle information\"\r\n                    @click=\"HandleLaserModeInfoIconClick\"></i>\r\n                </el-form-item>\r\n                <el-form-item label=\"速度\">\r\n                  <el-input-number v-model=\"pointData_editing.Speed\" :step=\"0.1\" :precision=\"1\"></el-input-number>\r\n                </el-form-item>\r\n                <el-form-item label=\"AGV閃避模式\">\r\n                  <el-input-number v-model=\"pointData_editing.DodgeMode\" :step=\"1\"></el-input-number>\r\n                  <i\r\n                    class=\"bi bi-question-circle information\"\r\n                    @click=\"HandleDodgeModeInfoIconClick\"></i>\r\n                </el-form-item>\r\n              </el-form>\r\n            </el-collapse-item>\r\n            <el-collapse-item title=\"功能設定\" name=\"2\">\r\n              <div class=\"d-flex flex-column\">\r\n                <el-checkbox v-model=\"pointData_editing.Enable\" label=\"啟用\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsStandbyPoint\" label=\"停駐點\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsSegment\" label=\"二次定位點\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsParking\" label=\"可停車點\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsAvoid\" label=\"避車點\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsVirtualPoint\" label=\"虛擬點\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsAutoDoor\" label=\"自動門\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsExtinguishing\" label=\"消防設備\"></el-checkbox>\r\n              </div>\r\n            </el-collapse-item>\r\n            <el-collapse-item title=\"註冊點\" name=\"3\">\r\n              <div class=\"text-start\">\r\n                <el-button\r\n                  @click=\"() => {\r\n                    RegistersTable.push({\r\n                      index: undefined,\r\n                      tag: undefined,\r\n                      name: undefined\r\n                    })\r\n                  }\">新增</el-button>\r\n              </div>\r\n              <el-table row-key=\"index\" height=\"320px\" border :data=\"RegistersTable\">\r\n                <el-table-column label=\"Index\" prop=\"index\">\r\n                  <template #default=\"scope\">\r\n                    <div>\r\n                      <el-select @change=\"HandleIndexSelected(scope.row)\" v-model=\"scope.row.index\">\r\n                        <el-option\r\n                          v-for=\"pt in pointsOptions\"\r\n                          :key=\"pt.index\"\r\n                          :label=\"pt.index\"\r\n                          :value=\"pt.index\"></el-option>\r\n                      </el-select>\r\n                    </div>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"Tag\" prop=\"tag\"></el-table-column>\r\n                <el-table-column label=\"Name\" prop=\"name\"></el-table-column>\r\n                <el-table-column label=\"Name\">\r\n                  <template #default=\"scope\">\r\n                    <el-button\r\n                      @click=\"() => {\r\n                        RegistersTable.splice(RegistersTable.indexOf(scope.row), 1)\r\n                      }\"\r\n                      type=\"danger\"\r\n                      size=\"small\">移除</el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </el-collapse-item>\r\n            <el-collapse-item title=\"分區設定\" name=\"4\">\r\n              <el-form>\r\n                <el-form-item label=\"所屬區域\">\r\n                  <RegionsSelector v-model=\"pointData_editing.Region\"></RegionsSelector>\r\n                </el-form-item>\r\n              </el-form>\r\n            </el-collapse-item>\r\n          </el-collapse>\r\n        </div>\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GetEQInfoByTag } from '@/api/EquipmentAPI.js';\r\nimport { pointTypes } from '@/api/MapAPI.js'\r\nimport { MapStore } from './Map/store';\r\nimport RegionsSelector from '@/components/RegionsSelector.vue'\r\nimport MapAPI from '@/api/MapAPI'\r\nimport { ElNotification } from 'element-plus'\r\n\r\n\r\nexport default {\r\n  components: {\r\n    RegionsSelector\r\n  },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      index: -1,\r\n      pointData: {},\r\n      pointData_editing: {},\r\n      RegistersTable: [\r\n        {\r\n          index: 0,\r\n          tag: 1,\r\n          name: '1'\r\n\r\n        }\r\n      ],\r\n      activeNames: ['1'],\r\n      BindingEQInfo: {\r\n        ConnOptions: {\r\n          ConnMethod: 0,\r\n          IP: \"127.0.0.1\",\r\n          Port: 503,\r\n          ComPort: \"COM1\"\r\n        },\r\n        Name: \"LDULD#2\",\r\n        TagID: 2\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n  },\r\n  computed: {\r\n    hasAnyChange() {\r\n      var ori_ = JSON.stringify(this.pointData)\r\n      var current_ = JSON.stringify(this.pointData_editing)\r\n      return ori_ != current_;\r\n    },\r\n    IsEQPoint() {\r\n      return this.pointData_editing.StationType == 1;\r\n    },\r\n    stationTypes() {\r\n      return pointTypes;\r\n    },\r\n    potinFullName() {\r\n      return `[${this.index}] ${this.pointData.Name}`\r\n    },\r\n    pointsOptions() {\r\n      return MapStore.getters.AllPointsOptions;\r\n    }\r\n  },\r\n  methods: {\r\n    async Show(ptObj) {\r\n      if (!ptObj.point)\r\n        return;\r\n      this.index = ptObj.index\r\n      this.pointData = ptObj.point\r\n      this.pointData_editing = JSON.parse(JSON.stringify(ptObj.point))\r\n      this.InitRegisterTableData();\r\n\r\n      if (this.IsEQPoint)//EQ\r\n      {\r\n        this.BindingEQInfo = await GetEQInfoByTag(this.pointData.TagNumber);\r\n      }\r\n      this.show = true;\r\n    },\r\n    InitRegisterTableData() {\r\n      this.RegistersTable = []\r\n      var registersIndexes = this.pointData_editing.RegistsPointIndexs //點位的INDEX列表\r\n      if (registersIndexes) {\r\n        registersIndexes.forEach(async (index) => {\r\n          var registedPointData = await MapStore.dispatch('GetMapPointByIndex', index);\r\n          if (registedPointData) {\r\n            this.RegistersTable.push({\r\n              index: index,\r\n              tag: registedPointData.TagNumber,\r\n              name: registedPointData.Name\r\n            })\r\n          }\r\n        });\r\n      }\r\n\r\n    },\r\n    ResetRegistPointIndexData() {\r\n      this.pointData_editing.RegistsPointIndexs = this.RegistersTable.map(dat => dat.index)\r\n    },\r\n    async StationTypeOnChange(e) {\r\n      if (e == 1) {\r\n        this.BindingEQInfo = await GetEQInfoByTag(this.pointData.TagNumber);\r\n      }\r\n    },\r\n\r\n    SaveBtnClickHandle() {\r\n      // if (this.CheckTagRepeat()) {\r\n      //   this.$swal.fire(\r\n      //     {\r\n      //       text: '',\r\n      //       title: `$Tag {this.pointData_editing.TagNumber}已被其他暫ㄉ點設置`,\r\n      //       icon: 'warning',\r\n      //       showCancelButton: false,\r\n      //       confirmButtonText: 'OK',\r\n      //       customClass: 'my-sweetalert'\r\n      //     })\r\n      //   return;\r\n      // }\r\n      this.ResetRegistPointIndexData();\r\n      this.$emit('OnPointSettingChanged', { index: this.index, pointData: this.pointData_editing })\r\n      ElNotification({\r\n        title: 'Success',\r\n        message: `${this.potinFullName} 站點設定已暫存，請記得儲存圖資`,\r\n        duration: 1000\r\n      })\r\n      this.pointData = this.pointData_editing;\r\n    },\r\n    CheckTagRepeat() {\r\n      if (this.pointData_editing.TagNumber == this.pointData.TagNumber) {\r\n        return false;\r\n      }\r\n      var _sameTagCount = this.pointsOptions.filter(pt => pt.tag + '' == this.pointData_editing.TagNumber + '')\r\n      alert(JSON.stringify(_sameTagCount))\r\n      return _sameTagCount.length == 1;\r\n    },\r\n    CancelBtnClickHandle() {\r\n      if (this.hasAnyChange) {\r\n        this.show = false;\r\n        this.$swal.fire({\r\n          title: '點位尚未儲存',\r\n          text: `點位-${this.potinFullName} 設定值變更但尚未儲存，確定要離開?`,\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: '確定',\r\n          customClass: 'my-sweetalert'\r\n        }).then((result) => {\r\n          this.show = !result.isConfirmed;\r\n          if (!this.show)\r\n            this.$emit('OnLeve')\r\n        })\r\n\r\n      } else {\r\n        this.show = false;\r\n        this.$emit('OnLeve')\r\n      }\r\n    },\r\n    async Regist() {\r\n      var response = await MapAPI.Regist(this.pointData_editing.TagNumber);\r\n      var success = response.result;\r\n      //            return Ok(new { result = result, message = err_msg });\r\n      this.show = false;\r\n      this.$swal.fire(\r\n        {\r\n          text: '',\r\n          title: `${this.pointData_editing.TagNumber} ${success ? '註冊成功' : '註冊失敗'}`,\r\n          icon: success ? 'success' : 'error',\r\n          showCancelButton: false,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(res => {\r\n          this.show = true;\r\n        })\r\n    },\r\n    async Unregist() {\r\n      var response = await MapAPI.Unregist(this.pointData_editing.TagNumber)\r\n      var success = response.result;\r\n\r\n      this.show = false;\r\n      //            return Ok(new { result = result, message = err_msg });\r\n      this.$swal.fire(\r\n        {\r\n          text: '',\r\n          title: `${this.pointData_editing.TagNumber} ${success ? '解除註冊成功' : '解除註冊失敗'}`,\r\n          icon: success ? 'success' : 'error',\r\n          showCancelButton: false,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(res => {\r\n          this.show = true;\r\n        })\r\n    },\r\n    HandleIndexSelected(pt) {\r\n      var index = pt.index\r\n      MapStore.dispatch('GetMapPointByIndex', index).then(point_Selected => {\r\n        pt.tag = point_Selected.TagNumber;\r\n        pt.name = point_Selected.Name;\r\n      })\r\n\r\n    },\r\n    HandleDodgeModeInfoIconClick() {\r\n      this.show = false;\r\n      this.$swal.fire(\r\n        {\r\n          html: '<div class=\"text-start\">10:取消任務時Pass站點(用於避免與WIP內AGV旋轉干涉)<br>11:地標輔助修正(用於轉角或長走道起點，AGV會追Tag中心)<br>12:里程計輔助定位(用於窄道)<br>14:里程計輔助定位、偵測色帶(用於窄道、脫離色帶會上報異常)</div>',\r\n          title: 'Dodge Mode',\r\n          icon: 'information',\r\n          showCancelButton: false,\r\n          customClass: 'my-sweetalert'\r\n        }).then(() => {\r\n          this.show = true\r\n        })\r\n    },\r\n    HandleLaserModeInfoIconClick() {\r\n      this.show = false;\r\n      this.$swal.fire(\r\n        {\r\n          html: '<div class=\"text-start\">0:Bypass<br>1:Normal<br>2:二次定位<br>3:Normal_Short<br>5:Turning<br>7:Loading<br>10:Special<br>12:Narrow(窄道)<br>13:Norrow_Long</div>',\r\n          title: 'Laser Mode',\r\n          icon: 'information',\r\n          showCancelButton: false,\r\n          customClass: 'my-sweetalert'\r\n        }).then(() => {\r\n          this.show = true\r\n        })\r\n    }\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped >\r\n.map-point-setting-drawer {\r\n  .modal-style {\r\n    opacity: 0.3;\r\n  }\r\n\r\n  z-index: 2;\r\n\r\n  .draw-content {\r\n    top: 67px;\r\n    position: absolute;\r\n    height: 100%;\r\n\r\n    .settings {\r\n      height: 800px;\r\n      overflow-y: scroll;\r\n    }\r\n\r\n    button {\r\n      width: 120px;\r\n      margin-right: 3px;\r\n    }\r\n  }\r\n\r\n  .tag {\r\n    display: flex;\r\n    flex-direction: row;\r\n\r\n    div {\r\n      display: flex;\r\n      flex-direction: row;\r\n      margin: 3px;\r\n    }\r\n  }\r\n\r\n  .information {\r\n    font-size: 16px;\r\n    margin: auto 10px;\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>","import { render } from \"./MapPointSettingDrawer.vue?vue&type=template&id=78485b2c&scoped=true\"\nimport script from \"./MapPointSettingDrawer.vue?vue&type=script&lang=js\"\nexport * from \"./MapPointSettingDrawer.vue?vue&type=script&lang=js\"\n\nimport \"./MapPointSettingDrawer.vue?vue&type=style&index=0&id=78485b2c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-78485b2c\"]])\n\nexport default __exports__","<template>\r\n  <div id=\"map\" class=\"map-component\">\r\n    <el-alert v-if=\"map_name == 'Unkown'\" title=\"載入中\" type=\"warning\" effect=\"dark\" />\r\n    <div class=\"d-flex h-100\">\r\n      <div class=\"flex-fill d-flex flex-column\">\r\n        <div class=\"w-100 bg-primary text-light rounded p-2 select-mode\" v-if=\"IsSelectAGVMode\">選擇 AGV</div>\r\n        <div class=\"w-100 text-light rounded p-2 select-mode\"\r\n          v-if=\"IsSelectEQStationMode\"\r\n          v-bind:class=\"SelectActionType == 'charge' ? 'bg-warning' : 'bg-primary'\">{{ SelectActionType == 'charge' ? '選擇[充電站]' : `${TransferDirection == 'source' ? '選擇[來源]設備' : '選擇[終點]設備'}` }}</div>\r\n        <!-- 編輯選項 -->\r\n        <div\r\n          v-if=\"editable\"\r\n          class=\"editor-option fixed-top bg-light\"\r\n          style=\"margin-top:49px;margin-left:70px\">\r\n          <div class=\"edit-block action-buttons\">\r\n            <b-button variant=\"primary\" @click=\"HandlerSaveBtnClick\">儲存</b-button>\r\n            <b-button variant=\"danger\" @click=\"ReloadMap\">重新載入</b-button>\r\n            <b-button variant=\"danger\" @click=\"ClearMap\">清除資料</b-button>\r\n          </div>\r\n          <div class=\"d-flex\">\r\n            <div class=\"edit-block\">\r\n              <span>\r\n                <i class=\"bi bi-three-dots-vertical\"></i>模式 </span>\r\n              <el-radio-group\r\n                v-bind:style=\"radio_group_style\"\r\n                v-model=\"EditorOption.EditMode\"\r\n                @change=\"(opt) => { RestoreOriginalPathStyle(this.selected_path_feature) }\"\r\n                size=\"large\">\r\n                <el-radio-button size=\"small\" label=\"view\">檢視[V]</el-radio-button>\r\n                <el-radio-button size=\"small\" label=\"edit\">編輯[E]</el-radio-button>\r\n              </el-radio-group>\r\n            </div>\r\n            <div class=\"edit-block d-flex\">\r\n              <span>\r\n                <i class=\"bi bi-three-dots-vertical\"></i>編輯動作 </span>\r\n              <el-radio-group\r\n                v-bind:style=\"radio_group_style\"\r\n                :disabled=\"EditorOption.EditMode != 'edit'\"\r\n                v-model=\"EditorOption.EditAction\"\r\n                size=\"large\">\r\n                <el-radio-button size=\"small\" label=\"none\">無</el-radio-button>\r\n                <el-radio-button size=\"small\" label=\"add-station\">新增點位[1]</el-radio-button>\r\n                <el-radio-button size=\"small\" label=\"edit-station\">編輯點位[2]</el-radio-button>\r\n                <el-radio-button size=\"small\" label=\"remove-station\">移除點位[3]</el-radio-button>\r\n              </el-radio-group>\r\n              <div class=\"d-flex flex-column\">\r\n                <el-radio-group\r\n                  class=\"mx-1\"\r\n                  :disabled=\"EditorOption.EditMode != 'edit'\"\r\n                  v-model=\"EditorOption.EditAction\"\r\n                  @change=\"() => { PathEditTempStore = [] }\"\r\n                  size=\"large\">\r\n                  <el-radio-button size=\"small\" label=\"add-path\">新增路徑[4]</el-radio-button>\r\n                  <el-radio-button size=\"small\" label=\"edit-path\">編輯路徑[5]</el-radio-button>\r\n                  <el-radio-button size=\"small\" label=\"remove-path\">移除路徑[6]</el-radio-button>\r\n                </el-radio-group>\r\n                <el-radio-group\r\n                  v-show=\"EditorOption.EditAction == 'add-path'\"\r\n                  class=\"mx-1 my-1\"\r\n                  v-model=\"EditorOption.AddPathMode.Direction\"\r\n                  @change=\"() => { }\"\r\n                  size=\"large\">\r\n                  <el-radio-button size=\"small\" label=\"one-direction\">單向</el-radio-button>\r\n                  <el-radio-button size=\"small\" label=\"bi-direction\">雙向</el-radio-button>\r\n                </el-radio-group>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- <div\r\n            v-show=\"ShowWarningNotify\"\r\n          class=\"bg-warning text-light border rounded p-1\">目前為Slam座標模式，點位位置即為AGV真實走行座標，請小心操作 </div>-->\r\n        </div>\r\n        <div class=\"d-flex flex-row\" style=\"overflow-y: hidden;\">\r\n          <!-- settings tabcontrol -->\r\n          <div\r\n            v-if=\"EditorOption.EditMode == 'edit' && editable\"\r\n            v-bind:class=\"left_tab_class_name\"\r\n            class=\"border bg-light\"\r\n            v-bind:style=\"path_view_style\">\r\n            <div class=\"p-0 m-0 w-100\" v-if=\"left_tab_class_name == 'tab-close'\">\r\n              <i\r\n                @click=\"() => {\r\n                  left_tab_class_name = left_tab_class_name == 'tab-open' ? 'tab-close' : 'tab-open'\r\n                }\"\r\n                class=\"bi bi-chevron-double-right\"></i>\r\n            </div>\r\n            <div v-else class=\"tab-open\">\r\n              <i\r\n                @click=\"() => {\r\n                  left_tab_class_name = left_tab_class_name == 'tab-open' ? 'tab-close' : 'tab-open'\r\n                }\"\r\n                class=\"bi bi-chevron-double-left\"></i>\r\n              <b-tabs class=\"p-1\">\r\n                <b-tab title=\"點位\">\r\n                  <div class=\"border\">123</div>\r\n                </b-tab>\r\n                <b-tab title=\"路徑\" active>\r\n                  <div class=\"border\">\r\n                    <!-- <div class=\"d-flex\">\r\n                    <div style=\"width:70px\">搜尋</div> <el-input></el-input>\r\n                    </div>-->\r\n                    <el-table\r\n                      :data=\"PathesSegmentsForEdit\"\r\n                      highlight-current-row\r\n                      row-key=\"StartPtIndex\"\r\n                      @row-click=\"HandlePathTbRowClick\"\r\n                      border\r\n                      style=\"height: 650px;\"\r\n                      size=\"small\">\r\n                      <el-table-column label=\"起點\" prop=\"StartPtIndex\" width=\"120\">\r\n                        <template #default=\"scope\">\r\n                          <b>{{ GetPointName(scope.row.StartPtIndex) }}</b>\r\n                        </template>\r\n                      </el-table-column>\r\n                      <el-table-column label=\"終點\" prop=\"EndPtIndex\" width=\"120\">\r\n                        <template #default=\"scope\">\r\n                          <b>{{ GetPointName(scope.row.EndPtIndex) }}</b>\r\n                        </template>\r\n                      </el-table-column>\r\n                      <el-table-column label=\"操作\">\r\n                        <template #default=\"scope\">\r\n                          <div class=\"d-flex flex-row\">\r\n                            <b-button size=\"sm\" variant=\"primary\">編輯</b-button>\r\n                            <b-button\r\n                              class=\"mx-1\"\r\n                              size=\"sm\"\r\n                              variant=\"danger\"\r\n                              @click=\"HandlePathRemoveBtnClick(scope.row)\">移除</b-button>\r\n                          </div>\r\n                        </template>\r\n                      </el-table-column>\r\n                      <!-- <el-table-column label=\"是否為工位路線\" prop=\"IsEQLink\"></el-table-column> -->\r\n                    </el-table>\r\n                  </div>\r\n                </b-tab>\r\n              </b-tabs>\r\n            </div>\r\n          </div>\r\n          <!-- map render -->\r\n          <div\r\n            :id=\"id\"\r\n            v-bind:style=\"{ height: canva_height, marginTop: editable ? marginTop : '0px' }\"\r\n            class=\"agv_map flex-fll\"\r\n            @contextmenu=\"showContextMenu($event)\">\r\n            <div v-if=\"true\" class=\"ol-control custom-buttons\">\r\n              <button @click=\"HandleSettingBtnClick\">\r\n                <i class=\"bi bi-sliders\"></i>\r\n              </button>\r\n              <button @click=\"HandleSettingBtnClick\">?</button>\r\n              <!-- <button>2</button> -->\r\n            </div>\r\n            <div class=\"ol-control cursour-coordination-show\">\r\n              <span style=\"color:rgb(24, 24, 24)\">{{ MouseCoordinationDisplay }}</span>\r\n            </div>\r\n            <!-- <QuicklyAction></QuicklyAction> -->\r\n          </div>\r\n        </div>\r\n        <MapSettingsDialog ref=\"settings\"></MapSettingsDialog>\r\n      </div>\r\n      <!-- 設定 -->\r\n      <div\r\n        class=\"options bg-light border-start text-start px-1 py-3\"\r\n        v-bind:style=\"{ marginTop: editable ? marginTop : '0px' }\">\r\n        <div v-if=\"station_show\" class=\"rounded d-flex flex-column\">\r\n          <span class=\"border-bottom\">顯示名稱</span>\r\n          <el-radio-group\r\n            v-model=\"station_name_display_mode\"\r\n            @change=\"StationNameDisplayOptHandler\">\r\n            <el-radio label=\"index\" size=\"large\">Index</el-radio>\r\n            <el-radio label=\"name\" size=\"large\">Name</el-radio>\r\n            <el-radio label=\"tag\" size=\"large\">Tag</el-radio>\r\n          </el-radio-group>\r\n        </div>\r\n        <div>\r\n          <span class=\"mx-1\">地圖模式</span>\r\n          <el-switch\r\n            @change=\"MapDisplayModeOptHandler\"\r\n            inactive-value=\"router\"\r\n            active-value=\"coordination\"\r\n            width=\"70\"\r\n            v-model=\"map_display_mode\"\r\n            inline-prompt\r\n            inactive-text=\"路網\"\r\n            active-text=\"Slam\"\r\n            inactive-color=\"seagreen\"></el-switch>\r\n        </div>\r\n        <div v-if=\"agv_show\">\r\n          <span class=\"mx-1\">AGV 顯示</span>\r\n          <el-switch\r\n            @change=\"AgvDisplayOptHandler\"\r\n            inactive-value=\"none\"\r\n            active-value=\"visible\"\r\n            width=\"70\"\r\n            v-model=\"agv_display\"\r\n            inline-prompt\r\n            inactive-text=\"隱藏\"\r\n            active-text=\"顯示\"\r\n            inactive-color=\"rgb(146, 148, 153)\"></el-switch>\r\n        </div>\r\n        <div>\r\n          <span class=\"mx-1\">地圖背景</span>\r\n          <el-switch\r\n            v-model=\"map_image_display\"\r\n            inactive-value=\"none\"\r\n            inactive-text=\"隱藏\"\r\n            active-value=\"visible\"\r\n            active-text=\"顯示\"\r\n            inactive-color=\"rgb(146, 148, 153)\"\r\n            inline-prompt\r\n            width=\"70\"\r\n            @change=\"SlamImageDisplayOptHandler\"></el-switch>\r\n        </div>\r\n        <div>\r\n          <span class=\"mx-1\">路網顯示</span>\r\n          <el-switch\r\n            v-model=\"routePathsVisible\"\r\n            inactive-text=\"隱藏\"\r\n            active-text=\"顯示\"\r\n            inline-prompt\r\n            inactive-color=\"rgb(146, 148, 153)\"\r\n            width=\"70\"\r\n            @change=\"(visible) => {\r\n              if (visible) {\r\n                if (map_display_mode == 'router') {\r\n                  PathLayerForCoordination.setVisible(false);\r\n                  PathLayerForRouter.setVisible(true);\r\n                } else {\r\n                  PathLayerForCoordination.setVisible(true);\r\n                  PathLayerForRouter.setVisible(false);\r\n                }\r\n              } else {\r\n                PathLayerForCoordination.setVisible(false);\r\n                PathLayerForRouter.setVisible(false);\r\n              }\r\n              HideNormalStations(!visible);\r\n            }\"></el-switch>\r\n        </div>\r\n        <div v-if=\"editable\" class=\"rounded\">\r\n          <el-tooltip content=\"開啟後於車載畫面上傳座標資訊後將會自動新增點位至地圖上\">\r\n            <span class=\"mx-1\">AGV上報點位模式</span>\r\n          </el-tooltip>\r\n          <el-switch\r\n            class=\"my-2\"\r\n            inactive-text=\"OFF\"\r\n            active-text=\"ON\"\r\n            inline-prompt\r\n            width=\"70\"\r\n            v-model=\"agv_upload_coordination_mode\"\r\n            @change=\"HandleAGVUploadCorrdinationChanged\"></el-switch>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <PointContextMenu\r\n      ref=\"EditModeContextMenu\"\r\n      v-show=\"editModeContextMenuVisible\"\r\n      :mouse_click_position=\"[contextMenuTop, contextMenuLeft]\"\r\n      :options=\"contextMenuOptions\"\r\n      @OnTaskBtnClick=\"HandleMenuTaskBtnClick\"\r\n      @OnPtSettingBtnClick=\"HandlePtSettingBtnClick\"></PointContextMenu>\r\n    <MapPointSettingDrawer\r\n      ref=\"ptsetting\"\r\n      @OnLeve=\"HandlePtSettingDrawerLeaved\"\r\n      @OnPointSettingChanged=\"PointSettingChangedHandle\"></MapPointSettingDrawer>\r\n    <MapPathSettingDrawer :SettingsChangedHandler=\"() => {\r\n      UpdateStationPathLayer();\r\n      HandlePathTbRowClick(SelectedPathData);\r\n\r\n    }\" @closed=\"HandlePathSetingDrawerClosed\" ref=\"path_editor\"></MapPathSettingDrawer>\r\n    <el-dialog @closed=\"() => {\r\n      if (selected_path_feature) {\r\n        RestoreOriginalPathStyle(selected_path_feature)\r\n      }\r\n    }\" draggable width=\"600\" title=\"路徑選取\" v-model=\"ShowPathSelectDialog\">\r\n      <div class=\"bg-light text-start d-flex py-2\">\r\n        <b-button size=\"sm\" variant=\"success\" @click=\"() => {\r\n          PathesCandicats.forEach(path_setting => {\r\n            path_setting.IsPassable = true\r\n          });\r\n          UpdateStationPathLayer();\r\n          HandlePathTbRowClick(SelectedPathData);\r\n        }\">開放所有道路</b-button>\r\n        <b-button class=\"mx-2\" variant=\"danger\" size=\"sm\" @click=\"() => {\r\n          PathesCandicats.forEach(path_setting => {\r\n            path_setting.IsPassable = false\r\n          });\r\n          UpdateStationPathLayer();\r\n          HandlePathTbRowClick(SelectedPathData);\r\n        }\">關閉所有道路</b-button>\r\n      </div>\r\n      <el-table :data=\"PathesCandicats\" border>\r\n        <el-table-column label=\"ID\" prop=\"PathID\">\r\n          <template #default=\"scope\">\r\n            <el-tag effect=\"dark\">{{ scope.row.PathID }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"起點Index\" prop=\"StartPtIndex\"></el-table-column>\r\n        <el-table-column label=\"終點Index\" prop=\"EndPtIndex\"></el-table-column>\r\n        <el-table-column label=\"狀態\" prop=\"IsPassable\">\r\n          <template #default=\"scope\">\r\n            <el-tag effect=\"dark\" :type=\"scope.row.IsPassable ? 'success' : 'danger'\">{{ scope.row.IsPassable ? '開放' : '封閉' }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column>\r\n          <template #default=\"scope\">\r\n            <b-button variant=\"primary\" @click=\"HandlePathSelected(scope.row)\">選取</b-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Feature from 'ol/Feature.js';\r\nimport Map from 'ol/Map.js';\r\nimport Point from 'ol/geom/Point.js';\r\nimport VectorSource from 'ol/source/Vector.js';\r\nimport LineString from 'ol/geom/LineString';\r\nimport { Pointer } from 'ol/interaction'\r\n\r\nimport Projection from 'ol/proj/Projection.js';\r\nimport Static from 'ol/source/ImageStatic.js';\r\nimport { getCenter } from 'ol/extent.js';\r\nimport View from 'ol/View.js';\r\nimport ImageLayer from 'ol/layer/Image.js';\r\nimport { Vector as VectorLayer } from 'ol/layer.js';\r\nimport { watch } from 'vue'\r\nimport bus from '@/event-bus.js'\r\nimport { clsMapStation, MapPointModel, clsAGVDisplay } from './mapjs';\r\nimport { GetStationStyle, CreateStationPathStyles, CreateEQLDULDFeature, CreateLocusPathStyles, AGVPointStyle, AGVCargoIconStyle, MapContextMenuOptions, MenuUseTaskOption, ChangeCargoIcon, createBezierCurvePoints, CreateNewStationPointFeature, CreateStationFeature, GetPointByIndex, CreateLocIcon } from './mapjs';\r\nimport { MapStore } from './store'\r\nimport { EqStore } from '@/store'\r\nimport { Fill, Stroke, Style, Circle } from 'ol/style';\r\nimport MapSettingsDialog from './MapSettingsDialog.vue';\r\nimport PointContextMenu from './MapContextMenu.vue';\r\nimport MapPointSettingDrawer from '../MapPointSettingDrawer.vue';\r\nimport MapPathSettingDrawer from './MapPathSettingDrawer.vue'\r\nimport QuicklyAction from './QuicklyActionMenu.vue'\r\n\r\nexport default {\r\n  components: {\r\n    QuicklyAction, MapSettingsDialog, PointContextMenu, MapPointSettingDrawer, MapPathSettingDrawer\r\n  },\r\n  props: {\r\n    editable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    agv_show: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    station_show: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    eq_lduld_status_show: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    agv_upload_coordi_data: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    },\r\n    task_dispatch_menu_show: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    id: {\r\n      type: String,\r\n      default() {\r\n        return 'map'\r\n      }\r\n    },\r\n    canva_height: {\r\n      type: String,\r\n      default: '670px'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      map: new Map(),\r\n      map_name: 'Unkown',\r\n      zoom: 2,\r\n      zoom_route: 2,\r\n      center: [0, 0],\r\n      center_route: [0, 0],\r\n      loading: false,\r\n      ShowPathSelectDialog: false,\r\n      IsPathEditing: false,\r\n      SelectedPathData: {},\r\n      PathesCandicats: [],\r\n      _map_stations: [],\r\n      ImageLayer: new ImageLayer(),\r\n      /**Slam座標圖層 */\r\n      PointLayer: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 2\r\n      }),\r\n      /**路網圖層 */\r\n      PointRouteLayer: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 2\r\n      }),\r\n      /**路網圖層 */\r\n      EQLDULDStatusLayer: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 2\r\n      }),\r\n      PathLayerForCoordination: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 0\r\n      }),\r\n      PathLayerForRouter: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 0\r\n      }),\r\n      //路網(路線)\r\n      AGVLocLayer: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 4\r\n      }),\r\n      AGVLocusLayer: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 3\r\n      }), //軌跡圖顯示圖層\r\n      CustomLayer: new VectorLayer({\r\n        source: new VectorSource(\r\n          {\r\n            features: []\r\n          }\r\n        )\r\n      }),\r\n      AGVFeatures: {},\r\n      MouseCoordination: undefined,\r\n      FeatureKeys: {\r\n        Station: 'station',\r\n        path: 'path',\r\n        nav_path: 'nav_path',\r\n        agv: 'agv'\r\n      },\r\n      IsDragging: false,\r\n      IsAddPathMode: true,\r\n      PathEditTempStore: [],\r\n      EditorOption: {\r\n        // EditMode: 'view',\r\n        EditMode: 'edit',\r\n        EditAction: 'none',\r\n        AddPathMode: {\r\n          Direction: 'one-direction'\r\n        }\r\n      },\r\n      /**顯示模式 : coordination 實際座標 ; router 整齊的路網*/\r\n      map_display_mode: 'router',\r\n      station_name_display_mode: 'name',\r\n      agv_display: 'visible',\r\n      map_image_display: 'visible',\r\n      left_tab_class_name: 'tab-close',\r\n      previousSelectedFeatures: [],\r\n      agv_upload_coordination_mode: false,\r\n      editModeContextMenuVisible: false,\r\n      taskDispatchContextMenuVisible: false,\r\n      routePathsVisible: true,\r\n      contextMenuTop: 0,\r\n      contextMenuLeft: 0,\r\n      contextMenuOptions: new MapContextMenuOptions(),\r\n      firstUseFlag: true,\r\n      selected_path_feature: undefined,\r\n      path_highlight_style: new Style({\r\n        stroke: new Stroke({\r\n          color: 'blue',\r\n          width: 8\r\n        })\r\n      }),\r\n      PathesSegmentsForEdit: [],\r\n      IsSelectAGVMode: false,\r\n      IsSelectEQStationMode: false,\r\n      SelectActionType: '',\r\n      TransferDirection: '',\r\n      TextChangedOriFeatureStyle: []\r\n    }\r\n  },\r\n  computed: {\r\n    MapServerUrl() {\r\n      return MapStore.getters.MapServerUrl;\r\n    },\r\n    map_img_extent() {\r\n      return MapStore.getters.Map_Image_Boundary;\r\n    },\r\n    map_img_size() {\r\n      return MapStore.getters.Map_Image_Size;\r\n    },\r\n    PathesSegments() {\r\n      return MapStore.getters.Pathes;\r\n    },\r\n    previousSelectedFeature() {\r\n      return this.previousSelectedFeatures[0]\r\n    },\r\n    MouseCoordinationDisplay() {\r\n      if (!this.MouseCoordination) {\r\n        return '(-1,-1)'\r\n      }\r\n      return `(${this.MouseCoordination[0].toFixed(2)},${this.MouseCoordination[1].toFixed(2)})`\r\n    },\r\n    /**點位Feature集合 */\r\n    StationPointsFeatures() {\r\n      if (this.map_display_mode == \"coordination\") {\r\n        return this.PointLayer.getSource().getFeatures();\r\n      } else {\r\n        return this.PointRouteLayer.getSource().getFeatures();\r\n      }\r\n    },\r\n    AGVMapFeatures() {\r\n      return this.AGVLocLayer.getSource().getFeatures();\r\n    },\r\n    ShowWarningNotify() {\r\n      return this.EditorOption.EditMode != \"view\" && this.map_display_mode == \"coordination\";\r\n    },\r\n    map_station_data() {\r\n      return MapStore.getters.MapStations\r\n    },\r\n    BezierCurves() {\r\n      return MapStore.getters.BezierCurves\r\n    },\r\n    agvs_info() {\r\n      return MapStore.getters.AGVNavInfo;\r\n    },\r\n    eq_data() {\r\n      return EqStore.getters.EQData\r\n    },\r\n    /**dictionary<string:path_id,MapPath> */\r\n    ControledPathesBySystem() {\r\n      return MapStore.getters.ControledPathesBySystem;\r\n    },\r\n    radio_group_style() {\r\n      //position: relative;top: -11px;\r\n      if (this.EditorOption.EditAction == 'add-path')\r\n        return {\r\n          position: 'relative',\r\n          top: '-15px'\r\n        }\r\n      return {}\r\n    },\r\n    marginTop() {\r\n      if (this.EditorOption.EditAction == 'add-path')\r\n        return '106px'\r\n      return '86px';\r\n    },\r\n    path_view_style() {\r\n      if (this.EditorOption.EditAction == 'add-path')\r\n        return {\r\n          paddingTop: '116px'\r\n        }\r\n      return {\r\n        paddingTop: '86px'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    GetPointName(index) {\r\n      var pt = GetPointByIndex(index)\r\n      if (pt) {\r\n        return pt.Name;\r\n      }\r\n    },\r\n    ClearMap() {\r\n      this.PathesSegmentsForEdit = [];\r\n      this.PathLayerForCoordination.getSource().clear();\r\n      this.PathLayerForRouter.getSource().clear();\r\n      this.PointRouteLayer.getSource().clear();\r\n      this.PointLayer.getSource().clear();\r\n    },\r\n    HandlePathRemoveBtnClick(path_data) {\r\n      var index = this.PathesSegmentsForEdit.indexOf(path_data);\r\n      this.PathesSegmentsForEdit.splice(index, 1);\r\n      this.UpdateStationPathLayer();\r\n    },\r\n    HandlePathTbRowClick(row, column, event) {\r\n      if (this.selected_path_feature) {\r\n        this.RestoreOriginalPathStyle(this.selected_path_feature)\r\n      }\r\n      //alert(JSON.stringify(row))\r\n      var path_source = this.PathLayerForCoordination.getSource();\r\n      var path_feature = path_source.getFeatures().find(ft => ft.get('path_id') == row.PathID)\r\n      if (path_feature) {\r\n        var oriStyles = path_feature.getStyle();\r\n        oriStyles[0] = this.path_highlight_style\r\n        path_feature.setStyle(oriStyles)\r\n        this.selected_path_feature = path_feature\r\n        if (!this.IsPathEditing) {\r\n          var path_coor = path_feature.getGeometry().getCoordinates()[0];\r\n          this.map.getView().setCenter(path_coor);\r\n        }\r\n      }\r\n    },\r\n    RestoreOriginalPathStyle(path_feature) {\r\n      if (!path_feature)\r\n        return;\r\n      var ori_style = path_feature.get('ori_stroke_style')\r\n      var styles = path_feature.getStyle();\r\n      styles[0] = ori_style\r\n      path_feature.setStyle(styles)\r\n    },\r\n    UpdateStationPointLayer() {\r\n      var stationPointFeatures = []\r\n      var stationPointFeatures_ForRouteShow = []//路網顯示用\r\n      for (let index = 0; index < this._map_stations.length; index++) {\r\n        var station = this._map_stations[index];\r\n        var iconFeature = CreateStationFeature(station)\r\n\r\n        stationPointFeatures.push(iconFeature)\r\n        var routeUseFeature = iconFeature.get('routeModeFeature')\r\n        if (routeUseFeature) {\r\n          stationPointFeatures_ForRouteShow.push(routeUseFeature)\r\n        }\r\n      }\r\n      var ptlayerSource = this.PointLayer.getSource();\r\n      ptlayerSource.clear();\r\n      ptlayerSource.addFeatures(stationPointFeatures);\r\n\r\n\r\n      var ptRouteLayerSource = this.PointRouteLayer.getSource();\r\n      ptRouteLayerSource.clear();\r\n      ptRouteLayerSource.addFeatures(stationPointFeatures_ForRouteShow);\r\n      this.UpdateEQLDULDFeature();\r\n    },\r\n    UpdateStationPathLayer() {\r\n      var source_coordination_mode = this.PathLayerForCoordination.getSource();\r\n      var source_router_mode = this.PathLayerForRouter.getSource();\r\n\r\n      source_coordination_mode.clear();\r\n      source_router_mode.clear();\r\n\r\n      var path_feature_collection_coordinatino_mode = [];\r\n      var path_feature_collection_router_mode = [];\r\n      var pathSegments = this.PathesSegmentsForEdit\r\n\r\n      var setPathFeatureProperties = function (feature, pathData) {\r\n        feature.set('start_pt_index', pathData.StartPtIndex)\r\n        feature.set('end_pt_index', pathData.EndPtIndex)\r\n        feature.set('path_id', pathData.PathID)\r\n        feature.set('isEqLink', pathData.IsEQLink)\r\n        feature.set('feature_type', 'path')\r\n        feature.set('isClose', !pathData.IsPassable)\r\n        var styles = CreateStationPathStyles(feature);\r\n        feature.setStyle(styles)\r\n        feature.set('ori_stroke_style', styles[0])\r\n\r\n      }\r\n\r\n      pathSegments.forEach(path => {\r\n        let path_Feature_coordination_mode = new Feature(\r\n          {\r\n            geometry: new LineString([path.StartCoordination, path.EndCoordination]),\r\n          },\r\n        );\r\n\r\n        var startPt = this._map_stations.find(pt => pt.index == path.StartPtIndex);\r\n        var endPt = this._map_stations.find(pt => pt.index == path.EndPtIndex);\r\n        let path_feature_route_mode = new Feature({\r\n          geometry: new LineString([[startPt.data.Graph.X, startPt.data.Graph.Y], [endPt.data.Graph.X, endPt.data.Graph.Y]]),\r\n\r\n        })\r\n        setPathFeatureProperties(path_Feature_coordination_mode, path);\r\n        setPathFeatureProperties(path_feature_route_mode, path);\r\n        path_feature_collection_coordinatino_mode.push(path_Feature_coordination_mode)\r\n        path_feature_collection_router_mode.push(path_feature_route_mode)\r\n      })\r\n\r\n      source_coordination_mode.addFeatures(path_feature_collection_coordinatino_mode);\r\n      source_router_mode.addFeatures(path_feature_collection_router_mode);\r\n      return;\r\n\r\n    },\r\n    UpdateEQLDULDFeature() {\r\n\r\n      if (this.editable) //編輯地圖模式下不更新\r\n        return;\r\n\r\n      var eqLDULDFeatures = []\r\n\r\n      for (let index = 0; index < this._map_stations.length; index++) {\r\n        var station = this._map_stations[index];\r\n        var lduldFeature = CreateEQLDULDFeature(station, this.map_display_mode)\r\n        eqLDULDFeatures.push(lduldFeature);\r\n\r\n      }\r\n      var EQLDULDStatusLayerSource = this.EQLDULDStatusLayer.getSource();\r\n      EQLDULDStatusLayerSource.clear();\r\n      EQLDULDStatusLayerSource.addFeatures(eqLDULDFeatures);\r\n    },\r\n    UpdateAGVLayer() {\r\n      if (this.agv_display != 'visible')\r\n        return;\r\n      this.agvs_info.AGVDisplays.forEach(agv_information => {\r\n\r\n        var agvfeatures = this.AGVFeatures[agv_information.AgvName]\r\n        if (agvfeatures) {  //以新增\r\n          var coordination = agv_information.Coordination;\r\n          var path_coordinations = agv_information.NavPathCoordinationList\r\n          if (this.map_display_mode == 'router') {\r\n            path_coordinations = [];\r\n\r\n            var ft = this.StationPointsFeatures.find(ft => ft.get('data').TagNumber == agv_information.Tag)\r\n            if (ft) {\r\n              coordination = ft.getGeometry().getCoordinates()\r\n            }\r\n            var pts = this.PointLayer.getSource().getFeatures();\r\n            for (let index = 0; index < agv_information.NavPathCoordinationList.length; index++) {\r\n              const coor = agv_information.NavPathCoordinationList[index];\r\n              var ft = pts.find(feature => feature.getGeometry().getCoordinates()[0] == coor[0] &&\r\n                feature.getGeometry().getCoordinates()[1] == coor[1])\r\n\r\n              var feature_ = this.StationPointsFeatures.find(feature => feature.get('index') == ft.get('index'))\r\n              path_coordinations.push(feature_.getGeometry().getCoordinates())\r\n            }\r\n\r\n          }\r\n          agvfeatures.agv_feature.setGeometry(new Point(coordination))\r\n          agvfeatures.cargo_icon_feature.setGeometry(new Point(coordination))\r\n          var style = agvfeatures.agv_feature.getStyle();\r\n          var image = style.getImage()\r\n\r\n          if (this.map_display_mode != 'router') {\r\n            image.setRotation((agv_information.Theta - 90) * -1 * Math.PI / 180.0)\r\n            style.setImage(image)\r\n          }\r\n\r\n          var actionString = agv_information.CurrentAction\r\n          var text = style.getText();\r\n          var agvText = agv_information.AgvName + (actionString == '' ? '' : `(${actionString})`);\r\n          agvText += agv_information.WaitingInfo.IsWaiting ? '\\r\\n' + agv_information.WaitingInfo.Descrption : '';\r\n          text.setText(agvText);\r\n\r\n          var fill = text.getBackgroundFill()\r\n          fill.setColor(!agv_information.AgvStates.is_online ? 'rgb(147, 147, 147)' : (agv_information.WaitingInfo.IsWaiting ? 'orange' : agv_information.TextColor))\r\n          text.setBackgroundFill(fill);\r\n          agvfeatures.agv_feature.setStyle(style)\r\n          agvfeatures.path_feature.setGeometry(new LineString(path_coordinations))\r\n          ChangeCargoIcon(agvfeatures.cargo_icon_feature, agv_information.CargoStatus)\r\n\r\n          //this.UpdateAGVLocByMapMode(this.map_display_mode, agv_information);\r\n        }\r\n        else {//動態新增AGV Feature\r\n\r\n          var _agvfeature = new Feature({\r\n            geometry: new Point(agv_information.Coordination)\r\n          })\r\n          _agvfeature.setStyle(AGVPointStyle(agv_information.AgvName, agv_information.TextColor))\r\n          _agvfeature.set('agvname', agv_information.AgvName)\r\n          _agvfeature.set(\"feature_type\", this.FeatureKeys.agv)\r\n\r\n          //\r\n          var nav_path_feature = new Feature({\r\n            geometry: new LineString([])\r\n          })\r\n          nav_path_feature.setStyle(CreateLocusPathStyles(agv_information.TextColor, 5))\r\n\r\n\r\n          var _cargo_icon_feature = _agvfeature.clone()\r\n          _cargo_icon_feature.setStyle(AGVCargoIconStyle())\r\n\r\n          this.AGVFeatures[agv_information.AgvName] = {\r\n            agv_feature: _agvfeature,\r\n            path_feature: nav_path_feature,\r\n            cargo_icon_feature: _cargo_icon_feature\r\n          };\r\n\r\n          var source = this.AGVLocLayer.getSource();\r\n\r\n          source.addFeature(_cargo_icon_feature);\r\n          source.addFeature(_agvfeature);\r\n          source.addFeature(nav_path_feature);\r\n\r\n        }\r\n      });\r\n    },\r\n    /**根據地圖顯示模式變更現有Agv的顯示位置 */\r\n    UpdateAGVLocByMapMode(mode = 'router' || 'coordination', agv_information = new clsAGVDisplay()) {\r\n\r\n      var agvfeature = this.AGVFeatures[agv_information.AgvName]\r\n      if (!agvfeature)\r\n        return;\r\n      var currentStationFeature = this.StationPointsFeatures.find(ft => ft.get('data').TagNumber == agv_information.Tag)\r\n      var coordination = currentStationFeature.getGeometry().getCoordinates()\r\n      agvfeature.agv_feature.setGeometry(new Point(coordination))\r\n\r\n    },\r\n    /**事件處理 */\r\n    InitMapEventHandler() {\r\n      var this_vue = this;\r\n      var dragInteraction = new Pointer({\r\n        /**滑鼠點下事件 */\r\n        handleDownEvent: function (event) {\r\n          const isRightClick = event.originalEvent.button == 2\r\n          this_vue.editModeContextMenuVisible = false;\r\n\r\n          this_vue.ClearSelectedFeature();\r\n          var map = event.map;\r\n          var feature = map.forEachFeatureAtPixel(event.pixel, function (feature) {\r\n            return feature;\r\n          });\r\n          this.coordinate_ = event.coordinate;\r\n          var currentAction = this_vue.EditorOption.EditAction;\r\n\r\n\r\n          if (isRightClick && feature && feature.get('feature_type') == 'path' && currentAction == 'add-station') {\r\n            this_vue.InsertPointAtPathes(feature, event.coordinate);\r\n            return;\r\n          }\r\n\r\n          if (!feature) {\r\n\r\n            this_vue.IsDragging = false;\r\n            if (currentAction == 'add-station' && isRightClick) {\r\n\r\n              feature = CreateNewStationPointFeature(event.coordinate, this_vue.GenNewIndexOfStation());\r\n              //this_vue.map_stations.push(station)\r\n            } else\r\n              return false;\r\n          } else {\r\n            var _featureType = feature.get('feature_type')\r\n            console.log(_featureType);\r\n            if (this_vue.IsSelectAGVMode && _featureType == 'agv') {\r\n              var _agvname = feature.get('agvname');\r\n              bus.emit('/map/agv_selected', _agvname)\r\n            }\r\n            if (this_vue.IsSelectEQStationMode && _featureType == 'station') {\r\n              var _station_data = feature.get('data');\r\n              bus.emit('/map/station_selected', _station_data)\r\n            }\r\n\r\n          }\r\n\r\n\r\n          if (feature.get('feature_type') == 'lduld') {\r\n            var action = feature.get('action')\r\n            this_vue.HandleLDULDLabelClick(feature.get('data'), action);\r\n            return false;\r\n          }\r\n\r\n\r\n          this_vue.HighLightFeatureSelected([feature])\r\n          if (this_vue.EditorOption.EditMode == 'view') {\r\n            return false;\r\n          }\r\n\r\n          var featureType = feature.get('feature_type');\r\n          this.feature_ = feature;\r\n          this_vue.IsDragging = true;\r\n\r\n          if (currentAction == \"none\" && featureType != this_vue.FeatureKeys.Station)\r\n            return false;\r\n\r\n          if (event.originalEvent.button == 0) {//左鍵\r\n\r\n            if (featureType == this_vue.FeatureKeys.Station && currentAction == 'remove-station')\r\n              this_vue.RemoveStation(feature);\r\n            else if (featureType == this_vue.FeatureKeys.path && currentAction == 'remove-path')\r\n              this_vue.RemovePath(feature);\r\n            else if (currentAction == 'add-path')\r\n              this_vue.PushPathEndPointData(feature)\r\n          }\r\n          else if (event.originalEvent.button == 2) { //右鍵\r\n            if (featureType == this_vue.FeatureKeys.path && currentAction == 'edit-path') {\r\n              this_vue.OpenPath_editor(feature);\r\n            }\r\n          }\r\n          return true;\r\n        },\r\n        /**滑鼠拖曳事件 */\r\n        handleDragEvent: function (event) {\r\n          var is_editable = this_vue.editable;\r\n          var edit_mode = this_vue.EditorOption.EditMode;\r\n          var edit_action = this_vue.EditorOption.EditAction;\r\n\r\n          if (!is_editable || edit_mode != 'edit')\r\n            return;\r\n\r\n          if (edit_action == 'add-path' || edit_action == 'edit-path' || edit_action == 'remove-path')\r\n            return;\r\n\r\n          var deltaX = event.coordinate[0] - this.coordinate_[0];\r\n          var deltaY = event.coordinate[1] - this.coordinate_[1];\r\n          var geometry = this.feature_.getGeometry();\r\n          geometry.translate(deltaX, deltaY);\r\n          this_vue.MouseCoordination = this.coordinate_ = event.coordinate;\r\n\r\n          geometry = this.feature_.getGeometry();\r\n          var oriData = this.feature_.get('data')\r\n\r\n          if (!oriData)\r\n            return;\r\n          var newCoordinates = geometry.getCoordinates();\r\n\r\n          if (this_vue.map_display_mode == \"coordination\") {\r\n            oriData.X = newCoordinates[0];\r\n            oriData.Y = newCoordinates[1];\r\n          }\r\n          else {\r\n            oriData.Graph.X = newCoordinates[0];\r\n            oriData.Graph.Y = newCoordinates[1];\r\n          }\r\n\r\n          this.feature_.set('data', oriData)\r\n        },\r\n\r\n        /**滑鼠點擊後放開事件 */\r\n        handleUpEvent: function (ev) {\r\n\r\n          if (this_vue.EditorOption.EditMode == 'view') {\r\n\r\n            return;\r\n          }\r\n          var currentAction = this_vue.EditorOption.EditAction;\r\n          if (currentAction != 'add-path' && currentAction != 'remove-path') {\r\n            if (ev.originalEvent.button == 2) {//滑鼠右鍵\r\n              if (currentAction == 'edit-station') {\r\n                this_vue.HandlePtSettingBtnClick();\r\n              }\r\n              else if (currentAction == 'add-station') {\r\n                try {\r\n                  this_vue.AddFeatureToMapLayers(this.feature_);\r\n                }\r\n                catch (error) {//若該座標已經有新增feature會跳錯=>變成顯示設定面板\r\n                  console.error(error);\r\n                  this_vue.HandlePtSettingBtnClick();\r\n                }\r\n              }\r\n            }\r\n            this_vue.IsDragging = false;\r\n            try {\r\n              var index = this.feature_.get('index')\r\n              this_vue.ResetPathLinkOfRouteMode(index);\r\n              this_vue.ResetPathLinkOfCoordinationMode(index);\r\n            } catch (error) {\r\n            }\r\n          }\r\n          this.feature_ = null;\r\n          this.coordinate_ = null;\r\n        },\r\n\r\n        /**滑鼠移動事件 */\r\n        handleMoveEvent: function (event) {\r\n          var currentAction = this_vue.EditorOption.EditAction;\r\n          if (this_vue.EditorOption.EditMode == 'view')\r\n            return;\r\n          this_vue.MouseCoordination = event.coordinate\r\n          var map = event.map;\r\n          var feature = map.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\r\n            return feature;\r\n          });\r\n          var cursor = ''\r\n          if (feature) {\r\n            var featureType = feature.get('feature_type');\r\n            if (currentAction == \"add-path\" && featureType != this_vue.FeatureKeys.Station) {\r\n              cursor = 'not-allowed'\r\n            }\r\n            else if (currentAction == \"remove-station\" && featureType != this_vue.FeatureKeys.Station)\r\n              cursor = 'not-allowed'\r\n\r\n            else if (currentAction == \"remove-path\" && featureType != this_vue.FeatureKeys.path)\r\n              cursor = 'not-allowed'\r\n            else\r\n              cursor = 'pointer'\r\n\r\n          }\r\n          else {\r\n            if (currentAction == \"add-station\") {\r\n              cursor = 'crosshair';\r\n            }\r\n            this.feature_ = undefined;\r\n          }\r\n          map.getTargetElement().style.cursor = cursor;\r\n\r\n        }\r\n      });\r\n      this.map.addInteraction(dragInteraction);\r\n      this.map.on('pointermove', (event) => {\r\n        this.MouseCoordination = event.coordinate\r\n\r\n        var feature = this.map.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\r\n          return feature;\r\n        });\r\n\r\n        if (feature) {\r\n          this.map.getTargetElement().style.cursor = 'pointer';\r\n        } else\r\n          this.map.getTargetElement().style.cursor = '';\r\n\r\n      })\r\n      this.map.on('pointerup', (e) => {\r\n        if (this.EditorOption.EditAction == 'add-station')\r\n          this.map.getTargetElement().style.cursor = 'crosshair';\r\n        else\r\n          this.map.getTargetElement().style.cursor = 'default';\r\n      })\r\n      this.map.on('pointerdown', (e) => {\r\n        this.map.getTargetElement().style.cursor = 'grabbing';\r\n      })\r\n      this.map.on('moveend', event => {\r\n        this.SaveSettingsToLocalStorage();\r\n\r\n      })\r\n\r\n\r\n    },\r\n\r\n    HideNormalStations(hide) {\r\n      var normalPtFeatures = this.StationPointsFeatures.filter(feature => feature.get('station_type') == 0)\r\n      normalPtFeatures.forEach(feature => {\r\n        if (hide) {\r\n          var invisibleStyle = new Style({\r\n            fill: new Fill({\r\n              color: 'rgba(0, 0, 0, 0)' // 透明填充颜色\r\n            }),\r\n            stroke: new Stroke({\r\n              color: 'rgba(0, 0, 0, 0)' // 透明边界颜色\r\n            }),\r\n            image: new Circle({\r\n              radius: 0 // 半径为0，不显示 \r\n            })\r\n          });\r\n          var oriStyle = feature.getStyle().clone()\r\n          feature.set('visible-style', oriStyle)\r\n          feature.setStyle(invisibleStyle)\r\n        } else {\r\n          var _oriStyle = feature.get('visible-style')\r\n          feature.setStyle(_oriStyle)\r\n        }\r\n      })\r\n    },\r\n    SaveSettingsToLocalStorage() {\r\n      var zoom = this.map.getView().getZoom()\r\n      var center = this.map.getView().getCenter()\r\n\r\n      if (this.map_display_mode == 'coordination') {\r\n        this.zoom = zoom;\r\n        this.center = center\r\n      } else {\r\n        this.zoom_route = zoom;\r\n        this.center_route = center\r\n      }\r\n      //儲存目前的地圖設定\r\n      localStorage.setItem(`map-${this.$route.name}`, JSON.stringify({\r\n        zoom: this.zoom,\r\n        zoom_route: this.zoom_route,\r\n        mode: this.map_display_mode,\r\n        center: this.center,\r\n        center_route: this.center_route,\r\n        station_name_display_mode: this.station_name_display_mode\r\n      }))\r\n\r\n    },\r\n    RestoreSettingsFromLocalStorage() {\r\n      var settings_json = localStorage.getItem(`map-${this.$route.name}`)\r\n      if (settings_json) {\r\n        var settings = JSON.parse(settings_json)\r\n        this.station_name_display_mode = settings.station_name_display_mode\r\n        this.map_display_mode = this.editable ? 'router' : settings.mode\r\n        this.zoom = settings.zoom;\r\n        //this.center = settings.center\r\n        //this.zoom_route = settings.zoom_route;\r\n        //this.center_route = settings.center_route\r\n      }\r\n    },\r\n\r\n    /**移除一個站點，並會把相關的路徑移除 */\r\n    RemoveStation(feature = new Feature()) {\r\n      var RemoveFeatureFromSource = function (source, _ptIndex) {\r\n        var _feature = source.getFeatures().find(f => f.get('index') == _ptIndex)\r\n        source.removeFeature(_feature)\r\n\r\n      }\r\n      var RemovePath = function (soure, path_data_reference, _feature) {\r\n        var ptIndex = _feature.get('index')\r\n        var paths_to_remove = path_data_reference.filter(path => path.StartPtIndex == ptIndex || path.EndPtIndex == ptIndex);\r\n        paths_to_remove.forEach(path => {\r\n          var path_id = path.PathID;\r\n          var feature_to_remove = soure.getFeatures().find(ft => ft.get('path_id') == path_id);\r\n          soure.removeFeature(feature_to_remove);\r\n          var index = path_data_reference.indexOf(path);\r\n          if (index != -1) {\r\n            path_data_reference.splice(index, 1);\r\n          }\r\n        })\r\n      }\r\n      var ptIndex = feature.get('index')\r\n      RemoveFeatureFromSource(this.PointLayer.getSource(), ptIndex);\r\n      RemoveFeatureFromSource(this.PointRouteLayer.getSource(), ptIndex);\r\n\r\n      RemovePath(this.PointLayer.getSource(), this.PathesSegmentsForEdit, feature);\r\n      this.UpdateStationPathLayer();\r\n    },\r\n    AddFeatureToMapLayers(feature) {\r\n      this.PointLayer.getSource().addFeature(feature)\r\n      this.PointRouteLayer.getSource().addFeature(feature)\r\n      var ptStation = new clsMapStation()\r\n      ptStation.index = ptStation.name = feature.get('index')\r\n      ptStation.tag = feature.get('tag')\r\n      ptStation.station_type = feature.get('station_type')\r\n      ptStation.targets = feature.get('targets')\r\n      ptStation.coordination = feature.get('coordination')\r\n      ptStation.graph = feature.get('graph')\r\n      ptStation.data = feature.get('data')\r\n      debugger\r\n      this._map_stations.push(ptStation);\r\n\r\n    },\r\n    /** bi_direction_remove => 自動將雙向路徑移除 */\r\n    RemovePath(path_feature, bi_direction_remove = false) {\r\n      debugger\r\n      var removed_path = []\r\n      var pathID = path_feature.get('path_id')\r\n      var pathIDSplited = pathID.split('_')\r\n      var startPtIndex = parseInt(pathIDSplited[0])\r\n      var endPtIndex = parseInt(pathIDSplited[1])\r\n      var startFeature = this.PointLayer.getSource().getFeatures().find(ft => ft.get('index') == startPtIndex)\r\n      var mapPointModel = startFeature.get('data')\r\n      delete mapPointModel.Target[endPtIndex]\r\n      var mapPointModel = startFeature.set('data', mapPointModel)\r\n      this.PathLayerForCoordination.getSource().removeFeature(path_feature);\r\n      var path = this.PathesSegmentsForEdit.find(path => path.PathID == pathID);\r\n      if (path) {\r\n        var index = this.PathesSegmentsForEdit.indexOf(path);\r\n        if (index != -1) {\r\n          this.PathesSegmentsForEdit.splice(index, 1);\r\n          this.UpdateStationPathLayer();\r\n\r\n          removed_path.push(path);\r\n        }\r\n\r\n        if (bi_direction_remove) {\r\n          var _reverse_path_id = `${endPtIndex}_${startPtIndex}`;\r\n          var _reverd_path_feature = this.PathLayerForCoordination.getSource().getFeatures().find(ft => ft.get('path_id') == _reverse_path_id);\r\n          if (_reverd_path_feature) {\r\n            var _removed_pathes = this.RemovePath(_reverd_path_feature, false);\r\n\r\n            _removed_pathes.forEach(p => {\r\n              removed_path.push(p);\r\n            })\r\n          }\r\n        }\r\n      }\r\n\r\n      return removed_path;\r\n      //this.PointLinksLayer.getSource().removeFeature(path_feature)\r\n    },\r\n    InsertPointAtPathes(removePathFeature, new_pt_coordinate) {\r\n      var new_pt_feature = CreateNewStationPointFeature(new_pt_coordinate, this.GenNewIndexOfStation());\r\n      //新增點位而且新增的位置是在既有的路徑線段上\r\n      var _removedPathes = this.RemovePath(removePathFeature, true); //移除現有路徑\r\n      this.AddFeatureToMapLayers(new_pt_feature)\r\n      //產生多組路徑\r\n      var stationFeatures = this.map_display_mode == 'router' ? this.PointRouteLayer.getSource().getFeatures() : this.PointLayer.getSource().getFeatures();\r\n\r\n      _removedPathes.forEach(path => {\r\n        var _startPtFeature1 = stationFeatures.find(ft => ft.get('index') == path.StartPtIndex);\r\n        var _endPtFeature1 = new_pt_feature\r\n        var _startPtFeature2 = new_pt_feature;\r\n        var _endPtFeature2 = stationFeatures.find(ft => ft.get('index') == path.EndPtIndex);\r\n        this.GenPath([_startPtFeature1, _endPtFeature1])\r\n        this.GenPath([_startPtFeature2, _endPtFeature2])\r\n      })\r\n      var ratio_from_start = this.CalculateNewPointRatioOfPathStart(_removedPathes[0], new_pt_feature);\r\n      //alert(ratio_from_start)\r\n      //this.ResetNewPointCoordination(ratio_from_start, new_pt_feature);\r\n    },\r\n    CalculateNewPointRatioOfPathStart(_path, new_pt_feature) {\r\n      var stationFeatures = this.map_display_mode == 'router' ? this.PointRouteLayer.getSource().getFeatures() : this.PointLayer.getSource().getFeatures();\r\n      //計算新增的點其位置在路徑上的比例\r\n      var _startPt = stationFeatures.find(ft => ft.get('index') == _path.StartPtIndex)\r\n      var _endPt = stationFeatures.find(ft => ft.get('index') == _path.EndPtIndex)\r\n\r\n      var _start_coordination = _startPt.getGeometry().getCoordinates();\r\n      var _end_coordination = _endPt.getGeometry().getCoordinates();\r\n      var _new_coordination = new_pt_feature.getGeometry().getCoordinates();\r\n\r\n      var totalDistance = Math.sqrt(Math.pow(_start_coordination[0] - _end_coordination[0], 2) + Math.pow(_start_coordination[1] - _end_coordination[1], 2));\r\n      var distanceFromStart = Math.sqrt(Math.pow(_start_coordination[0] - _new_coordination[0], 2) + Math.pow(_start_coordination[1] - _new_coordination[1], 2));\r\n      var _ratio = distanceFromStart / totalDistance;\r\n\r\n\r\n      return _ratio;\r\n    },\r\n    ResetNewPointCoordination(ratio, new_pt_feature) {\r\n      var stationFeaturesOfRouteMode = this.PointRouteLayer.getSource().getFeatures();\r\n      var stationFeaturesOfCoordinationMode = this.PointLayer.getSource().getFeatures();\r\n\r\n      var pt_index = new_pt_feature.get('index');\r\n\r\n      // var _start_from = stationFeaturesOfRouteMode.find(ft => ft.get('targets').includes(pt_index));\r\n      // var _end_to = stationFeaturesOfRouteMode.find(ft => ft.get('index') == new_pt_feature.get('targets')[0]);\r\n\r\n      // var _start_coord = _start_from.getGeometry().getCoordinates();\r\n      // var _end_coord = _end_to.getGeometry().getCoordinates();\r\n\r\n      // var newX = _start_coord[0] + (_end_coord[0] - _start_coord[0]) * ratio\r\n      // var newY = _start_coord[1] + (_end_coord[1] - _start_coord[1]) * ratio\r\n\r\n\r\n\r\n      var _start_from = stationFeaturesOfCoordinationMode.find(ft => ft.get('targets').includes(pt_index));\r\n      var _end_to = stationFeaturesOfCoordinationMode.find(ft => ft.get('index') == new_pt_feature.get('targets')[0]);\r\n\r\n      var _start_coord = _start_from.getGeometry().getCoordinates();\r\n      var _end_coord = _end_to.getGeometry().getCoordinates();\r\n\r\n      var newX = _start_coord[0] + (_end_coord[0] - _start_coord[0]) * ratio\r\n      var newY = _start_coord[1] + (_end_coord[1] - _start_coord[1]) * ratio\r\n\r\n      //更新slam模式的新座標位置\r\n      var feature_ = stationFeaturesOfCoordinationMode.find(pt => pt.get('index') == pt_index)\r\n      var oriData = feature_.get('data')\r\n      var newCoordinates = [newX, newY];\r\n      oriData.X = newCoordinates[0];\r\n      oriData.Y = newCoordinates[1];\r\n      feature_.set('data', oriData)\r\n      // alert(JSON.stringify([newX, newY]))\r\n\r\n\r\n\r\n      this.ResetPathLinkOfRouteMode(pt_index);\r\n      this.ResetPathLinkOfCoordinationMode(pt_index);\r\n\r\n    },\r\n    ResetPathLinkOfCoordinationMode(pt_index, remove = false) {\r\n      var feature = this.PointLayer.getSource().getFeatures().find(f => f.get('index') == pt_index);\r\n      var path_features = this.PathLayerForCoordination.getSource().getFeatures();\r\n      try {\r\n        //起點是自己\r\n        var pathes = path_features.filter(path_feat => path_feat.get('start_pt_index') == pt_index);\r\n        for (var i = 0; i < pathes.length; i++) {\r\n          var path_featureFound = pathes[i];\r\n          var path_id = path_featureFound.get('path_id')\r\n          var path_seq_data = this.PathesSegmentsForEdit.find(path => path.PathID == path_id);\r\n          if (path_featureFound) {\r\n            if (remove) {\r\n              source.removeFeature(path_featureFound);\r\n              this.PathesSegmentsForEdit.remove(path_seq_data);\r\n            }\r\n            else {\r\n              var ori_geo = path_featureFound.getGeometry()\r\n              var ori_endCoord = ori_geo.getCoordinates()[1]\r\n              var newStartCoordinates = feature.getGeometry().getCoordinates();\r\n              var geometry = new LineString([newStartCoordinates, ori_endCoord])\r\n              path_featureFound.setGeometry(geometry)\r\n              path_featureFound.setStyle(CreateStationPathStyles(path_featureFound))\r\n              path_seq_data.StartCoordination = newStartCoordinates;\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n      }\r\n      try {\r\n        //終點是自己\r\n        var pathes = path_features.filter(feat => feat.get('end_pt_index') == pt_index)\r\n        for (var i = 0; i < pathes.length; i++) {\r\n          var path_feature = pathes[i]\r\n          var pathSeqmentData = this.PathesSegmentsForEdit.find(path => path.PathID == path_feature.get('path_id'));\r\n          if (remove) {\r\n            source.removeFeature(path_feature)\r\n            this.PathesSegmentsForEdit.remove(pathSeqmentData);\r\n          }\r\n          else {\r\n            var ori_geo = path_feature.getGeometry()\r\n            var ori_startCoord = ori_geo.getCoordinates()[0]\r\n            var newEndCoordinates = feature.getGeometry().getCoordinates();\r\n            var geometry = new LineString([ori_startCoord, newEndCoordinates])\r\n            path_feature.setGeometry(geometry)\r\n            path_feature.setStyle(CreateStationPathStyles(path_feature))\r\n            pathSeqmentData.EndCoordination = newEndCoordinates;\r\n\r\n          }\r\n        }\r\n      } catch (error) {\r\n\r\n      }\r\n    },\r\n    ResetPathLinkOfRouteMode(pt_index, remove = false) {\r\n      var feature = this.PointRouteLayer.getSource().getFeatures().find(f => f.get('index') == pt_index);\r\n      var path_features = this.PathLayerForRouter.getSource().getFeatures();\r\n      try {\r\n        //起點是自己\r\n        var pathes = path_features.filter(path_feat => path_feat.get('start_pt_index') == pt_index);\r\n        for (var i = 0; i < pathes.length; i++) {\r\n          var path_featureFound = pathes[i];\r\n          var path_id = path_featureFound.get('path_id')\r\n          var path_seq_data = this.PathesSegmentsForEdit.find(path => path.PathID == path_id);\r\n          if (path_featureFound) {\r\n            if (remove) {\r\n              source.removeFeature(path_featureFound);\r\n              this.PathesSegmentsForEdit.remove(path_seq_data);\r\n            }\r\n            else {\r\n              var ori_geo = path_featureFound.getGeometry()\r\n              var ori_endCoord = ori_geo.getCoordinates()[1]\r\n              var newStartCoordinates = feature.getGeometry().getCoordinates();\r\n              var geometry = new LineString([newStartCoordinates, ori_endCoord])\r\n              path_featureFound.setGeometry(geometry)\r\n              path_featureFound.setStyle(CreateStationPathStyles(path_featureFound))\r\n              //path_seq_data.StartCoordination = newStartCoordinates;\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n      }\r\n      try {\r\n        //終點是自己\r\n        var pathes = path_features.filter(feat => feat.get('end_pt_index') == pt_index)\r\n        for (var i = 0; i < pathes.length; i++) {\r\n          var path_feature = pathes[i]\r\n          var pathSeqmentData = this.PathesSegmentsForEdit.find(path => path.PathID == path_feature.get('path_id'));\r\n          if (remove) {\r\n            source.removeFeature(path_feature)\r\n            this.PathesSegmentsForEdit.remove(pathSeqmentData);\r\n          }\r\n          else {\r\n            var ori_geo = path_feature.getGeometry()\r\n            var ori_startCoord = ori_geo.getCoordinates()[0]\r\n            var newEndCoordinates = feature.getGeometry().getCoordinates();\r\n            var geometry = new LineString([ori_startCoord, newEndCoordinates])\r\n            path_feature.setGeometry(geometry)\r\n            path_feature.setStyle(CreateStationPathStyles(path_feature))\r\n          }\r\n        }\r\n      } catch (error) {\r\n\r\n      }\r\n    },\r\n    ResetPathLink(path_layer, pt_index, remove = false) {\r\n      var source = path_layer.getSource();\r\n      var path_features = source.getFeatures();\r\n      var feature = path_features.find(ft => ft.get('index') == pt_index)\r\n      debugger\r\n      try {\r\n        //起點是自己\r\n        var pathes = path_features.filter(path_feat => path_feat.get('start_pt_index') == pt_index)\r\n        pathes.forEach(path_featureFound => {\r\n          var path_id = path_featureFound.get('path_id')\r\n          var path_seq_data = this.PathesSegmentsForEdit.find(path => path.PathID == path_id);\r\n          if (path_featureFound) {\r\n            if (remove) {\r\n              source.removeFeature(path_featureFound)\r\n              this.PathesSegmentsForEdit.remove(path_seq_data);\r\n            } else {\r\n              var ori_geo = path_featureFound.getGeometry()\r\n              var ori_endCoord = ori_geo.getCoordinates()[1]\r\n              var newStartCoordinates = feature.getGeometry().getCoordinates();\r\n              var geometry = new LineString([newStartCoordinates, ori_endCoord])\r\n              path_featureFound.setGeometry(geometry)\r\n              path_featureFound.setStyle(CreateStationPathStyles(path_featureFound))\r\n              path_seq_data.StartCoordination = newStartCoordinates;\r\n            }\r\n          }\r\n        })\r\n\r\n      } catch (error) {\r\n      }\r\n\r\n      try {\r\n        //終點是自己\r\n        debugger\r\n        var lineStrings = path_features.filter(feat => feat.get('end_pt_index') == pt_index)\r\n        lineStrings.forEach(path_feature => {\r\n          var pathSeqmentData = this.PathesSegmentsForEdit.find(path => path.PathID == path_feature.get('path_id'));\r\n          if (remove) {\r\n            source.removeFeature(path_feature)\r\n            this.PathesSegmentsForEdit.remove(pathSeqmentData);\r\n          }\r\n          else {\r\n            var ori_geo = path_feature.getGeometry()\r\n            var ori_startCoord = ori_geo.getCoordinates()[0]\r\n            var newEndCoordinates = feature.getGeometry().getCoordinates();\r\n            var geometry = new LineString([ori_startCoord, newEndCoordinates])\r\n            path_feature.setGeometry(geometry)\r\n            path_feature.setStyle(CreateStationPathStyles(path_feature))\r\n            pathSeqmentData.EndCoordination = newEndCoordinates;\r\n          }\r\n\r\n        });\r\n\r\n      } catch (error) {\r\n\r\n      }\r\n\r\n    },\r\n    PushPathEndPointData(feature = new Feature()) {\r\n\r\n      if (feature.get(\"feature_type\") != this.FeatureKeys.Station)\r\n        return;\r\n\r\n      if (this.PathEditTempStore.length == 2) {\r\n        this.PathEditTempStore = []\r\n      }\r\n      else if (this.PathEditTempStore.length == 1) {\r\n        if (this.PathEditTempStore[0].get('index') == feature.get('index')) {\r\n          return\r\n        }\r\n      }\r\n      this.PathEditTempStore.push(feature)\r\n      if (this.PathEditTempStore.length == 2) {\r\n        this.GenPath(this.PathEditTempStore);\r\n\r\n        if (this.EditorOption.AddPathMode.Direction == 'bi-direction') {\r\n          var reverse = [this.PathEditTempStore[1], this.PathEditTempStore[0]]\r\n          this.GenPath(reverse);\r\n        }\r\n      }\r\n    },\r\n    GenPath(start_end_features = []) {\r\n      var startPointFeature = start_end_features[0];\r\n      var endPointFeature = start_end_features[1];\r\n      var startPtIndex = startPointFeature.get('index');\r\n      var endPtIndex = endPointFeature.get('index');\r\n\r\n      var startPtTagX = startPointFeature.get('data').X;\r\n      var startPtTagY = startPointFeature.get('data').Y;\r\n\r\n      var endPtTagX = endPointFeature.get('data').X;\r\n      var endPtTagY = endPointFeature.get('data').Y;\r\n\r\n      var startPointCoordinate = startPointFeature.getGeometry().getCoordinates();\r\n      var endPointCoordinate = endPointFeature.getGeometry().getCoordinates();\r\n      var midPoint = [(startPointCoordinate[0] + endPointCoordinate[0]) / 2, (startPointCoordinate[1] + endPointCoordinate[1]) / 2]\r\n      var mindfeature = CreateNewStationPointFeature(midPoint, this.GenNewIndexOfStation());\r\n      //this.PointLayer.getSource().addFeature(mindfeature)\r\n      var isEqLink = endPointFeature.get('station_type') != 0 || startPointFeature.get('station_type') != 0;\r\n      var path_id = `${startPtIndex}_${endPtIndex}`\r\n\r\n      if (this.PathLayerForCoordination.getSource().getFeatures().find(f => f.get('path_id') == path_id))\r\n        return;\r\n\r\n      var New_MapPath_V2 = {\r\n        PathID: path_id,\r\n        StartPtIndex: startPtIndex,\r\n        EndPtIndex: endPtIndex,\r\n        StartCoordination: [startPtTagX, startPtTagY],\r\n        EndCoordination: [endPtTagX, endPtTagY],\r\n        IsEQLink: isEqLink,\r\n        IsSingleCar: false,\r\n        IsPassable: true,\r\n        IsExtinguishingPath: false,\r\n        Speed: 1,\r\n        LsrMode: 0,\r\n        DodgeMode: 0,\r\n        SpinMode: 0,\r\n      }\r\n      this.PathesSegmentsForEdit.push(New_MapPath_V2);\r\n\r\n      var oritargets = startPointFeature.get('targets');\r\n      if (!oritargets)\r\n        oritargets = []\r\n      var startPtMapData = startPointFeature.get('data')\r\n      startPtMapData.Target[endPtIndex] = 1//\r\n      startPointFeature.set('data', startPtMapData)\r\n      oritargets.push(endPtIndex)\r\n      startPointFeature.set('targets', oritargets)\r\n\r\n      this.UpdateStationPathLayer();\r\n    },\r\n    GenNewIndexOfStation() {\r\n\r\n      var currentIndexes = this.PointLayer.getSource().getFeatures().map(fea => fea.get('index'))\r\n      var sorted = currentIndexes.filter(a => a != undefined).sort((a, b) => a - b)\r\n      var index = sorted.length == 0 ? 0 : sorted[sorted.length - 1] + 1;\r\n\r\n      return index;\r\n    },\r\n    AgvDisplayOptHandler() {\r\n      this.AGVLocLayer.setVisible(this.agv_display == 'visible')\r\n    },\r\n    SlamImageDisplayOptHandler() {\r\n      if (this.map_display_mode != 'coordination') {\r\n        this.UpdateStationPathLayer()\r\n      }\r\n      this.ImageLayer.setVisible(this.map_image_display == 'visible')\r\n    },\r\n    MapDisplayModeOptHandler() {\r\n      var isShowSlamCoordi = this.map_display_mode == \"coordination\";\r\n      this.UpdateStationPathLayer()\r\n      this.StationNameDisplayOptHandler();\r\n      this.PointLayer.setVisible(isShowSlamCoordi);\r\n      this.PointRouteLayer.setVisible(!isShowSlamCoordi);\r\n      this.PathLayerForCoordination.setVisible(isShowSlamCoordi);\r\n      this.PathLayerForRouter.setVisible(!isShowSlamCoordi);\r\n\r\n\r\n      this.agvs_info.AGVDisplays.forEach(agv_information => {\r\n        this.UpdateAGVLocByMapMode(this.map_display_mode, agv_information);\r\n      })\r\n      this.UpdateEQLDULDFeature();\r\n      //路網模式\r\n      //this._map_stations\r\n\r\n      // this.map.getView().setZoom(isShowSlamCoordi ? 4 : 1)\r\n      this.map.getView().setCenter(isShowSlamCoordi ? this.GetMidPointOfCoordinationMode() : this.GetMidPointOfRouterMode());\r\n      //this.SaveSettingsToLocalStorage();\r\n    },\r\n    GetMidPointOfRouterMode() {\r\n      var map_stations_copy = [...this._map_stations]\r\n      map_stations_copy.sort((a, b) => a.graph[0] - b.graph[0]);\r\n      var first = map_stations_copy[0]\r\n      var last = map_stations_copy[map_stations_copy.length - 1]\r\n      var mid_x = (last.graph[0] + first.graph[0]) / 2\r\n\r\n      map_stations_copy.sort((a, b) => a.graph[1] - b.graph[1]);\r\n      first = map_stations_copy[0]\r\n      last = map_stations_copy[map_stations_copy.length - 1]\r\n      var mid_y = (last.graph[1] + first.graph[1]) / 2\r\n      return [mid_x, mid_y]\r\n    },\r\n    GetMidPointOfCoordinationMode() {\r\n      var map_stations_copy = [...this._map_stations]\r\n      map_stations_copy.sort((a, b) => a.coordination[0] - b.coordination[0]);\r\n      var first = map_stations_copy[0]\r\n      var last = map_stations_copy[map_stations_copy.length - 1]\r\n      var mid_x = (last.coordination[0] + first.coordination[0]) / 2\r\n\r\n      map_stations_copy.sort((a, b) => a.coordination[1] - b.coordination[1]);\r\n      first = map_stations_copy[0]\r\n      last = map_stations_copy[map_stations_copy.length - 1]\r\n      var mid_y = (last.coordination[1] + first.coordination[1]) / 2\r\n      console.log(mid_x, mid_y)\r\n      return [mid_x, mid_y]\r\n    },\r\n    StationNameDisplayOptHandler() {\r\n\r\n      this.StationPointsFeatures.forEach(ft => {\r\n        var index = ft.get('index');\r\n        var mapdata = ft.get('data')\r\n        var displayName = ''\r\n        if (this.station_name_display_mode == 'index')\r\n          displayName = index + '';\r\n        if (this.station_name_display_mode == 'name')\r\n          displayName = mapdata.Graph.Display;\r\n        if (this.station_name_display_mode == 'tag')\r\n          displayName = mapdata.TagNumber + '';\r\n        var station_type = mapdata.StationType;\r\n        ft.setStyle(GetStationStyle(displayName, station_type, mapdata));\r\n      })\r\n      this.SaveSettingsToLocalStorage();\r\n    },\r\n    /**顯示軌跡 */\r\n    ShowLocus(coordinate_list = [], color = 'red', width = 1) {\r\n      var source = this.AGVLocusLayer.getSource()\r\n      if (source) {\r\n        var features = []\r\n        source.clear()\r\n        //創建起終點圖標\r\n        let iconFeature_end = CreateLocIcon(coordinate_list[coordinate_list.length - 1], false);\r\n        //features.push(iconFeature_start);\r\n        //創建軌跡 LineString\r\n        let lineFeature = new Feature(\r\n          {\r\n            geometry: new LineString(coordinate_list),\r\n          },\r\n        );\r\n        lineFeature.setStyle(CreateLocusPathStyles(color, width))\r\n        features.push(lineFeature)\r\n        features.push(iconFeature_end);\r\n\r\n        source.addFeatures(features)\r\n      }\r\n    },\r\n    /**儲存按鈕處理 */\r\n    HandlerSaveBtnClick() {\r\n      //把feature中的 'data' 物件資料取出\r\n      var Points = {}\r\n      this.PointLayer.getSource().getFeatures().forEach(ft => {\r\n        var index = ft.get('index')\r\n        var data = ft.get('data')\r\n        Points[index] = data;\r\n      })\r\n      var mapDataSave = {\r\n        Points: Points,\r\n        Pathes: this.PathesSegmentsForEdit\r\n      }\r\n      this.$emit('save', mapDataSave)\r\n    },\r\n    HandlePtSettingBtnClick() {\r\n      document.removeEventListener('keydown', this.EditModeKeybordEvents)\r\n      this.editModeContextMenuVisible = false;\r\n      this.$refs.ptsetting.Show({\r\n        index: this.previousSelectedFeature.get('index'),\r\n        point: this.previousSelectedFeature.get('data')\r\n      })\r\n    },\r\n    ReloadMap(confirm = true) {\r\n      this.$swal.fire(\r\n        {\r\n          text: '確定要重新載入圖資?',\r\n          title: '',\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonText: '確定',\r\n          cancelButtonText: '取消',\r\n          customClass: 'my-sweetalert'\r\n        }).then(async (res) => {\r\n          if (res.isConfirmed) {\r\n            this.loading = true;\r\n            await MapStore.dispatch('DownloadMapData', '');\r\n            console.log('re-done');\r\n            this.RefreshMap();\r\n            this.loading = false;\r\n          }\r\n        })\r\n    },\r\n    DeepClonePathSegmentData() {\r\n      this.PathesSegmentsForEdit = JSON.parse(JSON.stringify(this.PathesSegments))\r\n    },\r\n    InitMap() {\r\n      const extent = this.map_img_extent;\r\n      const projection = new Projection({\r\n        code: 'xkcd-image',\r\n        units: 'pixels',\r\n        extent: extent,\r\n      });\r\n      this.map_name = MapStore.getters.MapName\r\n      this.ImageLayer = new ImageLayer({\r\n        source: new Static({\r\n          // url: 'Map.png',\r\n          url: `${this.MapServerUrl}/MapFiles/${this.map_name}.png`,\r\n          projection: projection,\r\n          imageExtent: extent,\r\n          imageSize: this.map_img_size,\r\n\r\n        }),\r\n        visible: this.map_image_display == 'visible'\r\n      })\r\n\r\n      const vectorSource = new VectorSource({\r\n        features: [],\r\n      });\r\n      this.AGVLocusLayer = new VectorLayer({\r\n        source: vectorSource,\r\n      })\r\n      this.map = new Map({\r\n        layers: [this.ImageLayer, this.EQLDULDStatusLayer, this.PathLayerForCoordination, this.PathLayerForRouter, this.PointLayer, this.PointRouteLayer, this.AGVLocLayer, this.AGVLocusLayer],\r\n        target: this.id,\r\n        view: new View({\r\n          projection: projection,\r\n          center: [0, 0],\r\n          zoom: 1,\r\n          maxZoom: 20\r\n        })\r\n      })\r\n      this.AGVLocLayer.setVisible(this.agv_show)\r\n      if (this.editable) {\r\n        this.PointLayer.setVisible(false);\r\n        this.PathLayerForCoordination.setVisible(false);\r\n        this.PointRouteLayer.setVisible(true);\r\n        this.PathLayerForRouter.setVisible(true);\r\n      } else {\r\n        // this.PathLayerForCoordination.setVisible(this.map_display_mode == 'coordination');\r\n        // this.PathLayerForRouter.setVisible(this.map_display_mode == 'router');\r\n      }\r\n      this.EQLDULDStatusLayer.setVisible(!this.editable)\r\n      this.InitMapEventHandler();\r\n\r\n    },\r\n    ResetMapCenterViaAGVLoc(agv_name) {\r\n      //Get AGV Coordination\r\n      var agvfeatures = this.AGVFeatures[agv_name]\r\n      if (agvfeatures) {\r\n        var coordination = agvfeatures.agv_feature.getGeometry().getCoordinates()\r\n        this.map.getView().setCenter(coordination)\r\n        //this.map.getView().setZoom(4)\r\n      }\r\n    },\r\n    HandleSettingBtnClick() {\r\n      this.$refs.settings.show = true;\r\n    },\r\n    ClearSelectedFeature() {\r\n      if (this.editable)\r\n        return;\r\n\r\n      try {\r\n        this.previousSelectedFeatures.forEach(feature => {\r\n          var oriStyle = feature.get('oristyle')\r\n          feature.setStyle(oriStyle);\r\n        })\r\n        var oriStyle = this.previousSelectedFeature.get('oristyle')\r\n        this.previousSelectedFeature.setStyle(oriStyle);\r\n      } catch {\r\n\r\n      }\r\n      this.previousSelectedFeatures = []\r\n    },\r\n    HighLightFeatureSelected(features = [new Feature()], color = 'red') {\r\n      if (this.editable) {\r\n        this.previousSelectedFeatures = [];\r\n        this.previousSelectedFeatures.push(features[0])\r\n\r\n        return;\r\n      }\r\n      try {\r\n        this.ClearSelectedFeature();\r\n        features.forEach(feature => {\r\n          var style = feature.getStyle()\r\n          if (style) {\r\n            feature.set(\"oristyle\", style.clone())\r\n            var newStyle = style.clone()\r\n            var text = newStyle.getText();\r\n            if (text) {\r\n              var stroke = text.getStroke()\r\n              if (stroke) {\r\n                var newStroke = stroke.clone();\r\n                newStroke.setColor(color)\r\n                text.setStroke(newStroke)\r\n                feature.setStyle(newStyle)\r\n              }\r\n            }\r\n          }\r\n          this.previousSelectedFeatures.push(feature)\r\n        })\r\n      } catch (error) {\r\n\r\n      }\r\n    },\r\n    HighLightFeaturesByStationType(station_type = 0, color = 'red') {\r\n      // feature.set('station_type', ptdata.StationType)\r\n\r\n      var features = this.StationPointsFeatures.filter(ft => ft.get('station_type') == station_type)\r\n      this.HighLightFeatureSelected(features, color)\r\n\r\n    },\r\n    HandleAGVUploadData(coordinates = [{ TagNumber: 0, X: 0, Y: 0, Theta: 0 }]) {\r\n\r\n      var currentPtFeatures = this.PointLayer.getSource().getFeatures();\r\n\r\n      Object.values(coordinates).forEach(coorInfo => {\r\n        var existFeature = currentPtFeatures.find(pt => pt.get('data').TagNumber == coorInfo.TagNumber)\r\n        if (existFeature) {\r\n          existFeature.setGeometry(new Point([coorInfo.X, coorInfo.Y]))\r\n          var oriData = existFeature.get('data');\r\n          oriData.Direction = parseInt(Math.round(coorInfo.Theta));\r\n          existFeature.set('data', oriData)\r\n        } else {\r\n\r\n          var station = new clsMapStation()\r\n          station.coordination = [coorInfo.X, coorInfo.Y];\r\n          station.index = this.GenNewIndexOfStation();\r\n          station.station_type = 0;\r\n          station.name = coorInfo.TagNumber + ''\r\n          station.tag = coorInfo.TagNumber\r\n\r\n          var mapPtModel = new MapPointModel()\r\n          mapPtModel.StationType = 0\r\n          mapPtModel.X = coorInfo.X\r\n          mapPtModel.Y = coorInfo.Y\r\n          mapPtModel.Graph.X = parseInt(Math.round(coorInfo.X));\r\n          mapPtModel.Graph.Y = parseInt(Math.round(coorInfo.Y));\r\n          mapPtModel.Name = coorInfo.TagNumber + ''\r\n          mapPtModel.TagNumber = coorInfo.TagNumber\r\n          mapPtModel.Direction = parseInt(Math.round(coorInfo.Theta));\r\n          station.data = mapPtModel\r\n          var feature = CreateStationFeature(station)\r\n          this.PointLayer.getSource().addFeature(feature)\r\n        }\r\n      })\r\n    },\r\n    showContextMenu(event) {\r\n      event.preventDefault();\r\n      if (this.editable)\r\n        return;\r\n      if (this.EditorOption.EditAction == 'add-station')\r\n        return;\r\n      if (this.previousSelectedFeature) {\r\n        this.contextMenuTop = event.clientY;\r\n        this.contextMenuLeft = event.clientX;\r\n        var feature_type = this.previousSelectedFeature.get('feature_type');\r\n        this.contextMenuOptions.feature_type = feature_type;\r\n        var data = this.previousSelectedFeature.get('data');\r\n        if (data) {\r\n          this.contextMenuOptions.title = data.Name\r\n          this.contextMenuOptions.point_data = data\r\n          this.contextMenuOptions.task_options = new MenuUseTaskOption(data.StationType)\r\n          this.contextMenuOptions.show_task_dispatch = this.task_dispatch_menu_show\r\n        }\r\n        this.editModeContextMenuVisible = true;\r\n      }\r\n    },\r\n    HandlePtSettingDrawerLeaved() {\r\n      document.addEventListener('keydown', this.EditModeKeybordEvents)\r\n    },\r\n    PointSettingChangedHandle(data_dto) {\r\n      var index = data_dto.index;\r\n      var ptdata = data_dto.pointData;\r\n\r\n      var SettingPoints = function (source, _index, _ptdata) {\r\n        //reset ptinformation\r\n        var feature = source.getFeatures().find(ft => ft.get('index') == _index);\r\n        feature.set('data', _ptdata)\r\n        feature.set('station_type', _ptdata.StationType)\r\n        feature.setStyle(GetStationStyle(_ptdata.Name, _ptdata.StationType, _ptdata));\r\n\r\n        //rename display\r\n        var style = feature.getStyle()\r\n        var newStyle = style.clone()\r\n        var text = newStyle.getText();\r\n        text.setText(_ptdata.Graph.Display);\r\n\r\n        var stroke = text.getStroke()\r\n        if (stroke) {\r\n          var newStroke = stroke.clone();\r\n          newStroke.setColor('blue')\r\n          text.setStroke(newStroke)\r\n        }\r\n\r\n        feature.setStyle(newStyle)\r\n      };\r\n\r\n      SettingPoints(this.PointLayer.getSource(), index, ptdata);\r\n      SettingPoints(this.PointRouteLayer.getSource(), index, ptdata);\r\n      var _is_eq_link = ptdata.StationType != 0;\r\n      var pathes_with_start = this.PathesSegmentsForEdit.filter(pt => pt.StartPtIndex == index);\r\n      var pathes_with_end = this.PathesSegmentsForEdit.filter(pt => pt.EndPtIndex == index);\r\n\r\n      for (var i = 0; i < pathes_with_start.length; i++) {\r\n        pathes_with_start[i].IsEQLink = _is_eq_link;\r\n        pathes_with_start[i].StartCoordination = [ptdata.X, ptdata.Y];\r\n      }\r\n\r\n      for (var i = 0; i < pathes_with_end.length; i++) {\r\n        pathes_with_end[i].IsEQLink = _is_eq_link;\r\n        pathes_with_end[i].EndCoordination = [ptdata.X, ptdata.Y];\r\n      }\r\n\r\n    },\r\n    HandleMenuTaskBtnClick(data = { action: '', station_data: {} }) {\r\n      this.editModeContextMenuVisible = false;\r\n      var highlight_station_type = 0;\r\n      if (data.action == 'move') {\r\n        highlight_station_type = 0;\r\n      }\r\n      else if (data.action == 'load' | data.action == 'unload' | data.action == 'carry') {\r\n        highlight_station_type = 1;\r\n      }\r\n      else if (data.action == 'charge') {\r\n        highlight_station_type = 3;\r\n      }\r\n      this.HighLightFeaturesByStationType(highlight_station_type, 'blue')\r\n      bus.emit('bus-show-task-allocation', data);\r\n    },\r\n    HandleAGVUploadCorrdinationChanged(enabled) {\r\n      MapStore.dispatch('UploadCoorFunctionSwitch', enabled)\r\n    },\r\n    HandleLDULDLabelClick(station_data, action) {\r\n      //alert(JSON.stringify(station_data))\r\n      this.$emit('onTransferRequst', { station_data: station_data, action: action })\r\n    },\r\n    ChangeLDULDStatus(tagNumber, status) {\r\n      try {\r\n        var ld_uld_state = status == 1 ? 'load' : 'unload'\r\n        var features = this.EQLDULDStatusLayer.getSource().getFeatures();\r\n        var _feature = features.find(ft => ft.get('data').TagNumber == tagNumber);\r\n        if (!_feature)\r\n          return\r\n        var style = _feature.getStyle();\r\n        if (!style)\r\n          return;\r\n        var text = style.getText()\r\n        if (!text)\r\n          return;\r\n\r\n        var status_text = ''\r\n        if (status == 1 || status == 2) {\r\n          status_text = status == 1 ? ' 入料請求' : '出料請求'\r\n        }\r\n        text.setText(status_text);\r\n\r\n        text.setBackgroundFill(new Fill({\r\n          color: status == 1 ? 'orange' : 'blue'\r\n        }))\r\n        // text.setFill(new Fill({\r\n        //   color: status == 3 ? 'black' : 'white'\r\n        // }))\r\n\r\n        if (_feature.get('action') == ld_uld_state)\r\n          return;\r\n        _feature.set('action', ld_uld_state)\r\n        _feature.setStyle(style)\r\n      } catch (err) {\r\n\r\n        console.error(err)\r\n      }\r\n\r\n    },\r\n    RenderEQLDULDStatus() {\r\n      this.eq_data.forEach(eq_states => {\r\n        setTimeout(() => {\r\n          this.ChangeLDULDStatus(eq_states.Tag, eq_states.TransferStatus)\r\n        }, 100)\r\n      });\r\n    },\r\n    watch_eq_data_changed() {\r\n      setInterval(() => {\r\n        this.RenderEQLDULDStatus();\r\n      }, 100);\r\n    },\r\n    RefreshMap() {\r\n      debugger\r\n      this._map_stations = JSON.parse(JSON.stringify(this.map_station_data));\r\n      this.DeepClonePathSegmentData();\r\n      this.UpdateStationPointLayer();\r\n      this.UpdateStationPathLayer();\r\n      this.MapDisplayModeOptHandler();\r\n    },\r\n    EditModeKeybordEvents(event) {\r\n      var name = event.key.toLowerCase();\r\n      console.info(name)\r\n      if (name == 'e') {\r\n        this.EditorOption.EditMode = 'edit'\r\n      } if (name == 'v') {\r\n        this.EditorOption.EditMode = 'view'\r\n      }\r\n      if (this.EditorOption.EditMode != 'edit')\r\n        return;\r\n      if (name == '1') {\r\n        this.EditorOption.EditAction = 'add-station'\r\n      }\r\n      if (name == '2') {\r\n        this.EditorOption.EditAction = 'edit-station'\r\n      }\r\n      if (name == '3') {\r\n        this.EditorOption.EditAction = 'remove-station'\r\n      }\r\n      if (name == '4') {\r\n        this.EditorOption.EditAction = 'add-path'\r\n      }\r\n      if (name == '5') {\r\n        this.EditorOption.EditAction = 'edit-path'\r\n      }\r\n      if (name == '6') {\r\n        this.EditorOption.EditAction = 'remove-path'\r\n      }\r\n    },\r\n    OpenPath_editor(feature = new Feature()) {\r\n      var pathid = feature.get('path_id')\r\n      if (pathid) {\r\n        var path_data = this.PathesSegmentsForEdit.find(path => path.PathID == pathid)\r\n        var reverse_pathid = path_data.EndPtIndex + '_' + path_data.StartPtIndex;\r\n        var reverse_path_data = this.PathesSegmentsForEdit.find(path => path.PathID == reverse_pathid)\r\n        this.IsPathEditing = true;\r\n        this.SelectedPathData = path_data;\r\n        this.HandlePathTbRowClick(path_data);\r\n        if (reverse_path_data) {\r\n          this.ShowPathSelectDialog = true;\r\n          this.PathesCandicats = [path_data, reverse_path_data];\r\n        } else {\r\n          this.HandlePathTbRowClick(path_data);\r\n          this.$refs['path_editor'].Show(path_data);\r\n        }\r\n      }\r\n    },\r\n    HandlePathSelected(path_data) {\r\n      this.IsPathEditing = true;\r\n      this.ShowPathSelectDialog = false;\r\n      this.SelectedPathData = path_data;\r\n      setTimeout(() => {\r\n        this.HandlePathTbRowClick(path_data);\r\n      }, 1000);\r\n      this.$refs['path_editor'].Show(path_data);\r\n    },\r\n    HandlePathSetingDrawerClosed(edited_path_settings) {\r\n      this.IsPathEditing = false;\r\n      if (this.selected_path_feature) {\r\n        this.RestoreOriginalPathStyle(this.selected_path_feature)\r\n      }\r\n    },\r\n    SetPathesAsBeControledStyle() {\r\n      var path_ids = Object.keys(this.ControledPathesBySystem)\r\n      if (path_ids.length == 0)\r\n        return;\r\n\r\n      var source = this.PathLayerForCoordination.getSource();\r\n      path_ids.forEach(path_id => {\r\n        var pathFeature = source.getFeatures().find(p => p.get('path_id') == path_id)\r\n        if (pathFeature) {\r\n          debugger\r\n          var _style = pathFeature.getStyle()\r\n          var stroke = _style[0].getStroke();\r\n          if (stroke) {\r\n            stroke.setColor('orange')\r\n            _style[0].setStroke(stroke)\r\n            pathFeature.setStyle(_style)\r\n          }\r\n        }\r\n      });\r\n      this.map.render();\r\n\r\n\r\n    },\r\n    /**地圖變更為選擇AGV模式 */\r\n    ChangeToSelectAGVMode() {\r\n      this.AGVLocLayer.setVisible(true);\r\n      this.RestoredFillColorOfChangedFeature();\r\n      //把設備圖層Feature變為不明顯\r\n      this.ChangeFeaturesAsIgnoreStyle(this.StationPointsFeatures, 'rgb(222, 222, 222)');\r\n\r\n      this.IsSelectAGVMode = true;\r\n      this.IsSelectEQStationMode = false;\r\n\r\n    },\r\n    /**地圖變更為選擇設備站點模式 */\r\n    ChangeToSelectEQStationMode() {\r\n      this.AGVLocLayer.setVisible(false);\r\n      this.RestoredFillColorOfChangedFeature();\r\n      //把AGV圖層Feature變為不明顯\r\n      this.ChangeFeaturesAsIgnoreStyle(this.AGVMapFeatures, 'rgb(222, 222, 222)');\r\n      if (this.SelectActionType == 'charge') {\r\n        //再把非充電站的Feature變為不明顯\r\n        var non_charge_features = this.StationPointsFeatures.filter(ft => !ft.get('data').IsCharge)\r\n        this.ChangeFeaturesAsIgnoreStyle(non_charge_features, 'rgb(222, 222, 222)');\r\n      } else {\r\n        //再把充電站的Feature變為不明顯\r\n        var charge_features = this.StationPointsFeatures.filter(ft => ft.get('data').IsCharge)\r\n        this.ChangeFeaturesAsIgnoreStyle(charge_features, 'rgb(222, 222, 222)');\r\n      }\r\n      this.IsSelectAGVMode = false;\r\n      this.IsSelectEQStationMode = true;\r\n    },\r\n    ChangeToNormalViewMode() {\r\n      this.AGVLocLayer.setVisible(true);\r\n      this.RestoredFillColorOfChangedFeature();\r\n      this.IsSelectAGVMode = this.IsSelectEQStationMode = false;\r\n\r\n    },\r\n    RestoredFillColorOfChangedFeature() {\r\n      this.TextChangedOriFeatureStyle.forEach(_object => {\r\n        if (_object.feature)\r\n          _object.feature.setStyle(_object.style)\r\n      })\r\n      this.TextChangedOriFeatureStyle = [];\r\n    },\r\n    ChangeFeaturesAsIgnoreStyle(features, color) {\r\n      let _tmp = []\r\n      features.forEach(feature => {\r\n        var style = feature.getStyle()\r\n        if (style) {\r\n          _tmp.push({ feature: feature, style: style });\r\n          try {\r\n\r\n            var newStyle = style.clone()\r\n            var oriImage = newStyle.getImage();\r\n            if (oriImage) {\r\n              var newImage = oriImage.clone();\r\n              newImage.setOpacity(.5)\r\n              newStyle.setImage(newImage);\r\n            }\r\n            var text = newStyle.getText();\r\n            if (text) {\r\n              var fill = text.getFill()\r\n              if (fill) {\r\n                var newfill = fill.clone();\r\n                newfill.setColor(color)\r\n                text.setFill(newfill)\r\n                feature.setStyle(newStyle)\r\n              }\r\n            }\r\n          } catch {\r\n\r\n          }\r\n        }\r\n      });\r\n      this.TextChangedOriFeatureStyle = [...this.TextChangedOriFeatureStyle, ..._tmp]\r\n      console.info(this.TextChangedOriFeatureStyle)\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    if (this.editable)\r\n      document.addEventListener('keydown', this.EditModeKeybordEvents)\r\n\r\n    this.loading = true;\r\n    setTimeout(() => {\r\n      var element = document.getElementById(\"map\"); // 替换为你要禁用右键菜单的元素的ID\r\n      if (element)\r\n        element.addEventListener('contextmenu', function (event) {\r\n          event.preventDefault();\r\n        });\r\n      MapStore.dispatch('DownloadMapData').then(() => {\r\n        this.RestoreSettingsFromLocalStorage();\r\n        this.DeepClonePathSegmentData();\r\n        this.InitMap();\r\n\r\n        watch(\r\n          () => this.map_station_data, (newval, oldval) => {\r\n            if (!newval)\r\n              return;\r\n            this.RefreshMap();\r\n          }, { deep: true, immediate: true }\r\n        )\r\n        if (this.eq_lduld_status_show) {\r\n          this.watch_eq_data_changed();\r\n        }\r\n        watch(() => this.agvs_info, (newval, oldval) => {\r\n          if (!newval)\r\n            return\r\n          this.UpdateAGVLayer()\r\n        }, { deep: true, immediate: true })\r\n        bus.on('/show_agv_at_center', agv_name => {\r\n          // alert(agv_name)\r\n          this.ResetMapCenterViaAGVLoc(agv_name)\r\n        })\r\n\r\n        watch(\r\n          () => this.agv_upload_coordi_data, (newval = {}, oldval) => {\r\n            if (this.agv_upload_coordination_mode) {\r\n              this.HandleAGVUploadData(newval)\r\n            }\r\n          }, { deep: true, immediate: true }\r\n        )\r\n        bus.on('change_to_select_agv_mode', () => {\r\n          if (this.editable)\r\n            return;\r\n          this.ChangeToSelectAGVMode();\r\n        })\r\n        bus.on('change_to_select_eq_station_mode', (data) => {\r\n          if (this.editable)\r\n            return;\r\n          this.SelectActionType = data.action_type;\r\n          this.TransferDirection = data.direction;\r\n          this.ChangeToSelectEQStationMode();\r\n        })\r\n        bus.on('change_to_normal_view_mode', () => {\r\n          if (this.editable)\r\n            return;\r\n          this.ChangeToNormalViewMode();\r\n        })\r\n        document.getElementById(this.id).addEventListener('contextmenu', (ev) => {\r\n          ev.preventDefault()\r\n        })\r\n        this.loading = false;\r\n      })\r\n    }, 500)\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.map-component {\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  .select-mode {\r\n    //animation: mode_flick 1s infinite;\r\n  }\r\n\r\n  @keyframes mode_flick {\r\n\r\n    0%,\r\n    100% {\r\n      background-color: rgb(13, 110, 253);\r\n      color: white\r\n    }\r\n\r\n    50% {\r\n      background-color: rgb(235, 235, 235);\r\n      color: rgb(13, 110, 253);\r\n    }\r\n  }\r\n\r\n  .tab-open {\r\n    width: 500px;\r\n\r\n    i {\r\n      cursor: pointer;\r\n      position: absolute;\r\n      left: 479px;\r\n      top: 100px;\r\n    }\r\n\r\n    i:hover {\r\n      background-color: rgb(245, 155, 155);\r\n      color: white;\r\n    }\r\n  }\r\n\r\n  .tab-close {\r\n    width: 30px;\r\n\r\n    i {\r\n      cursor: pointer;\r\n    }\r\n\r\n    i:hover {\r\n      background-color: gray;\r\n      color: white;\r\n    }\r\n  }\r\n}\r\n\r\n.custom-buttons {\r\n  // top: 133px;\r\n  text-align: right;\r\n  z-index: 1;\r\n  flex-direction: column;\r\n  margin-top: 55px;\r\n  padding-left: 7px;\r\n  height: 300px;\r\n\r\n  button {\r\n    border: 1px solid #d5d5d5;\r\n    border-radius: 3px;\r\n    height: 22px;\r\n    width: 24px;\r\n  }\r\n\r\n  button:hover {\r\n    cursor: pointer;\r\n    border: 0.01rem solid black;\r\n  }\r\n}\r\n\r\n.cursour-coordination-show {\r\n  z-index: 0;\r\n  padding-left: 37px;\r\n  margin-top: 10px;\r\n  width: 120px;\r\n\r\n  span {\r\n    font-weight: bold;\r\n  }\r\n}\r\n\r\n.cursour-coordination-show,\r\n.custom-buttons {\r\n  position: absolute;\r\n  background-color: transparent;\r\n  display: flex;\r\n}\r\n\r\n.options {\r\n  text-align: left;\r\n  width: 108px;\r\n\r\n  label {\r\n    width: 100%;\r\n    margin-right: auto;\r\n    height: 25px;\r\n  }\r\n\r\n  div {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-bottom: 6px;\r\n    padding: 3px;\r\n\r\n    span {\r\n      border-bottom: 1px solid gainsboro;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n\r\n  .el-switch {\r\n    position: relative;\r\n    top: 6px;\r\n  }\r\n}\r\n\r\n.editor-option {\r\n  width: 100%;\r\n  border-radius: 3px;\r\n  border: 1px solid rgb(218, 218, 218);\r\n  padding: 3px;\r\n  margin-inline: 2px;\r\n\r\n  .action-buttons {\r\n    button {\r\n      width: 120px;\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n\r\n  .edit-block {\r\n    font-size: 15px;\r\n    font-weight: bold;\r\n    display: flex;\r\n    flex-direction: row;\r\n    padding: 5px;\r\n\r\n    span {\r\n      text-align: left;\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n}\r\n\r\n.agv_map {\r\n  width: 100%;\r\n}\r\n</style>","<template>\r\n  <el-dialog draggable :modal=\"false\" title=\"地圖設置\" v-model=\"show\">\r\n    <div></div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      show: false\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>","import { render } from \"./MapSettingsDialog.vue?vue&type=template&id=7de64864\"\nimport script from \"./MapSettingsDialog.vue?vue&type=script&lang=js\"\nexport * from \"./MapSettingsDialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"map-menu border\" v-bind:style=\"menu_style\">\r\n    <div\r\n      class=\"title border-bottom\"\r\n      v-bind:class=\"station_data.Enable?'text-primary':'text-danger'\"\r\n    >{{ options.title + (station_data.Enable?'':'(已禁用)')}}</div>\r\n\r\n    <div v-if=\"options.show_task_dispatch\" class=\"menu task\">\r\n      <span>站點類型 : {{ station_data.IsVirtualPoint?'虛擬點': options.task_options.StationType }}</span>\r\n      <div v-if=\"station_type==0 &&!station_data.IsVirtualPoint\">\r\n        <!-- 一般點位可指派之任務 -->\r\n        <b-button\r\n          variant=\"primary\"\r\n          @click=\"()=>{$emit('OnTaskBtnClick',{action:'move',station_data:station_data})}\"\r\n        >移動</b-button>\r\n      </div>\r\n      <div v-if=\"station_type==1|station_type==2\" class=\"d-flex flex-column\">\r\n        <!-- EQ可指派之任務 -->\r\n        <b-button\r\n          variant=\"primary\"\r\n          @click=\"()=>{$emit('OnTaskBtnClick',{action:'unload',station_data:station_data})}\"\r\n        >取貨</b-button>\r\n        <b-button\r\n          variant=\"primary\"\r\n          @click=\"()=>{$emit('OnTaskBtnClick',{action:'load',station_data:station_data})}\"\r\n        >放貨</b-button>\r\n        <b-button\r\n          variant=\"primary\"\r\n          @click=\"()=>{$emit('OnTaskBtnClick',{action:'carry',station_data:station_data})}\"\r\n        >搬運</b-button>\r\n      </div>\r\n      <div v-if=\"station_type==3\">\r\n        <b-button\r\n          variant=\"primary\"\r\n          @click=\"()=>{$emit('OnTaskBtnClick',{action:'charge',station_data:station_data})}\"\r\n        >充電</b-button>\r\n      </div>\r\n      <div v-if=\"station_data.IsParking&&!station_data.IsVirtualPoint\">\r\n        <b-button\r\n          variant=\"primary\"\r\n          @click=\"()=>{$emit('OnTaskBtnClick',{action:'park',station_data:station_data})}\"\r\n        >停車</b-button>\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"menu edit\">\r\n      <b-button variant=\"primary\" @click=\"()=>{$emit('OnPtSettingBtnClick','')}\">設定點位</b-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { MapContextMenuOptions, MenuUseTaskOption } from './mapjs'\r\nexport default {\r\n  components: {\r\n  },\r\n  props: {\r\n    mouse_click_position: {\r\n      type: Array,\r\n      default() {\r\n        return [0, 0]\r\n      }\r\n    },\r\n    options: {\r\n      type: MapContextMenuOptions,\r\n      default() {\r\n        return new MapContextMenuOptions()\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    menu_style() {\r\n      return {\r\n        top: this.mouse_click_position[0] + 'px',\r\n        left: this.mouse_click_position[1] + 'px',\r\n        backgroundColor: this.options.backgroundColor\r\n      }\r\n    },\r\n    station_type() {\r\n      return this.options.task_options.StationType;\r\n    },\r\n    station_data() {\r\n      return this.options.point_data;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.map-menu {\r\n  position: fixed;\r\n  z-index: 4000;\r\n  padding: 5px;\r\n  border-radius: 8px;\r\n  text-align: left;\r\n\r\n  .title {\r\n    font-size: larger;\r\n    font-weight: bolder;\r\n  }\r\n\r\n  .menu {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    button {\r\n      padding: 6px;\r\n      border: 1px solid rgb(168, 168, 168);\r\n      border-radius: 5px;\r\n      margin: 2px auto;\r\n      width: 130px;\r\n    }\r\n    button:hover {\r\n      background-color: limegreen;\r\n      color: white;\r\n    }\r\n  }\r\n  .task {\r\n    span {\r\n      font-size: 10px;\r\n      color: grey;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./MapContextMenu.vue?vue&type=template&id=16c3ee72&scoped=true\"\nimport script from \"./MapContextMenu.vue?vue&type=script&lang=js\"\nexport * from \"./MapContextMenu.vue?vue&type=script&lang=js\"\n\nimport \"./MapContextMenu.vue?vue&type=style&index=0&id=16c3ee72&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16c3ee72\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"map-path-editor\">\r\n        <el-drawer v-model=\"show\" size=\"35%\"\r\n            :close-on-press-escape=\"true\"\r\n            :close-on-click-modal=\"true\"\r\n            @closed=\"$emit('closed', PathDataEdit)\"\r\n            :show-close=\"false\"\r\n            :modal=\"true\"\r\n            modal-class=\"modal-style\">\r\n            <template #header>\r\n                <div class=\"header border-bottom\">\r\n                    <h3>路徑設定:{{ PathDataEdit.StartPtIndex }}->{{ PathDataEdit.EndPtIndex }}</h3>\r\n                </div>\r\n            </template>\r\n            <div class=\"draw-content\">\r\n                <el-form label-width=\"140\" label-position=\"left\">\r\n                    <el-form-item label=\"Path ID\">\r\n                        <el-input disabled v-model=\"PathDataEdit.PathID\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"起點(Index)\">\r\n                        <el-input disabled v-model=\"PathDataEdit.StartPtIndex\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"終點(Index)\">\r\n                        <el-input disabled v-model=\"PathDataEdit.EndPtIndex\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"工位路徑\">\r\n                        <el-checkbox disabled v-model=\"PathDataEdit.IsEQLink\"></el-checkbox>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"道路開放\">\r\n                        <el-checkbox @change=\"SettingsChangedHandler\" v-model=\"PathDataEdit.IsPassable\"></el-checkbox>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"僅允許一台車通行\">\r\n                        <el-checkbox v-model=\"PathDataEdit.IsSingleCar\"></el-checkbox>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"是否可旋轉\">\r\n                        <el-checkbox v-model=\"PathDataEdit.IsRotationable\"></el-checkbox>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"消防通道\">\r\n                        <el-checkbox v-model=\"PathDataEdit.IsExtinguishingPath\"></el-checkbox>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"雷射模式\">\r\n                        <el-input-number v-model=\"PathDataEdit.LsrMode\" :step=\"1\"></el-input-number>\r\n                        <i\r\n                            class=\"bi bi-question-circle information\"\r\n                            @click=\"HandleLaserModeInfoIconClick\"></i>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"限速\">\r\n                        <el-input-number v-model=\"PathDataEdit.Speed\" :step=\"0.1\" :precision=\"1\"></el-input-number>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </el-drawer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            show: false,\r\n            /** { \"StartPtIndex\": 5, \"EndPtIndex\": 0, \"StartCoordination\": [ 2.653, 6.213 ], \"EndCoordination\": [ 0.531, 6.217 ], \"PathID\": \"5_0\", \"IsEQLink\": false, \"IsSingleCar\": false, \"IsPassable\": false, \"IsExtinguishingPath\": false, \"Speed\": 1, \"LsrMode\": 0, \"DodgeMode\": 0, \"SpinMode\": 0 }*/\r\n            PathDataEdit: {\r\n                StartPtIndex: 5,\r\n                EndPtIndex: 0,\r\n                StartCoordination: [2.653, 6.213],\r\n                EndCoordination: [0.531, 6.217],\r\n                PathID: \"5_0\",\r\n                IsEQLink: false,\r\n                IsSingleCar: false,\r\n                IsRotationable: false,\r\n                IsPassable: false,\r\n                IsExtinguishingPath: false,\r\n                Speed: 1,\r\n                LsrMode: 0,\r\n                DodgeMode: 0,\r\n                SpinMode: 0\r\n            }\r\n        }\r\n    },\r\n    props: {\r\n        SettingsChangedHandler: {\r\n            type: Function,\r\n            default() {\r\n                return () => {\r\n\r\n                }\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        Show(PathData) {\r\n            if (PathData) {\r\n                this.PathDataEdit = PathData;\r\n                this.show = true\r\n            }\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.draw-content {\r\n    top: 67px;\r\n    position: absolute;\r\n    height: 100%;\r\n\r\n    .settings {\r\n        height: 800px;\r\n        overflow-y: scroll;\r\n    }\r\n\r\n    button {\r\n        width: 120px;\r\n        margin-right: 3px;\r\n    }\r\n}\r\n</style>","import { render } from \"./MapPathSettingDrawer.vue?vue&type=template&id=39ab1226\"\nimport script from \"./MapPathSettingDrawer.vue?vue&type=script&lang=js\"\nexport * from \"./MapPathSettingDrawer.vue?vue&type=script&lang=js\"\n\nimport \"./MapPathSettingDrawer.vue?vue&type=style&index=0&id=39ab1226&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"map-quickly-action\">\r\n    <span v-text=\"mapname\"></span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { MapStore } from './store';\r\nexport default {\r\n  computed: {\r\n    mapname() {\r\n      return MapStore.getters.MapName;\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.map-quickly-action {\r\n  position: absolute;\r\n  bottom: 37px;\r\n  padding: 2px 5px;\r\n  background-color: rgb(197, 197, 197);\r\n  border: 1px solid rgb(136, 136, 136);\r\n  border-top-right-radius: 4px;\r\n  border-top-left-radius: 4px;\r\n  opacity: 0.5;\r\n}\r\n</style>","import { render } from \"./QuicklyActionMenu.vue?vue&type=template&id=3192d018&scoped=true\"\nimport script from \"./QuicklyActionMenu.vue?vue&type=script&lang=js\"\nexport * from \"./QuicklyActionMenu.vue?vue&type=script&lang=js\"\n\nimport \"./QuicklyActionMenu.vue?vue&type=style&index=0&id=3192d018&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3192d018\"]])\n\nexport default __exports__","import { render } from \"./Map.vue?vue&type=template&id=8aa61fa0&scoped=true\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\n\nimport \"./Map.vue?vue&type=style&index=0&id=8aa61fa0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-8aa61fa0\"]])\n\nexport default __exports__","<template>\r\n  <!-- 這裡不可以有 div 否則雙向綁定會失效 -->\r\n  <el-select style=\"width:120px\" v-model=\"selectedRegion\" @change=\"handleChange\">\r\n    <el-option\r\n      v-for=\"opt in valid_map_regions_options\"\r\n      :key=\"opt.value\"\r\n      :label=\"opt.label\"\r\n      :value=\"opt.value\"\r\n    ></el-option>\r\n  </el-select>\r\n</template>\r\n\r\n<script>\r\nimport { GetValidRegionOptions } from '@/api/MapAPI.js'\r\nexport default {\r\n  props: {\r\n    default: {\r\n      type: String,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      selectedRegion: this.default,\r\n      valid_map_regions_options: [],\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange(value) {\r\n      this.selectedRegion = value;\r\n      this.$emit('input', value);\r\n    },\r\n  },\r\n  mounted() {\r\n    setTimeout(async () => {\r\n      this.valid_map_regions_options = await GetValidRegionOptions();\r\n      if (this.valid_map_regions_options)\r\n        this.valid_map_regions_options.unshift({ label: '不分區', value: 'all' })\r\n    }, 10);\r\n  },\r\n}\r\n</script>\r\n\r\n<style></style>","import { render } from \"./RegionsSelector.vue?vue&type=template&id=eefaa902\"\nimport script from \"./RegionsSelector.vue?vue&type=script&lang=js\"\nexport * from \"./RegionsSelector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"93\":\"fa0eb4da\",\"142\":\"ecaee98a\",\"155\":\"7b077f24\",\"166\":\"cc038866\",\"181\":\"543992b0\",\"306\":\"be10f586\",\"431\":\"b4d99585\",\"522\":\"42121ef6\",\"560\":\"253a197a\",\"740\":\"54a13af7\",\"757\":\"69d74930\",\"804\":\"39e643c0\",\"858\":\"76268a6e\",\"891\":\"01690a7d\",\"895\":\"7a461dc1\",\"897\":\"33d5fb53\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"560\":\"edbe14a1\",\"740\":\"6d966e71\",\"804\":\"2cd2fecf\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"gpm_agvs:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"560\":1,\"740\":1,\"804\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgpm_agvs\"] = self[\"webpackChunkgpm_agvs\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4239); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","clsAGVStateDto","constructor","dto","undefined","this","AGV_Name","AGV_Description","Model","MainStatus","OnlineStatus","CurrentLocation","CurrentCarrierID","BatteryLevel_1","BatteryLevel_2","TaskName","TaskRunStatus","TaskRunAction","Theta","Connected","StationName","Group","IsCharging","IP","Port","TaskSourceStationName","TaskDestineStationName","TransferProcess","OrderAction","axios_entity","axios","baseURL","param","backend_host","async","ResetSystemAlarm","get","ResetEquipmentAlarm","QueryAlarm","currentpage","start_time","end_time","AlarmType","retquery","data","SaveTocsv","response","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","fileName","setAttribute","body","appendChild","click","AlarmHelper","onmessage","evt","onmessageHandler","_alarm_ws","WebSocketHelp","Connect","getAuthHeaders","user","localStorage","getItem","user_info","JSON","parse","Authorization","token","getJWTAuthorizationVal","user_state","GetUserStateFromLS","ClearLoginCookie","removeItem","LastLoginState","isLogin","login_info","IsLoginLastTime","Role","IsExpires","loginTime","moment","LoginTime","add","isExpire","Date","now","console","log","user_json_str","clsQueryOptions","AGVName","Result","StartTimeStr","EndTimeStr","DataNumPerPage","Page","GetEQOptions","ret","SaveEQOptions","options","post","ConnectTest","conn_options","GetEQInfoByTag","tagID","SetAGVHandshakeIO","EQName","SignalName","State","encodeURIComponent","EmuAPI","ChargerAPI","charge_station_name","item","value","MapStore","getters","MapServerUrl","axios_entity_vms","vms_host","GetValidRegionOptions","then","catch","err","MapAPI","GetMapFromLocal","GetGeoMap","GetMapTags","ReloadMap","dispatch","GetAGVList","PathPlanByTag","from","to","GetMapStationTemplate","Regist","tag_number","Unregist","pointTypes","label","GetPointTypeNameByTypeNum","num","ptType","findLast","t","Query","option","GetSchedules","DeleteSchedule","time","agv_name","delete","AddNewMeasureSchedule","schedule","ModifyMeasureSchedule","Notifier","Success","msg","position","duration","showNotify","message","type","background","onclick","closeNotify","Primary","Danger","Warning","TaskQuery","ExecuteResultSelected","ActionTypeSelected","info","GetTasks","start","end","agvname","GetTrajectory","taskID","headers","clsMoveTaskData","to_tag","Priority","bypass_eq_status_check","format","Action","DesignatedAGVName","From_Station","From_Slot","To_Station","To_Slot","Carrier_ID","clsMeasureTaskData","bay_name","clsLoadTaskData","to_slot","cst_id","clsUnloadTaskData","clsChargeTaskData","clsExangeBatteryTaskData","clsParkTaskData","clsCarryTaskData","from_tag","from_slot","TaskAllocation","error","taskName","CallAPI","SaveHotRunSettings","GetHotRunSettings","StartHotRun","no","StopHotRun","path","user_param","userStore","UserName","status","GetUsers","JWTAuthorizationVal","Login","StoreToLocalStorage","er","Modify","users","Delete","user_name","Add","setItem","stringify","UserRouteChange","userID","route","backend_ws_host","replace","ws_path","ws_host","wssocket","closed_actived","previousWsState","WebSocket","CLOSED","bus","on","Close","startsWith","substr","ws_url","socket","onerror","ev","ReconnectWorker","onclose","oncloseHandler","onopen","onopenHandler","clearInterval","alive_check_timer","close","GetPointByIndex","index","points","MapData","Points","pt","pathColor","eq_station_icon","Icon","src","scale","anchor","size","opacity","color","charge_station_icon","rack_station_icon","rack_charge_station_icon","stocker_icon","lifter_icon","loc_icon","offset","normal_station_image","map_data","fillColor","stroke","Stroke","width","Enable","RegularShape","fill","Fill","radius","radius2","angle","Math","PI","IsVirtualPoint","IsAvoid","Circle","CreateLocIcon","coordinate","isStart","iconFeture","Feature","geometry","Point","setStyle","Style","image","GetStationStyle","text","station_type","textStyle","Text","font","offsetX","offsetY","CreateLocusPathStyles","styles","CreateStationPathStyles","feature","isEQLink","isPathClose","getGeometry","lineDash","coordinates","getCoordinates","forEachSegment","length","dx","dy","rotation","atan2","push","rotateWithView","CreateNewStationPointFeature","point_index","featureStatonType","station","clsMapStation","coordination","name","tag","graph","mapPtModel","MapPointModel","StationType","X","Y","Graph","Name","Display","TagNumber","CreateStationFeature","iconFeature","set","targets","routeFeature","clone","setGeometry","CreateEQLDULDFeature","mode","_coor","_style","backgroundFill","backgroundStroke","GetCargoIcon","cargo_type","exist","AGVCargoIconStyle","cargo_id","cst_exist","textAlign","ChangeCargoIcon","cargoStates","clsCargoStates","style","AGVPointStyle","padding","GetActionName","action","CargoStates","AGVOption","AGVNum","AGVDisplayOptions","clsAGVDisplay","AGVDisplays","AgvName","TextColor","initCoordination","navCoorList","CargoStatus","Tag","WaitingInfo","clsWaitingInfo","CurrentAction","AgvStates","clsAgvStates","Coordination","NavPathCoordinationList","is_executing_task","IsWaiting","Descrption","WaitingPoint","is_online","main_status","clsMap","Version","Note","PointIndex","Map_Image_Size","Map_Image_Boundary","BezierCurves","Pathes","Segments","Bays","Direction","Direction_Secondary_Point","AGV_Alarm","IsStandbyPoint","IsSegment","IsOverlap","IsParking","IsAutoDoor","IsExtinguishing","InvolvePoint","LsrMode","Speed","Bay","IsBezierCurvePoint","BezierCurveID","Target","DodgeMode","SpinMode","SubMap","AutoDoor","KeyName","KeyPassword","MotionInfo","ControlBypass","GroundHoleCCD","GroundHoleSensor","UltrasonicSensor","Region","IsCharge","IsEquipment","IsSTK","IsEQLink","IsCross","IsRegisted","RegistInfo","MapContextMenuOptions","title","backgroundColor","feature_type","point_data","show_task_dispatch","task_options","MenuUseTaskOption","StationSelectOptions","name_display","createStore","state","MapGeoJson","AGVDynamicPathInfo","ControledPathesBySystem","AGVLocUpload","agv_colors","worker","Worker","mapBackendServer","location","protocol","host","MapBackednAxios","axio","localStore","MapName","GeoMapData","MapStations","actions","mapDataSource","indexes","map_stations","forEach","mapStationData","parseInt","targetIndex","BaysData","AGVNavInfo","agv_nav_info","agv_num","agvDataLs","pathtags","nav_path","pathCoordinations","find","st","currentCoordication","cargo_status","currentLocation","theta","waiting_info","currentAction","states","_AGVOption","AllNormalStationOptions","values","filter","AllEqStation","AllChargeStation","AllExangeBatteryStation","AllParkingStationOptions","AllPointsOptions","ptData","mutations","setMapData","mapdata","setGeoMapData","setAGVDynamicPathInfo","setAGVLocUpload","setWorker","setControledPathesBySystem","commit","Save","GetMapPointByIndex","GetMapPointByTag","SaveMap","_data","UploadCoorFunctionSwitch","enabled","event","postMessage","command","mitt","vms_ws_host","class","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_Header","onOnMenuToggleClicked","$options","ToggleMenu","$data","loading","_component_SideMenu","_normalizeStyle","router_view_style","_component_router_view","Component","_createBlock","_KeepAlive","_resolveDynamicComponent","_component_b_modal","ShowOKOnlyModal","$event","okOnlyModalProps","centered","okOnly","headerBgVariant","title_variant","headerTextVariant","_toDisplayString","content","_component_MoveAGVNotifty","_component_ConnectionState","isNoPermission","_component_SideMenuDrawer","onClose","SideMenuCloseHandler","ref","alt","_component_el_drawer","show_draw","direction","CLoseEventHandle","_hoisted_2","onClick","_cache","PageSwitch","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","IsUserLogin","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","computed","IsLogin","methods","Show","emit","$emit","route_name","display_name","current_route","$router","currentRoute","setTimeout","route_display_name","mounted","__exports__","_component_el_tooltip","placement","Selected","height","icon_size","active_item","useRoute","watch","newValue","oldValue","modes","system_operation_mode","actived","_component_b_button","HandleAutoDispatchBtnClick","variant","current_route_info","_Fragment","_renderList","key","_component_el_switch","active_text","inactive_text","beforeChangeHandler","isEasyMode","onChange","HandleViewModeChanged","CheckUserLoginState","_component_el_popover","trigger","reference","_withCtx","default","LangSwitch","args","LoginClickHandler","LogoutQickly","_component_Login","_normalizeClass","system_alarms","_hoisted_16","_hoisted_17","_hoisted_18","system_alrm_text","_hoisted_19","current_user_role","ResetSysAlarmsHandler","NavigateToAlarmView","equipment_alarms","_hoisted_20","_hoisted_21","_hoisted_22","eq_alrm_text","_hoisted_23","showAlarm","_component_el_dialog","dialogVisible","modal","draggable","header","titleId","login_title","_component_el_divider","_component_el_form","_component_el_form_item","required","_component_b_form_input","autofocus","autocomplete","disabled","onKeyup","FocusPasswordInput","placeholder","PasswordEnterClickHandler","FocusAccountInput","Password","LogoutHandle","logouting","LoginHandle","logining","$props","keyboardClass","props","String","input","keyboard","Keyboard","onKeyPress","button","handleShift","currentLayout","layoutName","shiftToggle","setOptions","setInput","components","KeyBoard","focus_input","keyboard_input","ShowLogoutDialog","$refs","focus","Username","confirm","$swal","fire","icon","timer","$route","meta","isAdminUse","OnInputFocus","pw_input","_axios","GetFrontendOptions","GetOperationStates","RunMode","forecing_change","HostConnMode","HostOperationMode","TransferMode","maintain_mode","SysOptModeChangeRequest","transfer_mode","TransferModeChangeRequest","host_conn_mode","HostConnModeChangeRequest","host_operation_mode","HostOptModeChangeRequest","unchecked_alarms","level","username","toUpperCase","SystemAlarms","alarm","Source","EquipmentAlarms","DownloadSystemOperationsSettings","new_rotue","on_alarm_message","AlarmDisplayHandler","agv_type","station_data","showCancelButton","confirmButtonText","customClass","delay_ms","settings","agvs_settings_store","system_run_mode","host_online_mode","host_remote_mode","LogoClickHandler","isConfirmed","success","mode_req_text","ModeRequestSuccessHandler","ModeRequestFailHandler","force","isGodOrDevLogin","action1_text","action_1","hasActions","cancelButtonText","allowOutsideClick","$vs","notify","lang","$i18n","locale","CreateAlarmDisplayText","Time","AlarmCode","Equipment_Name","Description_Zh","Description_En","sys_alarm_inx","eq_alarm_inx","setInterval","sys_alarm","Level","eq_alarm","dynamic_style_setting","_Transition","squared","setup","zIndex","enable","Connections","connection","_component_el_tag","effect","connected","onDblclick","handleTimeDoubleClick","sys_time","ConnectionCheck","alive_check_ws","IsAnyAGVNeedToMOVE","_component_el_badge","NeedToMoveAGVNum","_component_el_button","HandleBtnClick","plain","_component_el_icon","_component_Warning","DialogVisible","_component_el_table","WattingAGVInfo","_component_el_table_column","prop","scope","GetCurrentLocInfoByTag","row","agv","alarm_type","isBatteryTemperatureHigh","isBatteryLowLevel","isDisconnection","Boolean","AGVAlarmItem","Header","AlarmDisplayVue","SideMenuDrawer","SideMenu","ConnectionState","MoveAGVNotifty","AGVAlarmMessageDisplay","showMenuToggleIcon","paddingTop","paddingRight","left","OpenLoading","side_menu","login_states","result","isOtherUserEditingMap","debounce","fn","delay","context","arguments","clearTimeout","apply","_ResizeObserver","ResizeObserver","callback","super","render","Modal","alert","static","app","config","globalProperties","$Modal","ShowOKModal","generateRandomUserID","characters","charactersLength","i","charAt","floor","random","user_id","agv_states_data_fetch_worker","d","agv_states_store","EqStore","worker2","worker_hotrun_data","worker_dynamic_traffic_data","ControledPathesByTraffic","idleTime","resetTimer","WebUserLogoutExipreTime","addEventListener","i18n","createI18n","legacy","fallbackLocale","messages","require","Sweetalert_options","confirmButtonColor","cancelButtonColor","createApp","App","$","install","mergedStore","store","use","VueApexCharts","Vuesax","router","BootstrapVue3","ElementPlus","VueSweetalert2","VueFinder","mount","_component_AGVStatusVue","_component_TaskStatusVue","_component_b_tabs","right_side_tabSelected","onActivateTab","TabActiveHandle","_component_b_tab","_component_HomeMap","_component_EQStatus","_component_TaskAllocationVue","IsEasyMode","_component_TaskDispatchNewUI","show_new_dispatch_panel","_component_TaskDispathActionButton","onOnTaskDispatch","onOnClick","_component_l_map","zoom","$setup","mapZoom","center","mapCenter","_component_l_geo_json","geojson","pointsGeoJson","pointsGeoJsonOptions","linesGeoJson","linesGeoJsonOptions","LMap","LTileLayer","LGeoJson","tileLayerUrl","features","properties","pointToLayer","latLng","L","divIcon","className","html","marker","weight","GetMapData","geoMapdata","PointsGeoJsonData","LinesGeoJsonData","visible","action_menu_visible","order_info_style","order_info_visible","_component_el_row","_component_el_col","span","selected_action_display","HandleCancelBtnClick","agv_select_row_class","HandleSelectAGVFromMapBtnClick","_component_el_select","selected_agv","AgvNameList","obj","_component_el_option","selected_action","source_select_row_class","HandleSelectSoureStationFromMapBtnClick","HandleFromSelectChanged","selected_source","FromStationOptions","destine_select_row_class","HandleSelectDestineStationFromMapBtnClick","selected_destine","DetermineDestinOptions","HandleConfirmBtnClicked","task_dispatch_btn_pushable","IsRunMode","IsDeveloper","SelectActionHandle","Cst_ID_Input","map_events_bus","agv_selected","station_selected","equipments_options","downstream_tags","IsDeveloperLogining","namelist","createdAgvNameOptions","AGVNameList","element","IsShowBackTo","current_progress","_action","IsAutoSelectAGV","EQStations","bay_names","bay_data","_agvOptions","_stations","HandleActionSelected","selectedStyle","borderRadius","off","is_reselecting_flag","action_type","_station_data","res","TaskDeliveryHandle","_destinTag","_sourceTag","_selected_agv","MoveTask","MeasureTask","LoadTask","UnloadTask","CarryTask","ExangeBatteryTask","ChargeTask","ParkTask","is_Unauthorized","mesage","showConfirmButton","source_tag","source_eq","eq","TagID","downstream_eq_names","ValidDownStreamEndPointNames","downstread_eq_options","includes","tags","_hoisted_46","_hoisted_48","Leave","HandleBackToPush","lastProgressDisplay","SelectAgvHandle","eq_stations","SelectSourceHandle","_hoisted_25","_hoisted_26","_hoisted_27","destine_stations","SelectDestineHandle","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","downstream_stations","source","_destines","destine","_currentProgress","moveable_stations","chargable_tags","_component_RegionsSelector","selected_region","display_mode","show_lduld_state","border","siz","display_data","fontWeight","eq_connection_status","HandleHSsignaleChange","HS_EQ_L_REQ","signalOn","HS_EQ_U_REQ","HS_EQ_READY","HS_EQ_UP_READY","HS_EQ_LOW_READY","_hoisted_24","HandleAGVHSSignaleChange","To_EQ_Up","To_EQ_Low","HS_AGV_VALID","HS_AGV_TR_REQ","_hoisted_28","HS_AGV_BUSY","HS_AGV_COMPT","LDULD_Emu_State_Switch","sortable","CopyText","align","GetMainStatusTagtype","IsConnected","GetMainStatusStr","GetTransferStatusTagtype","TransferStatus","GetTransferStatusStr","Port_Exist","column_width","Load_Request","Unload_Request","Eqp_Status_Down","EqType","Eqp_Status_Run","Eqp_Status_Idle","clipboard","Clipboard","ElNotification","destroy","RegionsSelector","previous_eq_data","eq_data","EQData","getElementsByClassName","eq_states","tagNumber","userStoreTest","rowIndex","isConnected","isLoadable","RegionSelectChanged","val","filterRegionData","column","SetState","EmuAllLoad","EQAllLoad","EmuAllBusy","EQAllBusy","eqname","signal_name","SetEQHsSignal","status_int","AGVStatusVue","TaskStatusVue","HomeMap","TaskAllocationVue","EQStatus","TaskDispathActionButton","TaskDispatchNewUI","tabIndex","active","_component_AGVBatterySetting","_component_UserManager","_component_ChargeStationView","_component_EQManager","_component_HotRUniew","_component_OperatieButtonSet","onSave","SaveSetting","onRestore","HandleRestoreBtnClicked","NewUser","AddNewUserDialogShow","UserData","_component_el_input","RoleOptions","role","DeleteUser","HandleAddNewUserClick","HandleSaveBtnClick","HandleRestoreBtnClick","OperatieButtonSet","OriginUserData","DownloadUsers","userDto","SaveAsOriginUserData","Message","SaveSettingHandler","AddNewEqHandler","ReloadSettingsHandler","fontSize","EqDatas","fixed","ValidName","min","onInput","HandleEqNameChange","HandleUseMapDataDisplayName","ValidTag","number","multiple","GetAvaluableEqNameList","eq_name","ConnOptions","ConnMethod","cell_item_size","ComPort","RemoveHandle","ConnectTestHandle","IOCheckBtnHandle","io_check_drawer","_ctx","selected_eq_io_data","EqDatas_Orignal","row_","others_row","same_tag_rows","same_name_row","selected_eq","expect_name","EqNames","datas","CloneEQDatas","DownloadEQOptions","remains","display_text","beforeRouteLeave","next","mapPoint","_name","newName","tagid","oriOptions","oriName","useOriNameOptionsList","_index","indexOf","ep","_component_el_tabs","charge_station_data","_component_el_tab_pane","GetTagType","ErrorCodes","error_code","Vin","Vout","Iout","precision","CC","HandleSettingBtnClick","CV","FV","TC","FormatTime","UpdateTime","DialogData","EqName","Item","SettingDialogVisible","_component_el_input_number","step","Value","HandleConfirmClick","ChargeStationData","select","setting_item","SetCurveSetting","swalIcon","hotRunScripts","finish_num","loop_num","action_drawer_visible","selected_script_name","selected_script_actions","comment","HandleStartBtnClick","HandleDeleteScript","titleClass","HandleSaveBtnClickInDrawer","action_move_up","action_move_down","GetOption","destine_tag","destine_name","HandleDeleteHotRunAction","moveable_tags","parkable_tags","stock_tags","bay_tags","action_data","move_element_up","move_element_down","arr","n","temp","splice","script","hot_run_states","HotRunStates","_script","script_exist","scr","deep","immediate","UserManager","EQManager","AGVBatterySetting","ChargeStationView","HotRUniew","activeTab","tabID","user_manager","tab","updateTabContent","$nextTick","_component_TaskQuery","_component_AlarmQuery","_component_AGVLocusDisplay","_component_InstrumentMeasureQuery","_component_AvalibilityQuery","_component_AvailabilityTimelineChart","GetTodayAvailability","StartDate","EndDate","_component_vue3_chart_js","myChart","onBeforeRender","beforeRenderLogic","Vue3ChartJs","ava_datas","Array","colorSet","labels","datasets","responsive","maintainAspectRatio","animations","tension","easing","loop","scales","plugins","legend","display","updateChart","chartRef","update","updateStackBarChart","days","dates","idle","run","down","charge","stack","neaData","colors","_component_apexchart","chartOptions","series","unknown","chart","dynamicAnimation","speed","dynamicUpdate","plotOptions","bar","horizontal","barHeight","xaxis","show","datetime","_series","updateSeries","BuildDataSeries","x","y","getTime","AvailabilityPieChart","AvailabilityTimelineChart","todayData","pause","FetchTodayDataAndRender","StopTimer","StartTimer","todayTimelineChart","RenderChart","model","_component_AGVSelector","_component_el_date_picker","QueryData","_component_el_radio_group","chart_type","HandleChartTypeChanged","_component_el_radio_button","_component_AvailabilityPieChart","AGVSelector","query_data","total","agvNameList","AlarmTypeSelected","AGVSelected","alarms","row_state_class_name","formatTime","Task_Name","_component_b_pagination","per_page_num","rows","PageChnageHandle","toISOString","substring","subtract","count","_time","payload","dat","tasks","RecieveTime","FinishTime","StateName","FailureReason","split","_component_CommonOptions","onOnQueryBtnClick","HandleQueryBtnClick","QueryResult","TotalDataNum","dataList","formatter","TimeFormatter","ResultFormatter","ValFormatter","OPTIONS","Results","list","CommonOptions","Options","cellValue","AvailbilitysData","AvalibilityQuery","AlarmQuery","AGVLocusDisplay","InstrumentMeasureQuery","is_user_login","sys_alarms","eq_alarms","OccurLocation","Duration","Checked","ResetAalrmMemberName","routes","component","HomeView","SystemSettings","DataVue","AlarmView","tsmc_routes","children","createRouter","history","createWebHistory","configs","setConfigs","SetConfig","agv_states","hotrun_states","AGVStatesData","storeAgvStates","setHotRunStates","sys_settings","operations","setOperations","setRunMode","setHostOnline","setHostRemote","setTransferRemote","web_user_id","setUser","setUserID","setRoute","server_reply","logout","WebUserID","locus","EQ","ChargeStation","setData","EQPData","selected","HandleSelectChanged","timePick","HandleSearchBtnClicked","tableData","GetNo","CalculatTimeSpend","ShowLocusHandler","_component_el_color_picker","HandleLocusSettingChange","locus_settings","_component_Map","editable","agv_show","station_show","locus_painting","Map","map_station_data","task_id","corrdinations","showing_row_data","SetDefaultTimeInterval","row_data","trajData","coordinations","ShowLocus","SaveLocusSettingsToLocalStroage","startTime","endTime","tasklist","locus_paint","ReloadLocusSettingsFromLocalStorage","settings_json","unix","Groups","group","group_name","HandleShowAGVInMapCenter","ShowOnlineStateChangeModal","AGV_Status_TagType","AGVStatusFormatter","_component_b_progress","max","animated","_component_b_progress_bar","BatteryClass","toFixed","Cst","connected_class","onRowClick","HandleRowClick","GetTransferProcessDescription","ShowTaskAllocationView","ShowAGVChargeConfirmDialog","_hoisted_47","ShowOnlineStateChange","onOk","SendOnlineStateChangeRequest","OnlineRequest","OfflineRequest","ShowChargeConfirmDialog","OnlineStatusReq","Online_Status","clsAgvStatus","current_online_status","online_text","ReturnCode","agv_status","Agv_Selected","AGVChargeTask","status_code","GetTaskRunStatusString","GetAGVStatusString","agv_data","agv_row_class","isCharging","AGVDatas","GetGroupName","group_enum","groups","uniqueGroups","Set","output","agvlist","AGV_Names","agv_name_list","agvData","canva_height","onOnTransferRequst","HandleTransferReq","task_dispatch_menu_show","eq_lduld_status_show","_component_CargoTransferDialog","show_dialog","source_station","isRunMode","autoSelectAGVName","selectedAGVName","CandicateEQOptions","_component_el_popconfirm","onConfirm","HandleTransferBtnClick","Transferable","GetNoTransferActionReason","InfoFilled","confirm_dialog_show","EQOptions","ShowDialog","opt","downstreamEqNames","eq_status_data","Up_Pose","Down_Pose","sourceTag","destineTag","agvName","CargoTransferDialog","navPathDisplayData","agvs_info","transfer_dialog","onClosed","HandleDrawerClosed","selectedAction","ActionChangeHandler","destinTag","TaskDeliveryBtnClickHandle","_component_el_checkbox","wait_task_confirm","onMousemove","MapMouseMoveHandler","only_view","_component_b_alert","Mode_Text","Tips","tip","hoverPointData","TooltipStyle","_component_b_form_group","NameDisplayChangeHandle","ariaDescribedby","_component_b_form_radio","display_selected","AGVDisplayChangeHandle","agv_display_mode_selected","map_name","reload_key","HideAllMenus","showTaskAllocationMenu","map_contextmenu_style","is_agv_feature_selected","current_select_agv_name","current_select_featureID","handleTaskAllocatModeMenuClick","showAGVMenu","_component_MapPointSettingDrawer","onOnPointSettingChanged","PointSettingChangedHandle","selectPathVisible","onCancel","PathesSelectedForDelete","RemovePathByPointsIndex","startStation_Index","endStation_Index","MapPointSettingDrawer","edit_mode","mode_selected","task_allocatable","show_agv","Number","selected_feature","mouse_click_coordinate","dynamic_traffic_data","AGVTrafficStates","path_plan_tags","contextMenu","agv_color_set","top","visibility","layer_index","station_line","eq_station","move_path","path_plan","mesh","stations","station_features","agvList","path_start_end","PathPlanLineStyle","pointStyle","GetPointFeatureInfo","featureID","getId","stationType","pointRawData","pointInfo","text_display","text_color","icon_stroke","polygonImg","circleImg","CircleStyle","EQ_Ints","STK_Ints","Charge_Ints","polyPoint","polyRotation","highlight","isEQ","isCharge","isSTK","isRegisted","GetImage","point_icon_style","pathStyle","IsPathClose","UnloadIconStyle","unload_icon","path_store","IsSelectAGVMode","IsSelectEQStationMode","FetchMap","unload_tags","SetFeatureHasUnloadReq","TrafficStateWsInit","feature_id","Station_Layer","getLayers","Line_Layer","AGV_Layer","Nav_Path_Layer","PathPlan_Layer","Mesh_Layer","tnum","UpdatePathPlanRender","getSource","clear","CreateLineFeaturesOfPath","addFeatures","changed","CreateLineFeaturesOfEachStaion","lineFeatures","start_tag","StartPoint","end_tag","EndPoint","startStation","endStation","startFeature","endFeature","lineFeature","LineString","setId","next_tag","current_station","next_station","AGVDisplayControl","setVisible","UpdatePointDisplay","pointData","SetPointFeatureIDByPointData","pt_index","Highlight","layer","AllUnHighlight","GetAllNormalPtFeature","GetAllEQPtFeature","GetAllChargePtFeature","GetAllParkPtFeature","HighlightControl","IsHighlight","UpdateRegistedPropery","RegistedPoints","agvTrafficInfo","agv_currentTag","CurrentPosition","Current_Tag","AGVStatus","IsOnline","UpdateAGVLayer","RemainNavTrajectory","UpdateNavPathRender","registed_point","registedTags","ft","Reload","MapDataInit","MapInitializeRender","get_agv_position","get_agv_position_byTag","current_tag","feature_","sf","GetNormalStations","GetLDULDableStations","lduldable_types","GetChargeStations","chargable_types","GetParkStations","pt_data","_tagID","_stationType","_feature","AddStation","target","layers","VectorLayer","VectorSource","view","View","CreateMapEvent","CreateMeshLayer","that","isEditMode","isEditPointMode","isRemovePointMode","isAddPointMode","isRemovePathMode","isAddPathMode","originalEvent","preventDefault","AddNewPoint","forEachFeatureAtPixel","pixel","isPathFeature","ShowPointSettingDrawer","RemovePath","RemovePoint","UpdatePathOfBetweenTags","dragInteraction","Pointer","handleDownEvent","coordinate_","handleDragEvent","deltaX","deltaY","translate","UpdateStationPathLayer","round","handleUpEvent","handleMoveEvent","getTargetElement","cursor","addInteraction","New_lineFeatures","start_","GetPointDataByFeature","end_","startPoint","endPoint","mesh_vectorSource","mesh_vectorLayer","gridStyle","extent","getView","getProjection","getExtent","gridInterval","gridLine","gridFeature","addFeature","addLayer","CreateAGVFeatures","agv_layer_source","agv_features","agv_nav_path_layer_source","agv_nav_path_features","GetAgvProp","av","HightlightAGV","heighlight","isOnline","agvProp","idx","agv_current_tag","agv_state","agv_prop_exist","Rotation","previous_tag","agv_position","agv_feature","agvIcon","nav_path_feature","findIndex","p","removeFeature","feat","isUnload","GetNewPointIndex","new_point","CloneAPointData","handleAGVMenuItemClick","ChangeFillColorOfFeature","fillStyle","GetLayerOfFeature","refresh","check_way","pathID","splited","revertPathIndex","GetPathIndex","path_index","startPt","endPt","sortedKeys","sort","a","b","lastKey","template","lastPoint","point","currentTag","layerName","getArray","path_vectorSource","path_vectorLayer","GetColor","agv_prop","MapShowVue","notify_dialog_show","notify_text","csts","exchanger_options","highlight_color","HighLightFeaturesByStationType","HandleNavPathPreviewBtnClick","destinName","MapStationClicked","MapPoint","_station_type","ShowSettingsDrawer","show_card_title","_component_RunningTaskTable","IncompletedTaskList","IncompletedTaskListTbData","_component_CompletedTaskTable","CompletedTaskList","CompletedTaskListTbData","HandleShowTrafficCkbChg","Settings","ShowTrafficTask","clsTaskState","task","DispatcherName","ACTIONS","MOVE","LOAD","UNLOAD","CHARGE","CARRY","RecieveTime_Formated","FinishTime_Formated","ActionName","row_class_name","GetTaskStateType","GetStationName","CancelTaskHandler","taskCancelable","state_code","showCancelTaskConfirm","cancelTaskName","MapPoints","task_name","SendCancelTaskRequest","Cancel","RunningTaskTable","CompletedTaskTable","defualt","WsInit","tk","parsedArray","incompleteds","completeds","CancelBtnClickHandle","SaveBtnClickHandle","_component_el_collapse","activeNames","_component_el_collapse_item","pointData_editing","BindingEQInfo","IsEQPoint","StationTypeOnChange","stationTypes","pt_type","HandleLaserModeInfoIconClick","HandleDodgeModeInfoIconClick","RegistersTable","HandleIndexSelected","pointsOptions","hasAnyChange","ori_","current_","potinFullName","ptObj","InitRegisterTableData","registersIndexes","RegistsPointIndexs","registedPointData","ResetRegistPointIndexData","CheckTagRepeat","_sameTagCount","point_Selected","_component_el_alert","SelectActionType","TransferDirection","HandlerSaveBtnClick","ClearMap","radio_group_style","EditorOption","EditMode","RestoreOriginalPathStyle","selected_path_feature","EditAction","PathEditTempStore","AddPathMode","left_tab_class_name","path_view_style","PathesSegmentsForEdit","HandlePathTbRowClick","GetPointName","StartPtIndex","EndPtIndex","HandlePathRemoveBtnClick","marginTop","onContextmenu","showContextMenu","MouseCoordinationDisplay","_component_MapSettingsDialog","station_name_display_mode","StationNameDisplayOptHandler","_component_el_radio","MapDisplayModeOptHandler","map_display_mode","AgvDisplayOptHandler","agv_display","map_image_display","SlamImageDisplayOptHandler","routePathsVisible","PathLayerForCoordination","PathLayerForRouter","HideNormalStations","agv_upload_coordination_mode","HandleAGVUploadCorrdinationChanged","_component_PointContextMenu","mouse_click_position","contextMenuTop","contextMenuLeft","contextMenuOptions","onOnTaskBtnClick","HandleMenuTaskBtnClick","onOnPtSettingBtnClick","HandlePtSettingBtnClick","editModeContextMenuVisible","onOnLeve","HandlePtSettingDrawerLeaved","_component_MapPathSettingDrawer","SettingsChangedHandler","SelectedPathData","HandlePathSetingDrawerClosed","ShowPathSelectDialog","PathesCandicats","path_setting","IsPassable","PathID","HandlePathSelected","menu_style","PathDataEdit","IsSingleCar","IsRotationable","IsExtinguishingPath","StartCoordination","EndCoordination","Function","PathData","mapname","QuicklyAction","MapSettingsDialog","PointContextMenu","MapPathSettingDrawer","agv_upload_coordi_data","zoom_route","center_route","IsPathEditing","_map_stations","ImageLayer","PointLayer","PointRouteLayer","EQLDULDStatusLayer","AGVLocLayer","AGVLocusLayer","CustomLayer","AGVFeatures","MouseCoordination","FeatureKeys","Station","IsDragging","IsAddPathMode","previousSelectedFeatures","taskDispatchContextMenuVisible","firstUseFlag","path_highlight_style","TextChangedOriFeatureStyle","map_img_extent","map_img_size","PathesSegments","previousSelectedFeature","StationPointsFeatures","getFeatures","AGVMapFeatures","ShowWarningNotify","path_data","path_source","path_feature","oriStyles","getStyle","path_coor","setCenter","ori_style","UpdateStationPointLayer","stationPointFeatures","stationPointFeatures_ForRouteShow","routeUseFeature","ptlayerSource","ptRouteLayerSource","UpdateEQLDULDFeature","source_coordination_mode","source_router_mode","path_feature_collection_coordinatino_mode","path_feature_collection_router_mode","pathSegments","setPathFeatureProperties","pathData","path_Feature_coordination_mode","path_feature_route_mode","eqLDULDFeatures","lduldFeature","EQLDULDStatusLayerSource","agv_information","agvfeatures","path_coordinations","pts","coor","cargo_icon_feature","getImage","setRotation","setImage","actionString","getText","agvText","setText","getBackgroundFill","setColor","setBackgroundFill","_agvfeature","_cargo_icon_feature","UpdateAGVLocByMapMode","agvfeature","currentStationFeature","InitMapEventHandler","this_vue","isRightClick","ClearSelectedFeature","_featureType","_agvname","GenNewIndexOfStation","HandleLDULDLabelClick","HighLightFeatureSelected","featureType","RemoveStation","PushPathEndPointData","OpenPath_editor","InsertPointAtPathes","is_editable","edit_action","oriData","newCoordinates","AddFeatureToMapLayers","ResetPathLinkOfRouteMode","ResetPathLinkOfCoordinationMode","SaveSettingsToLocalStorage","hide","normalPtFeatures","invisibleStyle","oriStyle","_oriStyle","getZoom","getCenter","RestoreSettingsFromLocalStorage","RemoveFeatureFromSource","_ptIndex","f","soure","path_data_reference","ptIndex","paths_to_remove","path_id","feature_to_remove","ptStation","bi_direction_remove","removed_path","pathIDSplited","startPtIndex","endPtIndex","mapPointModel","_reverse_path_id","_reverd_path_feature","_removed_pathes","removePathFeature","new_pt_coordinate","new_pt_feature","_removedPathes","stationFeatures","_startPtFeature1","_endPtFeature1","_startPtFeature2","_endPtFeature2","GenPath","CalculateNewPointRatioOfPathStart","_path","_startPt","_endPt","_start_coordination","_end_coordination","_new_coordination","totalDistance","sqrt","pow","distanceFromStart","_ratio","ResetNewPointCoordination","ratio","stationFeaturesOfCoordinationMode","_start_from","_end_to","_start_coord","_end_coord","newX","newY","remove","path_features","pathes","path_feat","path_featureFound","path_seq_data","ori_geo","ori_endCoord","newStartCoordinates","pathSeqmentData","ori_startCoord","newEndCoordinates","ResetPathLink","path_layer","lineStrings","reverse","start_end_features","startPointFeature","endPointFeature","startPtTagX","startPtTagY","endPtTagX","endPtTagY","startPointCoordinate","endPointCoordinate","midPoint","isEqLink","New_MapPath_V2","oritargets","startPtMapData","currentIndexes","fea","sorted","isShowSlamCoordi","GetMidPointOfCoordinationMode","GetMidPointOfRouterMode","map_stations_copy","first","last","mid_x","mid_y","displayName","coordinate_list","iconFeature_end","mapDataSave","removeEventListener","EditModeKeybordEvents","ptsetting","RefreshMap","DeepClonePathSegmentData","InitMap","projection","Projection","units","Static","imageExtent","imageSize","vectorSource","maxZoom","ResetMapCenterViaAGVLoc","newStyle","getStroke","newStroke","setStroke","HandleAGVUploadData","currentPtFeatures","coorInfo","existFeature","clientY","clientX","data_dto","ptdata","SettingPoints","_ptdata","_is_eq_link","pathes_with_start","pathes_with_end","highlight_station_type","ChangeLDULDStatus","ld_uld_state","status_text","RenderEQLDULDStatus","watch_eq_data_changed","toLowerCase","pathid","reverse_pathid","reverse_path_data","edited_path_settings","SetPathesAsBeControledStyle","path_ids","pathFeature","ChangeToSelectAGVMode","RestoredFillColorOfChangedFeature","ChangeFeaturesAsIgnoreStyle","ChangeToSelectEQStationMode","non_charge_features","charge_features","ChangeToNormalViewMode","_object","_tmp","oriImage","newImage","setOpacity","getFill","newfill","setFill","getElementById","newval","oldval","selectedRegion","handleChange","valid_map_regions_options","unshift","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","__proto__","ns","create","def","current","getOwnPropertyNames","definition","defineProperty","enumerable","chunkId","Promise","all","reduce","promises","u","miniCssF","g","globalThis","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","onScriptComplete","prev","onload","doneFns","parentNode","removeChild","bind","head","Symbol","toStringTag","nmd","paths","createStylesheet","fullhref","oldTag","reject","linkTag","rel","onLinkComplete","errorType","realHref","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}