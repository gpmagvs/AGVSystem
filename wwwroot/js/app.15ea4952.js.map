{"version":3,"file":"js/app.15ea4952.js","mappings":"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","sources":["webpack://gpm_agvs/./node_modules/moment/locale/ sync ^\\.\\/.*$","webpack://gpm_agvs/./src/ViewModels/clsAGVStateDto.js","webpack://gpm_agvs/./src/api/AlarmAPI.js","webpack://gpm_agvs/./src/api/AuthHelper.js","webpack://gpm_agvs/./src/api/Common/clsQueryOptions.js","webpack://gpm_agvs/./src/api/EquipmentAPI.js","webpack://gpm_agvs/./src/api/MapAPI.js","webpack://gpm_agvs/./src/api/MeasureResultAPI.js","webpack://gpm_agvs/./src/api/NotifyHelper.js","webpack://gpm_agvs/./src/api/TaskAPI.js","webpack://gpm_agvs/./src/api/TaskAllocation.js","webpack://gpm_agvs/./src/api/UserAPI.js","webpack://gpm_agvs/./src/api/WebSocketHepler.js","webpack://gpm_agvs/./src/components/Map/mapjs.js","webpack://gpm_agvs/./src/components/Map/store/index.js","webpack://gpm_agvs/./src/event-bus.js","webpack://gpm_agvs/./src/gpm_param.js","webpack://gpm_agvs/./src/App.vue","webpack://gpm_agvs/./src/views/SideMenuDrawer.vue","webpack://gpm_agvs/./src/views/SideMenuDrawer.vue?7623","webpack://gpm_agvs/./src/views/SideMenu.vue","webpack://gpm_agvs/./src/views/SideMenu.vue?4785","webpack://gpm_agvs/./src/components/App/Header.vue","webpack://gpm_agvs/./src/views/Login.vue","webpack://gpm_agvs/./src/components/Tools/SimpleKeyboard.vue","webpack://gpm_agvs/./src/components/Tools/SimpleKeyboard.vue?0c7a","webpack://gpm_agvs/./src/views/Login.vue?240b","webpack://gpm_agvs/./src/api/SystemAPI.js","webpack://gpm_agvs/./src/components/App/Header.vue?0451","webpack://gpm_agvs/./src/components/App/AlarmDisplay.vue","webpack://gpm_agvs/./src/components/App/AlarmDisplay.vue?abde","webpack://gpm_agvs/./src/components/App/ConnectionState.vue","webpack://gpm_agvs/./src/components/App/ConnectionState.vue?f772","webpack://gpm_agvs/./src/components/Traffic/MoveAGVNotify.vue","webpack://gpm_agvs/./src/components/Traffic/MoveAGVNotify.vue?eade","webpack://gpm_agvs/./src/components/App/AGVAlarmUI/AGVAlarmMessageDisplay.vue","webpack://gpm_agvs/./src/components/App/AGVAlarmUI/AGVAlarmItem.vue","webpack://gpm_agvs/./src/components/App/AGVAlarmUI/AGVAlarmItem.vue?befc","webpack://gpm_agvs/./src/components/App/AGVAlarmUI/AGVAlarmMessageDisplay.vue?2de3","webpack://gpm_agvs/./src/App.vue?7ccd","webpack://gpm_agvs/./src/components/ModalHelper.js","webpack://gpm_agvs/./src/BackendDataFetchWorker.js","webpack://gpm_agvs/./src/idling_detector.js","webpack://gpm_agvs/./src/main.js","webpack://gpm_agvs/./src/views/HomeView.vue","webpack://gpm_agvs/./src/components/NavMap/AGVMap.vue","webpack://gpm_agvs/./src/components/NavMap/AGVMap.vue?fbbe","webpack://gpm_agvs/./src/components/TaskDispathActionButton.vue","webpack://gpm_agvs/./src/components/TaskDispathActionButton.vue?233f","webpack://gpm_agvs/./src/components/TaskDispatchNewUI.vue","webpack://gpm_agvs/./src/components/TaskDispatchNewUI.vue?491f","webpack://gpm_agvs/./src/components/HomeView/EQStatus.vue","webpack://gpm_agvs/./src/api/Common/UtilityTools.js","webpack://gpm_agvs/./src/components/HomeView/EQStatus.vue?59de","webpack://gpm_agvs/./src/views/HomeView.vue?1da1","webpack://gpm_agvs/./src/views/SystemSettings.vue","webpack://gpm_agvs/./src/components/SystemSettings/UserManager.vue","webpack://gpm_agvs/./src/components/SystemSettings/OperatieButtonSet.vue","webpack://gpm_agvs/./src/components/SystemSettings/OperatieButtonSet.vue?32bf","webpack://gpm_agvs/./src/components/SystemSettings/UserManager.vue?a50e","webpack://gpm_agvs/./src/components/SystemSettings/EquipmentManager.vue","webpack://gpm_agvs/./src/components/SystemSettings/EquipmentManager.vue?cb5c","webpack://gpm_agvs/./src/components/SystemSettings/AGVBatterySetting.vue","webpack://gpm_agvs/./src/components/SystemSettings/AGVBatterySetting.vue?85b9","webpack://gpm_agvs/./src/views/ChargeStation/ChargeStationHomeView.vue","webpack://gpm_agvs/./src/views/ChargeStation/ChargeStationHomeView.vue?60d7","webpack://gpm_agvs/./src/views/HotRun.vue","webpack://gpm_agvs/./src/views/HotRun.vue?cf1c","webpack://gpm_agvs/./src/views/SystemSettings.vue?c758","webpack://gpm_agvs/./src/views/DataView.vue","webpack://gpm_agvs/./src/components/DataView/AvailbilitysData.vue","webpack://gpm_agvs/./src/api/AvailabilitysAPI.js","webpack://gpm_agvs/./src/components/Availabilitys/AvailabilityPieChart.vue","webpack://gpm_agvs/./src/components/Availabilitys/AvailabilityPieChart.vue?4003","webpack://gpm_agvs/./src/components/Availabilitys/AvailabilityTimelineChart.vue","webpack://gpm_agvs/./src/components/Availabilitys/AvailabilityTimelineChart.vue?dd8e","webpack://gpm_agvs/./src/components/DataView/AvailbilitysData.vue?2e87","webpack://gpm_agvs/./src/components/DataView/AvalibilityQuery.vue","webpack://gpm_agvs/./src/components/DataView/AvalibilityQuery.vue?4e88","webpack://gpm_agvs/./src/components/DataView/AlarmQuery.vue","webpack://gpm_agvs/./src/components/DataView/AlarmQuery.vue?42b8","webpack://gpm_agvs/./src/components/DataView/TaskQuery.vue","webpack://gpm_agvs/./src/components/DataView/TaskQuery.vue?dad7","webpack://gpm_agvs/./src/components/DataView/InstrumentMeasureQuery.vue","webpack://gpm_agvs/./src/components/DataView/CommonOptions.vue","webpack://gpm_agvs/./src/components/DataView/CommonOptions.vue?1a49","webpack://gpm_agvs/./src/components/DataView/InstrumentMeasureQuery.vue?5a07","webpack://gpm_agvs/./src/views/DataView.vue?ef81","webpack://gpm_agvs/./src/views/AlarmView.vue","webpack://gpm_agvs/./src/views/AlarmView.vue?caea","webpack://gpm_agvs/./src/router/index.js","webpack://gpm_agvs/./src/store/index.js","webpack://gpm_agvs/./src/components/AGVSelector.vue","webpack://gpm_agvs/./src/components/AGVSelector.vue?53df","webpack://gpm_agvs/./src/components/DataView/AGVLocus.vue","webpack://gpm_agvs/./src/components/DataView/AGVLocus.vue?0f5a","webpack://gpm_agvs/./src/components/HomeView/AGVStatus/AGVStatus.vue","webpack://gpm_agvs/./src/api/VMSAPI.js","webpack://gpm_agvs/./src/components/HomeView/AGVStatus/AGVStatus.vue?1b4c","webpack://gpm_agvs/./src/components/HomeView/HomeMap.vue","webpack://gpm_agvs/./src/components/HomeView/CargoTransferDialog.vue","webpack://gpm_agvs/./src/components/HomeView/CargoTransferDialog.vue?22e4","webpack://gpm_agvs/./src/components/HomeView/HomeMap.vue?a32e","webpack://gpm_agvs/./src/components/HomeView/TaskAllocation.vue","webpack://gpm_agvs/./src/components/MapShow.vue","webpack://gpm_agvs/./src/components/MapShow.vue?ca63","webpack://gpm_agvs/./src/components/HomeView/TaskAllocation.vue?9f53","webpack://gpm_agvs/./src/components/HomeView/TaskStatus.vue","webpack://gpm_agvs/./src/ViewModels/TaskState.js","webpack://gpm_agvs/./src/components/TaskStatus/RunningTaskTable.vue","webpack://gpm_agvs/./src/components/TaskStatus/TaskStatus.js","webpack://gpm_agvs/./src/components/TaskStatus/RunningTaskTable.vue?e373","webpack://gpm_agvs/./src/components/TaskStatus/CompletedTaskTable.vue","webpack://gpm_agvs/./src/components/TaskStatus/CompletedTaskTable.vue?64e9","webpack://gpm_agvs/./src/components/HomeView/TaskStatus.vue?f942","webpack://gpm_agvs/./src/components/MapPointSettingDrawer.vue","webpack://gpm_agvs/./src/components/MapPointSettingDrawer.vue?7432","webpack://gpm_agvs/./src/components/Map/Map.vue","webpack://gpm_agvs/./src/components/Map/MapSettingsDialog.vue","webpack://gpm_agvs/./src/components/Map/MapSettingsDialog.vue?0ec8","webpack://gpm_agvs/./src/components/Map/MapContextMenu.vue","webpack://gpm_agvs/./src/components/Map/MapContextMenu.vue?0778","webpack://gpm_agvs/./src/components/Map/MapPathSettingDrawer.vue","webpack://gpm_agvs/./src/components/Map/MapPathSettingDrawer.vue?53c9","webpack://gpm_agvs/./src/components/Map/MapRegionEditDrawer.vue","webpack://gpm_agvs/./src/components/Map/MapRegionEditDrawer.vue?5a93","webpack://gpm_agvs/./src/components/Map/QuicklyActionMenu.vue","webpack://gpm_agvs/./src/components/Map/QuicklyActionMenu.vue?935c","webpack://gpm_agvs/./src/components/Map/Map.vue?cdf4","webpack://gpm_agvs/./src/components/RegionsSelector.vue","webpack://gpm_agvs/./src/components/RegionsSelector.vue?3c9b","webpack://gpm_agvs/webpack/bootstrap","webpack://gpm_agvs/webpack/runtime/chunk loaded","webpack://gpm_agvs/webpack/runtime/compat get default export","webpack://gpm_agvs/webpack/runtime/create fake namespace object","webpack://gpm_agvs/webpack/runtime/define property getters","webpack://gpm_agvs/webpack/runtime/ensure chunk","webpack://gpm_agvs/webpack/runtime/get javascript chunk filename","webpack://gpm_agvs/webpack/runtime/get mini-css chunk filename","webpack://gpm_agvs/webpack/runtime/global","webpack://gpm_agvs/webpack/runtime/hasOwnProperty shorthand","webpack://gpm_agvs/webpack/runtime/load script","webpack://gpm_agvs/webpack/runtime/make namespace object","webpack://gpm_agvs/webpack/runtime/node module decorator","webpack://gpm_agvs/webpack/runtime/publicPath","webpack://gpm_agvs/webpack/runtime/css loading","webpack://gpm_agvs/webpack/runtime/jsonp chunk loading","webpack://gpm_agvs/webpack/startup"],"sourcesContent":["var map = {\n\t\"./af\": 63906,\n\t\"./af.js\": 63906,\n\t\"./ar\": 40902,\n\t\"./ar-dz\": 3853,\n\t\"./ar-dz.js\": 3853,\n\t\"./ar-kw\": 20299,\n\t\"./ar-kw.js\": 20299,\n\t\"./ar-ly\": 96825,\n\t\"./ar-ly.js\": 96825,\n\t\"./ar-ma\": 66379,\n\t\"./ar-ma.js\": 66379,\n\t\"./ar-sa\": 87700,\n\t\"./ar-sa.js\": 87700,\n\t\"./ar-tn\": 2059,\n\t\"./ar-tn.js\": 2059,\n\t\"./ar.js\": 40902,\n\t\"./az\": 76043,\n\t\"./az.js\": 76043,\n\t\"./be\": 7936,\n\t\"./be.js\": 7936,\n\t\"./bg\": 34078,\n\t\"./bg.js\": 34078,\n\t\"./bm\": 14014,\n\t\"./bm.js\": 14014,\n\t\"./bn\": 29554,\n\t\"./bn-bd\": 17114,\n\t\"./bn-bd.js\": 17114,\n\t\"./bn.js\": 29554,\n\t\"./bo\": 6529,\n\t\"./bo.js\": 6529,\n\t\"./br\": 65437,\n\t\"./br.js\": 65437,\n\t\"./bs\": 19647,\n\t\"./bs.js\": 19647,\n\t\"./ca\": 59951,\n\t\"./ca.js\": 59951,\n\t\"./cs\": 26113,\n\t\"./cs.js\": 26113,\n\t\"./cv\": 37965,\n\t\"./cv.js\": 37965,\n\t\"./cy\": 35858,\n\t\"./cy.js\": 35858,\n\t\"./da\": 33515,\n\t\"./da.js\": 33515,\n\t\"./de\": 62831,\n\t\"./de-at\": 6263,\n\t\"./de-at.js\": 6263,\n\t\"./de-ch\": 51127,\n\t\"./de-ch.js\": 51127,\n\t\"./de.js\": 62831,\n\t\"./dv\": 4510,\n\t\"./dv.js\": 4510,\n\t\"./el\": 68616,\n\t\"./el.js\": 68616,\n\t\"./en-au\": 24595,\n\t\"./en-au.js\": 24595,\n\t\"./en-ca\": 73545,\n\t\"./en-ca.js\": 73545,\n\t\"./en-gb\": 79609,\n\t\"./en-gb.js\": 79609,\n\t\"./en-ie\": 43727,\n\t\"./en-ie.js\": 43727,\n\t\"./en-il\": 93302,\n\t\"./en-il.js\": 93302,\n\t\"./en-in\": 46305,\n\t\"./en-in.js\": 46305,\n\t\"./en-nz\": 39128,\n\t\"./en-nz.js\": 39128,\n\t\"./en-sg\": 84569,\n\t\"./en-sg.js\": 84569,\n\t\"./eo\": 50650,\n\t\"./eo.js\": 50650,\n\t\"./es\": 26358,\n\t\"./es-do\": 64214,\n\t\"./es-do.js\": 64214,\n\t\"./es-mx\": 38639,\n\t\"./es-mx.js\": 38639,\n\t\"./es-us\": 30232,\n\t\"./es-us.js\": 30232,\n\t\"./es.js\": 26358,\n\t\"./et\": 47279,\n\t\"./et.js\": 47279,\n\t\"./eu\": 15515,\n\t\"./eu.js\": 15515,\n\t\"./fa\": 27981,\n\t\"./fa.js\": 27981,\n\t\"./fi\": 37090,\n\t\"./fi.js\": 37090,\n\t\"./fil\": 79208,\n\t\"./fil.js\": 79208,\n\t\"./fo\": 2799,\n\t\"./fo.js\": 2799,\n\t\"./fr\": 23463,\n\t\"./fr-ca\": 2213,\n\t\"./fr-ca.js\": 2213,\n\t\"./fr-ch\": 52848,\n\t\"./fr-ch.js\": 52848,\n\t\"./fr.js\": 23463,\n\t\"./fy\": 41468,\n\t\"./fy.js\": 41468,\n\t\"./ga\": 88163,\n\t\"./ga.js\": 88163,\n\t\"./gd\": 2898,\n\t\"./gd.js\": 2898,\n\t\"./gl\": 76312,\n\t\"./gl.js\": 76312,\n\t\"./gom-deva\": 20682,\n\t\"./gom-deva.js\": 20682,\n\t\"./gom-latn\": 49178,\n\t\"./gom-latn.js\": 49178,\n\t\"./gu\": 31400,\n\t\"./gu.js\": 31400,\n\t\"./he\": 52795,\n\t\"./he.js\": 52795,\n\t\"./hi\": 17009,\n\t\"./hi.js\": 17009,\n\t\"./hr\": 46506,\n\t\"./hr.js\": 46506,\n\t\"./hu\": 69565,\n\t\"./hu.js\": 69565,\n\t\"./hy-am\": 93864,\n\t\"./hy-am.js\": 93864,\n\t\"./id\": 5626,\n\t\"./id.js\": 5626,\n\t\"./is\": 36649,\n\t\"./is.js\": 36649,\n\t\"./it\": 90151,\n\t\"./it-ch\": 95348,\n\t\"./it-ch.js\": 95348,\n\t\"./it.js\": 90151,\n\t\"./ja\": 79830,\n\t\"./ja.js\": 79830,\n\t\"./jv\": 33751,\n\t\"./jv.js\": 33751,\n\t\"./ka\": 63365,\n\t\"./ka.js\": 63365,\n\t\"./kk\": 85980,\n\t\"./kk.js\": 85980,\n\t\"./km\": 99571,\n\t\"./km.js\": 99571,\n\t\"./kn\": 25880,\n\t\"./kn.js\": 25880,\n\t\"./ko\": 16809,\n\t\"./ko.js\": 16809,\n\t\"./ku\": 96773,\n\t\"./ku.js\": 96773,\n\t\"./ky\": 65505,\n\t\"./ky.js\": 65505,\n\t\"./lb\": 50553,\n\t\"./lb.js\": 50553,\n\t\"./lo\": 51237,\n\t\"./lo.js\": 51237,\n\t\"./lt\": 91563,\n\t\"./lt.js\": 91563,\n\t\"./lv\": 61057,\n\t\"./lv.js\": 61057,\n\t\"./me\": 96495,\n\t\"./me.js\": 96495,\n\t\"./mi\": 83096,\n\t\"./mi.js\": 83096,\n\t\"./mk\": 43874,\n\t\"./mk.js\": 43874,\n\t\"./ml\": 46055,\n\t\"./ml.js\": 46055,\n\t\"./mn\": 87747,\n\t\"./mn.js\": 87747,\n\t\"./mr\": 17113,\n\t\"./mr.js\": 17113,\n\t\"./ms\": 8687,\n\t\"./ms-my\": 7948,\n\t\"./ms-my.js\": 7948,\n\t\"./ms.js\": 8687,\n\t\"./mt\": 14532,\n\t\"./mt.js\": 14532,\n\t\"./my\": 4655,\n\t\"./my.js\": 4655,\n\t\"./nb\": 56961,\n\t\"./nb.js\": 56961,\n\t\"./ne\": 2512,\n\t\"./ne.js\": 2512,\n\t\"./nl\": 48448,\n\t\"./nl-be\": 72936,\n\t\"./nl-be.js\": 72936,\n\t\"./nl.js\": 48448,\n\t\"./nn\": 49031,\n\t\"./nn.js\": 49031,\n\t\"./oc-lnc\": 5174,\n\t\"./oc-lnc.js\": 5174,\n\t\"./pa-in\": 30118,\n\t\"./pa-in.js\": 30118,\n\t\"./pl\": 93448,\n\t\"./pl.js\": 93448,\n\t\"./pt\": 33518,\n\t\"./pt-br\": 62447,\n\t\"./pt-br.js\": 62447,\n\t\"./pt.js\": 33518,\n\t\"./ro\": 70817,\n\t\"./ro.js\": 70817,\n\t\"./ru\": 10262,\n\t\"./ru.js\": 10262,\n\t\"./sd\": 58990,\n\t\"./sd.js\": 58990,\n\t\"./se\": 43842,\n\t\"./se.js\": 43842,\n\t\"./si\": 37711,\n\t\"./si.js\": 37711,\n\t\"./sk\": 80756,\n\t\"./sk.js\": 80756,\n\t\"./sl\": 3772,\n\t\"./sl.js\": 3772,\n\t\"./sq\": 6187,\n\t\"./sq.js\": 6187,\n\t\"./sr\": 40732,\n\t\"./sr-cyrl\": 75713,\n\t\"./sr-cyrl.js\": 75713,\n\t\"./sr.js\": 40732,\n\t\"./ss\": 99455,\n\t\"./ss.js\": 99455,\n\t\"./sv\": 69770,\n\t\"./sv.js\": 69770,\n\t\"./sw\": 80959,\n\t\"./sw.js\": 80959,\n\t\"./ta\": 36459,\n\t\"./ta.js\": 36459,\n\t\"./te\": 25302,\n\t\"./te.js\": 25302,\n\t\"./tet\": 67975,\n\t\"./tet.js\": 67975,\n\t\"./tg\": 71294,\n\t\"./tg.js\": 71294,\n\t\"./th\": 2385,\n\t\"./th.js\": 2385,\n\t\"./tk\": 24613,\n\t\"./tk.js\": 24613,\n\t\"./tl-ph\": 58668,\n\t\"./tl-ph.js\": 58668,\n\t\"./tlh\": 58190,\n\t\"./tlh.js\": 58190,\n\t\"./tr\": 74506,\n\t\"./tr.js\": 74506,\n\t\"./tzl\": 63440,\n\t\"./tzl.js\": 63440,\n\t\"./tzm\": 69852,\n\t\"./tzm-latn\": 42350,\n\t\"./tzm-latn.js\": 42350,\n\t\"./tzm.js\": 69852,\n\t\"./ug-cn\": 70730,\n\t\"./ug-cn.js\": 70730,\n\t\"./uk\": 40099,\n\t\"./uk.js\": 40099,\n\t\"./ur\": 72100,\n\t\"./ur.js\": 72100,\n\t\"./uz\": 96002,\n\t\"./uz-latn\": 26322,\n\t\"./uz-latn.js\": 26322,\n\t\"./uz.js\": 96002,\n\t\"./vi\": 14207,\n\t\"./vi.js\": 14207,\n\t\"./x-pseudo\": 24674,\n\t\"./x-pseudo.js\": 24674,\n\t\"./yo\": 10570,\n\t\"./yo.js\": 10570,\n\t\"./zh-cn\": 73644,\n\t\"./zh-cn.js\": 73644,\n\t\"./zh-hk\": 22591,\n\t\"./zh-hk.js\": 22591,\n\t\"./zh-mo\": 89503,\n\t\"./zh-mo.js\": 89503,\n\t\"./zh-tw\": 88080,\n\t\"./zh-tw.js\": 88080\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;","/**AGV狀態ViewModel */\r\nclass clsAGVStateDto {\r\n  constructor(dto) {\r\n    if (dto == undefined) {\r\n      this.AGV_Name = ''\r\n      this.AGV_Description = ''\r\n      this.Model = ''\r\n      this.MainStatus = 0\r\n      this.OnlineStatus = 0\r\n      this.CurrentLocation = ''\r\n      this.CurrentCarrierID = ''\r\n      this.BatteryLevel_1 = 0\r\n      this.BatteryLevel_2 = 0\r\n      this.TaskName = ''\r\n      this.TaskRunStatus = 0\r\n      this.TaskRunAction = 0\r\n      this.Theta = 0\r\n      this.Connected = false\r\n      this.StationName = ''\r\n      this.Group = 0\r\n      this.IsCharging = false\r\n      this.IP = '127.0.0.1'\r\n      this.Port = 7025\r\n      this.TaskSourceStationName = \"\"\r\n      this.TaskDestineStationName = \"\"\r\n      this.TransferProcess = 0\r\n      this.OrderAction = 0\r\n      this.TaskETA = \"\"\r\n    } else {\r\n      this.AGV_Name = dto.AGV_Name\r\n      this.AGV_Description = dto.AGV_Description\r\n      this.Model = dto.Model\r\n      this.MainStatus = dto.MainStatus\r\n      this.OnlineStatus = dto.OnlineStatus\r\n      this.CurrentLocation = dto.CurrentLocation\r\n      this.CurrentCarrierID = dto.CurrentCarrierID\r\n      this.BatteryLevel_1 = dto.BatteryLevel_1\r\n      this.BatteryLevel_2 = dto.BatteryLevel_2\r\n      this.TaskName = dto.TaskName\r\n      this.TaskRunStatus = dto.TaskRunStatus\r\n      this.TaskRunAction = dto.TaskRunAction\r\n      this.Theta = dto.Theta\r\n      this.Connected = dto.Connected\r\n      this.StationName = dto.StationName\r\n      this.Group = dto.Group\r\n      this.IsCharging = dto.IsCharging\r\n      this.IP = dto.IP\r\n      this.Port = dto.Port\r\n      this.TaskSourceStationName = dto.TaskSourceStationName\r\n      this.TaskDestineStationName = dto.TaskDestineStationName\r\n      this.TransferProcess = dto.TransferProcess\r\n      this.OrderAction = dto.OrderAction\r\n      this.TaskETA = dto.TaskETA\r\n    }\r\n  }\r\n}\r\n\r\nexport default clsAGVStateDto\r\n","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nimport WebSocketHelp from './WebSocketHepler'\r\n\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n})\r\n\r\n/**復歸系統警報 */\r\nexport async function ResetSystemAlarm() {\r\n  return await axios_entity.get(`/api/Alarm/SystemAlarmReset`)\r\n}\r\n\r\n/**復歸設備警報 */\r\nexport async function ResetEquipmentAlarm() {\r\n  return await axios_entity.get(`/api/Alarm/EquipmentAlarmReset`)\r\n}\r\n\r\n/**警報查詢 */\r\nexport async function QueryAlarm(currentpage, start_time, end_time, AGV_Name = 'ALL', TaskName = 'ALL', AlarmType = \"ALL\") {\r\n  var retquery = await axios_entity.get(`/api/Alarmquery/QueryAlarm?currentpage=${currentpage}&StartTime=${start_time}&EndTime=${end_time}&AGV_Name=${AGV_Name}&TaskName=${TaskName}&AlarmType=${AlarmType}`)\r\n  return retquery.data;\r\n}\r\n/**輸出CSV */\r\nexport async function SaveTocsv(start_time, end_time, AGV_Name = 'ALL', TaskName = 'ALL') {\r\n  const response = await axios_entity.get(`/api/Alarmquery/SaveTocsv?StartTime=${start_time}&EndTime=${end_time}&AGV_Name=${AGV_Name}&TaskName=${TaskName}`, { responseType: 'blob', });\r\n  const url = window.URL.createObjectURL(new Blob([response.data]));\r\n  const link = document.createElement('a');\r\n  link.href = url;\r\n  let fileName = `AGVS_Alarms_From_${start_time}_To_${end_time}.csv`\r\n  link.setAttribute('download', fileName); // 設定下載檔案的名稱\r\n  document.body.appendChild(link);\r\n  link.click();\r\n}\r\n\r\nexport class AlarmHelper {\r\n  constructor(onmessage = (evt) => { }) {\r\n    this.onmessageHandler = onmessage\r\n    var _alarm_ws = new WebSocketHelp('/UncheckedAlarm')\r\n    _alarm_ws.Connect()\r\n    _alarm_ws.onmessage = onmessage\r\n  }\r\n}\r\n","import moment from 'moment'\r\n// 在每次請求中包含驗證 token\r\nexport const getAuthHeaders = () => {\r\n  const user = localStorage.getItem('user')\r\n  if (user) {\r\n    const user_info = JSON.parse(user)\r\n    return { Authorization: `Bearer ${user_info.token}` }\r\n  }\r\n  return {}\r\n}\r\nexport const getJWTAuthorizationVal = () => {\r\n  const user_state = GetUserStateFromLS()\r\n  if (user_state) {\r\n    return `Bearer ${user_state.token}`\r\n  }\r\n  return ''\r\n}\r\n\r\nexport function ClearLoginCookie() {\r\n  localStorage.removeItem('user')\r\n}\r\n\r\nclass LastLoginState {\r\n  constructor(isLogin, login_info) {\r\n    this.isLogin = isLogin\r\n    this.login_info = login_info\r\n  }\r\n}\r\n\r\nexport function IsLoginLastTime() {\r\n  const user_state = GetUserStateFromLS()\r\n  if (user_state) {\r\n    return new LastLoginState(\r\n      user_state.Role != 0 && IsExpires() == false,\r\n      user_state,\r\n    )\r\n  } else return new LastLoginState(false, null)\r\n}\r\n\r\n/**是否過期 */\r\nexport function IsExpires() {\r\n  const user_state = GetUserStateFromLS()\r\n  if (user_state) {\r\n    var loginTime = moment(user_state.LoginTime).add(1, 'day')\r\n    var isExpire = Date.now() > loginTime\r\n    console.log(isExpire)\r\n    return isExpire\r\n  } else return true\r\n}\r\nfunction GetUserStateFromLS() {\r\n  const user_json_str = localStorage.getItem('user')\r\n  if (user_json_str) {\r\n    const user_state = JSON.parse(user_json_str)\r\n    return user_state\r\n  }\r\n}\r\n","/**資料查詢通用參數 */\r\nclass clsQueryOptions {\r\n    constructor() {\r\n        this.AGVName = \"ALL\";\r\n        this.Result = 0; //0 Success,1 Fail, 2 ALL\r\n        this.StartTimeStr = \"\";\r\n        this.EndTimeStr = \"\";\r\n        this.DataNumPerPage = 15;\r\n        this.Page = 1;\r\n    }\r\n}\r\nexport default clsQueryOptions","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\n\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n})\r\n\r\n/**GetEQSettings */\r\nexport async function GetEQOptions() {\r\n  var ret = await axios_entity.get(`/api/Equipment/GetEQOptions`)\r\n  return ret.data;\r\n}\r\n/**GetEQSettings */\r\nexport async function GetWIPOptions() {\r\n  var ret = await axios_entity.get(`/api/Equipment/GetWIPOptions`)\r\n  return ret.data;\r\n}\r\n/**GetEQSettings */\r\nexport async function SaveEQOptions(options) {\r\n  var ret = await axios_entity.post(`/api/Equipment/SaveEQOptions`, options)\r\n  return ret.data;\r\n}\r\n\r\n/**通訊測試 */\r\nexport async function ConnectTest(conn_options) {\r\n  var ret = await axios_entity.post(`/api/Equipment/ConnectTest`, conn_options)\r\n  return ret.data;\r\n}\r\n\r\nexport async function GetEQInfoByTag(tagID) {\r\n  var ret = await axios_entity.get(`/api/Equipment/GetEQInfoByTag?Tag=${tagID}`)\r\n  return ret.data;\r\n}\r\nexport async function SetAGVHandshakeIO(EQName, SignalName, State) {\r\n  var url = `/api/Equipment/AgvHsSignal?EqName=${encodeURIComponent(EQName)}&SignalName=${encodeURIComponent(SignalName)}&State=${State}`; //避免帶有特殊符號的時候字串參數會不完整\r\n  var ret = await axios_entity.post(url)\r\n  return ret.data;\r\n}\r\n/**設備模擬器API */\r\nexport const EmuAPI = {\r\n\r\n  /**設定為Load狀態 */\r\n  async SetState(EQName, State) {\r\n    var url = `/api/Equipment/Emu/State?EqName=${encodeURIComponent(EQName)}&State=${State}`; //避免帶有特殊符號的時候字串參數會不完整\r\n    var ret = await axios_entity.get(url)\r\n    return ret.data;\r\n  },\r\n  /**設定所有EQ為Load狀態 */\r\n  async EQAllLoad() {\r\n    var url = `/api/Equipment/Emu/AllLoad`;\r\n    var ret = await axios_entity.get(url)\r\n    return ret.data;\r\n  },\r\n  /**設定所有EQ為Busy狀態 */\r\n  async EQAllBusy() {\r\n    var url = `/api/Equipment/Emu/AllBusy`;\r\n    var ret = await axios_entity.get(url)\r\n    return ret.data;\r\n  },\r\n\r\n  async SetEQHsSignal(EQName, SignalName, State) {\r\n    var url = `/api/Equipment/Emu/HsSignal?EqName=${encodeURIComponent(EQName)}&SignalName=${encodeURIComponent(SignalName)}&State=${State}`; //避免帶有特殊符號的時候字串參數會不完整\r\n    var ret = await axios_entity.get(url)\r\n    return ret.data;\r\n  }\r\n\r\n}\r\n\r\nexport const RackEmuAPI = {\r\n  async SetSensorState(rack_name, port_id, cargo_type, sensor_number, state) {\r\n    var url = `/api/WIPEmu/SetSensorState?rack_id=${rack_name}&port_id=${port_id}&cargo_type=${cargo_type}&sensor_number=${sensor_number}&state=${state}`;\r\n    var ret = await axios_entity.get(url)\r\n    return ret.data;\r\n  }\r\n}\r\n\r\n\r\nexport const ChargerAPI = {\r\n  async SetCurveSetting(charge_station_name, item, value) {\r\n    var url = `/api/Equipment/ChargeStation/Settings?EqName=${encodeURIComponent(charge_station_name)}&Item=${encodeURIComponent(item)}&Value=${value}`; //避免帶有特殊符號的時候字串參數會不完整\r\n    var ret = await axios_entity.get(url)\r\n    return ret.data\r\n  }\r\n}","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nimport { MapStore } from '@/components/Map/store'\r\nvar axios_entity = axios.create({\r\n  baseURL: MapStore.getters.MapServerUrl,\r\n})\r\nvar axios_entity_vms = axios.create({\r\n  baseURL: param.vms_host,\r\n})\r\n\r\n\r\n/**從服務器取得區域選項 */\r\nexport async function GetValidRegionOptions() {\r\n  return await axios_entity\r\n    .get('api/Map/RegionOptions')\r\n    .then((ret) => {\r\n      var data = ret.data;\r\n      MapStore.commit('RegionOptions', data)\r\n      return data\r\n    })\r\n    .catch((err) => {\r\n      return undefined\r\n    })\r\n}\r\n\r\n\r\nconst MapAPI = {\r\n  GetMapFromLocal() {\r\n    return axios_entity\r\n      .get('api/Map')\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  GetGeoMap() {\r\n    return axios_entity\r\n      .get('api/Map/GeoMapJson')\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  GetMapTags() {\r\n    return axios_entity\r\n      .get('api/Map/Tags')\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  ReloadMap() {\r\n    return axios_entity\r\n      .get('api/Map/ReloadMap')\r\n      .then((ret) => {\r\n        MapStore.dispatch('DownloadMapData');\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  GetAGVList() {\r\n    return axios_entity\r\n      .get(`api/Map/AGVList`)\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  PathPlanByTag(from, to) {\r\n    return axios_entity\r\n      .get(`api/Map/PathPlan?fromTag=${from}&toTag=${to}`)\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  GetMapStationTemplate() {\r\n    return axios_entity\r\n      .get('api/Map/MapPointTemplate')\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  Regist(tag_number) {\r\n    return axios_entity_vms\r\n      .get(`api/Map/Regist?Tag_Number=${tag_number}`)\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  },\r\n  Unregist(tag_number) {\r\n    return axios_entity_vms\r\n      .get(`api/Map/Unregist?Tag_Number=${tag_number}`)\r\n      .then((ret) => {\r\n        return ret.data\r\n      })\r\n      .catch((err) => {\r\n        return undefined\r\n      })\r\n  }\r\n}\r\n\r\n/**站點 */\r\nexport const pointTypes = [\r\n  {\r\n    label: 'Normal',\r\n    value: 0\r\n  },\r\n  {\r\n    label: 'EQ',\r\n    value: 1\r\n  },\r\n  {\r\n    label: 'STK',\r\n    value: 2\r\n  },\r\n  {\r\n    label: 'Charge',\r\n    value: 3\r\n  },\r\n  {\r\n    label: 'Buffer',\r\n    value: 4\r\n  },\r\n  {\r\n    label: 'Charge & Buffer',\r\n    value: 5\r\n  },\r\n  {\r\n    label: ' Charge & STK',\r\n    value: 6\r\n  },\r\n  {\r\n    label: 'Escape',\r\n    value: 8\r\n  },\r\n  {\r\n    label: 'EQ_LD',\r\n    value: 11\r\n  },\r\n  {\r\n    label: 'STK_LD',\r\n    value: 12\r\n  },\r\n  {\r\n    label: 'EQ_ULD',\r\n    value: 21\r\n  },\r\n  {\r\n    label: 'STK_ULD',\r\n    value: 22\r\n  },\r\n  {\r\n    label: 'Fire Door',\r\n    value: 31\r\n  },\r\n  {\r\n    label: 'Fire EQ',\r\n    value: 32\r\n  },\r\n  {\r\n    label: 'Auto Door',\r\n    value: 33\r\n  },\r\n  {\r\n    label: 'Elevator',\r\n    value: 100\r\n  },\r\n  {\r\n    label: 'Elevator',\r\n    value: 201\r\n  },\r\n  {\r\n    label: 'Elevator_LD',\r\n    value: 201\r\n  },\r\n  {\r\n    label: 'Elevator_ULD',\r\n    value: 221\r\n  },\r\n  {\r\n    label: 'Repair',\r\n    value: 110\r\n  },\r\n]\r\n\r\nexport function GetPointTypeNameByTypeNum(num) {\r\n  var ptType = pointTypes.findLast(t => t.value == num);\r\n  if (ptType)\r\n    return ptType.label\r\n  else\r\n    return num + '';\r\n}\r\n\r\n\r\nexport default MapAPI\r\n","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nimport clsQueryOptions from './Common/clsQueryOptions';\r\nvar axios_entity = axios.create({\r\n    baseURL: param.backend_host,\r\n})\r\n\r\n\r\n/**查詢儀器量測結果 */\r\nexport async function Query(option = clsQueryOptions) {\r\n    var response = await axios_entity.post('/api/InstrumentMeasure', option);\r\n    return response.data;\r\n}\r\n\r\n/**取得排程量測資料 */\r\nexport async function GetSchedules() {\r\n    var response = await axios_entity.get('/api/InstrumentMeasure/GetMeasureSchedules');\r\n    return response.data;\r\n}\r\n/**刪除排程 */\r\nexport async function DeleteSchedule(time, agv_name) {\r\n    var response = await axios_entity.delete(`/api/InstrumentMeasure/DeleteSchedule?time=${time}&agv_name=${agv_name}`);\r\n    return response.data;\r\n}\r\n/**新增排程量測 */\r\nexport async function AddNewMeasureSchedule(schedule) {\r\n    var response = await axios_entity.post('/api/InstrumentMeasure/AddNewMeasureSchedule', schedule);\r\n    return response.data;\r\n}\r\n/**修改量測排程 */\r\nexport async function ModifyMeasureSchedule(time, agv_name, schedule) {\r\n    var response = await axios_entity.post(`/api/InstrumentMeasure/ModifyMeasureSchedule?time=${time}&agv_name=${agv_name}`, schedule);\r\n    return response.data;\r\n}\r\n","import { showNotify, closeNotify } from 'vant'\r\nimport 'vant/es/toast/style'\r\nimport 'vant/es/notify/style'\r\n\r\nlet Notifier = {\r\n  Success(msg, position = 'bottom', duration = 3000) {\r\n    showNotify({\r\n      message: msg,\r\n      position: position,\r\n      type: 'success',\r\n      duration: duration,\r\n      background: 'rgba(7, 193, 96, 0.9)',\r\n      onclick: () => {\r\n        closeNotify()\r\n      },\r\n    })\r\n  },\r\n  Primary(msg, position = 'top', duration = 3000) {\r\n    showNotify({\r\n      message: msg,\r\n      position: position,\r\n      type: 'primary',\r\n      duration: duration,\r\n      onclick: () => {\r\n        closeNotify()\r\n      },\r\n    })\r\n  },\r\n\r\n  Danger(msg, position = 'top', duration = 3000) {\r\n    showNotify({\r\n      message: msg,\r\n      position: position,\r\n      type: 'danger',\r\n      duration: duration,\r\n      onclick: () => {\r\n        closeNotify()\r\n      },\r\n    })\r\n  },\r\n  Warning(msg, position = 'top', duration = 3000) {\r\n    showNotify({\r\n      message: msg,\r\n      position: position,\r\n      type: 'warning',\r\n      duration: duration,\r\n\r\n      onclick: () => {\r\n        closeNotify()\r\n      },\r\n    })\r\n  },\r\n}\r\n\r\nexport default Notifier\r\n","import axios from 'axios';\r\nimport param from '@/gpm_param';\r\n\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n})\r\n/*任務歷史查詢*/\r\nexport async function TaskQuery(currentpage, start_time, end_time, AGV_Name = 'ALL', TaskName = 'ALL', ExecuteResultSelected = \"ALL\", ActionTypeSelected = \"ALL\") {\r\n  var retquery = await axios_entity.get(`/api/TaskQuery/TaskQuery?currentpage=${currentpage}&StartTime=${start_time}&EndTime=${end_time}&AGV_Name=${AGV_Name}&TaskName=${TaskName}&Result=${ExecuteResultSelected}&ActionType=${ActionTypeSelected}`)\r\n\r\n  console.info(retquery.data)\r\n  return retquery.data;\r\n}\r\n/**輸出CSV */\r\nexport async function SaveTocsv(start_time, end_time, AGV_Name = 'ALL', TaskName = 'ALL') {\r\n  const response = await axios_entity.get(`/api/TaskQuery/SaveTocsv?StartTime=${start_time}&EndTime=${end_time}&AGV_Name=${AGV_Name}&TaskName=${TaskName}`)\r\n  const url = window.URL.createObjectURL(new Blob([response.data]));\r\n  const link = document.createElement('a');\r\n  link.href = url;\r\n  link.setAttribute('download', 'TaskQuery.csv'); // 設定下載檔案的名稱\r\n  document.body.appendChild(link);\r\n  link.click();\r\n}\r\n/**查詢任務 */\r\n\r\nexport async function GetTasks(start, end, agvname) {\r\n  var ret = await axios_entity.get(`/api/TaskQuery/GetTasks?agv_name=${agvname}&start=${start}&end=${end}`)\r\n  return ret.data;\r\n}\r\n\r\nexport async function GetTrajectory(taskID) {\r\n  var ret = await axios_entity.get(`/api/TaskQuery/GetTrajectory?taskID=${taskID}`)\r\n  return ret.data;\r\n}\r\n","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nimport moment from 'moment'\r\nimport { getAuthHeaders } from './AuthHelper'\r\nimport { userStore } from '@/store'\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n  headers: {},\r\n})\r\n\r\nexport class clsMoveTaskData {\r\n  constructor(agv_name, to_tag, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `Move_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 0\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = '-1'\r\n    this.Carrier_ID = '-1'\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\n\r\nexport class clsMeasureTaskData {\r\n  constructor(agv_name, bay_name, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `Measure_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 6\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = bay_name\r\n    this.To_Slot = '-1'\r\n    this.Carrier_ID = '-1'\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\nexport class clsLoadTaskData {\r\n  constructor(agv_name, to_tag, to_slot, cst_id, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `Load_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 7\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = to_slot + ''\r\n    this.Carrier_ID = cst_id\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\n\r\nexport class clsUnloadTaskData {\r\n  constructor(agv_name, to_tag, to_slot, cst_id, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `Unload_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 1\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = to_slot + ''\r\n    this.Carrier_ID = cst_id\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\n\r\nexport class clsChargeTaskData {\r\n  constructor(agv_name, to_tag, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `Charge_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 8\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = '-1'\r\n    this.Carrier_ID = '-1'\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\n\r\nexport class clsExangeBatteryTaskData {\r\n  constructor(agv_name, to_tag, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `BatEx_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 14\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = '-1'\r\n    this.Carrier_ID = '-1'\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\nexport class clsParkTaskData {\r\n  constructor(agv_name, to_tag, Priority = 50, bypass_eq_status_check = false) {\r\n    this.TaskName = `Park_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 12\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = '-1'\r\n    this.From_Slot = '-1'\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = '-1'\r\n    this.Carrier_ID = '-1'\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\n\r\nexport class clsCarryTaskData {\r\n  constructor(\r\n    agv_name,\r\n    from_tag,\r\n    from_slot,\r\n    to_tag,\r\n    to_slot,\r\n    cst_id,\r\n    Priority = 50, bypass_eq_status_check = false\r\n  ) {\r\n    this.TaskName = `Local_${moment(Date.now()).format('yyMMDD_HHmmssSSS')}`\r\n    this.Action = 9\r\n    this.DesignatedAGVName = agv_name\r\n    this.From_Station = from_tag + ''\r\n    this.From_Slot = from_slot + ''\r\n    this.To_Station = to_tag + ''\r\n    this.To_Slot = to_slot + ''\r\n    this.Carrier_ID = cst_id\r\n    this.Priority = Priority\r\n    this.bypass_eq_status_check = bypass_eq_status_check\r\n  }\r\n}\r\n\r\nexport var TaskAllocation = {\r\n  async Task() {\r\n    axios_entity\r\n      .get(`/api/Task/Allocation`, { headers: getAuthHeaders() })\r\n      .then((response) => {\r\n        console.log('Response:', response.data)\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error:', error)\r\n      })\r\n  },\r\n  async Cancel(taskName) {\r\n    try {\r\n      var ret = await axios_entity.get(`/api/Task/Cancel?task_name=${taskName}`, {\r\n        headers: getAuthHeaders(),\r\n      })\r\n      return ret.data;\r\n    } catch (err) {\r\n      throw err\r\n    }\r\n  },\r\n  async MoveTask(clsMoveTaskData = new clsMoveTaskData('agv', 1)) {\r\n    return await CallAPI('/api/Task/Move', clsMoveTaskData)\r\n  },\r\n  /**量測任務 */\r\n  async MeasureTask(clsMeasureTaskData = new clsMeasureTaskData('agv', 1)) {\r\n    return await CallAPI('/api/Task/Measure', clsMeasureTaskData)\r\n  },\r\n  async LoadTask(clsLoadTaskData = new clsLoadTaskData('agv', 1, 1, 'CST_ID')) {\r\n    return await CallAPI('/api/Task/Load', clsLoadTaskData)\r\n  },\r\n  async UnloadTask(clsUnloadTaskData = new clsUnloadTaskData('agv', 1, 1, 'CST_ID')) {\r\n    return await CallAPI('/api/Task/Unload', clsUnloadTaskData)\r\n  },\r\n  async CarryTask(clsCarryTaskData) {\r\n    return await CallAPI('/api/Task/Carry', clsCarryTaskData)\r\n  },\r\n  async ChargeTask(clsChargeTaskData) {\r\n    return await CallAPI('/api/Task/Charge', clsChargeTaskData)\r\n  },\r\n  async ExangeBatteryTask(clsExangeBatteryTaskData) {\r\n    return await CallAPI('/api/Task/ExangeBattery', clsExangeBatteryTaskData)\r\n  },\r\n  async ParkTask(clsChargeTaskData) {\r\n    return await CallAPI('/api/Task/Park', clsChargeTaskData)\r\n  },\r\n}\r\nexport async function SaveHotRunSettings(data) {\r\n  var response = await axios_entity.post('/api/Task/HotRun', data)\r\n  return response.data;\r\n}\r\nexport async function GetHotRunSettings() {\r\n  var response = await axios_entity.get('/api/Task/HotRun')\r\n  return response.data;\r\n}\r\n\r\nexport async function StartHotRun(no) {\r\n  var response = await axios_entity.get(`/api/Task/HotRun/Start?no=${no}`)\r\n  return response.data;//{confirm,message}\r\n}\r\n\r\nexport async function StopHotRun(no) {\r\n  var response = await axios_entity.get(`/api/Task/HotRun/Stop?no=${no}`)\r\n}\r\nasync function CallAPI(path, data) {\r\n  var user_param = `?user=${userStore.getters.UserName}`\r\n  path += user_param;\r\n  return axios_entity\r\n    .post(path, data, { headers: getAuthHeaders() })\r\n    .then((response) => {\r\n      console.log('Response:', response.data)\r\n      return {\r\n        status: response.status,\r\n        data: response.data,\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      console.error('Error:', error)\r\n      return {\r\n        status: error.response.status,\r\n        data: error.response.data,\r\n        message: error.message\r\n      }\r\n    })\r\n}\r\n","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nimport { getAuthHeaders, getJWTAuthorizationVal } from './AuthHelper'\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n})\r\n\r\nexport async function GetUsers() {\r\n  const JWTAuthorizationVal = getJWTAuthorizationVal()\r\n  var headers = {}\r\n  headers['Authorization'] = JWTAuthorizationVal\r\n  var ret = await axios_entity.get('api/Auth/Users', {\r\n    headers: headers,\r\n  })\r\n  return ret.data\r\n}\r\n\r\nexport async function Login(user) {\r\n  try {\r\n    var ret = await axios_entity.post('api/Auth/login', user)\r\n    console.info(ret)\r\n    StoreToLocalStorage(ret.data)\r\n    return ret.data\r\n  } catch (er) {\r\n    return er.response.data\r\n  }\r\n}\r\n\r\nexport async function Modify(users) {\r\n  const JWTAuthorizationVal = getJWTAuthorizationVal()\r\n  var headers = {}\r\n  headers['Authorization'] = JWTAuthorizationVal\r\n  var ret = await axios_entity.post('api/Auth/modify', users, {\r\n    headers: headers,\r\n  })\r\n  return ret.data\r\n}\r\n\r\n/**刪除用戶 */\r\nexport async function Delete(user_name) {\r\n  var ret = await axios_entity.delete(`api/Auth/Delete?user_name=${user_name}`)\r\n  return ret.data\r\n}\r\n\r\n/**新增用戶 */\r\nexport async function Add(user) {\r\n  var ret = await axios_entity.post(`api/Auth/Add`, user)\r\n  return ret.data\r\n}\r\n\r\nexport function StoreToLocalStorage(user) {\r\n  user.LoginTime = Date.now()\r\n  localStorage.setItem('user', JSON.stringify(user))\r\n}\r\n\r\n/**向後端回報路由跳轉狀態 */\r\nexport async function UserRouteChange(userID, route) {\r\n  var ret = await axios_entity.get(`api/Auth/UserRouteChange?userID=${userID}&current_route=${route}`)\r\n  return ret.data\r\n}\r\n\r\n","import param from '@/gpm_param'\r\nimport bus from '@/event-bus'\r\nvar backend_ws_host = param.backend_host.replace('http', 'ws')\r\n\r\nclass WebSocketHelp {\r\n  constructor(ws_path, ws_host) {\r\n    this.wssocket = null\r\n    this.closed_actived = false\r\n    this.previousWsState = WebSocket.CLOSED\r\n    bus.on('/ws_force_close', () => {\r\n      this.Close()\r\n    })\r\n\r\n    if (ws_path.startsWith('/')) {\r\n      ws_path = ws_path.substr(1)\r\n    }\r\n    this.ws_path = ws_path\r\n    if (ws_host == undefined) {\r\n      this.ws_url = `${backend_ws_host}/${this.ws_path}`\r\n    } else {\r\n      this.ws_url = `${ws_host}/${this.ws_path}`\r\n    }\r\n  }\r\n\r\n  Connect() {\r\n    const socket = new WebSocket(`${this.ws_url}`)\r\n\r\n    socket.onerror = (ev) => {\r\n      console.info(`Try Connect to : ${this.ws_url} ON ＥＲＲＯＲ FAIL`)\r\n    }\r\n    this.wssocket = socket\r\n\r\n  }\r\n  /**重新連線 */\r\n  ReconnectWorker() {\r\n    this.wssocket = new WebSocket(`${this.ws_url}`)\r\n    this.wssocket.onmessage = this.onmessageHandler\r\n    this.wssocket.onclose = this.oncloseHandler\r\n    this.wssocket.onopen = this.onopenHandler\r\n  }\r\n\r\n  Close() {\r\n    this.closed_actived = true\r\n    clearInterval(this.alive_check_timer)\r\n    if (this.wssocket) {\r\n      this.wssocket.close()\r\n    }\r\n  }\r\n\r\n  set onerror(ev) {\r\n    this.onopenHandler = ev\r\n    this.wssocket.onerror = ev\r\n  }\r\n  get onerror() {\r\n    return this.wssocket.onerror\r\n  }\r\n\r\n  set onclose(ev) {\r\n    this.oncloseHandler = ev\r\n    this.wssocket.onclose = ev\r\n  }\r\n  get onclose() {\r\n    return this.wssocket.onclose\r\n  }\r\n\r\n  set onopen(ev) {\r\n    this.onopenHandler = ev\r\n    this.wssocket.onopen = ev\r\n  }\r\n  get onopen() {\r\n    return this.wssocket.onopen\r\n  }\r\n\r\n\r\n  set onmessage(ev) {\r\n    this.onmessageHandler = ev\r\n    this.wssocket.onmessage = ev\r\n  }\r\n  get onmessage() {\r\n    return this.wssocket.onmessage\r\n  }\r\n\r\n\r\n}\r\n\r\nexport default WebSocketHelp\r\n","\r\nimport { Circle, Fill, Icon, Stroke, Style, Text, RegularShape } from 'ol/style.js';\r\nimport Point from 'ol/geom/Point.js';\r\nimport { Polygon } from 'ol/geom';\r\nimport Feature from 'ol/Feature';\r\nimport { Rectangle } from 'leaflet';\r\nimport { MapStore } from './store';\r\n\r\n\r\n/**根據Index取得點位物件 */\r\nexport function GetPointByIndex(index) {\r\n    var points = MapStore.getters.MapData.Points;\r\n    var pt = points[index]\r\n    if (pt) {\r\n        return pt;\r\n    } else {\r\n        return {}\r\n    }\r\n}\r\n\r\n/**階乘 */\r\nfunction factorial(num) {\r\n    if (num <= 1) {\r\n        return 1;\r\n    } else {\r\n        return num * factorial(num - 1);\r\n    }\r\n}\r\n\r\n/*\r\n * 生成贝塞尔曲线插值点\r\n * @para n {number} 控制点数量\r\n * @para arrPoints {array} 控制点坐标集合\r\n */\r\nexport function createBezierCurvePoints(n = 1, arrPoints = [Point]) {\r\n\r\n    var Ptx = 0;\r\n    var Pty = 0;\r\n\r\n    var arrbline = [];\r\n    for (var t = 0; t < 1; t = t + 0.01) {\r\n        Ptx = 0;\r\n        Pty = 0;\r\n        for (var i = 0; i <= n; i++) {\r\n            Ptx += (factorial(n) / (factorial(i) * factorial(n - i))) * Math.pow((1 - t), n - i) * Math.pow(t, i) * arrPoints[i][0];\r\n            Pty += (factorial(n) / (factorial(i) * factorial(n - i))) * Math.pow((1 - t), n - i) * Math.pow(t, i) * arrPoints[i][1];\r\n        }\r\n        arrbline.push([Ptx, Pty]);\r\n    }\r\n\r\n    return arrbline;\r\n}\r\n\r\n\r\nconst station_colors = {\r\n    normal: 'orange',\r\n    eq: 'lightblue',\r\n    charge: 'yellow',\r\n    stk: 'lime'\r\n}\r\n\r\n/**路徑顏色 */\r\n\r\nvar pathColor = 'rgb(222,222,222)';\r\n\r\nexport function SetPathColor(color) {\r\n    pathColor = color;\r\n}\r\n\r\nfunction eq_station_icon(image) {\r\n    return new Icon({\r\n        src: image == '' ? '/images/eq-icon.png' : image, // 设置PNG图像的路径\r\n        scale: 0.45,\r\n        anchor: [0.5, 0.5],\r\n        size: [64, 64],\r\n        opacity: 1,\r\n        color: 'transparent',\r\n\r\n    })\r\n}\r\n\r\nfunction charge_station_icon(image) {\r\n    return new Icon({\r\n        src: image == '' ? '/images/charging-station.png' : image, // 设置PNG图像的路径\r\n        scale: 0.5,\r\n        anchor: [0.5, 0.5],\r\n        size: [64, 64],\r\n        opacity: 1,\r\n        color: 'transparent'\r\n\r\n    })\r\n}\r\n\r\nfunction rack_station_icon(image) {\r\n    return new Icon({\r\n        src: image == '' ? '/images/rack.png' : image, // 设置PNG图像的路径\r\n        scale: 0.45,\r\n        anchor: [0.5, 0.5],\r\n        size: [64, 64],\r\n        opacity: 1,\r\n        color: 'white'\r\n    })\r\n}\r\n\r\n\r\nfunction rack_charge_station_icon(image) {\r\n    return new Icon({\r\n        src: image == '' ? '/images/rack_charge_station.png' : image, // 设置PNG图像的路径\r\n        scale: 0.5,\r\n        anchor: [0.5, 0.5],\r\n        size: [64, 64],\r\n        opacity: 1,\r\n        color: 'yellow'\r\n    })\r\n\r\n}\r\n\r\nfunction stocker_icon(image) {\r\n    return new Icon({\r\n        src: image == '' ? '/images/stk_.jpg' : image, // 设置PNG图像的路径\r\n        scale: 0.45,\r\n        anchor: [0.5, 0.5],\r\n        size: [64, 64],\r\n        opacity: 1,\r\n        color: 'white'\r\n    })\r\n}\r\n\r\nfunction lifter_icon(image) {\r\n    return new Icon({\r\n        src: image == '' ? '/images/lifter_icon.png' : image, // 设置PNG图像的路径\r\n        scale: 0.35,\r\n        anchor: [0.5, 0.5],\r\n        size: [128, 128],\r\n        opacity: 1,\r\n        color: 'white'\r\n    })\r\n}\r\n\r\nconst loc_icon = new Icon({\r\n    src: '/images/location.png', // 设置PNG图像的路径\r\n    offset: [-25, -5],\r\n    scale: 0.5,\r\n    size: [180, 180]\r\n\r\n})\r\n\r\nconst source_station_mark = new Icon({\r\n    src: '/images/location.png', // 设置PNG图像的路径\r\n    offset: [-120, -40],\r\n    scale: 0.6,\r\n    size: [300, 300]\r\n})\r\n\r\n/**一般點位 */\r\nfunction normal_station_image(map_data = {}) {\r\n    var fillColor = 'orange'\r\n    const stroke = new Stroke({ color: 'black', width: 2 });\r\n\r\n    if (map_data) {\r\n        if (!map_data.Enable) {\r\n            return new RegularShape({\r\n                fill: new Fill({\r\n                    color: 'red',\r\n                }),\r\n                stroke: new Stroke({ color: 'red', width: 2 }),\r\n                points: 4,\r\n                radius: 10,\r\n                radius2: 0,\r\n                angle: Math.PI / 4,\r\n            })\r\n        } else {\r\n\r\n            if (map_data.IsVirtualPoint) {\r\n                fillColor = 'grey'\r\n            } else {\r\n                fillColor = 'orange'\r\n            }\r\n            if (map_data.IsAvoid) {\r\n                return new RegularShape({\r\n                    fill: new Fill({\r\n                        color: 'orange',\r\n                    }),\r\n                    stroke: stroke,\r\n                    points: 3,\r\n                    radius: 6,\r\n                    angle: 0,\r\n                })\r\n            }\r\n        }\r\n\r\n    }\r\n    return new Circle({\r\n        radius: 4,\r\n        fill: new Fill({\r\n            color: fillColor,\r\n        }),\r\n        stroke: stroke,\r\n    })\r\n}\r\n\r\nexport function CreateTransTaskMark(coordinate, text = '') {\r\n    let iconFeture = new Feature({\r\n        geometry: new Point(coordinate),\r\n    })\r\n    iconFeture.setStyle(new Style({\r\n        image: source_station_mark,\r\n        text: new Text({\r\n            text: text,\r\n            font: 'bold 18px Calibri,sans-serif',\r\n            offsetX: -7,\r\n            offsetY: -82,\r\n            fill: new Fill({\r\n                color: 'gold'\r\n            }),\r\n            stroke: new Stroke({\r\n                color: 'black',\r\n                width: 2,\r\n            }),\r\n            backgroundFill: new Fill({\r\n                color: 'black'\r\n            })\r\n        })\r\n    }))\r\n    return iconFeture;\r\n}\r\nexport function CreateLocIcon(coordinate, isStart = true, text = '') {\r\n    let iconFeture = new Feature({\r\n        geometry: new Point(coordinate),\r\n    })\r\n    iconFeture.setStyle(new Style({\r\n        image: isStart ? loc_icon : loc_icon,\r\n        text: new Text({\r\n            text: text,\r\n            font: 'bold 16px Calibri,sans-serif',\r\n            offsetX: 14,\r\n            offsetY: -22,\r\n            fill: new Fill({\r\n                color: 'gold'\r\n            }),\r\n            stroke: new Stroke({\r\n                color: 'black',\r\n                width: 2,\r\n            }),\r\n        })\r\n    }))\r\n    return iconFeture;\r\n}\r\n\r\nexport function GetStationStyle(text = '', station_type = 0, map_data) {\r\n    var image = normal_station_image(map_data)\r\n\r\n    if (station_type == 0) {\r\n        image = normal_station_image(map_data)\r\n    }\r\n    else if (station_type == 1) {\r\n        image = eq_station_icon(map_data.Graph.ImageName)\r\n    }\r\n    else if (station_type == 2 || station_type == 12 || station_type == 22) {\r\n        image = stocker_icon(map_data.Graph.ImageName)\r\n    }\r\n    else if (station_type == 4) {\r\n        image = rack_station_icon(map_data.Graph.ImageName)\r\n    }\r\n    else if (station_type == 5 || station_type == 6) {\r\n        image = rack_charge_station_icon(map_data.Graph.ImageName)\r\n    }\r\n    else if (station_type == 3) {\r\n        image = charge_station_icon(map_data.Graph.ImageName)\r\n    }\r\n    else if (station_type == 100 || station_type == 201) {\r\n        image = lifter_icon(map_data.Graph.ImageName)\r\n    }\r\n\r\n    var textStyle = new Style({\r\n        image: image,\r\n        text: new Text({\r\n            text: text,\r\n            font: 'bold 16px Calibri,sans-serif',\r\n            offsetX: 14,\r\n            offsetY: -22,\r\n            fill: new Fill({\r\n                color: station_type == 0 ? 'gold' : 'rgb(87, 203, 87)',//PointColorSelect(station_type)\r\n            }),\r\n            stroke: new Stroke({\r\n                color: 'black',\r\n                width: 2,\r\n            }),\r\n        }),\r\n    })\r\n    return textStyle\r\n}\r\n/**軌跡顯示Style */\r\nexport function CreateLocusPathStyles(color = 'red', width = 1) {\r\n    const styles = [\r\n        new Style({\r\n            stroke: new Stroke({\r\n                color: color,\r\n                width: width,\r\n            }),\r\n        }),\r\n    ];\r\n    return styles;\r\n}\r\n/**道路 */\r\nexport function CreateStationPathStyles(feature, color = undefined) {\r\n    var _color = MapStore.getters.Settings.pathColor;\r\n    var data = feature.get('data');\r\n    var isEQLink = feature.get('isEqLink')\r\n    var isPathClose = feature.get('isClose');\r\n    const geometry = feature.getGeometry();\r\n    const styles = [\r\n        new Style({\r\n            stroke: new Stroke({\r\n                color: isPathClose ? 'red' : _color,\r\n                width: 2.7,\r\n                lineDash: isEQLink ? [4, 11] : null // 虛線模式（設定虛線段的長度和間隔）\r\n            }),\r\n        }),\r\n    ];\r\n    const coordinates = geometry.getCoordinates()\r\n\r\n    var index = 0;\r\n    geometry.forEachSegment(function (start, end) {\r\n        if (index == coordinates.length - 2) {\r\n            const dx = end[0] - start[0];\r\n            const dy = end[1] - start[1];\r\n            const rotation = Math.atan2(dy, dx);\r\n            // arrows\r\n            styles.push(\r\n                new Style({\r\n                    geometry: new Point(end),\r\n                    image: new Icon({\r\n                        src: 'arrow.png',\r\n                        anchor: isEQLink ? [1.8, 0.5] : [1.2, 0.5],\r\n                        rotateWithView: true,\r\n                        rotation: -rotation,\r\n                        scale: 0.20,\r\n                        color: isPathClose ? 'red' : _color\r\n                    }),\r\n                })\r\n            );\r\n            if (isPathClose) {\r\n                start = [(end[0] + start[0]) / 2, (end[1] + start[1]) / 2]\r\n                const dx = end[0] - start[0];\r\n                const dy = end[1] - start[1];\r\n                const rotation = Math.atan2(dy, dx);\r\n                styles.push(\r\n                    new Style({\r\n                        geometry: new Point(start),\r\n                        image: new Icon({\r\n                            src: 'close.png',\r\n                            anchor: [1.2, 0.5],\r\n                            rotateWithView: true,\r\n                            rotation: -rotation,\r\n                            scale: 0.6,\r\n                        }),\r\n                    })\r\n                );\r\n            }\r\n        }\r\n        index += 1;\r\n    });\r\n    return styles;\r\n}\r\n\r\nexport function CreateNewStationPointFeature(coordinate, point_index, featureStatonType) {\r\n    var station = new clsMapStation();\r\n    station.coordination = coordinate;\r\n    station.index = point_index;\r\n    station.station_type = 0;\r\n    station.name = station.index + '';\r\n    station.tag = station.index;\r\n    station.graph = coordinate;\r\n\r\n    var mapPtModel = new MapPointModel();\r\n    mapPtModel.StationType = 0;\r\n    mapPtModel.X = coordinate[0];\r\n    mapPtModel.Y = coordinate[1];\r\n    mapPtModel.Graph.X = coordinate[0];\r\n    mapPtModel.Graph.Y = coordinate[1];\r\n    mapPtModel.Name = mapPtModel.Graph.Display = station.name;\r\n    mapPtModel.TagNumber = station.index;\r\n    station.data = mapPtModel;\r\n    var feature = CreateStationFeature(station);\r\n    return feature;\r\n}\r\nexport function CreateStationFeature(station = new clsMapStation()) {\r\n    const iconFeature = new Feature({\r\n        geometry: new Point(station.coordination)\r\n        // geometry: new Point(station.graph)\r\n    });\r\n    iconFeature.set('index', station.index)\r\n    iconFeature.set('name', station.name)\r\n    iconFeature.set('station_type', station.station_type)\r\n    iconFeature.set('targets', station.targets)\r\n    iconFeature.set('feature_type', 'station')\r\n    iconFeature.set('data', station.data)\r\n    iconFeature.set('coordination', station.coordination)\r\n    iconFeature.set('graph', station.graph)\r\n    var name = station.name\r\n    iconFeature.setStyle(GetStationStyle(name, station.station_type, station.data));\r\n    var routeFeature = iconFeature.clone();\r\n    if (station.data.Graph) {\r\n        routeFeature.setGeometry(new Point([station.data.Graph.X, station.data.Graph.Y]))\r\n    }\r\n    iconFeature.set('routeModeFeature', routeFeature)\r\n    return iconFeature;\r\n}\r\n\r\nexport function CreateEQLDULDFeature(station = new clsMapStation(), mode = 'router' | 'coordination') {\r\n    var _coor = mode == 'coordination' ? station.coordination : station.graph;\r\n    const iconFeature = new Feature({\r\n        geometry: new Point(_coor)\r\n    });\r\n    iconFeature.set('feature_type', 'lduld')\r\n    iconFeature.set('data', station.data)\r\n    iconFeature.set('action', 0)\r\n\r\n    if (station.station_type != 1)\r\n        return iconFeature;\r\n\r\n    var _style = new Style({\r\n        image: undefined,\r\n        text: new Text({\r\n            text: \"\",\r\n            font: 'bold 12px Calibri,sans-serif',\r\n            offsetX: 14,\r\n            offsetY: -52,\r\n            fill: new Fill({\r\n                color: 'white',//PointColorSelect(station_type)\r\n            }),\r\n            backgroundFill: new Fill({\r\n                color: 'seagreen',//PointColorSelect(station_type)\r\n            }),\r\n            backgroundStroke: new Stroke({\r\n                color: 'black',\r\n                width: 3,\r\n            })\r\n        }),\r\n    })\r\n    iconFeature.setStyle(_style)\r\n    return iconFeature;\r\n}\r\n\r\n\r\n/**生成禁制區 */\r\nexport function CreateRegionPolygon(name = \"禁制區\", polygon_coordinations = [], region_type = 0 | 1) {\r\n\r\n    var _isForbidRegion = region_type == 0;\r\n    var _fillColor = _isForbidRegion ? 'rgba(255, 0, 0,0.5)' : 'rgba(116, 249, 42,0.5)';\r\n    var _strokeColor = _isForbidRegion ? 'red' : 'seagreen';\r\n    var _region_type = _isForbidRegion ? 'forbid' : 'passible';\r\n    var polygon = new Feature(\r\n        new Polygon([polygon_coordinations])\r\n    );\r\n    polygon.setStyle(new Style({\r\n        fill: new Fill({\r\n            color: _fillColor\r\n        }),\r\n        stroke: new Stroke({\r\n            color: _strokeColor,\r\n            width: 1 // 邊框寬度,\r\n        })\r\n    }));\r\n    polygon.set('type', \"polygon\")\r\n    polygon.set('name', name)\r\n    polygon.set('region_type', _region_type)\r\n    const center = polygon.getGeometry().getInteriorPoint().getCoordinates();\r\n    // 新增文字標籤\r\n    var text = new Feature({\r\n        geometry: new Point(center),\r\n        name: name\r\n    });\r\n    text.set('type', \"text\")\r\n    text.set('name', name)\r\n    text.set('region_type', _region_type)\r\n\r\n    text.setStyle(new Style({\r\n        text: new Text({\r\n            text: text.get('name'),\r\n            scale: 1.2,\r\n            fill: new Fill({\r\n                color: 'black'\r\n            })\r\n        })\r\n    }));\r\n    return { region_feature: polygon, text_feature: text }\r\n}\r\n\r\nfunction GetCargoIcon(cargo_type, exist = false) {\r\n    if (!exist)\r\n        return null\r\n    return new Icon({\r\n        src: cargo_type == 1 ? 'images/rack2.png' : 'images/tray.png',\r\n        scale: cargo_type == 1 ? .6 : .8, // 设置PNG图像的缩放比例\r\n        anchor: cargo_type == 1 ? [1.3, 0.95] : [.8, 0.65], // 设置PNG图像的锚点，即图片的中心点位置\r\n        size: [60, 60],// 设置PNG图像的大小\r\n        opacity: 1,\r\n    })\r\n}\r\nexport function AGVCargoIconStyle(cargo_type = 0, cargo_id = '', cst_exist = false) {\r\n    return new Style({\r\n        image: GetCargoIcon(cargo_type, cst_exist),\r\n        text: new Text({\r\n            // text: `${cargo_type.toUpperCase()}\\r\\n${cargo_id}`,\r\n            text: cargo_id,\r\n            offsetX: -45,\r\n            offsetY: -35,\r\n            textAlign: 'left',\r\n            font: 'bold 9px Arial',\r\n            fill: new Fill({\r\n                color: 'white'\r\n            }),\r\n            backgroundFill: new Fill({\r\n                color: 'grey',\r\n            }),\r\n\r\n\r\n        })\r\n    })\r\n}\r\nexport function ChangeCargoIcon(feature = new Feature(), cargoStates = new clsCargoStates()) {\r\n    var style = AGVCargoIconStyle(cargoStates.cargo_type, cargoStates.cst_id, cargoStates.exist);\r\n    feature.setStyle(style);\r\n}\r\nexport function AGVPointStyle(agv_name, color) {\r\n    return new Style({\r\n        image: new Icon({\r\n            src: '/agv.png', // 设置PNG图像的路径\r\n            scale: .5, // 设置PNG图像的缩放比例\r\n            anchor: [0.5, 0.5], // 设置PNG图像的锚点，即图片的中心点位置\r\n            size: [64, 64],// 设置PNG图像的大小\r\n            opacity: 1,\r\n            rotateWithView: true,\r\n            rotation: 0 * Math.PI / 180.0 //3.14 180\r\n\r\n        }),\r\n        text: new Text({\r\n            text: agv_name,\r\n            offsetX: 0,\r\n            offsetY: 32,\r\n            font: 'bold 16px Arial',\r\n            fill: new Fill({\r\n                color: 'white'\r\n            }),\r\n\r\n            backgroundFill: new Fill({\r\n                color: color,\r\n            }),\r\n            backgroundStroke: new Stroke({\r\n                color: 'black',\r\n            }),\r\n            textAlign: 'center',\r\n            padding: [4, 4, 4, 4]\r\n        }),\r\n    })\r\n}\r\n\r\nfunction PointColorSelect(station_type) {\r\n    if (station_type == 0)\r\n        return station_colors.normal\r\n    else if (station_type == 1)\r\n        return station_colors.eq\r\n    else if (station_type == 2)\r\n        return station_colors.stk\r\n    else if (station_type == 3)\r\n        return station_colors.charge\r\n    else\r\n        return 'black'\r\n}\r\nfunction GetActionName(action, CargoStates = new clsCargoStates()) {\r\n    if (action == 0)\r\n        return CargoStates.exist ? '跑貨' : '移動'\r\n    if (action == 1)\r\n        return '取貨'\r\n    if (action == 2)\r\n        return '放貨停車'\r\n    if (action == 3)\r\n        return '前進'\r\n    if (action == 4)\r\n        return '後退'\r\n    if (action == 5)\r\n        return 'Fab?'\r\n    if (action == 6)\r\n        return '量測'\r\n    if (action == 7)\r\n        return '放貨'\r\n    if (action == 8)\r\n        return '充電'\r\n    if (action == 9)\r\n        return '搬運'\r\n    if (action == 10)\r\n        return '移出充電站'\r\n    if (action == 11)\r\n        return '快逃'\r\n    if (action == 12)\r\n        return '停車'\r\n\r\n    if (action == 13)\r\n        return '離開停車'\r\n    if (action == 14)\r\n        return '電池交換'\r\n    if (action == 15)\r\n        return 'Hold'\r\n    if (action == 16)\r\n        return 'Break'\r\n    if (action == 17)\r\n        return ''\r\n}\r\n/**AGV地圖顯示參數 */\r\nexport class AGVOption {\r\n    constructor(AGVNum = 1, AGVDisplayOptions = [new clsAGVDisplay()]) {\r\n        this.AGVNum = AGVNum\r\n        this.AGVDisplays = AGVDisplayOptions\r\n\r\n    }\r\n}\r\n\r\nexport class clsAGVDisplay {\r\n    constructor(AgvName = \"AGV\", TextColor = \"pink\", initCoordination = [0, 0], navCoorList = [], CargoStatus = new clsCargoStates(), Tag = 0, Theta = 0, WaitingInfo = new clsWaitingInfo(), CurrentAction = 0, AgvStates = new clsAgvStates()) {\r\n        this.AgvName = AgvName\r\n        this.TextColor = TextColor\r\n        this.Coordination = initCoordination;\r\n        this.NavPathCoordinationList = navCoorList\r\n        this.CargoStatus = CargoStatus\r\n        this.Tag = Tag\r\n        this.Theta = Theta\r\n        this.WaitingInfo = WaitingInfo\r\n        this.CurrentAction = AgvStates.is_executing_task ? GetActionName(CurrentAction, CargoStatus) : \"\"\r\n        this.AgvStates = AgvStates\r\n\r\n    }\r\n}\r\nexport class clsWaitingInfo {\r\n    constructor() {\r\n        this.IsWaiting = false;\r\n        this.Descrption = '';\r\n        this.WaitingPoint = {}\r\n    }\r\n}\r\nexport class clsCargoStates {\r\n    constructor(exist = false, type = 0, cst_id = '') {\r\n        this.exist = exist;\r\n        this.cargo_type = type; //0:tray,1:rack\r\n        this.cst_id = cst_id\r\n    }\r\n}\r\n\r\nexport class clsMapStation {\r\n    constructor() {\r\n        this.index = 0\r\n        this.name = 'name'\r\n        this.tag = 0\r\n        this.station_type = 1\r\n        this.targets = []\r\n        this.coordination = [0, 0]\r\n        this.graph = [0, 0]\r\n        this.data = {}\r\n    }\r\n}\r\nexport class clsAgvStates {\r\n    constructor() {\r\n        this.is_online = false\r\n        this.is_executing_task = false\r\n        this.main_status = 'IDLE'\r\n    }\r\n}\r\nexport class clsMap {\r\n    constructor() {\r\n        this.Version = 1;\r\n        this.Name = undefined;\r\n        this.Options = new clsMapOptions();\r\n        this.Note = '';\r\n        this.PointIndex = 0;\r\n        this.Map_Image_Size = [400, 400];\r\n        this.Map_Image_Boundary = [-20, -20, 20, 20];\r\n        this.Points = {};\r\n        this.BezierCurves = {};\r\n        this.Pathes = [];\r\n        this.Segments = [];\r\n        this.Bays = {};\r\n        this.Regions = [new MapRegion()]\r\n    }\r\n}\r\nexport class clsMapOptions {\r\n    constructor() {\r\n        this.pathColor = 'rgb(45,42,46)';\r\n        this.fontSizeOfDisplayName = 12;\r\n        this.fontSizeOfAsCandicates = 16;\r\n        this.EQIcons = []\r\n    }\r\n}\r\n/**後端圖資模型 */\r\nexport class MapPointModel {\r\n    constructor() {\r\n        this.X = 0;\r\n        this.Y = 0;\r\n        this.Name = \"\"\r\n        this.TagNumber = 0\r\n        this.Direction = 0\r\n        this.Direction_Secondary_Point = 0 //二次定位點的停車角度\r\n        this.AGV_Alarm = false;\r\n        this.Enable = true;\r\n        this.IsStandbyPoint = false;\r\n        this.IsSegment = false\r\n        this.IsOverlap = false\r\n        this.IsParking = false\r\n        this.IsAvoid = false;\r\n        this.IsVirtualPoint = false;\r\n        this.IsAutoDoor = false\r\n        this.IsExtinguishing = false\r\n        this.InvolvePoint = \"\"\r\n        this.StationType = 0\r\n        this.LsrMode = 0\r\n        this.Speed = 1\r\n        this.Bay = \"\"\r\n        this.Graph = {\r\n            Display: \"\",\r\n            X: 0,\r\n            Y: 0,\r\n            ImageName: '',\r\n            IsBezierCurvePoint: false,\r\n            BezierCurveID: ''\r\n        }\r\n        this.Target = {\r\n\r\n        }\r\n        this.DodgeMode = 0\r\n        this.SpinMode = 0\r\n        this.SubMap = \"\"\r\n        this.AutoDoor = {\r\n            KeyName: \"\",\r\n            KeyPassword: \"\"\r\n        }\r\n        this.MotionInfo = {\r\n            ControlBypass: {\r\n                GroundHoleCCD: \"\",\r\n                GroundHoleSensor: \"\",\r\n                UltrasonicSensor: \"\"\r\n\r\n            }\r\n        }\r\n        this.Region = \"\"\r\n        this.IsCharge = false\r\n        this.IsEquipment = false\r\n        this.IsSTK = false\r\n        this.IsEQLink = false\r\n        this.IsCross = false\r\n        this.IsRegisted = false\r\n        this.RegistInfo = null\r\n    }\r\n}\r\n\r\nexport class MapRegion {\r\n    constructor(name, coordinations, region_type = 0 | 1) {\r\n        this.Name = name\r\n        this.PolygonCoordinations = coordinations\r\n        this.RegionType = region_type\r\n    }\r\n}\r\nexport class MapContextMenuOptions {\r\n    constructor() {\r\n        this.title = 'title'\r\n        this.backgroundColor = 'white'\r\n        this.feature_type = 'Station'\r\n        this.point_data = new MapPointModel()\r\n        this.show_task_dispatch = false\r\n        this.task_options = new MenuUseTaskOption()\r\n    }\r\n}\r\n\r\nexport class MenuUseTaskOption {\r\n    constructor(StationType) {\r\n        this.StationType = StationType\r\n\r\n    }\r\n}\r\n\r\n/**Select點位選項 */\r\nexport class StationSelectOptions {\r\n    constructor(tag = 0, name = '', name_display = '') {\r\n        this.tag = tag\r\n        this.name = name\r\n        this.name_display = name_display\r\n    }\r\n}\r\n\r\nexport class BezierCurve {\r\n    constructor(ID = \"\", Rank = 2, MidPointCoordination = [0, 0]) {\r\n        this.ID = ID\r\n        this.Rank = Rank\r\n        this.MidPointCoordination = MidPointCoordination\r\n    }\r\n}","import { createStore } from \"vuex\";\r\nimport axios from 'axios'\r\nimport { AGVOption, clsMap, clsAGVDisplay, clsMapStation, StationSelectOptions } from '../mapjs';\r\n\r\n/**圖資狀態儲存 */\r\nexport const MapStore = createStore({\r\n    state: {\r\n        MapData: new clsMap(),\r\n        MapGeoJson: null,\r\n        AGVDynamicPathInfo: undefined,\r\n        /**被系統交通管制的路徑字典 */\r\n        ControledPathesBySystem: {},\r\n        AGVLocUpload: {},\r\n        agv_colors: [\r\n            'rgb(13, 110, 253)',\r\n            'limegreen',\r\n            'orange',\r\n            'pink',\r\n            'red',\r\n            'purple',\r\n        ],\r\n        RegionOptions: null,\r\n        Settings: {\r\n            path_color: 'red'\r\n        },\r\n        worker: new Worker(''),\r\n        mapBackendServer: process.env.NODE_ENV == 'development' ? 'http://127.0.0.1:5216' : `${window.location.protocol}//${window.location.host}`\r\n    },\r\n    getters: {\r\n        MapBackednAxios: state => {\r\n            var axio = axios.create({\r\n                baseURL: state.mapBackendServer\r\n            })\r\n            return axio\r\n        },\r\n        MapData: state => {\r\n            var localStore = localStorage.getItem('mapData')\r\n            if (state.MapData == null && localStore) {\r\n                return JSON.parse(localStore)\r\n            }\r\n            return state.MapData;\r\n        },\r\n        /**圖片像素 [長,寬] */\r\n        Map_Image_Size: state => {\r\n            return state.MapData.Map_Image_Size;\r\n        },\r\n        Map_Image_Boundary: state => {\r\n            return state.MapData.Map_Image_Boundary;\r\n        },\r\n        Pathes: state => {\r\n            return state.MapData.Segments\r\n        },\r\n        MapName: state => {\r\n            return state.MapData == null ? \"Unkown\" : state.MapData.Name\r\n        },\r\n        Settings: state => state.MapData.Options,\r\n        BezierCurves: state => {\r\n            return state.MapData == null ? {} : state.MapData.BezierCurves\r\n        },\r\n        GeoMapData: state => {\r\n            return state.MapGeoJson\r\n        },\r\n        MapServerUrl: state => {\r\n            return state.mapBackendServer\r\n        },\r\n        MapStations: (state, actions) => {\r\n            var mapDataSource = state.MapData\r\n            if (!mapDataSource)\r\n                return []\r\n            var points = mapDataSource.Points\r\n            if (!points)\r\n                return [];\r\n            var indexes = Object.keys(points)\r\n            var map_stations = []\r\n            indexes.forEach(index => {\r\n\r\n                var pt = points[index]\r\n                var mapStationData = new clsMapStation()\r\n                mapStationData.index = parseInt(index);\r\n                mapStationData.name = pt.Name;\r\n                mapStationData.station_type = pt.StationType;\r\n                mapStationData.tag = pt.TagNumber;\r\n                mapStationData.coordination = [pt.X, pt.Y];\r\n                mapStationData.targets = [];\r\n                mapStationData.graph = [pt.Graph.X, pt.Graph.Y];\r\n                mapStationData.data = pt;\r\n                Object.keys(pt.Target).forEach(targetIndex => {\r\n                    mapStationData.targets.push(parseInt(targetIndex))\r\n                })\r\n                map_stations.push(mapStationData)\r\n            })\r\n            return map_stations\r\n        },\r\n        BaysData: state => {\r\n            if (state.MapData)\r\n                return state.MapData.Bays\r\n            else\r\n                return {}\r\n        },\r\n        Regions: (state) => {\r\n            if (state.MapData.Regions)\r\n                return state.MapData.Regions\r\n            else\r\n                return []\r\n        },\r\n        AGVDynamicPathInfo: state => {\r\n\r\n            return state.AGVDynamicPathInfo\r\n        },\r\n        AGVLocUpload: state => {\r\n            return state.AGVLocUpload;\r\n        },\r\n        AGVNavInfo: (state, getters) => {\r\n            var agv_nav_info = state.AGVDynamicPathInfo;\r\n            if (agv_nav_info == undefined) {\r\n                return new AGVOption(0, [])\r\n            }\r\n            var agv_num = Object.keys(agv_nav_info).length;\r\n            var agvDataLs = [];\r\n            var index = 0;\r\n            Object.keys(agv_nav_info).forEach(name => {\r\n                var data = agv_nav_info[name]\r\n                var pathtags = data.nav_path\r\n                var pathCoordinations = []\r\n\r\n                if (pathtags) {\r\n\r\n                    pathtags.forEach(tag => {\r\n                        var pt = getters.MapStations.find(st => st.tag == tag)\r\n                        if (pt) {\r\n                            pathCoordinations.push(pt.coordination)\r\n                        }\r\n                    })\r\n                }\r\n                var coordination = [0, 0]\r\n                if (data.currentCoordication) {\r\n                    coordination = [data.currentCoordication.X, data.currentCoordication.Y]\r\n                }\r\n                agvDataLs.push(new clsAGVDisplay(name, state.agv_colors[index], coordination, pathCoordinations, data.cargo_status, data.currentLocation, data.theta, data.waiting_info, data.currentAction, data.states))\r\n                index += 1;\r\n            })\r\n            var _AGVOption = new AGVOption(agv_num, agvDataLs)\r\n            return _AGVOption;\r\n        },\r\n        AllNormalStationOptions: state => {\r\n            //[{tag:1,name:'' }]\r\n            var points = Object.values(state.MapData.Points)\r\n            var points = points.filter(pt => !pt.IsVirtualPoint && pt.StationType == 0).map(pt => new StationSelectOptions(pt.TagNumber, `${pt.Graph.Display}(Tag=${pt.TagNumber})`, pt.Graph.Display))\r\n            return points;\r\n        },\r\n        AllEqStation: state => {\r\n            var points = Object.values(state.MapData.Points)\r\n            var options = points.filter(pt => !pt.IsVirtualPoint && (pt.StationType == 1 || pt.StationType == 4)).map(pt => new StationSelectOptions(pt.TagNumber, `${pt.Graph.Display}(Tag=${pt.TagNumber})`, pt.Graph.Display))\r\n            return options;\r\n        },\r\n        AllChargeStation: state => {\r\n            var points = Object.values(state.MapData.Points)\r\n            var options = points.filter(pt => !pt.IsVirtualPoint && (pt.StationType == 3 || pt.StationType == 5 || pt.StationType == 6)).map(pt => new StationSelectOptions(pt.TagNumber, `${pt.Graph.Display}(Tag=${pt.TagNumber})`, pt.Graph.Display))\r\n            return options;\r\n        },\r\n        AllExangeBatteryStation: state => {\r\n            var points = Object.values(state.MapData.Points)\r\n            var options = points.filter(pt => !pt.IsVirtualPoint && (pt.StationType == 16 || pt.StationType == 3)).map(pt => new StationSelectOptions(pt.TagNumber, `${pt.Graph.Display}(Tag=${pt.TagNumber})`, pt.Graph.Display))\r\n            return options;\r\n        },\r\n        AllParkingStationOptions: state => {\r\n            var points = Object.values(state.MapData.Points)\r\n            var options = points.filter(pt => !pt.IsVirtualPoint && pt.IsParking == true).map(pt => new StationSelectOptions(pt.TagNumber, `${pt.Graph.Display}(Tag=${pt.TagNumber})`, pt.Graph.Display))\r\n            return options;\r\n        },\r\n        AllPointsOptions: state => {\r\n            var options = []\r\n            var points = state.MapData.Points\r\n            var indexes = Object.keys(points)\r\n            indexes.forEach(index => {\r\n                var ptData = points[index]\r\n                options.push({\r\n                    index: index,\r\n                    tag: ptData.TagNumber,\r\n                    name: ptData.Graph.Display\r\n                })\r\n            })\r\n            return options\r\n        },\r\n        ControledPathesBySystem: state => state.ControledPathesBySystem,\r\n        RegionOptions: state => state.RegionOptions,\r\n        EqIcons: state => state.MapData.Options.EQIcons\r\n\r\n    },\r\n    mutations: {\r\n        setMapData(state, mapdata) {\r\n            state.MapData = mapdata;\r\n            localStorage.setItem('mapData', JSON.stringify(mapdata))\r\n        },\r\n        setGeoMapData(state, mapdata) {\r\n            state.MapGeoJson = mapdata;\r\n        },\r\n        setAGVDynamicPathInfo(state, info) {\r\n            state.AGVDynamicPathInfo = info\r\n        },\r\n        setAGVLocUpload(state, data) {\r\n            state.AGVLocUpload = data\r\n        },\r\n        setWorker(state, worker) {\r\n            state.worker = worker;\r\n        },\r\n        setControledPathesBySystem(state, ControledPathesBySystem) {\r\n            state.ControledPathesBySystem = ControledPathesBySystem\r\n        },\r\n        RegionOptions(state, options) {\r\n            state.RegionOptions = options;\r\n        }\r\n\r\n    },\r\n    actions: {\r\n        async DownloadMapData({ commit, getters }) {\r\n            await getters.MapBackednAxios.get('api/Map').then(response => {\r\n                console.log('[MapStore] get map data', response.data);\r\n                commit('setMapData', response.data)\r\n            });\r\n        },\r\n        Save({ commit }) {\r\n\r\n        },\r\n        /**根據點位的index搜尋點位物件 */\r\n        GetMapPointByIndex({ commit, state }, index) {\r\n            var points = state.MapData.Points\r\n            return points[index]\r\n        },\r\n        /**根據點位的index搜尋點位物件 */\r\n        GetMapPointByTag({ commit, state }, tag) {\r\n            var points = state.MapData.Points\r\n            return Object.values(points).find(pt => pt.TagNumber + '' == tag + '')\r\n        },\r\n        SaveMap({ commit, state, actions, getters }, _data) {\r\n            return getters.MapBackednAxios.post('api/Map/SaveMap', _data)\r\n                .then((ret) => {\r\n                    _data.Note = ret.data;\r\n                    commit('setMapData', _data);\r\n                    return true\r\n                })\r\n                .catch((err) => {\r\n                    return false\r\n                })\r\n        },\r\n        UploadCoorFunctionSwitch({ commit, state, getters }, enabled) {\r\n            getters.MapBackednAxios.get(`api/Map/SwitchAGVUploadLocFun?enabled=${enabled}`)\r\n            if (enabled) {\r\n                const worker = new Worker('websocket_worker.js')\r\n                worker.onmessage = (event) => {\r\n                    if (event.data != 'error' && event.data != 'closed')\r\n                        commit('setAGVLocUpload', event.data)\r\n                }\r\n                worker.postMessage({ command: 'connect', ws_url: getters.MapServerUrl.replace('http', 'ws') + '/ws/AGVLocationUpload' });\r\n                commit('setWorker', worker)\r\n\r\n            } else {\r\n                state.worker.postMessage({ command: 'disconnect' })\r\n            }\r\n        },\r\n        DeleteIcon({ commit, state, getters, actions }, path) {\r\n            getters.MapBackednAxios.delete(`api/Map/DeleteIcon?filePath=${path}`)\r\n        },\r\n        GetRegionByName({ state, getters }, name) {\r\n            var _forbid_regions = getters.Regions\r\n            return _forbid_regions.find(reg => reg.Name == name)\r\n        }\r\n    }\r\n}\r\n)\r\n","import mitt from 'mitt'\r\n/**BUS~ */\r\nconst bus = mitt()\r\nexport default bus\r\n","var param = {\r\n  type: 'jw',\r\n  // backend_host: 'http://192.168.0.103:7025',\r\n  get backend_host() {\r\n    if (process.env.NODE_ENV == 'development') {\r\n      return 'http://localhost:5216'\r\n      return 'http://192.168.0.1:5216'\r\n      return 'http://192.168.0.2:5216'\r\n      return 'http://192.168.0.1:5216'\r\n    } else {\r\n      return `${window.location.protocol}//${window.location.host}`\r\n    }\r\n  },\r\n  get backend_ws_host() {\r\n    return this.backend_host.replace('http', 'ws')\r\n  },\r\n  get vms_host() {\r\n    return this.backend_host.replace('5216', '5036')\r\n  },\r\n  get vms_ws_host() {\r\n    return this.vms_host.replace('http', 'ws')\r\n  },\r\n}\r\n\r\nexport const version = '1.0.0'\r\nexport default param\r\n","<template>\r\n  <div\r\n    v-show=\"!isNoPermission\"\r\n    class=\"d-flex flex-row\"\r\n    v-loading=\"loading\"\r\n    element-loading-text=\"GPM AGVS\"\r\n    element-loading-svg-view-box=\"-10, -10, 50, 50\"\r\n    element-loading-background=\"rgba(31, 31, 31, 0.9)\">\r\n    <div>\r\n      <Header v-show=\"!loading\" @onMenuToggleClicked=\"ToggleMenu\"></Header>\r\n    </div>\r\n    <SideMenu></SideMenu>\r\n    <div class=\"flex-fill\" v-bind:style=\"router_view_style\">\r\n      <router-view v-show=\"!loading\" v-slot=\"{ Component }\">\r\n        <keep-alive>\r\n          <component :is=\"Component\" />\r\n        </keep-alive>\r\n      </router-view>\r\n    </div>\r\n    <b-modal\r\n      v-model=\"ShowOKOnlyModal\"\r\n      :title=\"`${okOnlyModalProps.title}`\"\r\n      :centered=\"true\"\r\n      :okOnly=\"true\"\r\n      :headerBgVariant=\"okOnlyModalProps.title_variant\"\r\n      headerTextVariant=\"light\">\r\n      <p>{{ okOnlyModalProps.content }}</p>\r\n    </b-modal>\r\n    <!-- <AlarmDisplayVue></AlarmDisplayVue> -->\r\n    <MoveAGVNotifty></MoveAGVNotifty>\r\n    <!-- <AGVAlarmMessageDisplay></AGVAlarmMessageDisplay> -->\r\n    <ConnectionState></ConnectionState>\r\n  </div>\r\n  <SideMenuDrawer @close=\"SideMenuCloseHandler\" ref=\"side_menu\"></SideMenuDrawer>\r\n</template>\r\n\r\n<script>\r\nimport SideMenuDrawer from '@/views/SideMenuDrawer.vue'\r\nimport SideMenu from '@/views/SideMenu.vue'\r\nimport Header from '@/components/App/Header.vue'\r\nimport AlarmDisplayVue from '@/components/App/AlarmDisplay.vue'\r\nimport ConnectionState from '@/components/App/ConnectionState.vue'\r\nimport bus from '@/event-bus.js'\r\nimport { watch } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { IsLoginLastTime } from '@/api/AuthHelper.js'\r\nimport { userStore } from '@/store'\r\nimport MoveAGVNotifty from '@/components/Traffic/MoveAGVNotify.vue'\r\nimport AGVAlarmMessageDisplay from '@/components/App/AGVAlarmUI/AGVAlarmMessageDisplay.vue'\r\n\r\nexport default {\r\n  components: {\r\n    Header, AlarmDisplayVue, SideMenuDrawer, SideMenu, ConnectionState, MoveAGVNotifty, AGVAlarmMessageDisplay\r\n  },\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      isNoPermission: false,\r\n      showMenuToggleIcon: true,\r\n      ShowOKOnlyModal: false,\r\n      okOnlyModalProps: {\r\n        title: '',\r\n        content: '',\r\n        title_variant: 'primary'\r\n      },\r\n      router_view_style: {\r\n        //style=\"height:100vh;padding-top:150px;\"\r\n        position: 'relative',\r\n        height: '100vh',\r\n        paddingTop: '140px',\r\n        paddingRight: '95px',\r\n        left: '70px'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    OpenLoading() {\r\n      this.$vs.loading()\r\n      setTimeout(() => {\r\n        this.$vs.loading.close()\r\n      }, 400);\r\n    },\r\n    ToggleMenu() {\r\n      this.showMenuToggleIcon = false;\r\n      this.$refs.side_menu.Show();\r\n    },\r\n    SideMenuCloseHandler() {\r\n      this.showMenuToggleIcon = true;\r\n    }\r\n  },\r\n  mounted() {\r\n    document.title = \"GPM 派車系統\";\r\n    let login_states = IsLoginLastTime();\r\n\r\n    //嘗試存取前次的登入狀態，並更新 userStore的值\r\n    if (login_states.isLogin) {\r\n      userStore.commit('setUser', login_states.login_info)\r\n    }\r\n\r\n    bus.on('/ShowOKOnlyModal', (props) => {\r\n      this.okOnlyModalProps = props;\r\n      this.ShowOKOnlyModal = true;\r\n    });\r\n    bus.on('auto_logout_notify_invoke', () => {\r\n      this.$swal.fire(\r\n        {\r\n          text: '',\r\n          title: '因閒置太久，已自動登出。',\r\n          icon: 'warning',\r\n          showCancelButton: false,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(() => {\r\n          window.location.href = '/';\r\n\r\n        })\r\n    })\r\n    const route = useRoute()\r\n    watch(\r\n      () => route.path,\r\n      (newValue, oldValue) => {\r\n        if ((newValue == '/sys_settings' || newValue == '/map') && userStore.getters.level <= 0) {\r\n          this.$vs.loading.close();\r\n          this.loading = false;\r\n          this.isNoPermission = true;\r\n          this.$swal.fire(\r\n            {\r\n              text: '',\r\n              title: '您沒有足夠的權限訪問此頁面!',\r\n              icon: 'error',\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              customClass: 'full-sweetalert'\r\n            }).then(() => {\r\n              window.location.href = '/'\r\n            })\r\n          return;\r\n        } else {\r\n\r\n          this.OpenLoading();\r\n          if (newValue == \"/alarm\") {\r\n            this.router_view_style.paddingTop = '50px';\r\n          }\r\n          else\r\n            this.router_view_style.paddingTop = '150px';\r\n\r\n          setTimeout(async () => {\r\n            var result = await userStore.dispatch('user_route_change', newValue);\r\n            console.log(result)\r\n\r\n            if (newValue == '/map' && result.isOtherUserEditingMap) {\r\n              this.$swal.fire(\r\n                {\r\n                  text: '',\r\n                  title: '注意!目前有其他使用者正在地圖編輯頁面',\r\n                  icon: 'warning',\r\n                  showCancelButton: false,\r\n                  confirmButtonText: 'OK',\r\n                  customClass: 'my-sweetalert'\r\n                })\r\n            }\r\n          }, 100)\r\n        }\r\n      }\r\n    )\r\n    setTimeout(() => {\r\n      this.loading = false\r\n    }, 2000)\r\n  },\r\n};\r\n\r\n/**ResizeObserver loop completed with undelivered notifications. */\r\nconst debounce = (fn, delay) => {\r\n  let timer = null;\r\n  return function () {\r\n    let context = this;\r\n    let args = arguments;\r\n    clearTimeout(timer)\r\n    timer = setTimeout(function () {\r\n      fn.apply(context, args)\r\n    }, delay);\r\n  }\r\n}\r\nconst _ResizeObserver = window.ResizeObserver;\r\nwindow.ResizeObserver = class ResizeObserver extends _ResizeObserver {\r\n  constructor(callback) {\r\n    callback = debounce(callback, 16);\r\n    super(callback)\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.menu-toggle-icon {\r\n  position: absolute;\r\n  left: 0;\r\n  font-size: 26px;\r\n  z-index: 3100;\r\n  cursor: pointer;\r\n}\r\n\r\n#app {\r\n  //font-family: Avenir, Helvetica, Arial, sans-serif;\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen,\r\n    Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: center;\r\n  color: #2c3e50;\r\n  height: 100%;\r\n  overflow-x: hidden;\r\n}\r\n\r\nnav {\r\n  padding: 30px;\r\n\r\n  a {\r\n    font-weight: bold;\r\n    color: #2c3e50;\r\n\r\n    &.router-link-exact-active {\r\n      color: #42b983;\r\n    }\r\n  }\r\n}\r\n\r\nbody,\r\nhtml {\r\n  width: 100vw;\r\n  height: 100%;\r\n  // -webkit-user-select: none;\r\n  // /* Chrome, Safari, Opera */\r\n  // -moz-user-select: none;\r\n  // /* Firefox */\r\n  // -ms-user-select: none;\r\n  // /* IE 10+ */\r\n  // user-select: none;\r\n  // //overflow-x: hidden;\r\n  // // overflow-y: hidden;\r\n}\r\n</style>\r\n","<template>\r\n  <div class=\"side-menu\">\r\n    <el-drawer\r\n      v-model=\"show_draw\"\r\n      direction=\"ltr\"\r\n      title=\"GPM AGVS\"\r\n      size=\"18%\"\r\n      @close=\"CLoseEventHandle\"\r\n    >\r\n      <div class=\"text-start\">\r\n        <div @click=\"PageSwitch('/','Home')\" class=\"menu-item-container\">\r\n          <i class=\"bi bi-three-dots-vertical\"></i>主頁\r\n          <span>Home</span>\r\n        </div>\r\n        <div @click=\"PageSwitch('/racks_status','帳籍管理')\" class=\"menu-item-container\">\r\n          <i class=\"bi bi-three-dots-vertical\"></i>帳籍管理\r\n          <span>Rack</span>\r\n        </div>\r\n        <div @click=\"PageSwitch('/map','圖資管理')\" v-show=\"IsUserLogin\" class=\"menu-item-container\">\r\n          <i class=\"bi bi-three-dots-vertical\"></i>圖資管理\r\n          <span>Map</span>\r\n        </div>\r\n        <div @click=\"PageSwitch('/data','資料')\" class=\"menu-item-container\">\r\n          <i class=\"bi bi-three-dots-vertical\"></i>資料\r\n          <span>Data</span>\r\n        </div>\r\n        <div @click=\"PageSwitch('/alarm','警報')\" class=\"menu-item-container\">\r\n          <i class=\"bi bi-three-dots-vertical\"></i>警報\r\n          <span>Alarm</span>\r\n        </div>\r\n        <div\r\n          @click=\"PageSwitch('/sys_settings','系統設定')\"\r\n          v-show=\"IsUserLogin\"\r\n          class=\"menu-item-container\"\r\n        >\r\n          <i class=\"bi bi-three-dots-vertical\"></i>設定\r\n          <span>SETTINGS</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"bottom\">\r\n        <img src=\"GPM_Logo.png\" width=\"220\" alt=\"GPM\" />\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '@/event-bus.js'\r\nimport { userStore } from '@/store'\r\nexport default {\r\n  data() {\r\n    return {\r\n      show_draw: false,\r\n    }\r\n  },\r\n  computed: {\r\n    IsUserLogin() {\r\n      return userStore.getters.IsLogin\r\n    }\r\n  },\r\n  methods: {\r\n    Show() {\r\n      bus.emit('/alarm_footer_send_to_back', true);\r\n      this.show_draw = true\r\n    },\r\n    CLoseEventHandle() {\r\n      this.$emit('close', \"\");\r\n      bus.emit('/alarm_footer_send_to_back', false);\r\n    },\r\n    PageSwitch(route_name, display_name = '') {\r\n      var current_route = this.$router.currentRoute.value.path;\r\n      if (route_name != current_route) {\r\n        setTimeout(() => {\r\n          this.$router.push(route_name);\r\n          bus.emit('/router-change', { route_display_name: display_name, route_name: route_name });\r\n        }, 100);\r\n      }\r\n      this.show_draw = false;\r\n    },\r\n\r\n  },\r\n  mounted() {\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.side-menu {\r\n  div {\r\n    width: 100%;\r\n    span {\r\n      font-size: smaller;\r\n    }\r\n  }\r\n  .bottom {\r\n    position: absolute;\r\n    bottom: 2px;\r\n    right: 2px;\r\n\r\n    width: 100%;\r\n  }\r\n  .menu-item-container {\r\n    // border: 1px solid black;\r\n    padding: 3px;\r\n    font-size: 30px;\r\n    margin: 1px;\r\n  }\r\n  .menu-item-container:hover {\r\n    background-color: rgb(23, 162, 184);\r\n    color: white;\r\n    cursor: pointer;\r\n    border-radius: 8px;\r\n  }\r\n}\r\n</style>","import { render } from \"./SideMenuDrawer.vue?vue&type=template&id=07bba205&scoped=true\"\nimport script from \"./SideMenuDrawer.vue?vue&type=script&lang=js\"\nexport * from \"./SideMenuDrawer.vue?vue&type=script&lang=js\"\n\nimport \"./SideMenuDrawer.vue?vue&type=style&index=0&id=07bba205&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-07bba205\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"side-menu-fixed fixed-left\">\r\n    <div class>\r\n      <!--  -->\r\n      <el-tooltip placement=\"right\" content=\"Home\">\r\n        <div class=\"side-item\" @click=\"PageSwitch('/', '派車系統')\">\r\n          <div class=\"logo-text\"> GPM <div class=\"log-sub-text\">AGVS</div>\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n      <el-tooltip placement=\"right\" content=\"Home\">\r\n        <div v-bind:style=\"Selected('/')\" class=\"side-item\" @click=\"PageSwitch('/', '派車系統')\">\r\n          <div class=\"menu-icon round\">\r\n            <img src=\"images/home.png\" :height=\"icon_size\" alt />\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n      <!--  -->\r\n      <el-tooltip placement=\"right\" content=\"系統警報\">\r\n        <div\r\n          v-bind:style=\"Selected('/alarm')\"\r\n          class=\"side-item\"\r\n          @click=\"PageSwitch('/alarm', '系統警報')\">\r\n          <div class=\"menu-icon round\">\r\n            <img src=\"images/alarm.png\" :height=\"icon_size\" alt />\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n      <!--  -->\r\n      <el-tooltip placement=\"right\" content=\"帳籍管理\">\r\n        <div\r\n          v-bind:style=\"Selected('/racks_status')\"\r\n          class=\"side-item\"\r\n          @click=\"PageSwitch('/racks_status', '帳籍管理')\">\r\n          <div class=\"menu-icon round\">\r\n            <img src=\"images/rack.png\" :height=\"icon_size\" alt />\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n      <el-tooltip placement=\"right\" content=\"圖資管理\">\r\n        <div\r\n          v-bind:style=\"Selected('/map')\"\r\n          v-show=\"IsUserLogin\"\r\n          class=\"side-item\"\r\n          @click=\"PageSwitch('/map', '圖資管理')\">\r\n          <div class=\"menu-icon round\">\r\n            <img src=\"images/map.png\" :height=\"icon_size\" alt />\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n      <el-tooltip placement=\"right\" content=\"資料查詢\">\r\n        <div v-bind:style=\"Selected('/data')\" class=\"side-item\" @click=\"PageSwitch('/data', '資料查詢')\">\r\n          <div class=\"menu-icon round\">\r\n            <img src=\"images/database.png\" :height=\"icon_size\" alt />\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n      <el-tooltip placement=\"right\" content=\"系統設定\">\r\n        <div\r\n          v-bind:style=\"Selected('/sys_settings')\"\r\n          v-show=\"IsUserLogin\"\r\n          class=\"side-item\"\r\n          @click=\"PageSwitch('/sys_settings', '系統設定')\">\r\n          <div class=\"menu-icon round\">\r\n            <img src=\"images/settings.png\" :height=\"icon_size\" alt />\r\n          </div>\r\n        </div>\r\n      </el-tooltip>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '@/event-bus.js'\r\nimport { watch } from 'vue'\r\nimport { userStore } from '@/store'\r\nimport { useRoute } from 'vue-router'\r\nexport default {\r\n  data() {\r\n    return {\r\n      icon_size: 35,\r\n      active_item: '/'\r\n    }\r\n  },\r\n  computed: {\r\n    IsUserLogin() {\r\n      return userStore.getters.IsLogin\r\n    }\r\n  },\r\n  methods: {\r\n    CLoseEventHandle() {\r\n      this.$emit('close', \"\");\r\n      bus.emit('/alarm_footer_send_to_back', false);\r\n    },\r\n    PageSwitch(route_name, display_name = '') {\r\n      var current_route = this.$router.currentRoute.value.path;\r\n      if (route_name != current_route) {\r\n        setTimeout(() => {\r\n          this.$router.push(route_name);\r\n          bus.emit('/router-change', { route_display_name: display_name, route_name: route_name });\r\n        }, 100);\r\n      }\r\n    },\r\n    Selected(name) {\r\n      return {\r\n        backgroundColor: this.active_item == name ? 'rgb(13, 110, 253)' : ''\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    const route = useRoute()\r\n    watch(\r\n      () => route.path,\r\n      (newValue, oldValue) => {\r\n        this.active_item = newValue;\r\n      }\r\n    )\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.side-menu-fixed {\r\n  z-index: 99999;\r\n  width: 70px;\r\n  background-color: rgb(31, 31, 31);\r\n  color: white;\r\n  padding: 0;\r\n  position: fixed;\r\n  left: 0;\r\n  height: 100%;\r\n  border-right: 2px solid rgb(192, 191, 191);\r\n\r\n  .side-item {\r\n    padding: 10px 5px;\r\n    position: relative;\r\n    cursor: pointer;\r\n    height: 80px;\r\n    width: 100%;\r\n\r\n    .menu-icon {\r\n      background-color: white;\r\n      margin: 5px 5px;\r\n      width: 50px;\r\n      height: 50px;\r\n      padding: 10px;\r\n\r\n      img {\r\n        position: relative;\r\n        right: 3px;\r\n        bottom: 3px;\r\n      }\r\n    }\r\n\r\n    .logo-text {\r\n      font-size: 24px;\r\n      font-weight: bold;\r\n      padding: 0;\r\n\r\n      .log-sub-text {\r\n        font-size: 20px;\r\n        position: relative;\r\n        top: -8px;\r\n        color: grey;\r\n      }\r\n    }\r\n  }\r\n\r\n  .side-item:hover {\r\n    background-color: rgb(13, 110, 253);\r\n  }\r\n}\r\n</style>","import { render } from \"./SideMenu.vue?vue&type=template&id=689b0418&scoped=true\"\nimport script from \"./SideMenu.vue?vue&type=script&lang=js\"\nexport * from \"./SideMenu.vue?vue&type=script&lang=js\"\n\nimport \"./SideMenu.vue?vue&type=style&index=0&id=689b0418&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-689b0418\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"app-header bg-primary text-light border-bottom border-left fixed-top\">\r\n    <div class=\"d-flex flex-row py-1\">\r\n      <!-- <i @click=\"ToggleMenu\" class=\"bi bi-list menu-toggle-icon text-light px-2\"></i>\r\n      <h3 @click=\"LogoClickHandler\">\r\n        <b>GPM AGVS</b>\r\n      </h3>-->\r\n      <div\r\n        v-if=\"!modes.system_operation_mode.actived\"\r\n        class=\"matain-mode-notify py-2 px-3\">維護模式:自動派車、充電功能已關閉。</div>\r\n      <b-button\r\n        v-else\r\n        class=\"mx-2\"\r\n        @click=\"HandleAutoDispatchBtnClick\"\r\n        style=\"width:100px;font-weight: bold; font-size:large;text-decoration: underline;\"\r\n        variant=\"light\"\r\n        size=\"sm\">自動派工</b-button>\r\n      <div class=\"page-name-display mx-2\">{{ current_route_info.route_display_name }}</div>\r\n      <div class=\"flex-fill\"></div>\r\n      <div class=\"options d-flex justify-content-between\">\r\n        <i class=\"bi bi-three-dots-vertical pt-2\"></i>\r\n        <div class=\"op-mode-switch-container\" v-for=\"(mode, key) in modes\" :key=\"key\">\r\n          <span class=\"mx-1\">{{ mode.name }}</span>\r\n          <el-switch\r\n            v-model=\"mode.actived\"\r\n            active-color=\"rgb(95, 171, 80)\"\r\n            inactive-color=\"red\"\r\n            :active-text=\"mode.active_text\"\r\n            :inactive-text=\"mode.inactive_text\"\r\n            border-color=\"grey\"\r\n            inline-prompt\r\n            :before-change=\"mode.beforeChangeHandler\"\r\n            :loading=\"mode.loading\"\r\n            size=\"large\"\r\n            width=\"75px\"></el-switch>\r\n        </div>\r\n        <!-- <div v-if=\"modes.system_operation_mode.actived\" class=\"op-mode-switch-container\"> -->\r\n        <div class=\"op-mode-switch-container\">\r\n          <span class=\"mx-1\">檢視模式</span>\r\n          <el-switch\r\n            v-model=\"isEasyMode\"\r\n            @change=\"HandleViewModeChanged\"\r\n            :before-change=\"CheckUserLoginState\"\r\n            active-color=\"rgb(95, 171, 80)\"\r\n            inactive-color=\"red\"\r\n            active-text=\"簡易模式\"\r\n            inactive-text=\"工程模式\"\r\n            border-color=\"grey\"\r\n            inline-prompt\r\n            size=\"large\"\r\n            width=\"80px\"></el-switch>\r\n        </div>\r\n        <div>\r\n          <el-popover placement=\"top\" title width trigger=\"hover\" content popper-class=\"bg-light\">\r\n            <template #reference>\r\n              <b-button size=\"sm\" class=\"mx-1\" variant=\"light\"> 中文 <i class=\"bi bi-caret-down-fill\"></i>\r\n              </b-button>\r\n            </template>\r\n            <template #default>\r\n              <div class=\"d-flex flex-column\">\r\n                <b-button @click=\"LangSwitch('zh-TW')\" variant=\"light\">中文</b-button>\r\n                <b-button @click=\"LangSwitch('en-US')\" variant=\"light\">ENGLISH</b-button>\r\n              </div>\r\n            </template>\r\n          </el-popover>\r\n        </div>\r\n        <div @click=\"LoginClickHandler\">\r\n          <el-popover placement=\"top\" title width trigger=\"hover\" content popper-class=\"bg-light\">\r\n            <template #reference>\r\n              <b-button size=\"sm\" variant=\"light\"> {{ UserName }} <i v-if=\"IsLogin\" class=\"bi bi-caret-down-fill\"></i>\r\n              </b-button>\r\n            </template>\r\n            <template #default>\r\n              <div class=\"d-flex flex-column\">\r\n                <b-button v-if=\"!IsLogin\" @click=\"LoginClickHandler\" variant=\"light\">登入</b-button>\r\n                <b-button v-if=\"IsLogin\" @click=\"LogoutQickly\" variant=\"danger\">登出</b-button>\r\n                <b-button\r\n                  v-if=\"IsLogin\"\r\n                  class=\"my-1 bg-light text-dark\"\r\n                  @click=\"LoginClickHandler('switch')\">切換使用者</b-button>\r\n              </div>\r\n            </template>\r\n          </el-popover>\r\n        </div>\r\n      </div>\r\n      <Login ref=\"login\" :IsLogin=\"IsLogin\"></Login>\r\n    </div>\r\n    <!--Alarm-->\r\n    <div v-show=\"showAlarm\" class=\"alarm text-dark\">\r\n      <div class=\"alarm-container\" v-bind:class=\"system_alarms\">\r\n        <div class=\"flex-fill\">\r\n          <span class=\"type-text\">\r\n            <!-- <i class=\"bi bi-three-dots-vertical pt-2\"></i> --> 系統警報 </span>\r\n          <span class=\"alarm-text\">{{ system_alrm_text }}</span>\r\n        </div>\r\n        <div class=\"opt\">\r\n          <div>\r\n            <b-button\r\n              v-if=\"current_user_role != 0\"\r\n              @click=\"ResetSysAlarmsHandler\"\r\n              class=\"mb-2\"\r\n              size=\"sm\"\r\n              variant=\"danger\">警報復歸</b-button>\r\n          </div>\r\n          <i class=\"bi bi-clock-history\" @click=\"NavigateToAlarmView\"></i>\r\n        </div>\r\n      </div>\r\n      <div class=\"alarm-container\" v-bind:class=\"equipment_alarms\">\r\n        <div class=\"flex-fill\">\r\n          <span class=\"type-text\">\r\n            <!-- <i class=\"bi bi-three-dots-vertical pt-2\"></i> --> 設備警報 </span>\r\n          <span class=\"alarm-text\">{{ eq_alrm_text }}</span>\r\n        </div>\r\n        <div class=\"opt\">\r\n          <div>\r\n            <b-button\r\n              v-if=\"false\"\r\n              @click=\"ResetEqpAlarmsHandler\"\r\n              class=\"mb-2\"\r\n              size=\"sm\"\r\n              variant=\"danger\">警報復歸</b-button>\r\n          </div>\r\n          <i class=\"bi bi-clock-history\" @click=\"NavigateToAlarmView\"></i>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Login from '@/views/Login.vue';\r\nimport bus from '@/event-bus.js'\r\nimport { GetOperationStates, RunMode, HostConnMode, HostOperationMode, TransferMode } from '@/api/SystemAPI';\r\nimport { IsLoginLastTime } from '@/api/AuthHelper';\r\nimport { ResetSystemAlarm, ResetEquipmentAlarm, AlarmHelper } from '@/api/AlarmAPI.js'\r\nimport moment from 'moment'\r\n\r\nimport { watch } from 'vue'\r\nimport { useRoute } from 'vue-router'\r\nimport { agvs_settings_store, userStore } from '@/store'\r\nexport default {\r\n  components: {\r\n    Login\r\n  },\r\n  data() {\r\n    return {\r\n      current_route_info: {\r\n        route_display_name: '派車系統',\r\n        route_name: '/'\r\n      },\r\n\r\n      maintain_mode: true,\r\n      modes: {\r\n        system_operation_mode: {\r\n          name: '操作模式',\r\n          actived: false,\r\n          active_text: '運轉',\r\n          inactive_text: '維護',\r\n          loading: false,\r\n          beforeChangeHandler: this.SysOptModeChangeRequest\r\n        },\r\n        transfer_mode: {\r\n          name: \"派工模式\",\r\n          enabled: false,\r\n          active_text: '自動',\r\n          inactive_text: '手動',\r\n          loading: false,\r\n          beforeChangeHandler: this.TransferModeChangeRequest\r\n        },\r\n        host_conn_mode: {\r\n          name: 'HOST連線',\r\n          enabled: false,\r\n          active_text: 'Online',\r\n          inactive_text: 'Offline',\r\n          loading: false,\r\n          beforeChangeHandler: this.HostConnModeChangeRequest\r\n        },\r\n        host_operation_mode: {\r\n          name: 'HOST模式',\r\n          enabled: false,\r\n          active_text: 'Remote',\r\n          inactive_text: 'Local',\r\n          loading: false,\r\n          beforeChangeHandler: this.HostOptModeChangeRequest\r\n        }\r\n\r\n      },\r\n      system_alarms: [''],\r\n      equipment_alarms: [''],\r\n      system_alrm_text: '',\r\n      eq_alrm_text: '',\r\n      unchecked_alarms: [],\r\n      showAlarm: true,\r\n      isEasyMode: false\r\n    }\r\n  },\r\n  computed: {\r\n    IsLogin() {\r\n      return userStore.getters.IsLogin;\r\n    },\r\n    current_user_role() {\r\n      return userStore.getters.level;\r\n    },\r\n    UserName() {\r\n      var level = userStore.getters.level;\r\n      var username = userStore.getters.UserName.toUpperCase();\r\n      if (level == -1)\r\n        return '訪客'\r\n      else if (level == 0)\r\n        return `${username}(OP)`\r\n\r\n      else if (level == 1)\r\n        return `${username}(ENG)`\r\n\r\n      else if (level == 2)\r\n        return `${username}(DEV)`\r\n      else if (level == 3)\r\n        return `${username}(GOD)`\r\n      else\r\n        return 'VISITOR'\r\n    },\r\n    SystemAlarms() {\r\n      if (!this.unchecked_alarms)\r\n        return [];\r\n      return this.unchecked_alarms.filter(alarm => alarm.Source == 0)\r\n    },\r\n    EquipmentAlarms() {\r\n\r\n      if (!this.unchecked_alarms)\r\n        return [];\r\n      return this.unchecked_alarms.filter(alarm => alarm.Source == 1)\r\n    },\r\n\r\n\r\n  },\r\n  mounted() {\r\n    this.DownloadSystemOperationsSettings();\r\n    bus.on('/router-change', (new_rotue) => {\r\n      this.current_route_info = new_rotue\r\n    });\r\n    bus.on('/show-login-view-invoke', () => {\r\n      this.LoginClickHandler();\r\n    })\r\n    const route = useRoute()\r\n    watch(\r\n      () => route.path,\r\n      (newValue, oldValue) => {\r\n        this.showAlarm = newValue != \"/alarm\" && newValue != \"/map\" && newValue != \"/sys_settings\" && newValue != \"/data\";\r\n      }\r\n    )\r\n\r\n    var alarmHelper = new AlarmHelper(this.on_alarm_message);\r\n    this.AlarmDisplayHandler();\r\n  },\r\n  methods: {\r\n    HandleAutoDispatchBtnClick() {\r\n      if (!userStore.getters.IsLogin) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '權限不足 請先登入',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n        return;\r\n      }\r\n      bus.emit('bus-show-task-allocation', { agv_name: \"\", agv_type: \"\", action: '', station_data: undefined });\r\n    },\r\n    async DownloadSystemOperationsSettings(delay_ms = 1000) {\r\n      setTimeout(async () => {\r\n        var settings = await GetOperationStates()\r\n        agvs_settings_store.commit('setOperations', settings)\r\n        this.modes.system_operation_mode.actived = settings.system_run_mode == 1;\r\n        this.modes.host_conn_mode.actived = settings.host_online_mode == 1;\r\n        this.modes.host_operation_mode.actived = settings.host_remote_mode == 1;\r\n        this.modes.transfer_mode.actived = settings.transfer_mode == 1\r\n        // this.modes.system_operation_mode.loading = settings.system_run_mode == 2 || settings.system_run_mode == 3\r\n\r\n\r\n      }, delay_ms);\r\n    },\r\n    on_alarm_message(ev) {\r\n      this.unchecked_alarms = JSON.parse(ev.data)\r\n    },\r\n    ToggleMenu() {\r\n      this.$emit('onMenuToggleClicked', '')\r\n    },\r\n    LogoClickHandler() {\r\n      this.$router.push('/');\r\n      this.current_route_info = {\r\n        route_display_name: 'Home',\r\n        route_name: '/'\r\n      }\r\n    },\r\n    LoginClickHandler(action = '') {\r\n      if (!this.IsLogin | action == 'switch')\r\n        this.$refs['login'].Show(this.current_route_info.route_name);\r\n    },\r\n    LogoutQickly() {\r\n\r\n      this.$swal.fire({\r\n        title: 'Logout!',\r\n        text: '確定要登出?',\r\n        icon: 'question',\r\n        showCancelButton: true,\r\n        confirmButtonText: 'Yes'\r\n      }).then(ret => {\r\n        if (ret.isConfirmed) {\r\n          userStore.commit('setUser', null)\r\n\r\n          if (this.$route.meta.isAdminUse) {\r\n            this.$router.push('/')\r\n          }\r\n          this.$swal.fire({ title: '登出成功!', icon: 'success', timer: 3000 })\r\n\r\n        }\r\n      })\r\n\r\n    },\r\n    async TransferModeChangeRequest() {\r\n\r\n      if (!this.CheckUserLoginState())\r\n        return false;\r\n      var response = await TransferMode(this.modes.transfer_mode.actived ? 0 : 1);\r\n      var success = response.confirm;\r\n      var mode_req_text = '搬運模式切換'\r\n      if (!success) {\r\n        this.ModeRequestFailHandler(`搬運模式`, '搬運模式切換');\r\n      }\r\n      else {\r\n        this.ModeRequestSuccessHandler(mode_req_text);\r\n        agvs_settings_store.commit('setTransferRemote', !this.modes.transfer_mode.actived)\r\n      }\r\n\r\n      return success;\r\n    },\r\n    HandleViewModeChanged(isEasyMode) {\r\n      bus.emit('view_mode_changed', isEasyMode)\r\n    },\r\n    async SysOptModeChangeRequest(force = false) {\r\n      if (!this.CheckUserLoginState())\r\n        return false;\r\n      this.modes.system_operation_mode.loading = true;\r\n      var mode_req_text = this.modes.system_operation_mode.actived ? '操作模式-MAINTAIN' : '操作模式-RUN';\r\n      var response = await RunMode(this.modes.system_operation_mode.actived ? 0 : 1, force);\r\n      var success = response.confirm;\r\n      var msg = response.message;\r\n      if (!success) {\r\n        var isGodOrDevLogin = userStore.getters.level == 2 || userStore.getters.level == 3;\r\n        this.ModeRequestFailHandler(\"操作模式\", msg, (msg == '尚有任務在執行中' && isGodOrDevLogin) ? '強制切換' : '', async () => {\r\n          setTimeout(() => {\r\n            this.SysOptModeChangeRequest(true);\r\n            this.DownloadSystemOperationsSettings(100);\r\n          }, 500)\r\n\r\n        });\r\n      }\r\n      else {\r\n        agvs_settings_store.commit('setRunMode', !this.modes.system_operation_mode.actived)\r\n        this.ModeRequestSuccessHandler(mode_req_text);\r\n      }\r\n      this.modes.system_operation_mode.loading = false;\r\n      return success\r\n    },\r\n    /**This function handles the change of the host connection mode.  */\r\n    async HostConnModeChangeRequest() {\r\n      if (!this.CheckUserLoginState())\r\n        return false;\r\n      this.modes.host_conn_mode.loading = true;\r\n      var mode_req_text = this.modes.host_conn_mode.actived ? 'OFFLINE' : 'ONLINE';\r\n      var response = await HostConnMode(this.modes.host_conn_mode.actived ? 0 : 1);\r\n      var success = response.confirm;\r\n      var msg = response.message;\r\n      if (!success) {\r\n        this.ModeRequestFailHandler(`HOST ${mode_req_text}`, msg);\r\n      }\r\n      else {\r\n        this.ModeRequestSuccessHandler(mode_req_text);\r\n        agvs_settings_store.commit('setHostOnline', !this.modes.host_conn_mode.actived)\r\n      }\r\n      this.modes.host_conn_mode.loading = false;\r\n      return success;\r\n    },\r\n    async HostOptModeChangeRequest() {\r\n      if (!this.CheckUserLoginState())\r\n        return false;\r\n      this.modes.host_operation_mode.loading = true;\r\n      var mode_req_text = this.modes.host_operation_mode.actived ? 'LOCAL' : 'REMOTE';\r\n      var response = await HostOperationMode(this.modes.host_operation_mode.actived ? 0 : 1);\r\n      var success = response.confirm;\r\n      var msg = response.message;\r\n      if (!success) {\r\n        this.ModeRequestFailHandler(`HOST ${mode_req_text}`, msg);\r\n      }\r\n      else {\r\n        this.ModeRequestSuccessHandler(mode_req_text);\r\n        agvs_settings_store.commit('setHostRemote', !this.modes.host_operation_mode.actived)\r\n      }\r\n      this.modes.host_operation_mode.loading = false;\r\n\r\n      return success;\r\n    },\r\n    CheckUserLoginState() {\r\n      if (!this.IsLogin) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '權限不足 請先登入',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n      }\r\n      return this.IsLogin;\r\n    },\r\n    ModeRequestFailHandler(action, message, action1_text = '', action_1 = () => { }) {\r\n      var hasActions = action1_text != \"\";\r\n      this.$swal.fire({\r\n        title: `${action} 切換失敗`,\r\n        text: message + '，請稍後再嘗試切換。',\r\n        icon: 'error',\r\n        showCancelButton: hasActions,\r\n        cancelButtonText: action1_text,\r\n        allowOutsideClick: !hasActions\r\n      }).then((ret) => {\r\n        if (!ret.isConfirmed && hasActions) {\r\n          action_1();\r\n        }\r\n      })\r\n    },\r\n    ModeRequestSuccessHandler(action) {\r\n      this.$vs.notify({\r\n        color: 'success',\r\n        title: `${action}請求`,\r\n        text: `${action}請求成功`,\r\n        position: 'bottom-right',\r\n        time: 2000\r\n      })\r\n    },\r\n    LangSwitch(lang) {\r\n      this.$i18n.locale = lang;\r\n\r\n    },\r\n    async ResetSysAlarmsHandler() {\r\n      await ResetSystemAlarm()\r\n      this.$vs.notify({\r\n        color: 'primary',\r\n        title: '警報復歸請求',\r\n        text: '系統警報復歸請求完成',\r\n        position: 'bottom-right',\r\n        time: 1400\r\n      })\r\n      this.system_alarms = [''];\r\n      this.system_alrm_text = \"\";\r\n    },\r\n    async ResetEqpAlarmsHandler() {\r\n      await ResetEquipmentAlarm()\r\n      this.$vs.notify({\r\n        color: 'primary',\r\n        title: '警報復歸請求',\r\n        text: '設備警報復歸請求完成',\r\n        position: 'bottom-right',\r\n        time: 1400\r\n      })\r\n    },\r\n    CreateAlarmDisplayText(alarm) {\r\n      return `${moment(alarm.Time).format('yyyy/MM/DD HH:mm:ss')} |${alarm.AlarmCode}|${alarm.Equipment_Name}|-${alarm.Description_Zh}(${alarm.Description_En})`\r\n    },\r\n    AlarmDisplayHandler() {\r\n      var sys_alarm_inx = 0;\r\n      var eq_alarm_inx = 0;\r\n\r\n      setInterval(() => {\r\n        if (!this.SystemAlarms || this.SystemAlarms.length == 0) {\r\n          this.system_alarms = [''];\r\n          this.system_alrm_text = '';\r\n          return;\r\n        }\r\n        var sys_alarm = this.SystemAlarms[sys_alarm_inx]\r\n        if (sys_alarm) {\r\n          this.system_alarms = [sys_alarm.Level == 1 ? 'alarm' : 'warning'];\r\n          this.system_alrm_text = this.CreateAlarmDisplayText(sys_alarm);\r\n        } else {\r\n          this.system_alarms = [''];\r\n          this.system_alrm_text = '';\r\n        }\r\n        sys_alarm_inx += 1;\r\n        if (sys_alarm_inx >= this.SystemAlarms.length)\r\n          sys_alarm_inx = 0\r\n\r\n      }, 2000);\r\n\r\n      setInterval(() => {\r\n        if (!this.EquipmentAlarms || this.EquipmentAlarms.length == 0) {\r\n          this.equipment_alarms = [''];\r\n          this.eq_alrm_text = '';\r\n          return;\r\n        }\r\n        var eq_alarm = this.EquipmentAlarms[eq_alarm_inx]\r\n        if (eq_alarm) {\r\n          this.equipment_alarms = [eq_alarm.Level == 1 ? 'alarm' : 'warning'];\r\n          this.eq_alrm_text = this.CreateAlarmDisplayText(eq_alarm);\r\n        } else {\r\n          this.equipment_alarms = [''];\r\n          this.eq_alrm_text = '';\r\n        }\r\n        eq_alarm_inx += 1;\r\n        if (eq_alarm_inx >= this.EquipmentAlarms.length)\r\n          eq_alarm_inx = 0\r\n      }, 2000);\r\n    },\r\n    NavigateToAlarmView() {\r\n      this.$router.push('/alarm');\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.app-header {\r\n  z-index: 2;\r\n  padding-left: 70px;\r\n\r\n  h3 {\r\n    margin-left: 40px;\r\n  }\r\n\r\n  h3:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .alarm {\r\n    height: 48px;\r\n\r\n    .alarm-container {\r\n      display: flex;\r\n      flex-direction: row;\r\n      background-color: rgb(255, 229, 234);\r\n      border: 2px solid rgb(248, 195, 195);\r\n\r\n      .type-text,\r\n      .alarm-text {\r\n        margin: auto 5px;\r\n        font-weight: bold;\r\n        float: left;\r\n      }\r\n\r\n      .type-text {\r\n        width: 99px;\r\n        border-radius: 13px;\r\n        background-color: rgb(255, 62, 62);\r\n        color: white;\r\n        margin-top: 4px;\r\n        text-align: center;\r\n        // text-decoration: underline;\r\n      }\r\n\r\n      .alarm-text {\r\n        padding: 3px;\r\n        font-weight: bold;\r\n        font-size: 18px;\r\n      }\r\n\r\n      .opt {\r\n        padding-inline: 3px;\r\n        display: flex;\r\n        flex-direction: row;\r\n\r\n        div {\r\n          width: 85px;\r\n          padding-top: 3px;\r\n        }\r\n\r\n        i {\r\n          font-size: 25px;\r\n          margin-right: 5px;\r\n        }\r\n\r\n        i:hover {\r\n          cursor: pointer;\r\n        }\r\n      }\r\n    }\r\n\r\n    .alarm {\r\n      animation: alarm_blink 2s infinite;\r\n    }\r\n\r\n    .warning {\r\n      animation: warning_blink 1s infinite;\r\n    }\r\n  }\r\n\r\n  .options {\r\n    position: relative;\r\n    top: 5px;\r\n    margin-right: 10px;\r\n\r\n    .op-mode-switch-container {\r\n      margin-right: 5px;\r\n      font-weight: bold;\r\n\r\n      .is-text {\r\n        font-size: 16px;\r\n      }\r\n    }\r\n  }\r\n\r\n  @keyframes alarm_blink {\r\n\r\n    0%,\r\n    100% {\r\n      background-color: rgb(242, 76, 76);\r\n      color: white;\r\n    }\r\n\r\n    50% {\r\n      background-color: rgb(255, 229, 234);\r\n      color: red;\r\n    }\r\n  }\r\n\r\n  @keyframes warning_blink {\r\n\r\n    0%,\r\n    100% {\r\n      background-color: rgb(231, 197, 85);\r\n      color: white;\r\n    }\r\n\r\n    50% {\r\n      background-color: rgb(255, 229, 234);\r\n      color: black;\r\n    }\r\n  }\r\n\r\n  .matain-mode-notify {\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n    animation: blink 2s infinite;\r\n    position: absolute;\r\n    left: 200px;\r\n    border-radius: 3px;\r\n    border: 1px solid white;\r\n    height: 44px;\r\n    top: 1px;\r\n  }\r\n\r\n  @keyframes blink {\r\n\r\n    0%,\r\n    100% {\r\n      background-color: red;\r\n    }\r\n\r\n    50% {\r\n      background-color: grey;\r\n    }\r\n\r\n  }\r\n\r\n  .page-name-display {\r\n    font-size: 25px;\r\n    font-weight: bold;\r\n  }\r\n\r\n  .user-account {}\r\n}</style>","<template>\r\n  <el-dialog\r\n    v-model=\"dialogVisible\"\r\n    :show-close=\"true\"\r\n    :close-on-click-modal=\"false\"\r\n    :close-on-press-escape=\"false\"\r\n    :modal=\"true\"\r\n    draggable\r\n    width=\"400\"\r\n    style=\"z-index:9900\">\r\n    <template #header=\"{ titleId, login_title }\">\r\n      <div class=\"login-header\">\r\n        <h3 :id=\"titleId\" :class=\"login_title\">使用者登入</h3>\r\n        <el-divider></el-divider>\r\n      </div>\r\n    </template>\r\n    <div class=\"login-content\">\r\n      <el-form label-position=\"top\">\r\n        <el-form-item label=\"Username\" :required=\"true\">\r\n          <b-form-input\r\n            autofocus\r\n            autocomplete=\"new-password\"\r\n            :disabled=\"IsLogin\"\r\n            ref=\"account\"\r\n            @keyup.enter=\"FocusPasswordInput\"\r\n            @keyup.down=\"FocusPasswordInput\"\r\n            @keyup.esc=\"UserName = ''\"\r\n            v-model=\"UserName\"\r\n            :state=\"UserName != ''\"\r\n            placeholder=\"請輸入帳號\"\r\n            required></b-form-input>\r\n        </el-form-item>\r\n        <el-form-item label=\"Password\" :required=\"true\">\r\n          <b-form-input\r\n            autocomplete=\"new-password\"\r\n            type=\"password\"\r\n            :disabled=\"IsLogin\"\r\n            ref=\"pw_input\"\r\n            @keyup.enter=\"PasswordEnterClickHandler\"\r\n            @keyup.up=\"FocusAccountInput\"\r\n            @keyup.esc=\"Password = ''\"\r\n            v-model=\"Password\"\r\n            :state=\"Password != ''\"\r\n            placeholder=\"請輸入密碼\"\r\n            required></b-form-input>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"IsLogin\">\r\n          <b-button\r\n            @click=\"LogoutHandle()\"\r\n            :loading=\"logouting\"\r\n            class=\"w-100\"\r\n            variant=\"danger\">Logout</b-button>\r\n        </el-form-item>\r\n        <el-form-item v-if=\"!IsLogin\">\r\n          <b-button @click=\"LoginHandle()\" :loading=\"logining\" class=\"w-100\" variant=\"primary\">Login</b-button>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <b-button @click=\"dialogVisible = false\" class=\"w-100\">Cancel</b-button>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"login-message\">{{ message }}</div>\r\n    </div>\r\n    <!-- <KeyBoard @onChange=\"onChange\" :input=\"keyboard_input\"></KeyBoard> -->\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { userStore } from '@/store'\r\nimport KeyBoard from '@/components/Tools/SimpleKeyboard.vue'\r\nimport bus from '@/event-bus.js';\r\nimport { ClearLoginCookie, IsLoginLastTime } from '@/api/AuthHelper.js'\r\n// import { OkModal, OkCancelModal } from '@/components/ModalHelper.js'\r\nexport default {\r\n  components: {\r\n    KeyBoard,\r\n  },\r\n  data() {\r\n    return {\r\n      dialogVisible: false,\r\n      UserName: '',\r\n      Password: '',\r\n      focus_input: 'account',\r\n      keyboard_input: '',\r\n      message: '',\r\n      logining: false,\r\n      logouting: false,\r\n      ShowLogoutDialog: false,\r\n      // OkModal: new OkModal()\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    IsLogin() {\r\n      return userStore.getters.IsLogin;\r\n    }\r\n  },\r\n  methods: {\r\n    FocusPasswordInput() {\r\n      this.$refs['pw_input'].focus();\r\n    },\r\n    FocusAccountInput() {\r\n      this.$refs['account'].focus();\r\n    },\r\n\r\n    PasswordEnterClickHandler() {\r\n      this.LoginHandle();\r\n    },\r\n    Show(current_route = '/') {\r\n      this.current_route = current_route;\r\n\r\n      if (!this.IsLogin) {\r\n        this.message = this.UserName = this.Password = '';\r\n      }\r\n      else {\r\n        this.UserName = userStore.getters.UserName;\r\n        this.Password = '********************';\r\n      }\r\n      this.dialogVisible = true;\r\n    },\r\n    async LoginHandle() {\r\n\r\n      if (this.UserName == '') {\r\n        this.message = '請輸入 Account'\r\n        this.FocusAccountInput();\r\n        return;\r\n      }\r\n      if (this.Password == '') {\r\n        this.message = '請輸入 Passowrd'\r\n        this.FocusPasswordInput();\r\n        return;\r\n      }\r\n\r\n      this.logining = true;\r\n      setTimeout(async () => {\r\n\r\n        const user = {\r\n          Username: this.UserName,\r\n          Password: this.Password\r\n        };\r\n\r\n        var response = await userStore.dispatch('login', user)\r\n        if (response != undefined) {\r\n          if (response.confirm) {\r\n            this.dialogVisible = false;\r\n            this.$swal.fire({ title: '登入成功!', icon: 'success', timer: 3000 })\r\n          } else {\r\n            this.message = response.message;\r\n          }\r\n        }\r\n        this.logining = false;\r\n      }, 10);\r\n\r\n    },\r\n    LogoutHandle() {\r\n\r\n      this.logouting = true;\r\n\r\n      setTimeout(() => {\r\n        ClearLoginCookie();\r\n        userStore.commit('setUser', null)\r\n        bus.emit('/logout', undefined);\r\n        this.$emit('RoleChanged', 0);\r\n        this.UserName = this.Password = '';\r\n        this.$swal.fire({ title: '登出成功!', icon: 'success', timer: 3000 })\r\n        setTimeout(() => {\r\n          //this.dialogVisible = this.isLogin = false;\r\n          if (this.$route.meta.isAdminUse) {\r\n            this.$router.push('/')\r\n          }\r\n        }, 1000);\r\n\r\n        this.logouting = false;\r\n      }, 100);\r\n\r\n\r\n    },\r\n    OnInputFocus(name) {\r\n      this.focus_input = name;\r\n\r\n      if (this.focus_input == 'account') {\r\n        this.keyboard_input = this.UserName + '';\r\n      } else {\r\n        this.keyboard_input = this.Password + '';\r\n      }\r\n    },\r\n    onChange(input) {\r\n      this.message = '';\r\n      console.log(input);\r\n      this.keyboard_input = input;\r\n      if (this.focus_input == \"account\") {\r\n        this.UserName = input;\r\n      } else {\r\n        this.$refs.pw_input.focus();\r\n        this.Password = input;\r\n        this.$refs.pw_input.focus();\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.login-header {\r\n  h3 {\r\n    text-align: left;\r\n    color: black;\r\n  }\r\n}\r\n\r\n.login-content {\r\n  position: relative;\r\n  top: -50px;\r\n  left: 10px;\r\n\r\n  .login-message {\r\n    color: red;\r\n    text-align: left;\r\n  }\r\n\r\n  .btn,\r\n  input {\r\n    margin-right: 21px;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div :class=\"keyboardClass\"></div>\r\n</template>\r\n  \r\n  <script>\r\nimport Keyboard from \"simple-keyboard\";\r\nimport \"simple-keyboard/build/css/index.css\";\r\n\r\nexport default {\r\n  name: \"SimpleKeyboard\",\r\n  props: {\r\n    keyboardClass: {\r\n      default: \"simple-keyboard\",\r\n      type: String\r\n    },\r\n    input: {\r\n      type: String\r\n    }\r\n  },\r\n  data: () => ({\r\n    keyboard: null\r\n  }),\r\n  mounted() {\r\n    this.keyboard = new Keyboard(this.keyboardClass, {\r\n      onChange: this.onChange,\r\n      onKeyPress: this.onKeyPress\r\n    });\r\n  },\r\n  methods: {\r\n    onChange(input) {\r\n      this.$emit(\"onChange\", input);\r\n    },\r\n    onKeyPress(button) {\r\n      this.$emit(\"onKeyPress\", button);\r\n\r\n      /**\r\n       * If you want to handle the shift and caps lock buttons\r\n       */\r\n      if (button === \"{shift}\" || button === \"{lock}\") this.handleShift();\r\n    },\r\n    handleShift() {\r\n      let currentLayout = this.keyboard.options.layoutName;\r\n      let shiftToggle = currentLayout === \"default\" ? \"shift\" : \"default\";\r\n\r\n      this.keyboard.setOptions({\r\n        layoutName: shiftToggle\r\n      });\r\n    }\r\n  },\r\n  watch: {\r\n    input(input) {\r\n      this.keyboard.setInput(input);\r\n    }\r\n  }\r\n};\r\n  </script>\r\n  \r\n  <!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n  <style scoped>\r\n</style>\r\n  ","import { render } from \"./SimpleKeyboard.vue?vue&type=template&id=04b0acee\"\nimport script from \"./SimpleKeyboard.vue?vue&type=script&lang=js\"\nexport * from \"./SimpleKeyboard.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Login.vue?vue&type=template&id=b9c8e9c6&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=b9c8e9c6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b9c8e9c6\"]])\n\nexport default __exports__","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nvar _axios = axios.create({\r\n   baseURL: param.backend_host,\r\n})\r\n\r\n/**取得前端網頁設定參數 */\r\nexport async function GetFrontendOptions() {\r\n   var ret = await _axios.get(`api/System/WebSite`);\r\n   return ret.data;\r\n}\r\n\r\n\r\n\r\n/**取得模式設定狀態(RUNMODE, HOST_CONN, HOST_OPERATION ) */\r\nexport async function GetOperationStates(mode = 0 | 1) {\r\n   var ret = await _axios.get(`api/system/OperationStates`);\r\n   return ret.data;\r\n}\r\n\r\n\r\n/**運轉模式切換。\r\n * 0:Maintain\r\n * 1:Run\r\n */\r\nexport async function RunMode(mode = 0 | 1, forecing_change = false) {\r\n   var ret = await _axios.post(`api/system/runmode?mode=${mode}&forecing_change=${forecing_change}`);\r\n   return ret.data;\r\n}\r\n\r\n/**Host Online/Offline模式切換。\r\n * 0:Offline\r\n * 1:Online\r\n */\r\nexport async function HostConnMode(mode = 0 | 1) {\r\n   var ret = await _axios.post(`api/system/hostconn?mode=${mode}`);\r\n   return ret.data;\r\n}\r\n\r\n/**HOST Local/Remote模式切換。\r\n * 0:Local\r\n * 1:Remote\r\n */\r\nexport async function HostOperationMode(mode = 0 | 1) {\r\n   var ret = await _axios.post(`api/system/hostoperation?mode=${mode}`);\r\n   return ret.data;\r\n}\r\n\r\n\r\n/**搬運任務產生模式切換。\r\n * 0:MANUAL\r\n * 1:LOCAL_AUTO\r\n */\r\nexport async function TransferMode(mode = 0 | 1) {\r\n   var ret = await _axios.post(`api/system/TransferMode?mode=${mode}`);\r\n   return ret.data;\r\n}","import { render } from \"./Header.vue?vue&type=template&id=4c7b52f8&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=4c7b52f8&scoped=true&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4c7b52f8\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"alarm-display w-100 fixed-bottom\" v-bind:style=\"dynamic_style_setting\">\r\n    <transition name=\"el-zoom-in-bottom\">\r\n      <div v-show=\"mode=='show'\" class=\"show-mode border\">\r\n        <div class=\"d-flex flex-row\">\r\n          <b-button squared variant=\"secondary\" @click=\"mode='hidden'\">\r\n            <i class=\"bi bi-chevron-double-down\"></i>\r\n          </b-button>\r\n          <div class=\"alarm-display-container d-flex flex-row w-100\">\r\n            <div class=\"h-50 w-100 border d-flex flex-row\">\r\n              <div class=\"alarm-type\">設備異常</div>\r\n              <div>a</div>\r\n            </div>\r\n            <div class=\"h-50 w-100 border d-flex flex-row\">\r\n              <div class=\"alarm-type\">AGV警報</div>\r\n              <div>b</div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </transition>\r\n    <div v-show=\"mode=='hidden'\" class=\"hidden-mode\">\r\n      <b-button squared variant=\"danger\" @click=\"mode='show'\">\r\n        Alarms\r\n        <i class=\"bi bi-chevron-double-up\"></i>\r\n      </b-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '@/event-bus.js'\r\nimport { watch, ref } from 'vue';\r\nimport { useRoute } from 'vue-router'\r\nexport default {\r\n  setup() {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      mode: 'show', //hidden;show\r\n      dynamic_style_setting: {\r\n        zIndex: 20000\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    // bus.emit('/router-change', display_name);\r\n    const currentRoute = ref('')\r\n    const route = useRoute()\r\n    watch(\r\n      () => route.path,\r\n      (newValue, oldValue) => {\r\n        if (newValue != \"/\") {\r\n          this.mode = 'hidden'\r\n        }\r\n        else this.mode = 'show'\r\n      }\r\n    )\r\n    bus.on('/alarm_footer_send_to_back', (enable) => {\r\n      this.dynamic_style_setting.zIndex = enable ? 2 : 20000;\r\n    });\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.alarm-display {\r\n  z-index: 22333;\r\n  .alarm-display-container {\r\n    border: 2px solid white;\r\n    height: 85px;\r\n    margin-left: 8px;\r\n    .alarm-type {\r\n      width: 130px;\r\n      border: 2px solid rgb(174, 174, 174);\r\n      background-color: orange;\r\n      color: white;\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n  .show-mode {\r\n    background: pink;\r\n    // box-shadow: 4px 8px 25px 2px black;\r\n  }\r\n  .hidden-mode {\r\n    background-color: transparent;\r\n    text-align: left;\r\n  }\r\n  button,\r\n  .hidden-mode,\r\n  .show-mode {\r\n    height: 40px;\r\n  }\r\n\r\n  .show-mode {\r\n    height: 45px;\r\n  }\r\n}\r\n</style>","import { render } from \"./AlarmDisplay.vue?vue&type=template&id=500f3560&scoped=true\"\nimport script from \"./AlarmDisplay.vue?vue&type=script&lang=js\"\nexport * from \"./AlarmDisplay.vue?vue&type=script&lang=js\"\n\nimport \"./AlarmDisplay.vue?vue&type=style&index=0&id=500f3560&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-500f3560\"]])\n\nexport default __exports__","<template>\r\n  <div\r\n    class=\"connection-state d-flex flex-row justify-content-between fixed-bottom text-dark text-start\">\r\n    <div class=\"d-flex flex-row\">\r\n      <i class=\"bi bi-three-dots-vertical\"></i>\r\n      <div\r\n        class=\"conn-block px-1 border-end\"\r\n        v-for=\"connection in Connections\"\r\n        :key=\"connection.name\">\r\n        <label>{{ connection.name }}</label>\r\n        <el-tag\r\n          effect=\"dark\"\r\n          :type=\"connection.connected ? 'success' : 'danger'\">{{ connection.connected ? '已連線' : '斷線' }}</el-tag>\r\n      </div>\r\n    </div>\r\n    <div @dblclick=\"handleTimeDoubleClick\" class=\"sys-time\">{{ sys_time }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport WebSocketHelp from '@/api/WebSocketHepler'\r\nimport param from '@/gpm_param'\r\nimport moment from 'moment'\r\nimport { userStore } from '@/store'\r\nexport default {\r\n  data() {\r\n    return {\r\n      Connections: [\r\n        {\r\n          name: \"SERVER\",\r\n          connected: false,\r\n        },\r\n        {\r\n          name: \"VMS\",\r\n          connected: false,\r\n        },\r\n        // {\r\n        //   name: \"DB\",\r\n        //   connected: false,\r\n        // },\r\n      ],\r\n      sys_time: ''\r\n    }\r\n  },\r\n  mounted() {\r\n    setInterval(() => {\r\n      this.sys_time = moment(Date.now()).format('yyyy-MM-DD HH:mm:ss')\r\n    }, 1000);\r\n\r\n    this.ConnectionCheck(undefined, '/ws/VMSAliveCheck', 0);\r\n    this.ConnectionCheck(param.vms_ws_host, '/ws/VMSAliveCheck', 1);\r\n  },\r\n  methods: {\r\n    ConnectionCheck(host, ws_url, index) {\r\n      var alive_check_ws = new WebSocketHelp(ws_url, host);\r\n      alive_check_ws.Connect();\r\n      alive_check_ws.onclose = (ev) => {\r\n        console.log(ws_url + ' onclose')\r\n        this.Connections[index].connected = false;\r\n        setTimeout(() => {\r\n          this.ConnectionCheck(host, ws_url, index);\r\n        }, 1000)\r\n\r\n      }\r\n      alive_check_ws.onopen = (ev) => {\r\n        this.Connections[index].connected = true;\r\n      }\r\n    },\r\n    handleTimeDoubleClick() {\r\n      userStore.dispatch('login', {\r\n        UserName: 'dev',\r\n        Password: '12345678'\r\n      })\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.connection-state {\r\n  background-color: rgb(49, 49, 49);\r\n  // border-block: 3px solid rgb(187, 187, 187);\r\n  padding: 5px;\r\n  padding-left: 70px;\r\n\r\n  i,\r\n  .sys-time {\r\n    font-weight: bold;\r\n    font-family: monospace;\r\n    color: #ffffff;\r\n  }\r\n\r\n  .conn-block {\r\n    margin-right: 8px;\r\n    padding: auto 5px;\r\n\r\n    label {\r\n      color: rgb(255, 255, 255);\r\n      margin: auto 5px;\r\n    }\r\n\r\n    label,\r\n    .el-tag {\r\n      font-weight: bold;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./ConnectionState.vue?vue&type=template&id=0f865be7&scoped=true\"\nimport script from \"./ConnectionState.vue?vue&type=script&lang=js\"\nexport * from \"./ConnectionState.vue?vue&type=script&lang=js\"\n\nimport \"./ConnectionState.vue?vue&type=style&index=0&id=0f865be7&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0f865be7\"]])\n\nexport default __exports__","<template>\r\n  <div v-if=\"IsAnyAGVNeedToMOVE\" class=\"move_agv_notify\">\r\n    <el-badge :value=\"NeedToMoveAGVNum\" class=\"item\">\r\n      <el-button @click=\"HandleBtnClick\" style=\"font-size:large\" plain type=\"warning\" size=\"large\">\r\n        <el-icon>\r\n          <Warning />\r\n        </el-icon>\r\n        <span class=\"mx-1\">移車提示</span>\r\n      </el-button>\r\n    </el-badge>\r\n    <div>\r\n      <el-dialog draggable width=\"400\" :modal=\"false\" title=\"移車\" v-model=\"DialogVisible\">\r\n        <el-table row-key=\"AgvName\" :data=\"WattingAGVInfo\">\r\n          <el-table-column label=\"被阻車輛\" prop=\"AgvName\"></el-table-column>\r\n          <el-table-column label=\"當前地點\" prop=\"AgvName\">\r\n            <template #default=\"scope\">\r\n              <div>{{GetCurrentLocInfoByTag(scope.row.Tag)}}</div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"被阻地點\" prop=\"AgvName\">\r\n            <template #default=\"scope\">\r\n              <div>{{ scope.row.WaitingInfo.WaitingPoint.Name }}</div>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { MapStore } from '@/components/Map/store'\r\nimport { ElNotification } from 'element-plus'\r\nimport { Warning } from '@element-plus/icons-vue'\r\nexport default {\r\n  components: {\r\n    Warning,\r\n  },\r\n  data() {\r\n    return {\r\n      DialogVisible: false\r\n    }\r\n  },\r\n  computed: {\r\n    IsAnyAGVNeedToMOVE() {\r\n\r\n      return this.NeedToMoveAGVNum > 0;\r\n    },\r\n    WattingAGVInfo() {\r\n      var AGVNavInfo = MapStore.getters.AGVNavInfo.AGVDisplays;\r\n      var WattingAGVInfo = AGVNavInfo.filter(agv => agv.WaitingInfo.IsWaiting)\r\n      return WattingAGVInfo;\r\n    },\r\n    NeedToMoveAGVNum() {\r\n      return this.WattingAGVInfo.length\r\n    }\r\n  },\r\n  methods: {\r\n    HandleBtnClick() {\r\n      this.DialogVisible = true;\r\n    },\r\n    GetCurrentLocInfoByTag(tag) {\r\n      var points = MapStore.getters.MapData.Points;\r\n      var pt = Object.values(points).find(pt => pt.TagNumber == tag)\r\n      return `${pt.TagNumber}:${pt.Name}`\r\n\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.move_agv_notify {\r\n  position: fixed;\r\n  bottom: 43px;\r\n  right: 23px;\r\n  z-index: 9990;\r\n  .item {\r\n    font-size: 14px;\r\n  }\r\n}\r\n</style>","import { render } from \"./MoveAGVNotify.vue?vue&type=template&id=237d485d&scoped=true\"\nimport script from \"./MoveAGVNotify.vue?vue&type=script&lang=js\"\nexport * from \"./MoveAGVNotify.vue?vue&type=script&lang=js\"\n\nimport \"./MoveAGVNotify.vue?vue&type=style&index=0&id=237d485d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-237d485d\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"agv-alarm-messages\">\r\n        <!-- Examples \r\n            <AGVAlarmItem :isDisconnection=\"true\" agv_name=\"AGV_001\" alarm_type=\"alarm\" text=\"連線中斷\"></AGVAlarmItem>\r\n            <AGVAlarmItem :isDisconnection=\"true\" agv_name=\"AGV_002\" alarm_type=\"alarm\" text=\"連線中斷\"></AGVAlarmItem>\r\n            <AGVAlarmItem :isBatteryLowLevel=\"true\" alarm_type=\"alarm\" text=\"電池低電量警報\"></AGVAlarmItem>\r\n            <AGVAlarmItem :isBatteryTemperatureHigh=\"true\" alarm_type=\"warning\" text=\"電池過溫警報\"></AGVAlarmItem>\r\n            <AGVAlarmItem alarm_type=\"alarm\" text=\"alarm!!\"></AGVAlarmItem>\r\n        -->\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport AGVAlarmItem from './AGVAlarmItem.vue'\r\n\r\nexport default {\r\n    components: {\r\n        AGVAlarmItem,\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.agv-alarm-messages {\r\n    position: absolute;\r\n    top: 140px;\r\n    right: 15px;\r\n    z-index: 2;\r\n    // width: 310px;\r\n    // background: rgb(175, 175, 175);\r\n    border-radius: 4px;\r\n    padding: 10px;\r\n}\r\n</style>","<template>\r\n    <div class=\"agv-alarm-item my-2 d-flex rounded\" v-bind:class=\"alarm_type\">\r\n        <div class=\"icon px-2 text-light\" v-bind:class=\"alarm_type == 'alarm' ? 'bg-danger' : 'bg-warning'\">\r\n            <i v-if=\"isBatteryTemperatureHigh\" class=\"bi bi-thermometer-high\"></i>\r\n            <i v-else-if=\"isBatteryLowLevel\" class=\"bi bi-battery\"></i>\r\n            <i v-else-if=\"isDisconnection\" class=\"bi bi-reception-1\"></i>\r\n            <i v-else class=\"bi bi-exclamation-diamond\"></i>\r\n        </div>\r\n        <div class=\"agv-name\">{{ agv_name }}|</div>\r\n        <div class=\"text\">{{ text }}</div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    props: {\r\n        alarm_type: {\r\n            type: String,\r\n            default: 'warning'\r\n        },\r\n        agv_name: {\r\n            type: String,\r\n            default: 'AGV_001'\r\n        },\r\n        text: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        isBatteryTemperatureHigh: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        isBatteryLowLevel: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        isDisconnection: {\r\n            type: Boolean,\r\n            default: false\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.agv-alarm-item {\r\n    font-size: 28px;\r\n    padding: auto 10px;\r\n    cursor: pointer;\r\n\r\n    .agv-name {\r\n        font-size: smaller;\r\n        padding: 5px;\r\n        // background: rgb(11, 94, 215);\r\n        // color: rgb(11, 94, 215);\r\n        font-weight: bold;\r\n    }\r\n\r\n    .text {\r\n        width: auto;\r\n        letter-spacing: 4px;\r\n    }\r\n}\r\n\r\n.agv-alarm-item:hover {\r\n    color: white;\r\n    background: rgb(11, 94, 215);\r\n}\r\n\r\n.warning {\r\n    background: rgb(255, 189, 66);\r\n    color: white;\r\n}\r\n\r\n.alarm {\r\n    background: rgb(250, 32, 69);\r\n    color: white;\r\n}\r\n</style>","import { render } from \"./AGVAlarmItem.vue?vue&type=template&id=7922e32c&scoped=true\"\nimport script from \"./AGVAlarmItem.vue?vue&type=script&lang=js\"\nexport * from \"./AGVAlarmItem.vue?vue&type=script&lang=js\"\n\nimport \"./AGVAlarmItem.vue?vue&type=style&index=0&id=7922e32c&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7922e32c\"]])\n\nexport default __exports__","import { render } from \"./AGVAlarmMessageDisplay.vue?vue&type=template&id=25571013&scoped=true\"\nimport script from \"./AGVAlarmMessageDisplay.vue?vue&type=script&lang=js\"\nexport * from \"./AGVAlarmMessageDisplay.vue?vue&type=script&lang=js\"\n\nimport \"./AGVAlarmMessageDisplay.vue?vue&type=style&index=0&id=25571013&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-25571013\"]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=6b9791df\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=6b9791df&lang=scss\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import bus from '@/event-bus'\r\n\r\nclass Modal {\r\n  constructor() {\r\n    bus.on('/OKOnlyModal_Ok', () => {\r\n      alert('ok')\r\n    })\r\n    bus.on('/OKOnlyModal_Cancel', () => {\r\n      alert('cancel')\r\n    })\r\n  }\r\n  static install(app) {\r\n    app.config.globalProperties.$Modal = new Modal()\r\n  }\r\n\r\n  ShowOKModal(title, content, title_variant = 'primary') {\r\n    this.props = {\r\n      title: title,\r\n      content: content,\r\n      title_variant: title_variant,\r\n    }\r\n    bus.emit('/ShowOKOnlyModal', this.props)\r\n  }\r\n}\r\n\r\nexport default Modal\r\n","import { EqStore, agv_states_store, userStore } from \"./store\";\r\nimport { MapStore } from '@/components/Map/store'\r\nimport param from \"./gpm_param\";\r\nimport clsAGVStateDto from \"@/ViewModels/clsAGVStateDto.js\"\r\nimport { GetEQOptions, GetWIPOptions } from '@/api/EquipmentAPI.js';\r\n\r\nfunction generateRandomUserID(length) {\r\n    var result = '';\r\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var charactersLength = characters.length;\r\n    for (var i = 0; i < length; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n    }\r\n    return result;\r\n}\r\n\r\nvar user_id = generateRandomUserID(10);\r\nuserStore.commit('setUserID', user_id);\r\n\r\nGetEQOptions().then(option => EqStore.commit('EqOptions', option));\r\nGetWIPOptions().then(option => EqStore.commit('WIPOptions', option));\r\n\r\n\r\n/**VMS數據 */\r\nconst agv_states_data_fetch_worker = new Worker('websocket_worker.js')\r\nagv_states_data_fetch_worker.onmessage = (event) => {\r\n    if (event.data != 'error' && event.data != 'closed') {\r\n\r\n        var data = Object.values(event.data).map(d => new clsAGVStateDto(d));\r\n        agv_states_store.commit('storeAgvStates', data)\r\n    }\r\n}\r\nagv_states_data_fetch_worker.postMessage({ command: 'connect', ws_url: param.backend_ws_host + `/ws/VMSStatus?user_id=${user_id}` });\r\n\r\n/**設備狀態 */\r\nconst worker = new Worker('websocket_worker.js')\r\nworker.onmessage = (event) => {\r\n    if (event.data != 'error' && event.data != 'closed')\r\n        EqStore.commit('setData', event.data)\r\n}\r\nworker.postMessage({ command: 'connect', ws_url: param.backend_ws_host + `/ws/EQStatus` });\r\n\r\n\r\n/**AGV導航狀態 */\r\nconst worker2 = new Worker('websocket_worker.js')\r\nworker2.onmessage = (event) => {\r\n    if (event.data != 'error' && event.data != 'closed')\r\n        MapStore.commit('setAGVDynamicPathInfo', event.data)\r\n}\r\nworker2.postMessage({ command: 'connect', ws_url: param.vms_ws_host + `/ws/AGVNaviPathsInfo` });\r\n\r\n/**HotRun 狀態 */\r\nconst worker_hotrun_data = new Worker('websocket_worker.js')\r\nworker_hotrun_data.onmessage = (event) => {\r\n    if (event.data != 'error' && event.data != 'closed')\r\n        agv_states_store.commit('setHotRunStates', event.data)\r\n}\r\nworker_hotrun_data.postMessage({ command: 'connect', ws_url: param.backend_ws_host + `/ws/HotRun` });\r\n\r\n/**動態交通狀態數據 */\r\nconst worker_dynamic_traffic_data = new Worker('websocket_worker.js')\r\nworker_dynamic_traffic_data.onmessage = (event) => {\r\n    if (event.data != 'error' && event.data != 'closed') {\r\n        MapStore.commit('setControledPathesBySystem', event.data.ControledPathesByTraffic)\r\n    }\r\n}\r\nworker_dynamic_traffic_data.postMessage({ command: 'connect', ws_url: param.vms_ws_host + `/ws/DynamicTrafficData` });\r\n\r\n","import bus from './event-bus'\r\nimport { GetFrontendOptions } from './api/SystemAPI';\r\nimport { userStore } from './store';\r\nvar idleTime = 0\r\nGetFrontendOptions().then(options => {\r\n    var interval = setInterval(() => {\r\n        idleTime += 1;\r\n        if (idleTime >= options.WebUserLogoutExipreTime) {\r\n            if (userStore.getters.IsLogin) {\r\n                userStore.dispatch('logout', null)\r\n                bus.emit('auto_logout_notify_invoke', \"\");\r\n            }\r\n\r\n            resetTimer();\r\n        }\r\n    }, 1000);\r\n\r\n})\r\ndocument.addEventListener('touchstart', resetTimer);\r\ndocument.addEventListener('touchmove', resetTimer);\r\ndocument.addEventListener('touchend', resetTimer);\r\ndocument.addEventListener('mousemove', resetTimer);\r\ndocument.addEventListener('mousedown', resetTimer)\r\ndocument.addEventListener('keydown', resetTimer);\r\n\r\nfunction resetTimer() {\r\n    idleTime = 0;\r\n}","import { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport { userStore } from './store'\r\nimport { MapStore } from '@/components/Map/store'\r\nimport ElementPlus from 'element-plus'\r\nimport 'element-plus/dist/index.css'\r\nimport BootstrapVue3 from 'bootstrap-vue-3'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\nimport 'bootstrap-vue-3/dist/bootstrap-vue-3.css'\r\nimport 'bootstrap-icons/font/bootstrap-icons.css'\r\nimport { createI18n } from 'vue-i18n'\r\nimport './global.scss'\r\nimport Modal from './components/ModalHelper'\r\nimport Vuesax from 'vuesax3'\r\nimport 'vuesax3/dist/vuesax.css'\r\nimport VueApexCharts from 'vue3-apexcharts'\r\nimport VueSweetalert2 from 'vue-sweetalert2'\r\nimport 'sweetalert2/dist/sweetalert2.min.css'\r\n\r\nimport 'vuefinder/dist/style.css'\r\nimport VueFinder from 'vuefinder/dist/vuefinder'\r\nimport './BackendDataFetchWorker.js'\r\nimport './idling_detector.js'\r\n\r\ndocument.title = \"GPV AGVS\"\r\nconst i18n = createI18n({\r\n  legacy: false,\r\n  locale: 'zh-TW',\r\n  fallbackLocale: 'en-US',\r\n  messages: {\r\n    'zh-TW': require('./locales/zh-TW.json'),\r\n    'en-US': require('./locales/en-US.json'),\r\n  },\r\n})\r\n\r\nconst Sweetalert_options = {\r\n  confirmButtonColor: 'rgb(13, 110, 253)',\r\n  cancelButtonColor: '#ff7674',\r\n}\r\n\r\nconst app = createApp(App)\r\napp.config.globalProperties.$ = app.config.globalProperties\r\n\r\nModal.install(app)\r\n\r\n// 合併 store\r\nconst mergedStore = { ...store, ...userStore };\r\n\r\napp.use(mergedStore);\r\napp.use(VueApexCharts)\r\n\r\napp.use(Vuesax)\r\napp.use(mergedStore)\r\napp.use(router)\r\napp.use(BootstrapVue3)\r\napp.use(ElementPlus)\r\napp.use(i18n)\r\napp.use(VueSweetalert2, Sweetalert_options)\r\napp.use(VueFinder)\r\napp.mount('#app')\r\n","<template>\r\n  <div class=\"home-view h-100 custom-tabs-head\" v-loading=\"loading\">\r\n    <div v-bind:style=\"{\r\n      visibility: isEasyMode ? 'hidden' : 'visible'\r\n    }\" class=\"d-flex flex-row \">\r\n      <div class=\"left-col border-right flex-fill\">\r\n        <AGVStatusVue></AGVStatusVue>\r\n        <TaskStatusVue height=\"500px\"></TaskStatusVue>\r\n      </div>\r\n      <b-tabs v-bind:style=\"{ width: '60%' }\" :model-value=\"right_side_tabSelected\" @activate-tab=\"TabActiveHandle\">\r\n        <b-tab title=\"地圖\">\r\n          <div style=\"height:800px\" class=\"border\">\r\n            <HomeMap></HomeMap>\r\n            <!-- <LMap></LMap> -->\r\n          </div>\r\n        </b-tab>\r\n        <b-tab title=\"設備狀態\">\r\n          <div class=\"border w-100\">\r\n            <EQStatus></EQStatus>\r\n          </div>\r\n        </b-tab>\r\n      </b-tabs>\r\n      <TaskAllocationVue></TaskAllocationVue>\r\n    </div>\r\n    <div v-bind:style=\"{\r\n      visibility: isEasyMode ? 'visible' : 'hidden',\r\n      position: 'absolute',\r\n      top: '140px',\r\n      width: '100%',\r\n      height: '82vh'\r\n    }\" class=\"easy_mode d-flex\">\r\n      <div>\r\n        <AGVStatusVue :IsEasyMode=\"true\"></AGVStatusVue>\r\n      </div>\r\n      <div style=\"width:100%;padding-right:50px\" class=\"border\">\r\n        <HomeMap id=\"homemap-easymode\"></HomeMap>\r\n        <!-- <LMap></LMap> -->\r\n      </div>\r\n    </div>\r\n    <TaskDispatchNewUI class=\"new-dispatch-pnl\" v-bind:class=\"show_new_dispatch_panel ? 'dispatch-show' : 'hide'\" @close=\"() => { show_new_dispatch_panel = false }\" v-show=\"show_new_dispatch_panel\"></TaskDispatchNewUI>\r\n    <TaskDispathActionButton @onTaskDispatch=\"() => {\r\n      right_side_tabSelected = 0;\r\n    }\" v-if=\"IsLogin\" @on-click=\"() => { show_new_dispatch_panel = true }\"></TaskDispathActionButton>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AGVStatusVue from '@/components/HomeView/AGVStatus/AGVStatus.vue'\r\nimport HomeMap from '@/components/HomeView/HomeMap.vue';\r\nimport LMap from '@/components/NavMap/AGVMap.vue'\r\nimport TaskDispathActionButton from '@/components/TaskDispathActionButton.vue'\r\nimport TaskDispatchNewUI from '@/components/TaskDispatchNewUI.vue'\r\nimport EQStatus from '@/components/HomeView/EQStatus.vue'\r\nimport TaskStatusVue from '@/components/HomeView/TaskStatus.vue';\r\nimport TaskAllocationVue from '@/components/HomeView/TaskAllocation.vue';\r\nimport bus from '@/event-bus.js'\r\nimport { userStore, agvs_settings_store } from '@/store';\r\nexport default {\r\n  components: {\r\n    AGVStatusVue, TaskStatusVue, HomeMap, TaskAllocationVue, EQStatus, LMap, TaskDispathActionButton, TaskDispatchNewUI\r\n  },\r\n  methods: {\r\n    TabActiveHandle(tabIndex) {\r\n      this.right_side_tabSelected = tabIndex\r\n    }\r\n  },\r\n  computed: {\r\n    IsRunMode() { return agvs_settings_store.getters.IsRunMode; },\r\n    IsLogin() { return userStore.getters.IsLogin; },\r\n  },\r\n  data() {\r\n    return {\r\n      isEasyMode: false,\r\n      loading: false,\r\n      show_new_dispatch_panel: false,\r\n      right_side_tabSelected: 0,\r\n    }\r\n  },\r\n  mounted() {\r\n    bus.on('view_mode_changed', (isEasyMode) => {\r\n      this.loading = true\r\n      this.isEasyMode = isEasyMode;\r\n      setTimeout(() => {\r\n        this.loading = false\r\n      }, 300)\r\n\r\n    });\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.home-view {\r\n\r\n  .left-col {\r\n    overflow-y: scroll;\r\n  }\r\n\r\n  .dispatch-show {\r\n    animation: slideInFromLeft 0.2s ease-out forwards;\r\n\r\n    z-index: 233;\r\n  }\r\n\r\n\r\n  @keyframes slideInFromLeft {\r\n    0% {\r\n      transform: translateX(-100%);\r\n    }\r\n\r\n    100% {\r\n      transform: translateX(0);\r\n    }\r\n  }\r\n\r\n}\r\n</style>","<template>\r\n  <div style=\"height: 600px; width: 800px\">\r\n    <l-map :zoom=\"mapZoom\" :center=\"mapCenter\" style=\"height: 100%\">\r\n      <!-- <l-tile-layer :url=\"tileLayerUrl\"></l-tile-layer> -->\r\n\r\n      <!-- 圖層一：顯示三個點 -->\r\n      <l-geo-json :geojson=\"pointsGeoJson\" :options=\"pointsGeoJsonOptions\" />\r\n\r\n      <!-- 圖層二：顯示點之間的連線 -->\r\n      <l-geo-json :geojson=\"linesGeoJson\" :options=\"linesGeoJsonOptions\" />\r\n    </l-map>\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\nimport { ref } from 'vue';\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport { LMap, LTileLayer, LGeoJson } from \"@vue-leaflet/vue-leaflet\";\r\n\r\nimport { MapStore } from '@/components/Map/store'\r\n\r\nexport default {\r\n  components: {\r\n    LMap,\r\n    LTileLayer,\r\n    LGeoJson,\r\n  },\r\n  setup() {\r\n    const mapCenter = ref([0, 0]); // 设置地图初始中心为 [0, 0]\r\n    const mapZoom = ref(2); // 设置初始缩放级别\r\n    const tileLayerUrl = \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\";\r\n\r\n    // 圖層一的 GeoJSON 數據\r\n    var pointsGeoJson = ref({\r\n      type: \"FeatureCollection\",\r\n      features: [\r\n        {\r\n          type: \"Feature\",\r\n          properties: {\r\n            color: \"red\",\r\n            name: \"red658856885687\"\r\n          },\r\n          geometry: {\r\n            type: \"Point\",\r\n            coordinates: [0, 1], // 第一個點的經緯度坐標\r\n          },\r\n        },\r\n        {\r\n          type: \"Feature\",\r\n          properties: {\r\n            color: \"blue\",\r\n            name: \"blue\"\r\n          },\r\n          geometry: {\r\n            type: \"Point\",\r\n            coordinates: [0, 2], // 第二個點的經緯度坐標\r\n          },\r\n        },\r\n        {\r\n          type: \"Feature\",\r\n          properties: {\r\n            color: \"green\",\r\n            name: \"green\"\r\n          },\r\n          geometry: {\r\n            type: \"Point\",\r\n            coordinates: [0, 3], // 第三個點的經緯度坐標\r\n          },\r\n        },\r\n      ],\r\n    });\r\n    // 圖層二的 GeoJSON 數據\r\n    var linesGeoJson = ref({\r\n      type: \"FeatureCollection\",\r\n      features: [\r\n        {\r\n          type: \"Feature\",\r\n          geometry: {\r\n            type: \"LineString\",\r\n            coordinates: [\r\n              [0, 1], // 第一個點的經緯度坐標\r\n              [0, 2], // 第二個點的經緯度坐標\r\n            ],\r\n          },\r\n        },\r\n        {\r\n          type: \"Feature\",\r\n          geometry: {\r\n            type: \"LineString\",\r\n            coordinates: [\r\n              [0, 1], // 第一個點的經緯度坐標\r\n              [22, 3], // 第三個點的經緯度坐標\r\n            ],\r\n          },\r\n        },\r\n      ],\r\n    });\r\n\r\n    // 圖層一的 GeoJSON 样式选项\r\n    const pointsGeoJsonOptions = ref({\r\n      pointToLayer: (feature, latLng) => {\r\n        const icon = L.divIcon({\r\n          className: \"custom-icon station-icon\", // 添加 CSS 类名，用于样式控制\r\n          html: `<span>${feature.properties.name}</span>`, // 在标记上方添加文字\r\n        });\r\n        return L.marker(latLng, { icon });\r\n      },\r\n    });\r\n    // 圖層二的 GeoJSON 样式选项\r\n    const linesGeoJsonOptions = ref({\r\n      style: {\r\n        color: \"green\", // 线段的颜色为绿色\r\n        weight: 3, // 线段的宽度\r\n      },\r\n    });\r\n\r\n    async function GetMapData() {\r\n      var geoMapdata = await MapStore.dispatch('DownloadGeoMapData')\r\n      return geoMapdata;\r\n    }\r\n    return {\r\n      mapCenter,\r\n      mapZoom,\r\n      tileLayerUrl,\r\n      pointsGeoJson,\r\n      pointsGeoJsonOptions,\r\n      linesGeoJson,\r\n      linesGeoJsonOptions,\r\n      GetMapData\r\n    };\r\n  },\r\n  async mounted() {\r\n    var mapdata = await this.GetMapData()\r\n    this.pointsGeoJson = mapdata.PointsGeoJsonData\r\n    this.linesGeoJson = mapdata.LinesGeoJsonData\r\n  }\r\n};\r\n  </script>\r\n  \r\n  <style lang=\"scss\">\r\n.custom-icon {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #464646;\r\n  border: 2px solid #333;\r\n  border-radius: 50%;\r\n  width: 50px;\r\n  height: 50px;\r\n  color: #333;\r\n  font-weight: bold;\r\n\r\n  span {\r\n    position: absolute;\r\n    color: blue;\r\n    top: -20px;\r\n    right: -40px;\r\n    width: 50px;\r\n    text-align: left;\r\n  }\r\n}\r\n\r\n.station-icon {\r\n  background-color: #ff0077;\r\n}\r\n</style>\r\n  ","import { render } from \"./AGVMap.vue?vue&type=template&id=4725102f\"\nimport script from \"./AGVMap.vue?vue&type=script&lang=js\"\nexport * from \"./AGVMap.vue?vue&type=script&lang=js\"\n\nimport \"./AGVMap.vue?vue&type=style&index=0&id=4725102f&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <el-popover\r\n        placement=\"left-start\"\r\n        :visible=\"action_menu_visible\"\r\n        :width=\"200\"\r\n        content=\"\">\r\n        <template #reference>\r\n            <div class=\"task-dispatch-btn-container\">\r\n                <el-popover :popper-style=\"order_info_style\" :visible=\"order_info_visible\" placement=\"left-start\" :width=\"475\">\r\n                    <template #reference>\r\n                        <span></span>\r\n                    </template>\r\n                    <div class=\"w-100 h-100\">\r\n                        <div class=\"w-100 bg-info d-flex\">\r\n                        </div>\r\n                        <el-row class=\"order-row\">\r\n                            <el-col :span=\"5\">\r\n                                <div class=\"item-name\">動作</div>\r\n                            </el-col>\r\n                            <el-col class=\"item-value\" :span=\"12\">{{ selected_action_display }}</el-col>\r\n                            <el-col class=\"item-actions\" :span=\"7\">\r\n                                <b-button size=\"sm\" variant=\"link\" @click=\"() => {\r\n                                    HandleCancelBtnClick();\r\n                                    action_menu_visible = true;\r\n                                }\">重新選取</b-button></el-col>\r\n                        </el-row>\r\n                        <el-row class=\"order-row\" v-bind:style=\"agv_select_row_class\" @click=\"HandleSelectAGVFromMapBtnClick\">\r\n                            <el-col :span=\"5\">\r\n                                <div class=\"item-name\">車輛</div>\r\n                            </el-col>\r\n                            <el-col class=\"item-value\" :span=\"12\">\r\n                                <el-select placeholder=\"從地圖或選單選擇車輛\" @click=\"HandleSelectAGVFromMapBtnClick\" size=\"large\" v-model=\"selected_agv\">\r\n                                    <el-option v-for=\"obj in AgvNameList\" :key=\"obj.value\" :label=\"obj.label\"></el-option>\r\n                                </el-select>\r\n                            </el-col>\r\n                            <!-- <el-col class=\"item-value\" :span=\"12\">{{ IsAutoSelectAGV ? '自動選車' : selected_agv }}</el-col> -->\r\n                            <el-col class=\"item-actions\" :span=\"7\">\r\n                                <!-- <b-button size=\"sm\" variant=\"link\" @click=\"HandleSelectAGVFromMapBtnClick\">從地圖選取</b-button> -->\r\n                                <!-- <b-button size=\"sm\" variant=\"link\" @click=\"() => { current_progress = 'select-agv'; is_reselecting_flag = true }\">列表選取</b-button> -->\r\n                            </el-col>\r\n                        </el-row>\r\n                        <el-row v-if=\"selected_action == 'carry'\" class=\"order-row\" v-bind:style=\"source_select_row_class\" @click=\"HandleSelectSoureStationFromMapBtnClick\">\r\n                            <el-col :span=\"5\">\r\n                                <div class=\"item-name\">來源</div>\r\n                            </el-col>\r\n                            <el-col class=\"item-value\" :span=\"12\">\r\n                                <el-select placeholder=\"從地圖或選單選擇來源\"\r\n                                    @change=\"HandleFromSelectChanged\"\r\n                                    @click=\"HandleSelectSoureStationFromMapBtnClick\" size=\"large\" v-model=\"selected_source.TagNumber\">\r\n                                    <el-option v-for=\"tag in FromStationOptions\" :key=\"tag.tag\" :label=\"tag.name_display\" :value=\"tag.tag\"></el-option>\r\n                                </el-select>\r\n                                <!-- {{ selected_source ? selected_source.Graph.Display : '' }} -->\r\n                            </el-col>\r\n                            <el-col class=\"item-actions\" :span=\"7\">\r\n                                <!-- <b-button size=\"sm\" variant=\"link\" @click=\"HandleSelectSoureStationFromMapBtnClick\">從地圖選取</b-button> -->\r\n                                <!-- <b-button size=\"sm\" variant=\"link\" @click=\"() => { current_progress = 'select-source'; is_reselecting_flag = false }\">列表選取</b-button> -->\r\n                            </el-col>\r\n                        </el-row>\r\n                        <el-row class=\"order-row\" v-bind:style=\"destine_select_row_class\" @click=\"HandleSelectDestineStationFromMapBtnClick\">\r\n                            <el-col :span=\"5\">\r\n                                <div class=\"item-name\">目的地</div>\r\n                            </el-col>\r\n                            <el-col class=\"item-value\" :span=\"12\">\r\n                                <el-select placeholder=\"從地圖或選單選擇目的地\" @change=\"HandleDestineSelectChanged\" @click=\"HandleSelectDestineStationFromMapBtnClick\" size=\"large\" v-model=\"selected_destine.TagNumber\">\r\n                                    <el-option\r\n                                        v-for=\"tag in DetermineDestinOptions()\"\r\n                                        :key=\"tag.tag\"\r\n                                        :label=\"tag.name_display\"\r\n                                        :value=\"tag.tag\"></el-option>\r\n                                </el-select>\r\n                                <!-- {{ selected_destine ? selected_destine.Graph.Display : '' }} -->\r\n                            </el-col>\r\n                            <el-col class=\"item-actions\" :span=\"7\">\r\n                                <!-- <b-button size=\"sm\" variant=\"link\" @click=\"HandleSelectDestineStationFromMapBtnClick\">從地圖選取</b-button> -->\r\n                                <!-- <b-button size=\"sm\" variant=\"link\" @click=\"() => { current_progress = 'select-destine'; is_reselecting_flag = true }\">列表選取</b-button> -->\r\n                            </el-col>\r\n                        </el-row>\r\n                        <div class=\"w-100 py-1 d-flex border-top\" style=\"height: 50px;\">\r\n                            <b-button @click=\"HandleConfirmBtnClicked\" :disabled=\"!task_dispatch_btn_pushable\" class=\"w-50 mx-1\" variant=\"primary\">確認派送</b-button>\r\n                            <b-button class=\"w-50 mx-1\" variant=\"light\" @click=\"() => {\r\n                                order_info_visible = false;\r\n                                action_menu_visible = true;\r\n                            }\">返回選擇動作</b-button>\r\n                            <b-button class=\"w-50 mx-1\" variant=\"danger\" @click=\"HandleCancelBtnClick\">取消</b-button>\r\n                        </div>\r\n                    </div>\r\n                </el-popover>\r\n                <b-button squared variant=\"primary\" @click=\"() => {\r\n                    // $emit('on-click');\r\n                    if (action_menu_visible) {\r\n                        action_menu_visible = false;\r\n                    }\r\n                    else if (!order_info_visible)\r\n                        action_menu_visible = true\r\n                }\">任務派送</b-button>\r\n            </div>\r\n        </template>\r\n        <div class=\"actions-btn-conatiner\">\r\n            <b-button class=\"w-100 my-1\" variant=\"light\" v-if=\"!IsRunMode || IsDeveloper\" @click=\"SelectActionHandle('move')\"> 移動</b-button>\r\n            <b-button class=\"w-100 my-1\" variant=\"light\" v-if=\"!IsRunMode || IsDeveloper\" @click=\"SelectActionHandle('unload')\"> 取貨 </b-button>\r\n            <b-button class=\"w-100 my-1\" variant=\"light\" v-if=\"!IsRunMode || IsDeveloper\" @click=\"SelectActionHandle('load')\"> 放貨 </b-button>\r\n            <b-button class=\"w-100 my-1\" variant=\"primary\" @click=\"SelectActionHandle('carry')\"> 搬運 </b-button>\r\n            <b-button class=\"w-100 my-1\" variant=\"warning\" @click=\"SelectActionHandle('charge')\"> 充電 </b-button>\r\n            <b-button class=\"w-100 my-1\" variant=\"danger\" @click=\"() => { action_menu_visible = false }\"> 取消 </b-button>\r\n        </div>\r\n    </el-popover>\r\n</template>\r\n\r\n<script>\r\nimport bus from '@/event-bus.js'\r\nimport Notifier from '@/api/NotifyHelper';\r\nimport { TaskAllocation, clsMoveTaskData, clsMeasureTaskData, clsLoadTaskData, clsUnloadTaskData, clsCarryTaskData, clsExangeBatteryTaskData, clsChargeTaskData, clsParkTaskData } from '@/api/TaskAllocation'\r\nimport { userStore, agv_states_store, agvs_settings_store, EqStore } from '@/store';\r\nimport { MapStore } from '@/components/Map/store'\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            action_menu_visible: false,\r\n            order_info_visible: false,\r\n            selected_action: '',\r\n            selected_agv: '',\r\n            selected_source: {\r\n                Graph: {\r\n                    Display: ''\r\n                }\r\n            },\r\n            selected_destine: {\r\n                Graph: {\r\n                    Display: ''\r\n                }\r\n            },\r\n            Cst_ID_Input: '',\r\n            order_info_style: {\r\n                backgroundColor: 'rgba(255, 255, 255,.8)'\r\n            },\r\n            source_select_row_class: '',\r\n            destine_select_row_class: '',\r\n            agv_select_row_class: '',\r\n            map_events_bus: {\r\n                agv_selected: '/map/agv_selected',\r\n                station_selected: '/map/station_selected'\r\n            },\r\n            bypass_eq_status_check: false,\r\n            equipments_options: [],\r\n            downstream_options: []\r\n        }\r\n    },\r\n    computed: {\r\n        IsRunMode() {\r\n            return agvs_settings_store.getters.IsRunMode;\r\n        },\r\n        IsDeveloper() {\r\n            return userStore.getters.IsDeveloperLogining;\r\n        },\r\n        AgvNameList() {\r\n            var namelist = [];\r\n            if (this.IsRunMode) {\r\n                namelist.push({ value: '', label: '自動選車' });\r\n                if (this.IsDeveloper)\r\n                    createdAgvNameOptions(namelist);\r\n            }\r\n            else {\r\n                createdAgvNameOptions(namelist);\r\n            }\r\n\r\n            function createdAgvNameOptions(namelist) {\r\n                agv_states_store.getters.AGVNameList.forEach(element => {\r\n                    namelist.push({\r\n                        value: element,\r\n                        label: element\r\n                    });\r\n                });\r\n            }\r\n            return namelist;\r\n        },\r\n        IsShowBackTo() {\r\n            return this.current_progress != 'select-action'\r\n        },\r\n        selected_action_display() {\r\n            var _action = this.selected_action;\r\n            if (_action == 'move') {\r\n                return '移動'\r\n            }\r\n            if (_action == 'unload') {\r\n                return '取貨'\r\n            }\r\n            if (_action == 'load') {\r\n                return '放貨'\r\n            }\r\n            if (_action == 'carry') {\r\n                return '搬運'\r\n            }\r\n            if (_action == 'charge') {\r\n                return '充電'\r\n            }\r\n        },\r\n        IsAutoSelectAGV() {\r\n            return (this.selected_action == 'carry' || this.selected_action == 'unload') && this.selected_agv == '';\r\n        },\r\n        task_dispatch_btn_pushable() {\r\n            if (this.selected_action == 'carry')\r\n                return (this.selected_agv != '' || this.IsAutoSelectAGV) && this.selected_source != undefined && this.selected_destine != undefined;\r\n            else\r\n                return (this.selected_agv != '' || this.IsAutoSelectAGV) && this.selected_destine != undefined;\r\n        },\r\n        EQStations() {\r\n            return MapStore.getters.AllEqStation\r\n        },\r\n        bay_names() {\r\n\r\n            var bay_data = MapStore.getters.BaysData;\r\n            return Object.keys(bay_data).map(bay_name => ({\r\n                tag: bay_name,\r\n                name: bay_name\r\n            }))\r\n\r\n        },\r\n        FromStationOptions() {\r\n            var _agvOptions = agv_states_store.getters.AGVNameList.map(name => {\r\n                return {\r\n                    tag: name,\r\n                    name_display: name\r\n                }\r\n            })\r\n            var _stations = [...this.EQStations, ..._agvOptions];\r\n            return _stations;\r\n        }\r\n    },\r\n    methods: {\r\n        SelectActionHandle(action) {\r\n            this.$emit('onTaskDispatch')\r\n            this.selected_action = action;\r\n            this.HandleActionSelected(action);\r\n            this.action_menu_visible = false;\r\n            this.order_info_visible = true;\r\n            if (action == 'carry' || action == 'unload') {\r\n\r\n                this.selected_agv = '自動選車';\r\n                if (action == 'carry') {\r\n                    this.HandleSelectSoureStationFromMapBtnClick();\r\n                } else {\r\n                    this.HandleSelectDestineStationFromMapBtnClick();\r\n                }\r\n            }\r\n            else {\r\n                this.HandleSelectAGVFromMapBtnClick();\r\n            }\r\n        },\r\n        HandleActionSelected(action) {\r\n            this.source_select_row_class =\r\n                this.destine_select_row_class =\r\n                this.agv_select_row_class = '';\r\n            var selectedStyle = {\r\n                backgroundColor: 'rgb(13, 110, 253)',\r\n                color: 'white',\r\n                borderRadius: '1px solid black'\r\n            }\r\n            if (action == 'select-agv')\r\n                this.agv_select_row_class = selectedStyle;\r\n\r\n            if (action == 'select-source')\r\n                this.source_select_row_class = selectedStyle;\r\n\r\n            if (action == 'select-destine')\r\n                this.destine_select_row_class = selectedStyle;\r\n        },\r\n        HandleSelectAGVFromMapBtnClick() {\r\n            this.HandleActionSelected(\"select-agv\");\r\n            bus.off(this.map_events_bus.agv_selected)\r\n            bus.off(this.map_events_bus.station_selected)\r\n            bus.emit('change_to_select_agv_mode');\r\n            this.current_progress = 'select-agv';\r\n            this.is_reselecting_flag = true;\r\n            bus.on(this.map_events_bus.agv_selected, (agv_name) => {\r\n                this.selected_agv = agv_name;\r\n\r\n\r\n                if (this.selected_action == 'carry' && this.selected_source.Graph.Display == '') {\r\n                    this.HandleSelectSoureStationFromMapBtnClick();\r\n                    this.HandleActionSelected('select-source')\r\n                } else if (this.selected_destine.Graph.Display == '') {\r\n                    this.HandleSelectDestineStationFromMapBtnClick();\r\n                    this.HandleActionSelected('select-destine')\r\n                }\r\n\r\n            })\r\n\r\n        },\r\n        HandleSelectSoureStationFromMapBtnClick() {\r\n\r\n            this.selected_source = {\r\n                Graph: {\r\n                    Display: ''\r\n                }\r\n            };\r\n            this.HandleActionSelected(\"select-source\");\r\n            bus.off(this.map_events_bus.agv_selected)\r\n            bus.off(this.map_events_bus.station_selected)\r\n\r\n            bus.emit('change_to_select_eq_station_mode', { action_type: this.selected_action, direction: 'source' });\r\n\r\n            this.current_progress = 'select-source';\r\n            this.is_reselecting_flag = false;\r\n\r\n            this.selected_destine = {\r\n                Graph: {\r\n                    Display: ''\r\n                }\r\n            };\r\n\r\n            bus.on(this.map_events_bus.station_selected, (_station_data) => {\r\n                console.info(_station_data);\r\n                if (_station_data.IsEquipment || _station_data.StationType == 4) {\r\n\r\n                    if (_station_data == this.selected_destine)\r\n                        return;\r\n\r\n                    this.selected_source = _station_data;\r\n                    this.HandleFromSelectChanged(this.selected_source.TagNumber);\r\n                    bus.emit('mark_as_start_station', this.selected_source.TagNumber);\r\n                    this.HandleSelectDestineStationFromMapBtnClick();\r\n                    this.HandleActionSelected('select-destine')\r\n                }\r\n            })\r\n        },\r\n        HandleSelectDestineStationFromMapBtnClick() {\r\n            this.HandleActionSelected(\"select-destine\");\r\n            bus.off(this.map_events_bus.agv_selected)\r\n            bus.off(this.map_events_bus.station_selected)\r\n\r\n            var _destine_options = this.GetDownStreamEQOptions(this.selected_source.TagNumber);\r\n            console.info('_destine_options:', _destine_options);\r\n            let map_options = {\r\n                action_type: this.selected_action,\r\n                direction: 'destine',\r\n                stations_to_show: _destine_options\r\n            }\r\n            bus.emit('change_to_select_eq_station_mode', map_options);\r\n            this.current_progress = 'select-destine';\r\n            this.is_reselecting_flag = true;\r\n            bus.on(this.map_events_bus.station_selected, (_station_data) => {\r\n                console.info(_station_data);\r\n                if (this.selected_action == 'charge' && !_station_data.IsCharge)\r\n                    return;\r\n                if ((this.selected_action == 'load' || this.selected_action == 'unload' || this.selected_action == 'carry') && (!_station_data.IsEquipment && _station_data.StationType != 4))\r\n                    return;\r\n                if (this.selected_action == 'carry') {\r\n                    if (_station_data == this.selected_source)\r\n                        return;\r\n                    if (!this.downstream_options.some(st => st.tag == _station_data.TagNumber))\r\n                        return\r\n                }\r\n                console.log(this.downstream_options)\r\n                bus.emit('mark_as_destine_station', _station_data.TagNumber);\r\n                this.selected_destine = _station_data;\r\n            })\r\n        },\r\n        async HandleDestineSelectChanged(tag) {\r\n            // alert(tag)\r\n            this.selected_destine = await MapStore.dispatch('GetMapPointByTag', tag)\r\n        },\r\n        HandleCancelBtnClick() {\r\n            bus.off(this.map_events_bus.agv_selected)\r\n            bus.off(this.map_events_bus.station_selected)\r\n            this.order_info_visible = false;\r\n            this.selected_source = this.selected_destine = { Graph: { Display: '' } };\r\n            this.source_select_row_class = this.destine_select_row_class = this.agv_select_row_class = '';\r\n            bus.emit('change_to_normal_view_mode');\r\n\r\n        },\r\n        HandleConfirmBtnClicked() {\r\n            this.$swal.fire(\r\n                {\r\n                    title: '確定要派送此任務?',\r\n                    text: `${this.selected_agv} 執行 ${this.selected_action_display} 任務,終點:${this.selected_destine.Graph.Display}`,//TODO 完整的名稱\r\n                    icon: 'question',\r\n                    showCancelButton: true,\r\n                    confirmButtonText: '確定',\r\n                    cancelButtonText: '取消',\r\n                    customClass: 'my-sweetalert'\r\n                }).then(res => {\r\n                    if (res.isConfirmed) {\r\n                        this.TaskDeliveryHandle()\r\n                    }\r\n                })\r\n        },\r\n        async TaskDeliveryHandle() {\r\n            // TaskAllocation.Task();\r\n\r\n            if (this.IsDeveloper) {\r\n                this.bypass_eq_status_check = true;\r\n            } else\r\n                if (userStore.getters.level == 0)\r\n                    this.bypass_eq_status_check = false;\r\n\r\n            var response = { confirm: true, message: '' }\r\n            var _destinTag = this.selected_destine ? this.selected_destine.TagNumber : -1;\r\n            var _sourceTag = this.selected_source ? this.selected_source.TagNumber : -1;\r\n            var _selected_agv = this.selected_agv == '自動選車' || this.selected_agv == '' ? '' : this.selected_agv;\r\n            if (this.selected_action == 'move') {\r\n                response = await TaskAllocation.MoveTask(new clsMoveTaskData(_selected_agv, _destinTag, 50));\r\n            }\r\n\r\n            if (this.selected_action == 'measure') {\r\n                response = await TaskAllocation.MeasureTask(new clsMeasureTaskData(_selected_agv, _destinTag));\r\n            }\r\n            if (this.selected_action == 'load') {\r\n                response = await TaskAllocation.LoadTask(new clsLoadTaskData(_selected_agv, _destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n            }\r\n\r\n            if (this.selected_action == 'unload') {\r\n                response = await TaskAllocation.UnloadTask(new clsUnloadTaskData(_selected_agv, _destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n            }\r\n\r\n            if (this.selected_action == 'carry') {\r\n                response = await TaskAllocation.CarryTask(new clsCarryTaskData(_selected_agv, _sourceTag, 1, _destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (this.selected_action == 'exchange_battery') {\r\n                response = await TaskAllocation.ExangeBatteryTask(new clsExangeBatteryTaskData(_selected_agv, _destinTag, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (this.selected_action == 'charge') {\r\n                response = await TaskAllocation.ChargeTask(new clsChargeTaskData(_selected_agv, _destinTag, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (this.selected_action == 'park') {\r\n                response = await TaskAllocation.ParkTask(new clsParkTaskData(_selected_agv, _destinTag, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (response.status != 200) {\r\n                const is_Unauthorized = response.status == 401;\r\n                this.$swal.fire({\r\n                    title: is_Unauthorized ? '須重新進行登入' : '任務派送失敗!',\r\n                    text: is_Unauthorized ? '' : response.mesage,\r\n                    icon: 'error',\r\n                    showCancelButton: false,\r\n                    showConfirmButton: true,\r\n                    confirmButtonText: 'OK',\r\n                    customClass: 'my-sweetalert',\r\n                }).then(res => {\r\n                    if (is_Unauthorized) {\r\n                        userStore.dispatch('logout', '')\r\n                        bus.emit('/show-login-view-invoke')\r\n\r\n                    }\r\n                })\r\n            }\r\n            else {\r\n                //{confirm:true,message:''}\r\n                if (response.data.confirm) {\r\n                    this.HandleCancelBtnClick();\r\n                    Notifier.Success(`任務-[${this.selected_action_display}] 已派送!`, 'bottom', 2000);\r\n                } else {\r\n                    this.$swal.fire(\r\n                        {\r\n                            text: response.data.message,\r\n                            title: '任務派送失敗!',\r\n                            icon: 'error',\r\n                            showCancelButton: false,\r\n                            confirmButtonText: 'OK',\r\n                            customClass: 'my-sweetalert'\r\n                        })\r\n                }\r\n            }\r\n\r\n        },\r\n        async HandleFromSelectChanged(source_tag) {\r\n\r\n            this.selected_source = await MapStore.dispatch('GetMapPointByTag', source_tag)\r\n            this.selected_destine = { TagNumber: undefined }\r\n            //console.log(source_tag)\r\n            this.downstream_options = this.GetDownStreamEQOptions(source_tag);\r\n        },\r\n        GetDownStreamEQOptions(sourceTag) {\r\n            var _results = [];\r\n            var _eq_options = EqStore.getters.EqOptions;\r\n            var source_eq = _eq_options.find(eq => eq.TagID == sourceTag)\r\n            if (source_eq) {\r\n\r\n                var downstream_eq_names = source_eq.ValidDownStreamEndPointNames\r\n                var isAllEqIsSelectable = downstream_eq_names.includes('ALL')\r\n                var downstread_eq_options = isAllEqIsSelectable ? _eq_options : _eq_options.filter(eq => downstream_eq_names.includes(eq.Name))\r\n\r\n                Object.values(downstread_eq_options).forEach(element => {\r\n                    _results.push({\r\n                        tag: element.TagID,\r\n                        name: `${element.Name}(Tag=${element.TagID})`,\r\n                        name_display: element.Name\r\n                    })\r\n                });\r\n            }\r\n            return _results;\r\n        },\r\n        DetermineDestinOptions() {\r\n            if (this.selected_action == 'measure')\r\n                return this.bay_names;\r\n            else if (this.selected_action == 'move')\r\n                return MapStore.getters.AllNormalStationOptions;\r\n            else if (this.selected_action == 'load' || this.selected_action == 'unload')\r\n                return MapStore.getters.AllEqStation;\r\n            else if (this.selected_action == 'charge')\r\n                return MapStore.getters.AllChargeStation;\r\n            else if (this.selected_action == 'carry')\r\n                return this.downstream_options;\r\n            else if (this.selected_action == 'exchange_battery')\r\n                return MapStore.getters.AllExangeBatteryStation;\r\n            else\r\n                return this.tags;\r\n\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.task-dispatch-btn-container {\r\n    position: fixed;\r\n    bottom: 40px;\r\n    right: 15px;\r\n    z-index: 10;\r\n\r\n    button {\r\n        font-size: 40px;\r\n    }\r\n\r\n    box-shadow: -3px 0px 24px 3px rgb(61, 61, 61);\r\n\r\n}\r\n\r\n.order-row {\r\n    height: 52px;\r\n    margin: 2px auto;\r\n    //background-color: whitesmoke;\r\n    font-size: 20px;\r\n    padding-left: 12px;\r\n    padding-top: 7px;\r\n    font-weight: bold;\r\n    border-radius: 8px;\r\n    cursor: pointer;\r\n\r\n    .item-name {\r\n        font-size: 22px\r\n    }\r\n\r\n    .item-value {\r\n        color: rgb(13, 110, 253);\r\n\r\n        input {\r\n            color: rgb(13, 110, 253);\r\n        }\r\n    }\r\n\r\n    .item-actions {\r\n        text-align: right;\r\n\r\n        button {\r\n            margin: auto 2px;\r\n        }\r\n    }\r\n}\r\n\r\n.order-row:hover {\r\n    background-color: rgb(235, 235, 235);\r\n}\r\n\r\n.selected-div {\r\n    background-color: 'pink'\r\n}\r\n</style>","import { render } from \"./TaskDispathActionButton.vue?vue&type=template&id=81f30df6&scoped=true\"\nimport script from \"./TaskDispathActionButton.vue?vue&type=script&lang=js\"\nexport * from \"./TaskDispathActionButton.vue?vue&type=script&lang=js\"\n\nimport \"./TaskDispathActionButton.vue?vue&type=style&index=0&id=81f30df6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-81f30df6\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"task-dispatch-new-ui\">\r\n        <div class=\"bg-primary text-light d-flex flex-row\">\r\n            <div class=\"w-100 title-text\"> 任務派送</div>\r\n            <i @click=\"Leave\" class=\"close-btn mx-2 bi bi-x-circle\"></i>\r\n        </div>\r\n        <div v-if=\"IsShowBackTo\" class=\"back-to-last-step px-2\" @click=\"HandleBackToPush\">返回 [{{ lastProgressDisplay }}]</div>\r\n        <div v-show=\"current_progress == 'select-action'\" class=\"page-pnl\">\r\n            <div class=\"head-text\">請選擇任務動作</div>\r\n            <div class=\"actions-btn-conatiner\">\r\n                <div v-if=\"!IsRunMode || IsDeveloper\" @click=\"SelectActionHandle('move')\" class=\"action\"> <label>移動</label> </div>\r\n                <div v-if=\"!IsRunMode || IsDeveloper\" @click=\"SelectActionHandle('unload')\" class=\"action\"> <label>取貨</label> </div>\r\n                <div v-if=\"!IsRunMode || IsDeveloper\" @click=\"SelectActionHandle('load')\" class=\"action\"> <label>放貨</label> </div>\r\n                <div @click=\"SelectActionHandle('carry')\" class=\"action\"> <label>搬運</label> </div>\r\n                <div @click=\"SelectActionHandle('charge')\" class=\"action\"> <label>充電</label> </div>\r\n            </div>\r\n        </div>\r\n        <div v-show=\"current_progress == 'select-agv'\" class=\"page-pnl\">\r\n            <div class=\"head-text\">請選擇車輛</div>\r\n            <div class=\"actions-btn-conatiner\">\r\n                <div v-for=\"agv_name in AgvNameList\"\r\n                    :key=\"agv_name.value\" @click=\"SelectAgvHandle(agv_name.value)\" class=\"action\"> <label>{{ agv_name.label }}</label> </div>\r\n                <!-- <div @click=\"SelectAgvHandle('AGV2')\" class=\"action\"> <label>AGV2</label> </div> -->\r\n            </div>\r\n        </div>\r\n        <div v-show=\"current_progress == 'select-source'\" class=\"page-pnl\">\r\n            <div class=\"head-text\">請選擇來源設備</div>\r\n            <div class=\"station-btn-conatiner\">\r\n                <div v-for=\" station in eq_stations\" :key=\"station.tag\" class=\"action\" @click=\"SelectSourceHandle(station)\"> <label>{{ station.name_display }}</label> </div>\r\n                <!-- <div @click=\"SelectSourceHandle('EQ_A')\" class=\"action\"> <label>EQ_A</label> </div> -->\r\n            </div>\r\n        </div>\r\n        <div v-show=\"current_progress == 'select-destine'\" class=\"page-pnl\">\r\n            <div class=\"head-text\">請選擇目的地</div>\r\n            <div class=\"station-btn-conatiner\">\r\n                <div v-for=\" station in destine_stations\" :key=\"station.tag\" class=\"action\" @click=\"SelectDestineHandle(station)\"> <label>{{ station.name_display }}</label> </div>\r\n                <!-- <div @click=\"SelectDestineHandle('EQ_B')\" class=\"action\"> <label>EQ_B</label> </div> -->\r\n            </div>\r\n        </div>\r\n        <div v-show=\"current_progress == 'confirm-task'\" class=\"page-pnl\">\r\n            <div class=\"head-text\">確認派送任務</div>\r\n            <div class=\"actions-btn-conatiner\">\r\n                <!-- 顯示訂單內容 -->\r\n                <div class=\"order-content\">\r\n                    <div class=\"order-row\">\r\n                        <label class=\"title\">動作</label>\r\n                        <label class=\"value\">{{ selected_action_display }}</label>\r\n                        <b-button @click=\"() => { current_progress = 'select-action'; is_reselecting_flag = false }\">重新選取</b-button>\r\n                    </div>\r\n                    <div class=\"order-row\">\r\n                        <label class=\"title\">車輛</label>\r\n                        <label class=\"value\">{{ selected_agv == '' ? '自動選車' : selected_agv }}</label>\r\n                        <b-button @click=\"() => { current_progress = 'select-agv'; is_reselecting_flag = true }\">重新選取</b-button>\r\n                    </div>\r\n                    <div v-if=\"selected_action == 'carry'\" class=\"order-row\">\r\n                        <label class=\"title\">來源</label>\r\n                        <label class=\"value\">{{ selected_source.name_display }}</label>\r\n                        <b-button @click=\"() => { current_progress = 'select-source'; is_reselecting_flag = false }\">重新選取</b-button>\r\n                    </div>\r\n                    <div class=\"order-row\">\r\n                        <label class=\"title\">目的地</label>\r\n                        <label class=\"value\">{{ selected_destine.name_display }}</label>\r\n                        <b-button @click=\"() => { current_progress = 'select-destine'; is_reselecting_flag = true }\">重新選取</b-button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"d-flex justify-content-center\">\r\n                    <div @click=\"HandleConfirmBtnClicked\" class=\"action bg-primary text-light\"> <label>確認派送</label> </div>\r\n                    <div @click=\"SelectDestineHandle('EQ_B')\" class=\"action bg-danger text-light\"> <label>取消</label> </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport bus from '@/event-bus';\r\nimport Notifier from '@/api/NotifyHelper';\r\nimport { MapStore } from '@/components/Map/store';\r\nimport { GetEQOptions } from '@/api/EquipmentAPI'\r\nimport { TaskAllocation, clsMoveTaskData, clsMeasureTaskData, clsLoadTaskData, clsUnloadTaskData, clsCarryTaskData, clsExangeBatteryTaskData, clsChargeTaskData, clsParkTaskData } from '@/api/TaskAllocation'\r\nimport { userStore, agv_states_store, agvs_settings_store } from '@/store';\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            current_progress: 'select-action',\r\n            selected_action: '',\r\n            selected_agv: '',\r\n            selected_source: '',\r\n            selected_destine: '',\r\n            Cst_ID_Input: '',\r\n            downstream_stations: [],\r\n            bypass_eq_status_check: false,\r\n            is_reselecting_flag: false\r\n        }\r\n    },\r\n    methods: {\r\n        SelectActionHandle(action) {\r\n            this.selected_action = action;\r\n            this.current_progress = 'select-agv';\r\n        },\r\n        SelectAgvHandle(agv) {\r\n            this.selected_agv = agv;\r\n            if (this.is_reselecting_flag) {\r\n                this.current_progress = 'confirm-task'\r\n                return;\r\n            }\r\n            if (this.selected_action == 'carry')\r\n                this.current_progress = 'select-source';\r\n            else\r\n                this.current_progress = 'select-destine';\r\n        },\r\n        SelectSourceHandle(source) {\r\n            this.HandleFromSelectChanged(source.tag).then(_destines => {\r\n                this.selected_source = source;\r\n                this.current_progress = 'select-destine'\r\n            })\r\n        },\r\n        SelectDestineHandle(destine) {\r\n            this.selected_destine = destine;\r\n\r\n            if (this.is_reselecting_flag && this.selected_action != 'carry') {\r\n                this.current_progress = 'confirm-task'\r\n                return;\r\n            }\r\n            this.current_progress = 'confirm-task'\r\n        },\r\n        HandleBackToPush() {\r\n            this.is_reselecting_flag = false;\r\n            if (this.current_progress == 'select-agv')\r\n                this.current_progress = 'select-action'\r\n\r\n            if (this.current_progress == 'select-source')\r\n                this.current_progress = 'select-agv'\r\n\r\n            if (this.current_progress == 'select-destine') {\r\n                if (this.selected_action == 'carry')\r\n                    this.current_progress = 'select-source'\r\n                else\r\n                    this.current_progress = 'select-agv'\r\n            }\r\n            if (this.current_progress == 'confirm-task') {\r\n                this.current_progress = 'select-destine'\r\n            }\r\n        },\r\n        async HandleFromSelectChanged(source_tag) {\r\n            this.downstream_stations = [];\r\n            var equipments_options = await GetEQOptions();\r\n            var source_eq = equipments_options.find(eq => eq.TagID == source_tag)\r\n            if (source_eq) {\r\n                var downstream_eq_names = source_eq.ValidDownStreamEndPointNames\r\n                var downstread_eq_options = equipments_options.filter(eq => downstream_eq_names.includes(eq.Name))\r\n                console.info(downstread_eq_options)\r\n                Object.values(downstread_eq_options).forEach(element => {\r\n                    this.downstream_stations.push({\r\n                        tag: element.TagID,\r\n                        name: `${element.Name}(Tag=${element.TagID})`,\r\n                        name_display: element.Name\r\n                    })\r\n                });\r\n            }\r\n            return this.downstream_stations;\r\n        },\r\n        HandleConfirmBtnClicked() {\r\n            this.$swal.fire(\r\n                {\r\n                    title: '確定要派送此任務?',\r\n                    text: `${this.selected_agv} 執行 ${this.selected_action_display} 任務,終點:${this.selected_destine.name_display}`,//TODO 完整的名稱\r\n                    icon: 'question',\r\n                    showCancelButton: true,\r\n                    confirmButtonText: '確定',\r\n                    cancelButtonText: '取消',\r\n                    customClass: 'my-sweetalert'\r\n                }).then(res => {\r\n                    if (res.isConfirmed) {\r\n                        this.TaskDeliveryHandle()\r\n                    }\r\n                })\r\n        },\r\n        async TaskDeliveryHandle() {\r\n            // TaskAllocation.Task();\r\n\r\n            if (this.IsDeveloper) {\r\n                this.bypass_eq_status_check = true;\r\n            } else\r\n                if (userStore.getters.level == 0)\r\n                    this.bypass_eq_status_check = false;\r\n\r\n            var response = { confirm: true, message: '' }\r\n            var _destinTag = this.selected_destine.tag;\r\n            var _sourceTag = this.selected_source.tag;\r\n            var _selected_agv = this.selected_agv;\r\n            if (this.selected_action == 'move') {\r\n                response = await TaskAllocation.MoveTask(new clsMoveTaskData(_selected_agv, _destinTag, 50));\r\n            }\r\n\r\n            if (this.selected_action == 'measure') {\r\n                response = await TaskAllocation.MeasureTask(new clsMeasureTaskData(_selected_agv, _destinTag));\r\n            }\r\n            if (this.selected_action == 'load') {\r\n                response = await TaskAllocation.LoadTask(new clsLoadTaskData(_selected_agv, _destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n            }\r\n\r\n            if (this.selected_action == 'unload') {\r\n                response = await TaskAllocation.UnloadTask(new clsUnloadTaskData(_selected_agv, _destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n            }\r\n\r\n            if (this.selected_action == 'carry') {\r\n                response = await TaskAllocation.CarryTask(new clsCarryTaskData(_selected_agv, _sourceTag, 1, _destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (this.selected_action == 'exchange_battery') {\r\n                response = await TaskAllocation.ExangeBatteryTask(new clsExangeBatteryTaskData(_selected_agv, _destinTag, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (this.selected_action == 'charge') {\r\n                response = await TaskAllocation.ChargeTask(new clsChargeTaskData(_selected_agv, _destinTag, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (this.selected_action == 'park') {\r\n                response = await TaskAllocation.ParkTask(new clsParkTaskData(_selected_agv, _destinTag, 50, this.bypass_eq_status_check));\r\n            }\r\n            if (response.status != 200) {\r\n                const is_Unauthorized = response.status == 401;\r\n                this.$swal.fire({\r\n                    title: is_Unauthorized ? '須重新進行登入' : '任務派送失敗!',\r\n                    text: is_Unauthorized ? '' : response.mesage,\r\n                    icon: 'error',\r\n                    showCancelButton: false,\r\n                    showConfirmButton: true,\r\n                    confirmButtonText: 'OK',\r\n                    customClass: 'my-sweetalert',\r\n                }).then(res => {\r\n                    if (is_Unauthorized) {\r\n                        userStore.dispatch('logout', '')\r\n                        bus.emit('/show-login-view-invoke')\r\n                        this.Leave();\r\n\r\n                    }\r\n                })\r\n\r\n\r\n            }\r\n            else {\r\n                //{confirm:true,message:''}\r\n                if (response.data.confirm) {\r\n                    Notifier.Success(`任務-[${this.selected_action_display}] 已派送!`, 'bottom', 2000);\r\n                    this.Leave();\r\n                } else {\r\n                    this.$swal.fire(\r\n                        {\r\n                            text: response.data.message,\r\n                            title: '任務派送失敗!',\r\n                            icon: 'error',\r\n                            showCancelButton: false,\r\n                            confirmButtonText: 'OK',\r\n                            customClass: 'my-sweetalert'\r\n                        })\r\n                }\r\n            }\r\n\r\n        },\r\n        Leave() {\r\n            this.$emit('close')\r\n            this.is_reselecting_flag = false;\r\n            this.current_progress = 'select-action'\r\n        }\r\n    },\r\n    computed: {\r\n        IsRunMode() {\r\n            return agvs_settings_store.getters.IsRunMode;\r\n        },\r\n        IsShowBackTo() {\r\n            return this.current_progress != 'select-action'\r\n        },\r\n        lastProgressDisplay() {\r\n            var _currentProgress = this.current_progress;\r\n            if (_currentProgress == 'select-agv')\r\n                return '選擇動作'\r\n            if (_currentProgress == 'select-source')\r\n                return '選擇AGV'\r\n            if (_currentProgress == 'select-destine') {\r\n                if (this.selected_action == 'carry')\r\n                    return '選擇起點'\r\n                else\r\n                    return '選擇AGV'\r\n            }\r\n            if (_currentProgress == 'confirm-task')\r\n                return '選擇目的地'\r\n        },\r\n        selected_action_display() {\r\n            var _action = this.selected_action;\r\n            if (_action == 'move') {\r\n                return '移動'\r\n            }\r\n            if (_action == 'unload') {\r\n                return '取貨'\r\n            }\r\n            if (_action == 'load') {\r\n                return '放貨'\r\n            }\r\n            if (_action == 'carry') {\r\n                return '搬運'\r\n            }\r\n            if (_action == 'charge') {\r\n                return '充電'\r\n            }\r\n        },\r\n        IsDeveloper() {\r\n            return userStore.getters.IsDeveloperLogining;\r\n        },\r\n        AgvNameList() {\r\n            var namelist = [];\r\n            if (this.IsRunMode) {\r\n                namelist.push({ value: '', label: '自動選車' });\r\n                if (this.IsDeveloper)\r\n                    createdAgvNameOptions(namelist);\r\n            }\r\n            else {\r\n                createdAgvNameOptions(namelist);\r\n            }\r\n\r\n            function createdAgvNameOptions(namelist) {\r\n                agv_states_store.getters.AGVNameList.forEach(element => {\r\n                    namelist.push({\r\n                        value: element,\r\n                        label: element\r\n                    });\r\n                });\r\n            }\r\n            return namelist;\r\n        },\r\n        moveable_stations() {\r\n            return MapStore.getters.AllNormalStationOptions\r\n        },\r\n        chargable_tags() {\r\n            return MapStore.getters.AllChargeStation\r\n        },\r\n        eq_stations() {\r\n            return MapStore.getters.AllEqStation\r\n        },\r\n        destine_stations() {\r\n            if (this.selected_action == 'move') {\r\n                return this.moveable_stations\r\n            } else if (this.selected_action == 'charge') {\r\n                return this.chargable_tags\r\n            } else if (this.selected_action == 'unload' || this.selected_action == 'load') {\r\n                return this.eq_stations\r\n            } else if (this.selected_action == 'carry')\r\n                return this.downstream_stations;\r\n            else\r\n                return []\r\n\r\n        }\r\n\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.task-dispatch-new-ui {\r\n    position: fixed;\r\n    height: 100vh;\r\n    left: 65px;\r\n    top: 137px;\r\n    width: 45%;\r\n    border: 2px solid gray;\r\n    background: white;\r\n    border-radius: 7px;\r\n    opacity: 0.97;\r\n    box-shadow: -5rem 107px 15px 6rem gray;\r\n\r\n    .title-text {\r\n        font-size: 40px;\r\n        font-weight: bold;\r\n        text-align: left;\r\n        padding-left: 1rem;\r\n    }\r\n\r\n    .close-btn {\r\n        font-size: 36px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .close-btn:hover {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n        font-size: 43px;\r\n    }\r\n\r\n    .back-to-last-step {\r\n        font-size: 26px;\r\n        cursor: pointer;\r\n        text-align: left;\r\n        background: pink;\r\n    }\r\n\r\n    .back-to-last-step:hover {\r\n        background: grey;\r\n        color: white;\r\n    }\r\n\r\n    @keyframes slideInFromLeft {\r\n        0% {\r\n            transform: translateX(-100%);\r\n        }\r\n\r\n        100% {\r\n            transform: translateX(0);\r\n        }\r\n    }\r\n\r\n    .page-pnl {\r\n        width: 100%;\r\n        height: 90%;\r\n        // background: pink;\r\n        align-items: center;\r\n        padding-top: 70px;\r\n        animation: slideInFromLeft 0.2s ease-out forwards;\r\n\r\n        .head-text {\r\n            font-size: 45px;\r\n            text-decoration: underline;\r\n            margin-bottom: 30px;\r\n        }\r\n\r\n        .station-btn-conatiner {\r\n            background: black;\r\n            display: flex;\r\n            flex-direction: row;\r\n            flex-wrap: wrap;\r\n\r\n            .action {\r\n                background: rgb(248, 248, 248);\r\n                width: 200px;\r\n                height: 60px;\r\n                margin: 6px auto;\r\n                border-radius: 8px;\r\n                font-weight: bold;\r\n                cursor: pointer;\r\n\r\n                label {\r\n                    font-size: 25px;\r\n                    cursor: pointer;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n        .actions-btn-conatiner {\r\n            display: flex;\r\n            flex-direction: column;\r\n            justify-content: center;\r\n\r\n            .action {\r\n                background: rgb(21 115 253);\r\n                color: white;\r\n                width: 300px;\r\n                height: 70px;\r\n                margin: 6px auto;\r\n                border-radius: 8px;\r\n                font-weight: bold;\r\n                cursor: pointer;\r\n\r\n                label {\r\n                    font-size: 35px;\r\n                    cursor: pointer;\r\n                }\r\n\r\n            }\r\n\r\n            .action:hover {\r\n                background: white;\r\n                color: black;\r\n            }\r\n        }\r\n\r\n        .station-btn-conatiner,\r\n        .actions-btn-conatiner {\r\n            width: 100%;\r\n            // background: black;\r\n\r\n            .action:hover {\r\n                background-color: rgb(21, 115, 253);\r\n                color: white;\r\n            }\r\n\r\n            .action:active {\r\n                background-color: rgb(173, 173, 173);\r\n                color: rgb(91, 91, 91);\r\n            }\r\n\r\n            .order-content {\r\n                padding: 10px;\r\n\r\n                .order-row {\r\n                    display: flex;\r\n                    flex-direction: row;\r\n                    margin: 10px -59px 15px 50px;\r\n                    // background: blue;\r\n                    font-size: 30px;\r\n                    width: 87%;\r\n\r\n                    .title {\r\n                        font-weight: bold;\r\n                        width: 139px;\r\n                        text-align: center;\r\n                        background: #025883;\r\n                        color: white;\r\n                        padding: 2px 15px;\r\n                    }\r\n\r\n                    .value {\r\n                        width: 480px;\r\n                        background: ghostwhite;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>","import { render } from \"./TaskDispatchNewUI.vue?vue&type=template&id=364f358a&scoped=true\"\nimport script from \"./TaskDispatchNewUI.vue?vue&type=script&lang=js\"\nexport * from \"./TaskDispatchNewUI.vue?vue&type=script&lang=js\"\n\nimport \"./TaskDispatchNewUI.vue?vue&type=style&index=0&id=364f358a&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-364f358a\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"eq-status\" ref=\"eq-status-container\">\r\n    <div class=\"text-start border-bottom p-2 my-2 d-flex flex-row justify-content-space\">\r\n      <div class=\"d-flex\">\r\n        <div class=\"p-1\">\r\n          <i class=\"bi bi-three-dots-vertical pt-2\"></i>區域選擇\r\n        </div>\r\n        <RegionsSelector v-model=\"selected_region\"></RegionsSelector>\r\n      </div>\r\n      <div class=\"d-flex\">\r\n        <div class=\"p-1\">\r\n          <i class=\"bi bi-three-dots-vertical pt-2\"></i>顯示模式\r\n        </div>\r\n        <el-select style=\"width:120px\" v-model=\"display_mode\">\r\n          <el-option label=\"設備狀態\" value=\"lduld_state\"></el-option>\r\n          <el-option label=\"IO訊號\" value=\"io_siganl\"></el-option>\r\n        </el-select>\r\n      </div>\r\n      <div v-if=\"!show_lduld_state\" class=\"legend d-flex flex-row px-2\">\r\n        <div class=\"disconnect\"></div>\r\n        <span>斷線</span>\r\n        <div class=\"signal-on\"></div>\r\n        <span>訊號[ON]</span>\r\n        <div class=\"signal-off\"></div>\r\n        <span>訊號[OFF]</span>\r\n      </div>\r\n    </div>\r\n    <!-- <div v-if=\"IsDeveloperLogining\" class=\"dev-debug-global d-flex\">\r\n      <b-button variant=\"light\" @click=\"EmuAllLoad\">ALL Load</b-button>\r\n      <b-button class=\"mx-2\" variant=\"light\" @click=\"EmuAllBusy\">ALL Busy</b-button>\r\n    </div>-->\r\n    <el-table\r\n      class=\"px-1\"\r\n      border\r\n      siz=\"small\"\r\n      style=\"height:68vh\"\r\n      :header-cell-style=\"{ color: 'black', backgroundColor: 'white' }\"\r\n      :data=\"display_data\"\r\n      :row-style=\"{ fontWeight: 'bold' }\"\r\n      :row-class-name=\"eq_connection_status\"\r\n      row-key=\"EQName\">\r\n      <el-table-column type=\"expand\" max-width=\"40\">\r\n        <template #default=\"scope\">\r\n          <div class=\"hs-signals d-flex\">\r\n            <div class=\"mx-3\">交握訊號-EQ</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleHSsignaleChange(scope.row.EQName, 'L_REQ', !scope.row.HS_EQ_L_REQ)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_EQ_L_REQ)\">L_REQ</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleHSsignaleChange(scope.row.EQName, 'U_REQ', !scope.row.HS_EQ_U_REQ)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_EQ_U_REQ)\">U_REQ</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleHSsignaleChange(scope.row.EQName, 'READY', !scope.row.HS_EQ_READY)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_EQ_READY)\">READY</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleHSsignaleChange(scope.row.EQName, 'UP_READY', !scope.row.HS_EQ_UP_READY)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_EQ_UP_READY)\">UP_READY</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleHSsignaleChange(scope.row.EQName, 'LOW_READY', !scope.row.HS_EQ_LOW_READY)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_EQ_LOW_READY)\">LOW_READY</div>\r\n            <div\r\n              v-if=\"false\"\r\n              class=\"di-status\"\r\n              @click=\"HandleHSsignaleChange(scope.row.EQName, 'BUSY', !scope.row.HS_EQ_BUSY)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_EQ_BUSY)\">BUSY</div>\r\n          </div>\r\n          <div class=\"hs-signals d-flex\">\r\n            <div class=\"mx-3\">交握訊號-AGV</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'To_EQ_Up', !scope.row.To_EQ_Up)\"\r\n              v-bind:style=\"signalOn(scope.row.To_EQ_Up)\">To_EQ_Up</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'To_EQ_Low', !scope.row.To_EQ_Low)\"\r\n              v-bind:style=\"signalOn(scope.row.To_EQ_Low)\">To_EQ_Low</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'VALID', !scope.row.HS_AGV_VALID)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_AGV_VALID)\">VALID</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'TR_REQ', !scope.row.HS_AGV_TR_REQ)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_AGV_TR_REQ)\">TR_REQ</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'BUSY', !scope.row.HS_AGV_BUSY)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_AGV_BUSY)\">BUSY</div>\r\n            <div\r\n              v-if=\"false\"\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'READY', !scope.row.HS_AGV_READY)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_AGV_READY)\">READY</div>\r\n            <div\r\n              class=\"di-status\"\r\n              @click=\"HandleAGVHSSignaleChange(scope.row.EQName, 'COMPT', !scope.row.HS_AGV_COMPT)\"\r\n              v-bind:style=\"signalOn(scope.row.HS_AGV_COMPT)\">COMPT</div>\r\n          </div>\r\n          <div v-if=\"IsDeveloperLogining\" class=\"d-flex\">\r\n            <div class=\"mx-3\">模擬器:</div>\r\n            <el-button @click=\"LDULD_Emu_State_Switch(scope.row.EQName, 'busy')\">切換為Busy</el-button>\r\n            <el-button @click=\"LDULD_Emu_State_Switch(scope.row.EQName, 'load')\">切換為Load</el-button>\r\n            <el-button @click=\"LDULD_Emu_State_Switch(scope.row.EQName, 'unload')\">切換為Unload</el-button>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column sortable label=\"設備名稱\" prop=\"EQName\" width=\"170\">\r\n        <template #default=\"scope\">\r\n          <div> {{ scope.row.EQName }} <el-tooltip placement=\"top-start\" content=\"複製到剪貼簿\">\r\n              <i @click=\"CopyText(scope.row.EQName)\" class=\"copy-button copy-icon bi bi-clipboard\"></i>\r\n            </el-tooltip>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column sortable label=\"Tag\" prop=\"Tag\" width=\"60\" align=\"center\"></el-table-column>\r\n      <el-table-column v-if=\"show_lduld_state\" align=\"center\" label=\"主狀態\" prop=\"MainStatus\">\r\n        <template #default=\"scope\">\r\n          <el-tag\r\n            style=\"width:150px\"\r\n            :type=\"GetMainStatusTagtype(scope.row.MainStatus, scope.row.IsConnected)\"\r\n            effect=\"dark\">{{ GetMainStatusStr(scope.row.MainStatus, scope.row.IsConnected) }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column v-if=\"show_lduld_state\" align=\"center\" label=\"移載狀態\" prop=\"TransferStatus\">\r\n        <template #default=\"scope\">\r\n          <el-tag\r\n            style=\"width:150px\"\r\n            :type=\"GetTransferStatusTagtype(scope.row.TransferStatus, scope.row.IsConnected)\"\r\n            effect=\"dark\">{{ GetTransferStatusStr(scope.row.TransferStatus, scope.row.IsConnected) }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column v-if=\"show_lduld_state\" align=\"center\" label=\"帳籍狀態\" prop=\"TransferStatus\">\r\n        <template #default=\"scope\">\r\n          <el-table-column v-if=\"show_lduld_state\" align=\"center\" label=\"帳籍狀態\">\r\n            <template #default=\"scope\">\r\n              <div class=\"d-flex\">\r\n                <el-tag\r\n                  v-if=\"scope.row.Port_Exist\"\r\n                  class=\"mx-1\"\r\n                  type=\"success\"\r\n                  effect=\"dark\">有貨</el-tag>\r\n                <el-tag\r\n                  v-if=\"scope.row.Port_Exist\"\r\n                  class=\"mx-1\"\r\n                  type=\"info\"\r\n                  effect=\"dark\">滿框</el-tag>\r\n                <el-tag\r\n                  v-if=\"scope.row.Port_Exist\"\r\n                  class=\"mx-1\"\r\n                  type=\"info\"\r\n                  effect=\"dark\">空框</el-tag>\r\n                <el-tag\r\n                  v-if=\"!scope.row.Port_Exist\"\r\n                  class=\"mx-1\"\r\n                  type=\"warning\"\r\n                  effect=\"dark\">無貨</el-tag>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column v-if=\"show_lduld_state\" align=\"center\" label=\"ID\"></el-table-column>\r\n        </template>\r\n      </el-table-column>\r\n      <!-- <el-table-column sortable label=\"區域\" prop=\"Region\" width=\"110\"></el-table-column> -->\r\n      <!-- IO訊號 -->\r\n      <el-table-column\r\n        v-if=\"!show_lduld_state\"\r\n        label=\"可移入\"\r\n        prop=\"Load_Request\"\r\n        :min-width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Load_Request)\">可移入</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        v-if=\"!show_lduld_state\"\r\n        label=\"可移出\"\r\n        prop=\"Unload_Request\"\r\n        :min-width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Unload_Request)\">可移出</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        v-if=\"!show_lduld_state\"\r\n        label=\"貨物在席\"\r\n        prop=\"Port_Exist\"\r\n        :min-width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Port_Exist)\">{{ scope.row.Port_Exist ? '有貨' : '無貨' }}</div>\r\n        </template>\r\n      </el-table-column>\r\n      <!-- 轉換架之類的 -->\r\n      <!-- <el-table-column v-if=\"!show_lduld_state\" label=\"撈爪上位\" prop=\"Up_Pose\" :width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Up_Pose)\">撈爪上位</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column v-if=\"!show_lduld_state\" label=\"撈爪下位\" prop=\"Down_Pose\" :width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Down_Pose)\">撈爪下位</div>\r\n        </template>\r\n      </el-table-column> -->\r\n      <!--  -->\r\n      <el-table-column\r\n        v-if=\"!show_lduld_state\"\r\n        label=\"Down\"\r\n        prop=\"Eqp_Status_Down\"\r\n        :min-width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Eqp_Status_Down)\">{{ scope.row.EqType == 0 ? 'Normal' : 'Down' }}</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        v-if=\"!show_lduld_state\"\r\n        label=\"Run\"\r\n        prop=\"Eqp_Status_Run\"\r\n        :min-width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Eqp_Status_Run)\">Run</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column\r\n        v-if=\"!show_lduld_state\"\r\n        label=\"Idle\"\r\n        prop=\"Eqp_Status_Idle\"\r\n        :min-width=\"column_width\">\r\n        <template #default=\"scope\">\r\n          <div class=\"di-status\" v-bind:style=\"signalOn(scope.row.Eqp_Status_Idle)\">Idle</div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport WebSocketHelp from '@/api/WebSocketHepler';\r\nimport RegionsSelector from '@/components/RegionsSelector.vue'\r\nimport { ElNotification } from 'element-plus'\r\nimport { EmuAPI, SetAGVHandshakeIO } from '@/api/EquipmentAPI.js'\r\nimport { userStore } from '@/store';\r\nimport param from '@/gpm_param.js'\r\nimport { EqStore } from '@/store'\r\nimport { watch } from 'vue';\r\nimport bus from '@/event-bus.js'\r\nimport { CopyText } from '@/api/Common/UtilityTools'\r\n\r\nexport default {\r\n  components: {\r\n    RegionsSelector,\r\n  },\r\n  data() {\r\n    return {\r\n      column_width: 103,\r\n      // eq_data: [\r\n      //   {\r\n      //     IsConnected: true,\r\n      //     EQName: 'GB123#1',\r\n      //     Load_Request: false,\r\n      //     Unload_Request: true,\r\n      //     Port_Exist: true,\r\n      //     Up_Pose: false,\r\n      //     Down_Pose: true,\r\n      //     Eqp_Status_Down: true,\r\n      //     Region: '',\r\n      //    TransferStatus:0,\r\n      //   }\r\n      // ],\r\n      selected_region: \"all\",\r\n      display_mode: 'lduld_state',\r\n      previous_eq_data: []\r\n    }\r\n  },\r\n  computed: {\r\n    IsDeveloperLogining() {\r\n      return userStore.getters.IsDeveloperLogining;\r\n    },\r\n    display_data() {\r\n      if (this.selected_region == 'all')\r\n        return this.eq_data;\r\n      else {\r\n        return this.eq_data.filter(eq => eq.Region == this.selected_region)\r\n      }\r\n    },\r\n    eq_data() {\r\n      return EqStore.getters.EQData\r\n    },\r\n    show_lduld_state() {\r\n      return this.display_mode == 'lduld_state'\r\n    }\r\n  },\r\n  mounted() {\r\n    //this.WsConnect();\r\n    var signal_divs = document.getElementsByClassName('di-status');\r\n    bus.on('/map_init_done', () => {\r\n      this.eq_data.forEach(eq_states => {\r\n        bus.emit('/eq_lduld_status_changed', {\r\n          tagNumber: eq_states.Tag,\r\n          status: eq_states.TransferStatus,\r\n        })\r\n      });\r\n\r\n    })\r\n\r\n  },\r\n  methods: {\r\n    userStoreTest() {\r\n      alert(userStore.getters.IsDeveloperLogining)\r\n    },\r\n\r\n    eq_connection_status(row, rowIndex) {\r\n      var isConnected = row.row.IsConnected;\r\n      return isConnected ? 'success-row' : 'error-row';\r\n    },\r\n    signalOn(status, isLoadable = false) {\r\n      if (status) {\r\n        if (isLoadable) {\r\n          return { backgroundColor: 'blue' }\r\n        }\r\n        return {\r\n          backgroundColor: 'lime'\r\n        }\r\n      }\r\n      else {\r\n        return {\r\n          backgroundColor: 'rgb(204, 204, 204)'\r\n        }\r\n      }\r\n    },\r\n    RegionSelectChanged(val) {\r\n      this.selected_region = val;\r\n    },\r\n    filterRegionData(value, row, column) {\r\n      console.log(row)\r\n    },\r\n    CopyText(text) {\r\n      CopyText(text)\r\n    },\r\n    LDULD_Emu_State_Switch(EQName = \"\", mode = 'busy|load|unlod') {\r\n      EmuAPI.SetState(EQName, mode)\r\n    },\r\n    EmuAllLoad() {\r\n      EmuAPI.EQAllLoad()\r\n    },\r\n    EmuAllBusy() {\r\n      EmuAPI.EQAllBusy()\r\n    },\r\n    HandleHSsignaleChange(eqname, signal_name, state) {\r\n      // alert(eqname + ',' + signal_name)\r\n      if (!this.IsDeveloperLogining)\r\n        return;\r\n      EmuAPI.SetEQHsSignal(eqname, signal_name, state)\r\n    },\r\n    HandleAGVHSSignaleChange(eqname, signal_name, state) {\r\n      // alert(eqname + ',' + signal_name)\r\n      if (!this.IsDeveloperLogining)\r\n        return;\r\n      SetAGVHandshakeIO(eqname, signal_name, state)\r\n    },\r\n    GetMainStatusStr(status_int, connected) {\r\n      if (!connected)\r\n        return '斷線';\r\n      switch (status_int) {\r\n        case 0:\r\n          return '當機'\r\n        case 1:\r\n          return '生產中'\r\n        case 2:\r\n          return '閒置'\r\n        case 3:\r\n          return '-'\r\n        default:\r\n          return status_int + ''\r\n      }\r\n    },\r\n    GetTransferStatusStr(status_int, connected) {\r\n      if (!connected)\r\n        return '斷線';\r\n      switch (status_int) {\r\n        case 0:\r\n          return '斷線'\r\n        case 1:\r\n          return '可收料'\r\n        case 2:\r\n          return '可出料'\r\n        case 3:\r\n          return 'No-Request'\r\n        default:\r\n          return status_int + ''\r\n      }\r\n    },\r\n    /**'success' | 'info' | 'warning' | 'danger' | '' */\r\n    GetTransferStatusTagtype(status_int, connected) {\r\n      if (!connected)\r\n        return 'danger';\r\n      switch (status_int) {\r\n        case 0:\r\n          return 'info'\r\n        case 1:\r\n          return 'warning'\r\n        case 2:\r\n          return 'success'\r\n        case 3:\r\n          return 'info'\r\n        case 4:\r\n          return 'success'\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    /**'success' | 'info' | 'warning' | 'danger' | '' */\r\n    GetMainStatusTagtype(status_int, connected) {\r\n      if (!connected)\r\n        return 'danger';\r\n      switch (status_int) {\r\n        case 0:\r\n          return 'danger'\r\n        case 1:\r\n          return 'success'\r\n        case 2:\r\n          return 'warning'\r\n        case 3:\r\n          return 'success'\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.eq-status {\r\n  height: 100%;\r\n  width: 50vw;\r\n\r\n  .legend {\r\n    div {\r\n      width: 40px;\r\n      height: 12px;\r\n      border-radius: 4px;\r\n\r\n      margin-right: 3px;\r\n      margin-top: 5px;\r\n    }\r\n\r\n    div:hover {\r\n      cursor: pointer;\r\n    }\r\n\r\n    span {\r\n      margin-right: 20px;\r\n      font-weight: bold;\r\n      font-size: 14px;\r\n      color: rgb(112, 112, 112);\r\n    }\r\n\r\n    .disconnect {\r\n      background-color: rgb(245, 108, 108);\r\n    }\r\n\r\n    .signal-on {\r\n      background-color: lime;\r\n    }\r\n\r\n    .signal-off {\r\n      background-color: rgb(204, 204, 204);\r\n    }\r\n  }\r\n\r\n  .di-status {\r\n    color: rgb(139, 139, 139);\r\n    height: 22px;\r\n    padding: 0;\r\n    margin: 0;\r\n    text-align: center;\r\n    font-size: 12px;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n  }\r\n\r\n  .hs-signals {\r\n    div {\r\n      margin: 3px;\r\n      padding: 3px;\r\n    }\r\n  }\r\n\r\n  .el-table .success-row {\r\n    --el-table-tr-bg-color: var(--el-color-success-light-9);\r\n  }\r\n\r\n  .el-table .error-row {\r\n    --el-table-tr-bg-color: var(--el-color-error);\r\n    color: white;\r\n  }\r\n}\r\n</style>","\r\nimport Clipboard from 'clipboard'\r\nimport { ElNotification } from 'element-plus'\r\n\r\nexport function CopyText(text) {\r\n    const clipboard = new Clipboard('.copy-button', {\r\n        text: () => text\r\n    });\r\n    clipboard.on('success', () => {\r\n        ElNotification({\r\n            title: text,\r\n            message: \"已複製到剪貼簿\",\r\n            duration: 1500\r\n        })\r\n        clipboard.destroy();\r\n    });\r\n\r\n    clipboard.on('error', () => {\r\n        clipboard.destroy();\r\n    });\r\n}","import { render } from \"./EQStatus.vue?vue&type=template&id=86d91c6e\"\nimport script from \"./EQStatus.vue?vue&type=script&lang=js\"\nexport * from \"./EQStatus.vue?vue&type=script&lang=js\"\n\nimport \"./EQStatus.vue?vue&type=style&index=0&id=86d91c6e&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./HomeView.vue?vue&type=template&id=5364bae0\"\nimport script from \"./HomeView.vue?vue&type=script&lang=js\"\nexport * from \"./HomeView.vue?vue&type=script&lang=js\"\n\nimport \"./HomeView.vue?vue&type=style&index=0&id=5364bae0&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"sys-settings custom-tabs-head-large p-1 \">\r\n    <b-tabs>\r\n      <b-tab title=\"AGV 電量設定\" active>\r\n        <div class=\"setting-tab\">\r\n          <AGVBatterySetting></AGVBatterySetting>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"用戶管理\">\r\n        <div class=\"setting-tab\">\r\n          <UserManager ref=\"user_manager\"></UserManager>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"充電站設置\">\r\n        <div class=\"setting-tab\">\r\n          <ChargeStationView></ChargeStationView>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"設備管理\">\r\n        <div class=\"setting-tab\">\r\n          <EQManager></EQManager>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"HOT RUN\">\r\n        <div class=\"setting-tab\">\r\n          <HotRUniew></HotRUniew>\r\n        </div>\r\n      </b-tab>\r\n    </b-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport UserManager from '@/components/SystemSettings/UserManager.vue';\r\nimport EQManager from '@/components/SystemSettings/EquipmentManager.vue';\r\nimport AGVBatterySetting from '@/components/SystemSettings/AGVBatterySetting.vue';\r\nimport ChargeStationView from '@/views/ChargeStation/ChargeStationHomeView.vue'\r\nimport HotRUniew from '@/views/HotRun.vue'\r\n\r\nexport default {\r\n  components: {\r\n    UserManager, EQManager, AGVBatterySetting, ChargeStationView, HotRUniew\r\n  },\r\n  data() {\r\n    return {\r\n      activeTab: 0,\r\n      tabID: {\r\n        user_manager: 'user_manager'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    TabActiveHandle(tab) {\r\n      if (tab == 2) {\r\n        this.$refs['user_manager'].DownloadUsers();\r\n      }\r\n    },\r\n    updateTabContent() {\r\n      this.$nextTick(() => {\r\n        // 在下一個異步更新周期中處理選項卡內容的更新\r\n        // 這樣可以避免觸發無限循環和 ResizeObserver loop limit exceeded 錯誤\r\n        // 在此處執行相應的選項卡內容更新操作\r\n        // 例如，你可以根據實際需求來計算內容的高度或重新佈局等操作\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.$nextTick(() => {\r\n      this.updateTabContent(); // 初始化選項卡內容的更新\r\n    });\r\n\r\n  },\r\n  watch: {\r\n    activeTab(newValue) {\r\n      if (newValue !== null) {\r\n        this.updateTabContent(); // 切換選項卡時處理內容的更新\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.sys-settings {\r\n  position: absolute;\r\n  top: 55px;\r\n  width: 96vw;\r\n\r\n  .setting-tab {\r\n    padding: 12px;\r\n    width: 100%;\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"user-manager\">\r\n    <div class=\"d-flex flex-row\">\r\n      <OperatieButtonSet @save=\"SaveSetting\" @restore=\"HandleRestoreBtnClicked\"></OperatieButtonSet>\r\n      <span class=\"flex-fill\"></span>\r\n      <el-button\r\n        @click=\"() => {\r\n        NewUser = {\r\n          UserName: '',\r\n          Password: '',\r\n          Role: 1\r\n        },\r\n          AddNewUserDialogShow = true\r\n      }\"\r\n        style=\"font-weight: bold;font-size: 20px;\"\r\n        type=\"primary\"\r\n        size=\"large\"\r\n      >新增使用者</el-button>\r\n    </div>\r\n    <div class=\"border\">\r\n      <el-table :data=\"UserData\" empty-text=\"沒有使用者\" size=\"large\">\r\n        <el-table-column label=\"使用者名稱\" prop=\"UserName\" width=\"180\"></el-table-column>\r\n        <el-table-column label=\"使用者密碼\" prop=\"Password\" width=\"220\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-input type=\"Password\" v-model=\"scope.row.Password\" show-password></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"使用者群組\" prop=\"Role\" width=\"180\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-select v-model=\"scope.row.Role\">\r\n                <el-option\r\n                  v-for=\"role in RoleOptions\"\r\n                  :key=\"role.value\"\r\n                  :value=\"role.value\"\r\n                  :label=\"role.label\"\r\n                ></el-option>\r\n              </el-select>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" min-width=\"120\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-button @click=\"DeleteUser(scope.row)\" type=\"danger\">刪除</el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <el-dialog v-model=\"AddNewUserDialogShow\" width=\"500\" title=\"新增使用者\" draggable>\r\n      <div>\r\n        <el-form>\r\n          <el-form-item label=\"使用者名稱\">\r\n            <el-input v-model=\"NewUser.UserName\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"使用者密碼\">\r\n            <el-input v-model=\"NewUser.Password\" type=\"password\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"使用者群組\">\r\n            <el-select v-model=\"NewUser.Role\">\r\n              <el-option\r\n                v-for=\"role in RoleOptions\"\r\n                :key=\"role.value\"\r\n                :value=\"role.value\"\r\n                :label=\"role.label\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <b-button\r\n            :disabled=\"NewUser.UserName == '' || NewUser.Password == ''\"\r\n            @click=\"HandleAddNewUserClick\"\r\n            class=\"w-100\"\r\n            variant=\"primary\"\r\n          >新增</b-button>\r\n        </el-form>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport OperatieButtonSet from './OperatieButtonSet.vue'\r\nimport { Modify, GetUsers, Delete, Add } from '@/api/UserAPI'\r\nimport Notifier from '@/api/NotifyHelper'\r\nexport default {\r\n  components: {\r\n    OperatieButtonSet,\r\n  },\r\n  data() {\r\n    return {\r\n      AddNewUserDialogShow: false,\r\n      UserData: [\r\n        {\r\n          UserName: \"jinwei\",\r\n          Password: \"1020\",\r\n          Role: 2\r\n        },\r\n        {\r\n          UserName: \"eng\",\r\n          Password: \"tset-pw2\",\r\n          Role: 1\r\n        },\r\n        {\r\n          UserName: \"test\",\r\n          Password: \"tset-pw3\",\r\n          Role: 0\r\n        }\r\n      ],\r\n      NewUser: {\r\n        UserName: \"eng\",\r\n        Password: \"tset-pw2\",\r\n        Role: 1\r\n      },\r\n      OriginUserData: {},\r\n      RoleOptions: [\r\n        {\r\n          label: \"Operator\",\r\n          value: 0\r\n        },\r\n        {\r\n          label: \"工程師\",\r\n          value: 1\r\n        },\r\n        {\r\n          label: \"開發人員\",\r\n          value: 2\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  mounted() {\r\n    this.DownloadUsers();\r\n  },\r\n  methods: {\r\n    async DeleteUser(userDto) {\r\n      this.$swal.fire(\r\n        {\r\n          text: `確定要刪除使用者-${userDto.UserName} ?`,\r\n          title: '刪除使用者',\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(async (res) => {\r\n          if (!res.isConfirmed)\r\n            return;\r\n          await Delete(userDto.UserName);\r\n          this.DownloadUsers();\r\n          Notifier.Danger(`使用者-${userDto.UserName}已刪除`, 'top', 1000);\r\n\r\n        })\r\n    },\r\n    async DownloadUsers() {\r\n      this.UserData = await GetUsers();\r\n      this.SaveAsOriginUserData();\r\n    },\r\n    async SaveSetting() {\r\n      var response = await Modify(this.UserData);\r\n      if (response.Success) {\r\n        Notifier.Success(\"使用者資料修改成功\", 'bottom', 3000);\r\n      } else\r\n        Notifier.Danger(\"使用者資料修改失敗\", 'bottom', 3000);\r\n    },\r\n    async HandleRestoreBtnClicked() {\r\n      this.$swal.fire(\r\n        {\r\n          text: '',\r\n          title: '確定要載入預設值?',\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then((res) => {\r\n          if (!res.isConfirmed)\r\n            return\r\n          this.DownloadUsers();\r\n          Notifier.Success(\"使用者資料已重新載入\", 'top', 2000);\r\n        })\r\n    },\r\n    SaveAsOriginUserData() {\r\n      this.OriginUserData = JSON.parse(JSON.stringify(this.UserData));\r\n    },\r\n    async HandleAddNewUserClick() {\r\n      var result = await Add(this.NewUser);\r\n      this.AddNewUserDialogShow = false;\r\n      if (!result.Success) {\r\n        this.$swal.fire(\r\n          {\r\n            text: `${result.Message}`,\r\n            title: `使用者新增失敗`,\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          }).then(() => {\r\n            this.AddNewUserDialogShow = true;\r\n          })\r\n      } else {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: `使用者 ${this.NewUser.UserName}-新增成功`,\r\n            icon: 'success',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n      }\r\n      this.DownloadUsers();\r\n\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.user-manager {\r\n}\r\n</style>","<template>\r\n  <div class=\"save-default-buttons-group border-bottom bg-default text-start\">\r\n    <el-button @click=\"HandleSaveBtnClick\" type=\"primary\" size=\"large\">儲存</el-button>\r\n    <el-button @click=\"HandleRestoreBtnClick\" type=\"danger\" size=\"large\">預設值</el-button>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  methods: {\r\n    HandleRestoreBtnClick() {\r\n      this.$emit('restore', \"\");\r\n    },\r\n    HandleSaveBtnClick() {\r\n      this.$emit('save', \"\");\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.save-default-buttons-group {\r\n  margin-bottom: 5px;\r\n  padding-bottom: 5px;\r\n  width: 100%;\r\n\r\n  button {\r\n    width: 100px;\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./OperatieButtonSet.vue?vue&type=template&id=6bebdf16&scoped=true\"\nimport script from \"./OperatieButtonSet.vue?vue&type=script&lang=js\"\nexport * from \"./OperatieButtonSet.vue?vue&type=script&lang=js\"\n\nimport \"./OperatieButtonSet.vue?vue&type=style&index=0&id=6bebdf16&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6bebdf16\"]])\n\nexport default __exports__","import { render } from \"./UserManager.vue?vue&type=template&id=05ef01b7\"\nimport script from \"./UserManager.vue?vue&type=script&lang=js\"\nexport * from \"./UserManager.vue?vue&type=script&lang=js\"\n\nimport \"./UserManager.vue?vue&type=style&index=0&id=05ef01b7&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"equipment-manager border-start border-end\">\r\n    <p class=\"text-start px-1\">\r\n      <b-button variant=\"primary\" squared @click=\"SaveSettingHandler\">儲存設定</b-button>\r\n      <b-button variant=\"info\" squared class=\"mx-2\" @click=\"AddNewEqHandler\">新增設備</b-button>\r\n      <b-button squared @click=\"ReloadSettingsHandler\">重新載入</b-button>\r\n    </p>\r\n    <el-table\r\n      :header-cell-style=\"{ color: 'white', backgroundColor: 'rgb(13, 110, 253)', fontSize: '16px' }\"\r\n      :data=\"EqDatas\"\r\n      row-key=\"TagID\"\r\n      size=\"small\"\r\n      border\r\n      height=\"680\"\r\n      table-layout=\"fixed\"\r\n      style=\"width:1800px\">\r\n      <el-table-column label=\"Index\" prop=\"index\" width=\"80\" align=\"center\" fixed=\"left\" />\r\n      <el-table-column label=\"設備名稱\" prop=\"Name\" width=\"250\" fixed=\"left\">\r\n        <template #default=\"scope\">\r\n          <div class=\"d-flex\">\r\n            <b-form-input\r\n              :state=\"ValidName(scope.row)\"\r\n              v-model=\"scope.row.Name\"\r\n              placeholder=\"設備名稱\"\r\n              style=\"width:120px\"\r\n              :no-wheel=\"true\"\r\n              size=\"sm\"\r\n              :min=\"1\"\r\n              @input=\"HandleEqNameChange(scope.row, scope.row.Name)\"></b-form-input>\r\n            <b-button\r\n              class=\"mx-1\"\r\n              size=\"sm\"\r\n              variant=\"primary\"\r\n              @click=\"HandleUseMapDataDisplayName(scope.row.TagID)\">使用圖資設定</b-button>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"Tag ID\" prop=\"TagID\" width=\"100\" align=\"center\" fixed=\"left\">\r\n        <template #default=\"scope\">\r\n          <b-form-input\r\n            type=\"number\"\r\n            :state=\"ValidTag(scope.row)\"\r\n            v-model.number=\"scope.row.TagID\"\r\n            placeholder=\"tag id\"\r\n            :no-wheel=\"true\"\r\n            size=\"sm\"\r\n            :min=\"1\"></b-form-input>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"區域\" prop=\"Region\" width=\"130\">\r\n        <template #default=\"scope\">\r\n          <RegionsSelector v-model=\"scope.row.Region\"></RegionsSelector>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"下游設備\" width=\"950px\">\r\n        <template #default=\"scope\">\r\n          <div class=\"w-100 d-flex flex-row\">\r\n            <el-select\r\n              v-model=\"scope.row.ValidDownStreamEndPointNames\"\r\n              multiple\r\n              placeholder=\"Select\"\r\n              style=\"width: 1000px\">\r\n              <el-option\r\n                v-for=\"eq_name in GetAvaluableEqNameList(scope.row.Name)\"\r\n                :key=\"eq_name\"\r\n                :label=\"eq_name\"\r\n                :value=\"eq_name\" />\r\n            </el-select>\r\n            <el-button type=\"default\" @click=\"() => { scope.row.ValidDownStreamEndPointNames = GetAvaluableEqNameList(scope.row.Name) }\">使用所有設備</el-button>\r\n            <el-button type=\"danger\" @click=\"() => { scope.row.ValidDownStreamEndPointNames = [] }\">清除</el-button>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"操作\" min-width=\"170\" fixed=\"right\">\r\n        <template #default=\"scope\">\r\n          <div>\r\n            <el-button\r\n              :size=\"cell_item_size\"\r\n              type=\"default\"\r\n              @click=\"ConnectionSettingBtnHandle(scope.row)\">連線設定</el-button>\r\n            <!-- <el-button\r\n              :size=\"cell_item_size\"\r\n              type=\"primary\"\r\n              @click=\"IOCheckBtnHandle(scope.row)\">IO點檢</el-button> -->\r\n            <el-button :size=\"cell_item_size\" type=\"danger\" @click=\"RemoveHandle(scope.row)\">移除</el-button>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n    <el-drawer v-model=\"connection_setting_drawer\" :title=\"`${selected_eq.Name}-連線設定`\">\r\n      <div class=\"w-100\">\r\n        <el-form label-position=\"left\" label-width=\"100\">\r\n          <el-form-item label=\"通訊方式\">\r\n            <el-select v-model=\"selected_eq.ConnOptions.ConnMethod\">\r\n              <el-option label=\"Modbus TCP\" :value=\"0\"></el-option>\r\n              <el-option label=\"Modbus RTU\" :value=\"1\"></el-option>\r\n              <el-option label=\"TCP/IP\" :value=\"2\"></el-option>\r\n              <el-option label=\"Serial Port\" :value=\"3\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"IP\"> <el-input\r\n              :disabled=\"selected_eq.ConnOptions.ConnMethod == 1\"\r\n              v-model=\"selected_eq.ConnOptions.IP\"></el-input></el-form-item>\r\n          <el-form-item label=\"PORT\"> <el-input\r\n              :disabled=\"selected_eq.ConnOptions.ConnMethod == 1\"\r\n              v-model.number=\"selected_eq.ConnOptions.Port\"></el-input></el-form-item>\r\n          <el-form-item label=\"COMPORT\"> <el-input\r\n              :disabled=\"selected_eq.ConnOptions.ConnMethod == 0\"\r\n              v-model=\"selected_eq.ConnOptions.ComPort\"></el-input></el-form-item>\r\n        </el-form>\r\n        <el-button type=\"default\" @click=\"ConnectTestHandle(selected_eq)\">通訊測試</el-button>\r\n      </div>\r\n    </el-drawer>\r\n    <el-drawer v-model=\"io_check_drawer\" direction=\"btt\">\r\n      <div class=\"hs-signals d-flex\">\r\n        <div class=\"mx-3\">交握訊號-EQ</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleHSsignaleChange(selected_eq_io_data.EQName, 'L_REQ', !scope.row.HS_EQ_L_REQ)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_EQ_L_REQ)\">L_REQ</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleHSsignaleChange(selected_eq_io_data.EQName, 'U_REQ', !scope.row.HS_EQ_U_REQ)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_EQ_U_REQ)\">U_REQ</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleHSsignaleChange(selected_eq_io_data.EQName, 'READY', !scope.row.HS_EQ_READY)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_EQ_READY)\">READY</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleHSsignaleChange(selected_eq_io_data.EQName, 'UP_READY', !scope.row.HS_EQ_UP_READY)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_EQ_UP_READY)\">UP_READY</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleHSsignaleChange(selected_eq_io_data.EQName, 'LOW_READY', !scope.row.HS_EQ_LOW_READY)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_EQ_LOW_READY)\">LOW_READY</div>\r\n        <div\r\n          v-if=\"false\"\r\n          class=\"di-status\"\r\n          @click=\"HandleHSsignaleChange(selected_eq_io_data.EQName, 'BUSY', !scope.row.HS_EQ_BUSY)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_EQ_BUSY)\">BUSY</div>\r\n      </div>\r\n      <div class=\"hs-signals d-flex\">\r\n        <div class=\"mx-3\">交握訊號-AGV</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'To_EQ_Up', !scope.row.To_EQ_Up)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.To_EQ_Up)\">To_EQ_Up</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'To_EQ_Low', !scope.row.To_EQ_Low)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.To_EQ_Low)\">To_EQ_Low</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'VALID', !scope.row.HS_AGV_VALID)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_AGV_VALID)\">VALID</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'TR_REQ', !scope.row.HS_AGV_TR_REQ)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_AGV_TR_REQ)\">TR_REQ</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'BUSY', !scope.row.HS_AGV_BUSY)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_AGV_BUSY)\">BUSY</div>\r\n        <div\r\n          v-if=\"false\"\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'READY', !scope.row.HS_AGV_READY)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_AGV_READY)\">READY</div>\r\n        <div\r\n          class=\"di-status\"\r\n          @click=\"HandleAGVHSSignaleChange(selected_eq_io_data.EQName, 'COMPT', !scope.row.HS_AGV_COMPT)\"\r\n          v-bind:style=\"signalOn(selected_eq_io_data.HS_AGV_COMPT)\">COMPT</div>\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { SaveEQOptions, ConnectTest } from '@/api/EquipmentAPI.js';\r\nimport RegionsSelector from '@/components/RegionsSelector.vue'\r\nimport { MapStore } from '../Map/store';\r\nimport { EqStore } from '@/store'\r\nimport { ElNotification } from 'element-plus';\r\nimport { duration } from 'moment';\r\nexport default {\r\n  components: {\r\n    RegionsSelector,\r\n  },\r\n  data() {\r\n    return {\r\n      cell_item_size: '',\r\n      io_check_drawer: false,\r\n      connection_setting_drawer: false,\r\n      EqDatas: [\r\n        // {\r\n        //   Name: \"123\",\r\n        //   TagID: 1,\r\n        //   ValidDownStreamEndPointNames: [],\r\n        //   ConnOptions: {\r\n        //     ConnMethod: 0,\r\n        //     IP: \"10.0.0.1\",\r\n        //     Port: 502,\r\n        //     ComPort: \"COM1\"\r\n        //   }\r\n        // }\r\n      ],\r\n      EqDatas_Orignal: [],\r\n      ValidTag: (row_) => {\r\n        var tag = row_.TagID;\r\n        var others_row = this.EqDatas.filter(d => d.Name != row_.Name)\r\n        var same_tag_rows = others_row.filter(row => row.TagID == tag)\r\n        return same_tag_rows.length == 0 && tag >= 1;\r\n      },\r\n      ValidName: (row_) => {\r\n        var name = row_.Name;\r\n        var same_name_row = this.EqDatas.filter(d => d.Name == row_.Name)\r\n        return same_name_row.length == 1 && name != '';\r\n      },\r\n      selected_eq: {}\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    GetAvaluableEqNameList(expect_name) {\r\n      var othersEqName = this.EqNames.filter(name => name != expect_name);\r\n\r\n      return [\"ALL\", ...othersEqName];\r\n    },\r\n    async SaveSettingHandler() {\r\n      var ret = await SaveEQOptions(this.EqDatas);\r\n      if (ret.confirm) {\r\n        this.$swal.fire({\r\n          title: '儲存成功',\r\n          icon: 'success',\r\n          timer: 2000\r\n        })\r\n      }\r\n      else {\r\n        this.$swal.fire({\r\n          title: '參數設定有誤',\r\n          text: ret.message,\r\n          icon: 'error',\r\n        })\r\n\r\n      }\r\n    },\r\n    async DownloadEQOptions() {\r\n      this.EqDatas = [];\r\n\r\n      var datas = EqStore.getters.EqOptions;\r\n      for (let index = 0; index < datas.length; index++) {\r\n        const element = datas[index];\r\n        element.index = index;\r\n        this.EqDatas.push(element)\r\n      }\r\n      this.CloneEQDatas();\r\n    },\r\n    CloneEQDatas() {\r\n      this.EqDatas_Orignal = JSON.parse(JSON.stringify(this.EqDatas));\r\n    },\r\n    ReloadSettingsHandler() {\r\n      this.DownloadEQOptions();\r\n    },\r\n    AddNewEqHandler() {\r\n      this.EqDatas.push(\r\n        {\r\n          index: this.EqDatas.length,\r\n          Name: `New_EQ_${this.EqDatas.length}`,\r\n          TagID: 1,\r\n          ConnOptions: {\r\n            ConnMethod: 0,\r\n            IP: \"127.0.0.1\",\r\n            Port: 502,\r\n            ComPort: \"COM1\"\r\n          }\r\n        })\r\n    },\r\n    RemoveHandle(row) {\r\n      var remains = this.EqDatas.filter(eq => eq.Name != row.Name)\r\n      this.EqDatas = remains;\r\n    },\r\n    async IOCheckBtnHandle(row) {\r\n      this.selected_eq = row;\r\n      this.io_check_drawer = true;\r\n    },\r\n    async ConnectionSettingBtnHandle(row) {\r\n      this.selected_eq = row;\r\n      this.connection_setting_drawer = true;\r\n    },\r\n    async ConnectTestHandle(row) {\r\n      var ret = await ConnectTest(row.ConnOptions)\r\n      var display_text = ''\r\n      if (row.ConnOptions.ConnMethod == 0) {\r\n        display_text = `Modbus TCP - ${row.ConnOptions.IP}:${row.ConnOptions.Port}`\r\n      } else {\r\n        display_text = `Modbus RTU - ${row.ConnOptions.ComPort}`\r\n      }\r\n\r\n      if (ret.Connected) {\r\n        this.$swal.fire({\r\n          title: 'OK',\r\n          text: display_text,\r\n          icon: 'success'\r\n\r\n        })\r\n      } else {\r\n        this.$swal.fire({\r\n          title: 'Fail',\r\n          text: display_text,\r\n          icon: 'error'\r\n\r\n        })\r\n      }\r\n    },\r\n    beforeRouteLeave(to, from, next) {\r\n      alert('leave!')\r\n    },\r\n    async HandleUseMapDataDisplayName(tag) {\r\n      var mapPoint = await MapStore.dispatch('GetMapPointByTag', tag)\r\n      if (mapPoint) {\r\n        var row = this.EqDatas.find(eq => eq.TagID == tag);\r\n        var _name = mapPoint.Graph.Display;\r\n        row.Name = _name;\r\n        this.HandleEqNameChange(row, mapPoint.Name);\r\n        ElNotification({\r\n          message: `Get Display Name From Map Success(Tag ${tag} = ${_name})`,\r\n          duration: 1000,\r\n          type: 'success',\r\n          title: '設備同步名稱'\r\n        })\r\n      } else {\r\n        ElNotification({\r\n          message: `Get Display Name From Map Fail`,\r\n          duration: 1000,\r\n          type: 'error',\r\n          title: '設備同步名稱失敗'\r\n        })\r\n      }\r\n\r\n    },\r\n    HandleEqNameChange(row, newName) {\r\n      var tagid = row.TagID;\r\n      var oriOptions = this.EqDatas_Orignal.find(d => d.TagID == tagid);\r\n      var oriName = oriOptions.Name;\r\n      var useOriNameOptionsList = this.EqDatas.filter(eq => eq.ValidDownStreamEndPointNames.includes(oriName));\r\n      useOriNameOptionsList.forEach(option => {\r\n        var _index = option.ValidDownStreamEndPointNames.indexOf(oriName);\r\n        option.ValidDownStreamEndPointNames[_index] = newName;\r\n      });\r\n      this.CloneEQDatas();\r\n    }\r\n  },\r\n  mounted() {\r\n    setTimeout(() => {\r\n      this.DownloadEQOptions();\r\n    }, 1000);\r\n  },\r\n  computed: {\r\n    EqNames() {\r\n      return this.EqDatas.map(ep => ep.Name);\r\n    },\r\n    eq_data() {\r\n      return EqStore.getters.EQData\r\n    },\r\n    selected_eq_io_data() {\r\n      return this.eq_data.find(eq => eq.EQName == this.selected_eq.EQName)\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.equipment-manager {}\r\n</style>","import { render } from \"./EquipmentManager.vue?vue&type=template&id=ad1a2d62&scoped=true\"\nimport script from \"./EquipmentManager.vue?vue&type=script&lang=js\"\nexport * from \"./EquipmentManager.vue?vue&type=script&lang=js\"\n\nimport \"./EquipmentManager.vue?vue&type=style&index=0&id=ad1a2d62&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ad1a2d62\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"agv-battery-setting\">\r\n    <el-table\r\n      :header-cell-style=\"{color:'white',backgroundColor:'rgb(13, 110, 253)',fontSize:'16px'}\"\r\n      size=\"small\"\r\n      border\r\n      height=\"680\"\r\n    >\r\n      <el-table-column label=\"車輛名稱\"></el-table-column>\r\n      <el-table-column label=\"低電量提醒\"></el-table-column>\r\n      <el-table-column label=\"閒置-強制充電\"></el-table-column>\r\n      <el-table-column label=\"AGV 名稱\"></el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./AGVBatterySetting.vue?vue&type=template&id=1d3ed7c6\"\nimport script from \"./AGVBatterySetting.vue?vue&type=script&lang=js\"\nexport * from \"./AGVBatterySetting.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"charge-station-setup\" style=\"height:100%\">\r\n    <el-tabs tab-position=\"top\">\r\n      <el-tab-pane v-for=\"(data,name) in charge_station_data\" :key=\"name\" :label=\"name\">\r\n        <div class=\"charger-states border rounded text-start\">\r\n          <h3 class=\"px-2\">{{ name }}</h3>\r\n          <div class=\"d-flex w-100\">\r\n            <div class=\"state p-3\">\r\n              <h5 class=\"title\">狀態</h5>\r\n              <el-form label-width=\"120\" label-position=\"left\">\r\n                <el-form-item label=\"連線狀態\">\r\n                  <el-tag\r\n                    effect=\"dark\"\r\n                    :type=\"data.Connected?'primary':'danger'\"\r\n                  >{{ data.Connected?'Connected':'Disconnect' }}</el-tag>\r\n                </el-form-item>\r\n                <el-form-item label=\"狀態\">\r\n                  <el-tag\r\n                    effect=\"dark\"\r\n                    :type=\"GetTagType(data)\"\r\n                  >{{!data.Connected?'Disconnect': data.ErrorCodes.length==0?'Normal':'Warning' }}</el-tag>\r\n                </el-form-item>\r\n                <el-form-item label=\"異常碼\">\r\n                  <div class=\"row\" style=\"width:390px;padding-left:12px\">\r\n                    <el-tag\r\n                      effect=\"dark\"\r\n                      class=\"col-sm-3\"\r\n                      v-for=\"error_code in data.ErrorCodes\"\r\n                      :key=\"error_code\"\r\n                      type=\"danger\"\r\n                    >{{ error_code}}</el-tag>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"輸入電壓\">\r\n                  <el-tag>{{ data.Vin }} V</el-tag>\r\n                </el-form-item>\r\n                <el-form-item label=\"輸出電壓\">\r\n                  <el-tag>{{ data.Vout }} V</el-tag>\r\n                </el-form-item>\r\n                <el-form-item label=\"輸出電流\">\r\n                  <el-tag>{{ data.Iout }} A</el-tag>\r\n                </el-form-item>\r\n              </el-form>\r\n            </div>\r\n            <div class=\"state mx-2 p-3\">\r\n              <h5 class=\"title\">充電曲線參數</h5>\r\n              <el-form label-width=\"70\" label-position=\"left\">\r\n                <el-form-item label=\"CC\">\r\n                  <div class=\"d-flex\">\r\n                    <el-input :precision=\"2\" disabled v-model=\"data.CC\"></el-input>\r\n                    <el-button\r\n                      :disabled=\"!IsLogin\"\r\n                      @click=\"HandleSettingBtnClick(name,'cc',data.CC)\"\r\n                    >設定</el-button>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"CV\">\r\n                  <div class=\"d-flex\">\r\n                    <el-input :precision=\"2\" disabled v-model=\"data.CV\"></el-input>\r\n                    <el-button\r\n                      :disabled=\"!IsLogin\"\r\n                      @click=\"HandleSettingBtnClick(name,'cv',data.CV)\"\r\n                    >設定</el-button>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"FV\">\r\n                  <div class=\"d-flex\">\r\n                    <el-input :precision=\"2\" disabled v-model=\"data.FV\"></el-input>\r\n                    <el-button\r\n                      :disabled=\"!IsLogin\"\r\n                      @click=\"HandleSettingBtnClick(name,'fv',data.FV)\"\r\n                    >設定</el-button>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"TC\">\r\n                  <div class=\"d-flex\">\r\n                    <el-input :precision=\"2\" disabled v-model=\"data.TC\"></el-input>\r\n                    <el-button\r\n                      :disabled=\"!IsLogin\"\r\n                      @click=\"HandleSettingBtnClick(name,'tc',data.TC)\"\r\n                    >設定</el-button>\r\n                  </div>\r\n                </el-form-item>\r\n              </el-form>\r\n              <h6>充電曲線參考圖示</h6>\r\n              <img class=\"border rounded p-3\" src=\"images/charger_curve.png\" alt />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"text-start\" style=\"font-size: 14px;\">\r\n          <span>更新時間</span>\r\n          {{ FormatTime(data.UpdateTime) }}\r\n        </div>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n    <el-dialog\r\n      draggable\r\n      :title=\"`${DialogData.EqName}-${DialogData.Item.toUpperCase()} 設定`\"\r\n      width=\"300px\"\r\n      v-model=\"SettingDialogVisible\"\r\n    >\r\n      <el-form class=\"border-top py-2\" label-width=\"60px\">\r\n        <el-form-item :label=\"DialogData.Item.toUpperCase()\">\r\n          <el-input-number :step=\"0.1\" :precision=\"2\" v-model=\"DialogData.Value\"></el-input-number>\r\n        </el-form-item>\r\n      </el-form>\r\n      <div class=\"d-flex justify-content-end w-100 border-top py-2\">\r\n        <el-button type=\"primary\" @click=\"HandleConfirmClick\">確定</el-button>\r\n        <el-button type=\"danger\" @click=\"SettingDialogVisible=false\">取消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { EqStore, userStore, UIStore } from '@/store'\r\nimport param from '@/gpm_param.js'\r\nimport { ChargerAPI } from '@/api/EquipmentAPI.js'\r\nimport moment from 'moment'\r\nexport default {\r\n  computed: {\r\n    charge_station_data() {\r\n      return EqStore.getters.ChargeStationData\r\n    },\r\n    IsLogin() {\r\n      return userStore.getters.IsLogin\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      select: 1,\r\n      SettingDialogVisible: false,\r\n      DialogData: {\r\n        EqName: '',\r\n        Item: 'CC',\r\n        Value: 33\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    GetTagType(data) {\r\n      if (!data.Connected) {\r\n        return 'danger'\r\n      }\r\n      if (data.ErrorCodes.length == 0)\r\n        return 'success'\r\n      else {\r\n        return 'warning'\r\n      }\r\n    },\r\n    FormatTime(time) {\r\n      return moment(time).format('yyyy/MM/DD HH:mm:ss');\r\n    },\r\n    HandleSettingBtnClick(charge_station_name, setting_item, value) {\r\n      this.DialogData.EqName = charge_station_name\r\n      this.DialogData.Item = setting_item\r\n      this.DialogData.Value = value\r\n      this.SettingDialogVisible = true;\r\n    },\r\n    HandleConfirmClick() {\r\n      this.SettingDialogVisible = false;\r\n\r\n      this.$swal.fire(\r\n        {\r\n          text: '',\r\n          title: `確定要將${this.DialogData.EqName} ${this.DialogData.Item.toUpperCase()} 更改為 ${this.DialogData.Value} ?`,\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(async (res) => {\r\n          if (res.isConfirmed) {\r\n            var response = await ChargerAPI.SetCurveSetting(this.DialogData.EqName, this.DialogData.Item, this.DialogData.Value)\r\n            var swalIcon = response.confirm ? 'success' : 'error'\r\n            this.$swal.fire(\r\n              {\r\n                text: response.confirm ? '' : response.message,\r\n                title: response.confirm ? '修改成功' : '修改失敗',\r\n                icon: swalIcon,\r\n                showCancelButton: false,\r\n                confirmButtonText: 'OK',\r\n                customClass: 'my-sweetalert',\r\n                timer: response.confirm ? 3000 : -1\r\n              }).then((res) => {\r\n                if (!response.confirm)\r\n                  this.SettingDialogVisible = true;\r\n\r\n              })\r\n\r\n          } else {\r\n            this.SettingDialogVisible = true;\r\n          }\r\n        })\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.el-tabs__content {\r\n  padding: 3px;\r\n  color: #6b778c;\r\n  font-size: 32px;\r\n  font-weight: 600;\r\n}\r\n\r\n.charger-states {\r\n  .state {\r\n    width: 30%;\r\n  }\r\n  .title {\r\n    font-weight: bold;\r\n    width: 100%;\r\n    border-bottom: 1px solid grey;\r\n  }\r\n  .el-form-item__label {\r\n    font-size: 16px;\r\n    font-weight: bold;\r\n    letter-spacing: 4px;\r\n  }\r\n  .el-tag {\r\n    width: 120px;\r\n    height: 35px;\r\n    margin: 3px;\r\n  }\r\n  .el-tag,\r\n  input {\r\n    font-size: 18px;\r\n  }\r\n  input {\r\n    width: 100px;\r\n    text-align: center;\r\n  }\r\n}\r\n</style>","import { render } from \"./ChargeStationHomeView.vue?vue&type=template&id=9c135ff6\"\nimport script from \"./ChargeStationHomeView.vue?vue&type=script&lang=js\"\nexport * from \"./ChargeStationHomeView.vue?vue&type=script&lang=js\"\n\nimport \"./ChargeStationHomeView.vue?vue&type=style&index=0&id=9c135ff6&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div>\r\n    <div class=\"border p-2 text-start\">\r\n      <div class=\"w-100 border-bottom my-1\">\r\n        <el-button\r\n          class=\"my-1\"\r\n          type=\"danger\"\r\n          @click=\"() => {\r\n            hotRunScripts.push({\r\n              no: hotRunScripts.length + 1,\r\n              agv_name: undefined,\r\n              loop_num: 10,\r\n              finish_num: 0,\r\n              action_num: 9,\r\n              state: 'IDLE',\r\n              actions: []\r\n            })\r\n          }\">新增動作</el-button>\r\n        <el-button @click=\"HandleSaveBtnClick\" type=\"primary\">儲存設定</el-button>\r\n      </div>\r\n      <el-table row-key=\"no\" :data=\"hotRunScripts\" :default-expand-all=\"false\" border>\r\n        <el-table-column label=\"NO.\" prop=\"no\" width=\"60\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"執行AGV\" prop=\"agv_name\" width=\"150\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-select v-model=\"scope.row.agv_name\">\r\n                <el-option\r\n                  v-for=\"agv_name in AgvNameList\"\r\n                  :key=\"agv_name\"\r\n                  :label=\"agv_name\"\r\n                  :value=\"agv_name\"></el-option>\r\n              </el-select>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"狀態\" prop=\"state\" width=\"120\" align=\"center\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-tag\r\n                effect=\"dark\"\r\n                :type=\"scope.row.state == 'Running' ? 'success' : 'warning'\">{{ scope.row.state }}</el-tag>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"已完成次數\" prop=\"finish_num\" width=\"100\" align=\"center\">\r\n          <template #default=\"scope\">\r\n            <div>{{ scope.row.finish_num }}/{{ scope.row.loop_num }}</div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"Loop次數\" prop=\"finish_num\" width=\"120\" align=\"center\">\r\n          <template #default=\"scope\">\r\n            <el-input-number\r\n              size=\"small\"\r\n              style=\"width:80px\"\r\n              :step=\"1\"\r\n              :precision=\"0\"\r\n              v-model=\"scope.row.loop_num\"></el-input-number>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"動作數\" width=\"140\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <span class=\"mx-2\">{{ scope.row.actions.length }}</span>\r\n              <el-button\r\n                size=\"small\"\r\n                @click=\"() => {\r\n                  action_drawer_visible = true;\r\n                  selected_script_name = scope.row.agv_name;\r\n                  selected_script_actions = scope.row.actions;\r\n                }\">動作設定</el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"Comment\" width=\"240\">\r\n          <template #default=\"scope\">\r\n            <el-input v-model=\"scope.row.comment\"></el-input>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column>\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-button\r\n                :type=\"scope.row.state == 'Running' ? 'danger' : 'success'\"\r\n                size=\"small\"\r\n                @click=\"HandleStartBtnClick(scope.row)\">{{ scope.row.state == 'Running' ? '中止' : '執行' }}</el-button>\r\n              <el-button size=\"small\" @click=\"HandleDeleteScript(scope.row)\" type=\"danger\">刪除</el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <el-drawer v-model=\"action_drawer_visible\" direction=\"rtl\" size=\"60%\">\r\n        <template #header=\"{ titleId, titleClass }\">\r\n          <h4\r\n            class=\"text-danger px-5 text-center\"\r\n            :id=\"titleId\"\r\n            :class=\"titleClass\">HOT RUN Actions Setting : {{ selected_script_name }}</h4>\r\n        </template>\r\n        <div class=\"px-2 text-start\">\r\n          <el-button\r\n            class=\"mx-2\"\r\n            type=\"danger\"\r\n            @click=\"() => {\r\n              selected_script_actions.push({\r\n                no: selected_script_actions.length + 1,\r\n                action: 'move',\r\n                source_tag: undefined,\r\n                destine_tag: undefined\r\n              })\r\n            }\">新增動作</el-button>\r\n          <el-button class=\"mx-2\" @click=\"HandleSaveBtnClickInDrawer\" type=\"primary\">儲存設定</el-button>\r\n          <el-table\r\n            row-key=\"no\"\r\n            style=\"width:1024px\"\r\n            border\r\n            class=\"m-2\"\r\n            :data=\"selected_script_actions\">\r\n            <el-table-column width=\"50\">\r\n              <template #default=\"scope\">\r\n                <div class=\"text-start w-100\">\r\n                  <el-button class=\"w-100\" size=\"small\" @click=\"action_move_up(scope.row)\">▲</el-button>\r\n                  <el-button class=\"w-100\" size=\"small\" @click=\"action_move_down(scope.row)\">▼</el-button>\r\n                </div>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"NO.\" prop=\"no\" width=\"60\" align=\"center\"></el-table-column>\r\n            <el-table-column label=\"動作\" prop=\"action\" width=\"120\">\r\n              <template #default=\"scope\">\r\n                <el-select class=\"w-100\" v-model=\"scope.row.action\" placeholder=\"請選擇Action\">\r\n                  <el-option label=\"移動\" value=\"move\"></el-option>\r\n                  <el-option label=\"停車\" value=\"park\"></el-option>\r\n                  <el-option label=\"搬運\" value=\"carry\"></el-option>\r\n                  <el-option label=\"放貨\" value=\"load\"></el-option>\r\n                  <el-option label=\"取貨\" value=\"unload\"></el-option>\r\n                  <el-option label=\"充電\" value=\"charge\"></el-option>\r\n                  <el-option label=\"巡檢量測\" value=\"measure\"></el-option>\r\n                </el-select>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"起點\" prop=\"source_tag\" width=\"250\">\r\n              <template #default=\"scope\">\r\n                <el-select\r\n                  :disabled=\"scope.row.action != 'carry'\"\r\n                  class=\"w-100\"\r\n                  v-model=\"scope.row.source_tag\"\r\n                  placeholder=\"請選擇起點\">\r\n                  <el-option\r\n                    v-for=\"option in GetOption(scope.row.action)\"\r\n                    :key=\"option\"\r\n                    :label=\"option.name\"\r\n                    :value=\"option.tag\"></el-option>\r\n                </el-select>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"卡匣ID\" width=\"150\">\r\n              <template #default=\"scope\">\r\n                <el-input :disabled=\"scope.row.action != 'carry' && scope.row.action != 'unload'\" v-model=\"scope.row.cst_id\"></el-input>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column label=\"終點\" prop=\"destine_tag\" width=\"250\">\r\n              <template #default=\"scope\">\r\n                <el-select v-if=\"scope.row.action != 'measure'\" class=\"w-100\" v-model=\"scope.row.destine_tag\" placeholder=\"請選擇終點\">\r\n                  <el-option\r\n                    v-for=\"option in GetOption(scope.row.action)\"\r\n                    :key=\"option\"\r\n                    :label=\"option.name\"\r\n                    :value=\"option.tag\"></el-option>\r\n                </el-select>\r\n                <el-select v-else class=\"w-100\" v-model=\"scope.row.destine_name\" placeholder=\"請選擇終點\">\r\n                  <el-option\r\n                    v-for=\"option in GetOption(scope.row.action)\"\r\n                    :key=\"option\"\r\n                    :label=\"option.name\"\r\n                    :value=\"option.tag\"></el-option>\r\n                </el-select>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column>\r\n              <template #default=\"scope\">\r\n                <el-button\r\n                  @click=\"HandleDeleteHotRunAction(scope.row)\"\r\n                  size=\"small\"\r\n                  type=\"danger\">Delete</el-button>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n      </el-drawer>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { watch } from 'vue'\r\nimport { userStore, agv_states_store } from '@/store';\r\nimport { MapStore } from '@/components/Map/store'\r\nimport { SaveHotRunSettings, GetHotRunSettings, StartHotRun, StopHotRun } from '@/api/TaskAllocation'\r\nexport default {\r\n  data() {\r\n    return {\r\n      hotRunScripts: [\r\n        {\r\n          no: 1,\r\n          agv_name: 'AGV_001',\r\n          loop_num: 10,\r\n          finish_num: 0,\r\n          state: 'IDLE',\r\n          actions: [\r\n            {\r\n              no: 1,\r\n              action: 'move',\r\n              source_tag: 0,\r\n              destine_tag: 2,\r\n              cst_id: \"\",\r\n            },\r\n            {\r\n              no: 2,\r\n              action: 'move',\r\n              source_tag: 0,\r\n              destine_tag: 2,\r\n              cst_id: \"\",\r\n            }\r\n          ]\r\n        },\r\n\r\n      ],\r\n      action_drawer_visible: false,\r\n      selected_script_name: '123',\r\n      selected_script_actions: []\r\n    }\r\n\r\n  },\r\n  methods: {\r\n    GetOption(action) {\r\n      if (action == 'move')\r\n        return this.moveable_tags\r\n      if (action == 'park')\r\n        return this.parkable_tags\r\n      if (action == 'load' | action == 'unload' | action == 'carry')\r\n        return this.stock_tags\r\n      if (action == 'charge')\r\n        return this.chargable_tags\r\n      if (action == 'measure')\r\n        return this.bay_tags\r\n    },\r\n    action_move_up(action_data) {\r\n      var index = this.selected_script_actions.indexOf(action_data)\r\n      //alert(index)\r\n      if (index == 0)\r\n        return;\r\n      this.selected_script_actions = this.move_element_up(this.selected_script_actions, index)\r\n      //0->1\r\n      //   [0,1,2]\r\n\r\n    },\r\n    action_move_down(action_data) {\r\n      var index = this.selected_script_actions.indexOf(action_data)\r\n      //alert(index)\r\n      if (index == this.selected_script_actions.length - 1)\r\n        return;\r\n      this.selected_script_actions = this.move_element_down(this.selected_script_actions, index)\r\n\r\n    },\r\n    move_element_up(arr, n) {\r\n      if (n > 0 && n < arr.length) {\r\n        const temp = arr[n]\r\n        arr.splice(n, 1)\r\n        arr.splice(n - 1, 0, temp);\r\n\r\n        for (let index = 0; index < arr.length; index++) {\r\n          arr[index].no = index + 1\r\n        }\r\n\r\n        return arr;\r\n      }\r\n    },\r\n    move_element_down(arr, n) {\r\n      if (n >= 0 && n < arr.length - 1) {\r\n        const temp = arr[n]\r\n        arr.splice(n, 1)\r\n        arr.splice(n + 1, 0, temp);\r\n\r\n        for (let index = 0; index < arr.length; index++) {\r\n          arr[index].no = index + 1\r\n        }\r\n        return arr;\r\n      }\r\n    },\r\n    async HandleStartBtnClick(script) {\r\n      if (script.state == 'IDLE') {\r\n\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '執行Hot Run ?',\r\n            icon: 'question',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          }).then(async (res) => {\r\n            if (res.isConfirmed) {\r\n              var response = await StartHotRun(script.no)\r\n              if (!response.confirm) {\r\n                this.$swal.fire(\r\n                  {\r\n                    text: response.message,\r\n                    title: '無法執行HOT RUN',\r\n                    icon: 'error',\r\n                    showCancelButton: false,\r\n                    confirmButtonText: 'OK',\r\n                    customClass: 'my-sweetalert'\r\n                  })\r\n              } else {\r\n                this.$swal.fire(\r\n                  {\r\n                    text: '',\r\n                    title: 'HOT RUN Start!',\r\n                    icon: 'success',\r\n                    showCancelButton: false,\r\n                    confirmButtonText: 'OK',\r\n                    customClass: 'my-sweetalert'\r\n                  })\r\n              }\r\n\r\n            }\r\n          })\r\n      } else {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '確定要終止?',\r\n            icon: 'question',\r\n            showCancelButton: true,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          }).then(res => {\r\n            if (res.isConfirmed) {\r\n              StopHotRun(script.no)\r\n            }\r\n          })\r\n      }\r\n    },\r\n    async HandleSaveBtnClick() {\r\n      var response = await SaveHotRunSettings(this.hotRunScripts)\r\n\r\n      this.$swal.fire(\r\n        {\r\n          text: response.result ? '' : response.message,\r\n          title: response.result ? '儲存成功' : '儲存失敗',\r\n          icon: response.result ? 'success' : 'error',\r\n          showCancelButton: false,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert',\r\n          timer: response.result ? 1000 : undefined\r\n        })\r\n    },\r\n    async HandleSaveBtnClickInDrawer() {\r\n      this.action_drawer_visible = false\r\n      setTimeout(async () => {\r\n        await this.HandleSaveBtnClick();\r\n        setTimeout(() => {\r\n          this.action_drawer_visible = true;\r\n        }, 1000);\r\n      }, 100);\r\n    },\r\n    HandleDeleteHotRunAction(action) {\r\n      var index = this.selected_script_actions.indexOf(action)\r\n      this.selected_script_actions.splice(index, 1)\r\n    },\r\n    HandleDeleteScript(row) {\r\n      this.$swal.fire(\r\n        {\r\n          text: '',\r\n          title: '確定要刪除此腳本?',\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(res => {\r\n          if (res.isConfirmed) {\r\n            if (row.state == 'Running') {\r\n              StopHotRun(row.no)\r\n            }\r\n            this.hotRunScripts.splice(this.hotRunScripts.indexOf(row), 1);\r\n            for (let index = 0; index < this.hotRunScripts.length; index++) {\r\n              this.hotRunScripts[index].no = index + 1\r\n            }\r\n          }\r\n        })\r\n    }\r\n  },\r\n  computed: {\r\n    AgvNameList() {\r\n      return agv_states_store.getters.AGVNameList\r\n    },\r\n    moveable_tags() { return MapStore.getters.AllNormalStationOptions },\r\n    stock_tags() { return MapStore.getters.AllEqStation },\r\n    chargable_tags() { return MapStore.getters.AllChargeStation },\r\n    parkable_tags() { return MapStore.getters.AllParkingStationOptions },\r\n    bay_tags() {\r\n      var bay_data = MapStore.getters.BaysData;\r\n      return Object.keys(bay_data).map(bay_name => ({\r\n        tag: bay_name,\r\n        name: bay_name\r\n      }))\r\n    },\r\n    hot_run_states() {\r\n      return agv_states_store.getters.HotRunStates\r\n    }\r\n  },\r\n  mounted() {\r\n\r\n    setTimeout(async () => {\r\n\r\n      this.hotRunScripts = await GetHotRunSettings();\r\n\r\n      watch(() => this.hot_run_states, (newValue, oldValue) => {\r\n\r\n        for (let index = 0; index < newValue.length; index++) {\r\n          const _script = newValue[index];\r\n          var script_exist = this.hotRunScripts.find(scr => scr.no == _script.no);\r\n          if (script_exist) {\r\n            script_exist.state = _script.state;\r\n            script_exist.finish_num = _script.finish_num;\r\n          }\r\n        }\r\n\r\n      }, { deep: true, immediate: true })\r\n    }, 100);\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.settings-content {\r\n  div {\r\n    margin: 2px;\r\n    font-weight: bold;\r\n  }\r\n}\r\n</style>","import { render } from \"./HotRun.vue?vue&type=template&id=dee378c6&scoped=true\"\nimport script from \"./HotRun.vue?vue&type=script&lang=js\"\nexport * from \"./HotRun.vue?vue&type=script&lang=js\"\n\nimport \"./HotRun.vue?vue&type=style&index=0&id=dee378c6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-dee378c6\"]])\n\nexport default __exports__","import { render } from \"./SystemSettings.vue?vue&type=template&id=49d70ff3\"\nimport script from \"./SystemSettings.vue?vue&type=script&lang=js\"\nexport * from \"./SystemSettings.vue?vue&type=script&lang=js\"\n\nimport \"./SystemSettings.vue?vue&type=style&index=0&id=49d70ff3&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"data-view custom-tabs-head-large\">\r\n    <b-tabs>\r\n      <b-tab title=\"歷史任務查詢\">\r\n        <div class=\"w-100\">\r\n          <TaskQuery></TaskQuery>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"歷史警報查詢\">\r\n        <div class=\"w-100\">\r\n          <AlarmQuery></AlarmQuery>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"AGV軌跡查詢\">\r\n        <div class=\"w-100\">\r\n          <AGVLocusDisplay></AGVLocusDisplay>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"儀器量測結果查詢\">\r\n        <div class=\"w-100\">\r\n          <InstrumentMeasureQuery></InstrumentMeasureQuery>\r\n        </div>\r\n      </b-tab>\r\n      <b-tab title=\"機台稼動\">\r\n        <b-tabs style=\"height: 100vh;\">\r\n          <b-tab title=\"查詢\">\r\n            <AvalibilityQuery></AvalibilityQuery>\r\n          </b-tab>\r\n          <!-- <b-tab title=\"今日稼動\">\r\n            <AvailbilitysData></AvailbilitysData>\r\n          </b-tab>-->\r\n        </b-tabs>\r\n      </b-tab>\r\n    </b-tabs>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AvailbilitysData from '@/components/DataView/AvailbilitysData.vue';\r\nimport AvalibilityQuery from '@/components/DataView/AvalibilityQuery.vue';\r\nimport AlarmQuery from '@/components/DataView/AlarmQuery.vue';\r\nimport TaskQuery from '@/components/DataView/TaskQuery.vue';\r\nimport AGVLocusDisplay from '@/components/DataView/AGVLocus.vue';\r\nimport InstrumentMeasureQuery from '@/components/DataView/InstrumentMeasureQuery.vue';\r\nexport default {\r\n  components: {\r\n    AvailbilitysData, AvalibilityQuery, AlarmQuery, AGVLocusDisplay, TaskQuery, InstrumentMeasureQuery\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.data-view {\r\n  position: absolute;\r\n  width: 100%;\r\n  top: 55px;\r\n\r\n  .nav-item {\r\n    button {\r\n      font-size: 20px;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n}\r\n</style>","<template>\r\n  <div class=\"data-view text-start p-2\">\r\n    <h3>今日稼動狀態</h3>\r\n    <div class=\"bg-light py-3 mx-1 border\">\r\n      <AvailabilityTimelineChart ref=\"rt-availbility-chart\"></AvailabilityTimelineChart>\r\n      <!-- <AvailabilityPieChart :ava_datas=\"data\"></AvailabilityPieChart> -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GetTodayAvailability } from '@/api/AvailabilitysAPI'\r\nimport AvailabilityPieChart from '@/components/Availabilitys/AvailabilityPieChart.vue';\r\nimport AvailabilityTimelineChart from '@/components/Availabilitys/AvailabilityTimelineChart.vue';\r\nimport { useRoute } from 'vue-router';\r\nimport { watch } from 'vue';\r\nimport moment from 'moment';\r\nexport default {\r\n  components: {\r\n    AvailabilityPieChart, AvailabilityTimelineChart\r\n  },\r\n  data() {\r\n    return {\r\n      data: [2, 33, 1, 2, 3],\r\n      todayData: {},\r\n      pause: true,\r\n      timer: undefined\r\n    }\r\n  },\r\n  mounted() {\r\n    this.FetchTodayDataAndRender();\r\n\r\n\r\n    const route = useRoute()\r\n    watch(\r\n      () => route.path,\r\n      (newValue, oldValue) => {\r\n        this.pause = newValue != \"/data\";\r\n        if (this.pause) {\r\n          this.StopTimer()\r\n        } else {\r\n          this.StartTimer()\r\n        }\r\n      }\r\n    )\r\n  },\r\n  computed: {\r\n    todayTimelineChart() {\r\n      return this.$refs['rt-availbility-chart'];\r\n    }\r\n  },\r\n  methods: {\r\n    async FetchTodayDataAndRender() {\r\n      this.todayData = await GetTodayAvailability();\r\n      if (this.todayTimelineChart) {\r\n        this.todayTimelineChart.RenderChart(this.todayData);\r\n      }\r\n    },\r\n    StartTimer() {\r\n      this.FetchTodayDataAndRender();\r\n      // this.timer = setInterval(() => {\r\n      //   this.FetchTodayDataAndRender();\r\n      // }, 10000);\r\n    },\r\n    StopTimer() {\r\n      if (this.timer) {\r\n        clearInterval(this.timer)\r\n      }\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n})\r\n\r\n/**取得今日的稼動資料 */\r\nexport async function GetTodayAvailability() {\r\n  console.log(Date.now())\r\n  var res = await axios_entity.get('api/Availabilitys/Today')\r\n  console.log(Date.now())\r\n  return res.data\r\n}\r\n\r\n/**查詢稼動資料 */\r\nexport async function Query(AGVName, StartDate, EndDate) {\r\n  var res = await axios_entity.get(`api/Availabilitys/Query?AGVName=${AGVName}&StartDate=${StartDate}&EndDate=${EndDate}`)\r\n  return res.data\r\n}\r\n","<template>\r\n  <div class=\"border rounded\" style=\"height:600px;width: 95%; display: flex;flex-direction:column;\">\r\n    <vue3-chart-js\r\n      :key=\"myChart.type\"\r\n      ref=\"chartRef\"\r\n      :id=\"myChart.id\"\r\n      :type=\"myChart.type\"\r\n      :data=\"myChart.data\"\r\n      :options=\"myChart.options\"\r\n      @before-render=\"beforeRenderLogic\"\r\n    ></vue3-chart-js>\r\n  </div>\r\n</template>\r\n  \r\n  <script>\r\nimport Vue3ChartJs from '@j-t-mcc/vue3-chartjs'\r\nimport { watch } from 'vue'\r\nexport default {\r\n  components: {\r\n    Vue3ChartJs,\r\n  },\r\n  props: {\r\n    ava_datas: {\r\n      type: Array,\r\n      default() {\r\n        return [1, 1, 1, 1, 1]\r\n      }\r\n    },\r\n    colorSet: {\r\n      type: Array,\r\n      default() {\r\n        return [\r\n          'rgb(2, 176, 8)',\r\n          'rgb(255, 226, 6)',\r\n          'rgb(255, 92, 92)',\r\n          'rgb(51, 207, 255)',\r\n          'rgb(186, 186, 186)'\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      myChart: {\r\n        id: 'pie',\r\n        type: 'pie',\r\n        data: {\r\n          labels: ['RUN', 'IDLE', 'DOWN', 'CHARGE', 'UNKNOWN', 'UNKNOWN'],\r\n          datasets: [\r\n            {\r\n              backgroundColor: this.colorSet,\r\n              data: [0, 0, 0, 0, 0]\r\n            }\r\n          ],\r\n        },\r\n        options: {\r\n          responsive: true,\r\n          maintainAspectRatio: false,\r\n          animations: {\r\n            tension: {\r\n              duration: 1000,\r\n              easing: 'linear',\r\n              from: 1,\r\n              to: 0,\r\n              loop: true\r\n            }\r\n          },\r\n          scales: {\r\n\r\n          },\r\n          plugins: {\r\n            legend: {\r\n              position: 'top',\r\n            },\r\n            title: {\r\n              display: true,\r\n              text: '稼動率',\r\n            }\r\n          },\r\n        }\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    beforeRenderLogic(event) {\r\n      //...\r\n      //if(a === b) {\r\n      //  event.preventDefault()\r\n      //}\r\n    },\r\n    updateChart(data) {\r\n      this.myChart.type = 'pie'\r\n      this.myChart.options.scales = undefined\r\n      this.myChart.data.datasets[0].data = data\r\n      this.$refs.chartRef.update();\r\n    },\r\n    updateStackBarChart(days = {\r\n      dates: [],\r\n      idle: [],\r\n      run: [],\r\n      down: [],\r\n      charge: [],\r\n    }) {\r\n      this.myChart.type = 'bar'\r\n      this.myChart.data.labels = days.dates;\r\n      this.myChart.data.datasets = [\r\n        {\r\n          label: 'IDLE',\r\n          data: days.idle,\r\n          backgroundColor: this.colorSet[1],\r\n          stack: 'Stack 1' // 堆疊群組的名稱\r\n        },\r\n        {\r\n          label: 'RUN',\r\n          data: days.run,\r\n          backgroundColor: this.colorSet[0],\r\n          stack: 'Stack 1'\r\n        },\r\n        {\r\n          label: 'DOWN',\r\n          data: days.down,\r\n          backgroundColor: this.colorSet[2],\r\n          stack: 'Stack 1' // 堆疊群組的名稱\r\n        },\r\n\r\n        {\r\n          label: 'CHARGE',\r\n          data: days.charge,\r\n          backgroundColor: this.colorSet[3],\r\n          stack: 'Stack 1' // 堆疊群組的名稱\r\n        }\r\n      ]\r\n      try {\r\n        this.$refs.chartRef.update();\r\n      } catch (error) {\r\n      }\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n    watch(() => this.ava_datas, (neaData, o) => {\r\n      this.updateChart(neaData);\r\n    }, { deep: true })\r\n  },\r\n\r\n}\r\n  </script>","import { render } from \"./AvailabilityPieChart.vue?vue&type=template&id=19d0d14c\"\nimport script from \"./AvailabilityPieChart.vue?vue&type=script&lang=js\"\nexport * from \"./AvailabilityPieChart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"w-100 rounded\" id=\"my-timeline-chart\" v-loading=\"loading\">\r\n    <div class=\"my-legend px-5 my-3 d-flex flex-row justify-content-between\">\r\n      <div class=\"d-flex flex-row mx-1\" v-for=\"(value, key) in colors\" :key=\"key\">\r\n        <div\r\n          class=\"mt-1 mx-1 rounded\"\r\n          v-bind:style=\"{backgroundColor:value,height:'10px',width:'40px'}\"\r\n        ></div>\r\n        <span style=\"font-size:9px\">{{ key.toUpperCase()}}</span>\r\n      </div>\r\n    </div>\r\n    <apexchart\r\n      ref=\"apex-chart\"\r\n      width=\"100%\"\r\n      height=\"400\"\r\n      type=\"rangeBar\"\r\n      :options=\"chartOptions\"\r\n      :series=\"series\"\r\n    ></apexchart>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { watch } from 'vue'\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      colors: {\r\n        run: 'rgb(98, 243, 166)',\r\n        idle: 'rgb(255, 226, 6)',\r\n        down: 'rgb(219, 7, 0)',\r\n        charge: 'rgb(51, 207, 255)',\r\n        unknown: 'rgb(186, 186, 186)'\r\n      },\r\n      series: [\r\n        // {\r\n        //   name: 'Bob',\r\n        //   data: [\r\n        //     {\r\n        //       x: 'Design',\r\n        //       y: [\r\n        //         new Date('2019-03-05').getTime(),\r\n        //         new Date('2019-03-08').getTime()\r\n        //       ],\r\n        //       fillColor: '#00E396',\r\n        //     },\r\n        //     {\r\n        //       x: 'Design',\r\n        //       y: [\r\n        //         new Date('2019-03-09').getTime(),\r\n        //         new Date('2019-03-12').getTime()\r\n        //       ]\r\n        //     },\r\n        //     {\r\n        //       x: 'Design',\r\n        //       y: [\r\n        //         new Date('2019-03-12').getTime(),\r\n        //         new Date('2019-03-13').getTime()\r\n        //       ]\r\n        //     },\r\n        //   ]\r\n        // },\r\n\r\n      ],\r\n      chartOptions: {\r\n        chart: {\r\n          height: 550,\r\n          type: 'rangeBar',\r\n          animations: {\r\n            enabled: false,\r\n            dynamicAnimation: {\r\n              enabled: false,\r\n              speed: 350\r\n            }\r\n          }\r\n        },\r\n        dynamicUpdate: false,\r\n        plotOptions: {\r\n          bar: {\r\n            horizontal: true,\r\n            barHeight: '80%'\r\n          }\r\n        },\r\n        xaxis: {\r\n          type: 'datetime',\r\n\r\n        },\r\n        stroke: {\r\n          width: 0\r\n        },\r\n        fill: {\r\n          type: 'solid',\r\n          opacity: 1\r\n        },\r\n        legend: {\r\n          show: false,\r\n          // position: 'top',\r\n          // horizontalAlign: 'left'\r\n        }\r\n      },\r\n      data: {},\r\n      datetime: 1\r\n    }\r\n  },\r\n  computed: {\r\n    chart() {\r\n      return this.$refs['apex-chart'];\r\n    }\r\n  },\r\n  methods: {\r\n\r\n    async RenderChart(data) {\r\n      this.data = data;\r\n      var _series = [];\r\n      this.chart.updateSeries(_series);\r\n      console.log('1', Date.now());\r\n      Object.keys(data).forEach(agv_name => {\r\n        _series.push(this.BuildDataSeries(agv_name, data[agv_name]));\r\n      })\r\n      this.chart.updateSeries(_series, false);\r\n      console.log('2', Date.now());\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n      }, 600);\r\n    },\r\n    BuildDataSeries(agv_name, data) {\r\n      var _series = {\r\n        name: agv_name,\r\n        data: []\r\n      }\r\n      data.idle.forEach(d => {\r\n        _series.data.push({\r\n          x: agv_name,\r\n          y: [new Date(d.from).getTime(), new Date(d.to).getTime()],\r\n          fillColor: this.colors.idle,\r\n        })\r\n      })\r\n      data.run.forEach(d => {\r\n        _series.data.push({\r\n          x: agv_name,\r\n          y: [new Date(d.from).getTime(), new Date(d.to).getTime()],\r\n          fillColor: this.colors.run,\r\n        })\r\n      })\r\n      data.down.forEach(d => {\r\n\r\n        _series.data.push({\r\n          x: agv_name,\r\n          y: [new Date(d.from).getTime(), new Date(d.to).getTime()],\r\n          fillColor: this.colors.down,\r\n        })\r\n      })\r\n      data.charge.forEach(d => {\r\n        _series.data.push({\r\n          x: agv_name,\r\n          y: [new Date(d.from).getTime(), new Date(d.to).getTime()],\r\n          fillColor: this.colors.charge,\r\n        })\r\n      })\r\n      data.unknown.forEach(d => {\r\n        _series.data.push({\r\n          x: agv_name,\r\n          y: [new Date(d.from).getTime(), new Date(d.to).getTime()],\r\n          fillColor: this.colors.unknown,\r\n        })\r\n      })\r\n      return _series;\r\n    }\r\n  },\r\n  mounted() {\r\n    // watch(() => this.data, (new_, old_) => {\r\n\r\n    //   Object.keys(new_).forEach((agv_name) => {\r\n    //     var newAgvData = new_[agv_name]\r\n    //     var oldAgvData = old_[agv_name]\r\n    //     if (!newAgvData) {\r\n    //       return;\r\n    //     }\r\n    //     if (!oldAgvData) {\r\n    //       this.series.push(this.BuildDataSeries(agv_name, newAgvData))\r\n    //     }\r\n    //     else {\r\n\r\n    //     }\r\n    //   })\r\n    // })\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.my-legend {\r\n  width: 120px;\r\n}\r\n</style>","import { render } from \"./AvailabilityTimelineChart.vue?vue&type=template&id=2b01abca\"\nimport script from \"./AvailabilityTimelineChart.vue?vue&type=script&lang=js\"\nexport * from \"./AvailabilityTimelineChart.vue?vue&type=script&lang=js\"\n\nimport \"./AvailabilityTimelineChart.vue?vue&type=style&index=0&id=2b01abca&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./AvailbilitysData.vue?vue&type=template&id=0c7e40f2\"\nimport script from \"./AvailbilitysData.vue?vue&type=script&lang=js\"\nexport * from \"./AvailbilitysData.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"avalibity-query d-flex flex-row\">\r\n    <div class=\"options text-start h-100 p-3 bg-light border\">\r\n      <el-form :model=\"options\">\r\n        <el-form-item label=\"AGV名稱\">\r\n          <AGVSelector v-model=\"options.AGVName\"></AGVSelector>\r\n        </el-form-item>\r\n        <el-form-item label=\"起始日期\">\r\n          <el-date-picker value-format=\"YYYY-MM-DD\" v-model=\"options.StartDate\"></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item label=\"結束日期\">\r\n          <el-date-picker value-format=\"YYYY-MM-DD\" v-model=\"options.EndDate\"></el-date-picker>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <b-button @click=\"QueryData\" class=\"w-100\" variant=\"primary\">查詢</b-button>\r\n        </el-form-item>\r\n      </el-form>\r\n    </div>\r\n    <div class=\"chart-display h-100 w-100 d-flex justify-content-center\">\r\n      <div class=\"w-100 m-1\">\r\n        <el-radio-group v-model=\"chart_type\" @change=\"HandleChartTypeChanged\">\r\n          <el-radio-button size=\"large\" label=\"pie\">圓餅圖</el-radio-button>\r\n          <el-radio-button size=\"large\" label=\"bar\">直條圖</el-radio-button>\r\n          <!-- <el-radio-button size=\"large\" label=\"edit-station\">編輯點位[2]</el-radio-button>\r\n          <el-radio-button size=\"large\" label=\"remove-station\">移除點位[3]</el-radio-button>-->\r\n        </el-radio-group>\r\n        <div class=\"m-2 p-1\">\r\n          <AvailabilityPieChart v-show=\"chart_type=='pie'\" class ref=\"piechart\"></AvailabilityPieChart>\r\n          <AvailabilityPieChart v-show=\"chart_type=='bar'\" class ref=\"barchart\"></AvailabilityPieChart>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Query } from '@/api/AvailabilitysAPI'\r\nimport AGVSelector from '@/components/AGVSelector'\r\nimport AvailabilityPieChart from '@/components/Availabilitys/AvailabilityPieChart.vue';\r\nimport { agv_states_store } from '@/store'\r\nimport moment from 'moment'\r\nexport default {\r\n  components: {\r\n    AvailabilityPieChart, AGVSelector\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      chart_type: 'pie',\r\n      options: {\r\n        AGVName: 'AGV_001',\r\n        StartDate: '',\r\n        EndDate: '',\r\n      },\r\n      query_data: {\r\n        total: [],\r\n        days: {\r\n          dates: [],\r\n          idle: [],\r\n          run: [],\r\n          down: [],\r\n          charge: [],\r\n        }\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    agvNameList() {\r\n      return agv_states_store.getters.AGVNameList;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.options.StartDate = moment(Date.now()).add(-7, 'days').format('YYYY-MM-DD')\r\n    this.options.EndDate = moment(Date.now()).format('YYYY-MM-DD')\r\n  },\r\n  methods: {\r\n    async QueryData() {\r\n      this.loading = true;\r\n      this.query_data = await Query(this.options.AGVName, this.options.StartDate, this.options.EndDate);\r\n      this.$refs['barchart'].updateStackBarChart(this.query_data.days);\r\n      this.$refs['piechart'].updateChart(this.query_data.total);\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n      }, 400);\r\n    },\r\n    HandleChartTypeChanged() {\r\n\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.avalibity-query {\r\n  height: 100vh;\r\n  .options {\r\n    width: 20%;\r\n  }\r\n}\r\n</style>","import { render } from \"./AvalibilityQuery.vue?vue&type=template&id=0787ab0b&scoped=true\"\nimport script from \"./AvalibilityQuery.vue?vue&type=script&lang=js\"\nexport * from \"./AvalibilityQuery.vue?vue&type=script&lang=js\"\n\nimport \"./AvalibilityQuery.vue?vue&type=style&index=0&id=0787ab0b&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0787ab0b\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"alarm-query\">\r\n    <div class=\"query-options bg-light d-flex border-bottom w-100 py-2\">\r\n      <label>Start Time</label>\r\n      <input type=\"datetime-local\" v-model=\"start_time\" prop=\"Start Time\" />\r\n      <label>End Time</label>\r\n      <input type=\"datetime-local\" v-model=\"end_time\" prop=\"End Time\" />\r\n      <label>警報類型</label>\r\n      <select\r\n        v-bind:class=\"AlarmTypeSelected == 'ALL' ? '' : AlarmTypeSelected == 'Alarm' ? 'bg-danger text-light' : 'bg-warning text-light'\"\r\n        prop=\"EQ Name\"\r\n        v-model=\"AlarmTypeSelected\"\r\n      >\r\n        <option>ALL</option>\r\n        <option class=\"bg-danger text-light\">Alarm</option>\r\n        <option class=\"bg-warning text-light\">Warning</option>\r\n      </select>\r\n      <label>EQ Name</label>\r\n      <select prop=\"EQ Name\" v-model=\"AGVSelected\">\r\n        <option>ALL</option>\r\n        <option v-for=\"name in AgvNameList\" :key=\"name\">{{ name }}</option>\r\n      </select>\r\n      <label>任務名稱</label>\r\n      <input type=\"text\" v-model=\"TaskName\" placeholder=\"ALL\" size=\"20\" />\r\n      <b-button\r\n        @click=\"QueryAlarm()\"\r\n        :QueryAlarm=\"QueryAlarm\"\r\n        class=\"Select-Query\"\r\n        variant=\"primary\"\r\n        size=\"sm\"\r\n        style=\"float:right\"\r\n      >搜尋</b-button>\r\n      <b-button\r\n        @click=\"SaveTocsv()\"\r\n        :SaveTocsv=\"SaveTocsv\"\r\n        class=\"SaveTocsv mx-2\"\r\n        variant=\"primary\"\r\n        size=\"sm\"\r\n        style=\"float:right\"\r\n      >輸出csv檔</b-button>\r\n    </div>\r\n    <div>\r\n      <el-table\r\n        border\r\n        :data=\"alarms\"\r\n        empty-text=\"No Alarms\"\r\n        :row-class-name=\"row_state_class_name\"\r\n        size=\"small\"\r\n        style=\"width: 100%;font-weight: bold;\"\r\n        aria-current=\"currentpage\"\r\n        id=\"alarmtable\"\r\n      >\r\n        <el-table-column label=\"發生時間\" prop=\"Time\" width=\"140\">\r\n          <template #default=\"scope\">{{ formatTime(scope.row.Time) }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"AGV名稱\" prop=\"Equipment_Name\" width=\"80\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"警報碼\" prop=\"AlarmCode\" width=\"60\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"警報描述\" prop=\"Description_En\" min-width=\"420\">\r\n          <template #default=\"scope\">\r\n            <div>{{ scope.row.Description_En }}({{ scope.row.Description_Zh }})</div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"警報類型\" prop=\"Level\" width=\"100\" align=\"center\">\r\n          <template #default=\"scope\">\r\n            <el-tag\r\n              style=\"width:80px\"\r\n              effect=\"dark\"\r\n              :type=\"scope.row.Level == 1 ? 'danger' : 'warning'\"\r\n            >{{ scope.row.Level == 1 ? 'Alarm' : 'Warning' }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"任務名稱\" prop=\"Task_Name\" width=\"210\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              {{ scope.row.Task_Name }}\r\n              <el-tooltip placement=\"top-start\" content=\"複製到剪貼簿\">\r\n                <i\r\n                  v-if=\"scope.row.Task_Name != ''\"\r\n                  @click=\"CopyText(scope.row.Task_Name)\"\r\n                  class=\"copy-button copy-icon bi bi-clipboard\"\r\n                ></i>\r\n              </el-tooltip>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"發生地點\" prop=\"OccurLocation\" width=\"120\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"持續時間(s)\" prop=\"Duration\" width=\"90\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"清除警報人員\" prop=\"ResetAalrmMemberName\" min-width=\"120\"></el-table-column>\r\n      </el-table>\r\n      <div class=\"d-flex flex-row justify-content-center\">\r\n        <b-pagination\r\n          :per-page=\"per_page_num\"\r\n          :total-rows=\"rows\"\r\n          aria-controls=\"alarmtable\"\r\n          class=\"pagination justify-content-center\"\r\n          v-model=\"currentpage\"\r\n          @click=\"PageChnageHandle\"\r\n        ></b-pagination>\r\n        <div class=\"mx-3 py-2\">\r\n          共\r\n          <span style=\"font-weight: bold; font-size: large;\">{{ rows }}</span>筆\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { QueryAlarm } from '@/api/AlarmAPI.js'\r\nimport { SaveTocsv } from '@/api/AlarmAPI.js'\r\nimport moment from 'moment'\r\nimport Notifier from '@/api/NotifyHelper'\r\nimport { CopyText } from '@/api/Common/UtilityTools'\r\n\r\nimport { userStore, agv_states_store } from '@/store';\r\nexport default {\r\n  data() {\r\n    return {\r\n      start_time: '2023-06-01 00:00:00',\r\n      end_time: '2023-06-03 00:00:00',\r\n      AGVSelected: 'ALL',\r\n      AlarmTypeSelected: 'ALL',\r\n      TaskName: '',\r\n      alarms: [],\r\n      per_page_num: 19,\r\n      rows: 1,\r\n      currentpage: 1,\r\n      loading: false,\r\n    }\r\n  },\r\n\r\n  computed: {\r\n    AgvNameList() {\r\n      return agv_states_store.getters.AGVNameList\r\n    },\r\n  },\r\n  mounted() {\r\n    const EndDate = new Date();\r\n    this.end_time = EndDate.toISOString().substring(0, 10) + ' 23:59:59';\r\n    this.start_time = moment(this.end_time, 'YYYY-MM-DD HH:mm:ss').subtract(7, 'days').format('YYYY-MM-DD HH:mm:ss');\r\n    setTimeout(() => {\r\n      QueryAlarm(this.currentpage, this.start_time, this.end_time, this.AGVSelected, this.TaskName).then(retquery => {\r\n        this.alarms = retquery.alarms\r\n        this.rows = retquery.count;\r\n        this.currentpage = retquery.currentpage;\r\n      }).catch(er => {\r\n        Notifier.Danger('警報查詢失敗後端服務異常')\r\n      });\r\n    }, 500);\r\n\r\n  },\r\n  methods: {\r\n    formatTime(_time) {\r\n      return moment(_time).format('yyyy-MM-DD HH:mm:ss');\r\n    },\r\n    onmessage(ev) {\r\n      this.alarms = JSON.parse(ev.data)\r\n    },\r\n    row_state_class_name({ row, rowIndex }) {\r\n      if (row.rowIndex < 0) {\r\n        return '';\r\n      }\r\n      var level = this.alarms[rowIndex].Level;\r\n      return level == 1 ? 'alarm-row' : 'warning-row';\r\n    },\r\n    async QueryAlarm() {\r\n      this.loading = true;\r\n      this.alarms = [];\r\n      this.rows = 1;\r\n      this.currentpage = 1;\r\n      this.payload = 2;\r\n      setTimeout(() => {\r\n        QueryAlarm(this.currentpage, this.start_time, this.end_time, this.AGVSelected, this.TaskName, this.AlarmTypeSelected).then(retquery => {\r\n          this.alarms = retquery.alarms\r\n          this.rows = retquery.count;\r\n          this.currentpage = retquery.currentpage;\r\n        }).then(dat => {\r\n          //window.open('http://localhost:5216/MapFiles/test.csv')\r\n\r\n        }).catch(er => {\r\n          this.loading = false;\r\n          Notifier.Danger('警報查詢失敗後端服務異常')\r\n        });\r\n      }, 300);\r\n    },\r\n    async SaveTocsv() {\r\n      await SaveTocsv(this.start_time, this.end_time, this.AGVSelected, this.TaskName)\r\n      Notifier.Primary('檔案儲存成功')\r\n    },\r\n    PageChnageHandle(payload) {\r\n      QueryAlarm(this.currentpage, this.start_time, this.end_time, this.AGVSelected, this.TaskName, this.AlarmTypeSelected).then(retquery => {\r\n        this.alarms = retquery.alarms;\r\n      }\r\n      ).catch(er => {\r\n        Notifier.Danger('警報查詢失敗後端服務異常')\r\n      });\r\n    },\r\n    CopyText(text) {\r\n      CopyText(text)\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.alarm-query {\r\n  overflow-y: scroll;\r\n  padding: 0px;\r\n\r\n  .query-options {\r\n    label {\r\n      margin: auto 10px;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n\r\n  .el-table .warning-row {\r\n    background-color: rgb(255, 237, 186);\r\n    /* --el-table-tr-bg-color: var(--el-color-warning-light-9); */\r\n  }\r\n\r\n  .el-table .alarm-row {\r\n    background-color: rgb(245, 198, 206);\r\n  }\r\n}\r\n</style>","import { render } from \"./AlarmQuery.vue?vue&type=template&id=0ec670be\"\nimport script from \"./AlarmQuery.vue?vue&type=script&lang=js\"\nexport * from \"./AlarmQuery.vue?vue&type=script&lang=js\"\n\nimport \"./AlarmQuery.vue?vue&type=style&index=0&id=0ec670be&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"Task-query\">\r\n    <div class=\"Task-options bg-light d-flex border-bottom w-100 py-2\">\r\n      <label>Start Time</label>\r\n      <input type=\"datetime-local\" v-model=\"start_time\" prop=\"Start Time\" />\r\n      <label>End Time</label>\r\n      <input type=\"datetime-local\" v-model=\"end_time\" prop=\"End Time\" />\r\n      <label>任務名稱</label>\r\n      <input type=\"text\" v-model=\"TaskName\" placeholder=\"ALL\" size=\"20\" />\r\n      <label>EQ Name</label>\r\n      <select prop=\"EQ Name\" v-model=\"AGVSelected\">\r\n        <option>ALL</option>\r\n        <option v-for=\"name in AgvNameList\" :key=\"name\">{{ name }}</option>\r\n      </select>\r\n      <label>任務類型</label>\r\n      <select prop=\"EQ Name\" v-model=\"ActionTypeSelected\">\r\n        <option>ALL</option>\r\n        <option>移動</option>\r\n        <option>取貨</option>\r\n        <option>放貨</option>\r\n        <option>搬運</option>\r\n        <option>充電</option>\r\n        <option>量測</option>\r\n        <option>交換電池</option>\r\n      </select>\r\n      <label>執行結果</label>\r\n      <select prop=\"EQ Name\" v-model=\"ExecuteResultSelected\">\r\n        <option>ALL</option>\r\n        <option>完成</option>\r\n        <option>失敗</option>\r\n        <option>取消</option>\r\n      </select>\r\n      <b-button\r\n        @click=\"TaskQuery()\"\r\n        :TaskQuery=\"TaskQuery\"\r\n        class=\"Select-Query\"\r\n        variant=\"primary mx-1\"\r\n        size=\"sm\"\r\n        style=\"float:right\"\r\n      >搜尋</b-button>\r\n      <b-button\r\n        @click=\"SaveTocsv()\"\r\n        :SaveTocsv=\"SaveTocsv\"\r\n        class=\"SaveTocsv mx-2\"\r\n        variant=\"primary\"\r\n        size=\"sm\"\r\n        style=\"float:right\"\r\n      >輸出csv檔</b-button>\r\n    </div>\r\n    <div>\r\n      <el-table\r\n        v-loading=\"loading\"\r\n        :data=\"tasks\"\r\n        empty-text=\"No Tasks\"\r\n        row-class-name=\"row_state_class_name\"\r\n        size=\"small\"\r\n        style=\"width: 100%;font-weight: bold;\"\r\n        border\r\n        aria-current=\"currentpage\"\r\n        id=\"Tasktable\"\r\n      >\r\n        <el-table-column label=\"任務名稱\" prop=\"TaskName\" width=\"230\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              {{ scope.row.TaskName }}\r\n              <el-tooltip placement=\"top-start\" content=\"複製到剪貼簿\">\r\n                <i\r\n                  @click=\"CopyText(scope.row.TaskName)\"\r\n                  class=\"copy-button copy-icon bi bi-clipboard\"\r\n                ></i>\r\n              </el-tooltip>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"接收時間\" prop=\"RecieveTime\" width=\"160\">\r\n          <template #default=\"scope\">{{ formatTime(scope.row.RecieveTime) }}</template>\r\n        </el-table-column>\r\n        <el-table-column label=\"結束時間\" prop=\"FinishTime\" width=\"160\">\r\n          <template #default=\"scope\">{{ formatTime(scope.row.FinishTime) }}</template>\r\n        </el-table-column>\r\n\r\n        <el-table-column label=\"執行結果\" prop=\"StateName\" width=\"100\" align=\"center\">\r\n          <template #default=\"scope\">\r\n            <el-tag\r\n              effect=\"dark\"\r\n              :type=\"scope.row.State == 4 ? 'success' : scope.row.State == 6 ? 'danger' : 'warning'\"\r\n            >{{ scope.row.StateName }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"AGV名稱\" prop=\"DesignatedAGVName\" width=\"100\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"任務類型\" prop=\"ActionName\" min-width=\"30\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"起始站點\" prop=\"From_Station\" width=\"120\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"結束站點\" prop=\"To_Station\" width=\"120\" align=\"center\"></el-table-column>\r\n        <el-table-column label=\"載物ID\" prop=\"Carrier_ID\" min-width=\"30\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              {{ scope.row.Carrier_ID == '-1' ? '' : scope.row.Carrier_ID }}\r\n              <el-tooltip placement=\"top-start\" content=\"複製到剪貼簿\">\r\n                <i\r\n                  v-if=\"scope.row.Carrier_ID != '-1' && scope.row.Carrier_ID != ''\"\r\n                  @click=\"CopyText(scope.row.Carrier_ID)\"\r\n                  class=\"copy-button copy-icon bi bi-clipboard\"\r\n                ></i>\r\n              </el-tooltip>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"派工人員\" prop=\"DispatcherName\" width=\"100\"></el-table-column>\r\n        <el-table-column label=\"失敗原因\" prop=\"FailureReason\" min-width=\"120\">\r\n          <template #default=\"scope\">\r\n            <div class=\"text-danger\">\r\n              <div v-for=\"alarm in scope.row.FailureReason.split(',')\" :key=\"alarm\">{{ alarm }}</div>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"d-flex flex-row justify-content-center\">\r\n        <b-pagination\r\n          :per-page=\"per_page_num\"\r\n          :total-rows=\"rows\"\r\n          aria-controls=\"Tasktable\"\r\n          class=\"pagination justify-content-center\"\r\n          v-model=\"currentpage\"\r\n          @click=\"PageChnageHandle\"\r\n        ></b-pagination>\r\n        <div class=\"mx-3 py-2\">\r\n          共\r\n          <span style=\"font-weight: bold; font-size: large;\">{{ rows }}</span>筆\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport { TaskQuery } from '@/api/TaskAPI.js'\r\nimport { SaveTocsv } from '@/api/TaskAPI.js'\r\nimport { userStore, agv_states_store } from '@/store';\r\nimport { CopyText } from '@/api/Common/UtilityTools'\r\nimport moment from 'moment'\r\nimport Notifier from '@/api/NotifyHelper'\r\nexport default {\r\n  data() {\r\n    return {\r\n      start_time: '2023-06-01 00:00:00',\r\n      end_time: '2023-06-30 00:00:00',\r\n      AGVSelected: 'ALL',\r\n      ExecuteResultSelected: 'ALL',\r\n      ActionTypeSelected: 'ALL',\r\n      TaskName: '',\r\n      tasks: [],\r\n      per_page_num: 19,\r\n      rows: 1,\r\n      currentpage: 1,\r\n      loading: false,\r\n    }\r\n  },\r\n  computed: {\r\n    AgvNameList() {\r\n      return agv_states_store.getters.AGVNameList\r\n    },\r\n  },\r\n  mounted() {\r\n    const EndDate = new Date();\r\n    this.end_time = EndDate.toISOString().substring(0, 10) + ' 23:59:59';\r\n    this.start_time = moment(this.end_time, 'YYYY-MM-DD HH:mm:ss').subtract(7, 'days').format('YYYY-MM-DD HH:mm:ss');\r\n\r\n    setTimeout(() => {\r\n      TaskQuery(this.currentpage, this.start_time, this.end_time, this.AGVSelected, this.TaskName).then(retquery => {\r\n        this.tasks = retquery.tasks\r\n        this.rows = retquery.count;\r\n        this.currentpage = retquery.currentpage;\r\n      }).catch(er => {\r\n        Notifier.Danger('警報查詢失敗後端服務異常')\r\n      });\r\n    }, 500);\r\n  },\r\n  methods: {\r\n    formatTime(_time) {\r\n      return moment(_time).format('yyyy-MM-DD HH:mm:ss');\r\n    },\r\n    onmessage(ev) {\r\n      this.tasks = JSON.parse(ev.data)\r\n    },\r\n\r\n    async TaskQuery() {\r\n      this.loading = true;\r\n      this.tasks = [];\r\n      this.rows = 1;\r\n      this.currentpage = 1;\r\n      this.payload = 2;\r\n      setTimeout(() => {\r\n        TaskQuery(this.currentpage, this.start_time, this.end_time, this.AGVSelected, this.TaskName, this.ExecuteResultSelected, this.ActionTypeSelected).then(retquery => {\r\n          this.tasks = retquery.tasks\r\n          this.rows = retquery.count;\r\n          this.currentpage = retquery.currentpage;\r\n          this.loading = false;\r\n        }).catch(er => {\r\n          this.loading = false;\r\n          Notifier.Danger('警報查詢失敗後端服務異常')\r\n        });\r\n      }, 300);\r\n\r\n    },\r\n    async SaveTocsv() {\r\n      SaveTocsv(this.start_time, this.end_time, this.AGVSelected, this.TaskName)\r\n      Notifier.Primary('檔案儲存成功')\r\n    },\r\n    PageChnageHandle(payload) {\r\n      TaskQuery(this.currentpage, this.start_time, this.end_time, this.AGVSelected, this.TaskName, this.ExecuteResultSelected, this.ActionTypeSelected).then(retquery => {\r\n        this.tasks = retquery.tasks;\r\n      }\r\n      ).catch(er => {\r\n        Notifier.Danger('警報查詢失敗後端服務異常')\r\n      });\r\n    },\r\n    CopyText(text) {\r\n      CopyText(text)\r\n    }\r\n  },\r\n}\r\n</script>\r\n  \r\n<style lang=\"scss\" scoped>\r\n.Task-query {\r\n  overflow-y: scroll;\r\n  padding: 0px;\r\n\r\n  .Task-options {\r\n    label {\r\n      margin: auto 10px;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./TaskQuery.vue?vue&type=template&id=97a53476&scoped=true\"\nimport script from \"./TaskQuery.vue?vue&type=script&lang=js\"\nexport * from \"./TaskQuery.vue?vue&type=script&lang=js\"\n\nimport \"./TaskQuery.vue?vue&type=style&index=0&id=97a53476&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-97a53476\"]])\n\nexport default __exports__","<!--  -->\r\n<template>\r\n    <div class=''>\r\n        <CommonOptions @OnQueryBtnClick=\"HandleQueryBtnClick\"></CommonOptions>\r\n        <div class=\"w-100 my-1 border rounded p-2\">\r\n            <b-pagination :per-page=\"QueryResult.DataNumPerPage\" :total-rows=\"QueryResult.TotalDataNum\" aria-controls=\"measure_result_table\"\r\n                class=\"pagination justify-content-start\" v-model=\"QueryResult.Page\" @click=\"PageChnageHandle\"></b-pagination>\r\n            <el-table border :data=\"QueryResult.dataList\" style=\"width:1800px\" id=\"measure_result_table\">\r\n                <el-table-column prop=\"TaskName\" label=\"任務名稱\" fixed=\"left\" width=\"210\"></el-table-column>\r\n                <el-table-column prop=\"AGVName\" label=\"AGV名稱\" fixed=\"left\" width=\"90\"></el-table-column>\r\n                <el-table-column prop=\"BayName\" label=\"Bay名稱\" fixed=\"left\" width=\"90\"></el-table-column>\r\n                <el-table-column prop=\"location\" label=\"量測點位\" fixed=\"left\"></el-table-column>\r\n                <el-table-column :formatter=\"TimeFormatter\" prop=\"StartTime\" label=\"開始量測時間\" fixed=\"left\" width=\"180\"></el-table-column>\r\n                <el-table-column :formatter=\"ResultFormatter\" prop=\"result\" label=\"量測結果\" fixed=\"left\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"illuminance\" label=\"照度(lux)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"decibel\" label=\"分貝(dB)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"temperature\" label=\"溫度 (℃)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"humudity\" label=\"濕度 (%)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"IPA\" label=\"IPA (異丙醇)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"Acetone\" label=\"Acetone (丙酮)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"TVOC\" label=\"TVOC (Non-Target)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"PID\" label=\"PID\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"partical_03um\" label=\"微塵粒子(0.3μm)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"partical_05um\" label=\"微塵粒子(0.5μm)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"partical_10um\" label=\"微塵粒子(1.0μm)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"partical_30um\" label=\"微塵粒子(3.0μm)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"partical_50um\" label=\"微塵粒子(5.0μm)\"></el-table-column>\r\n                <el-table-column :formatter=\"ValFormatter\" prop=\"partical_100um\" label=\"微塵粒子(10.0μm)\" fixed=\"right\"></el-table-column>\r\n            </el-table>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport CommonOptions from './CommonOptions'\r\nimport { Query } from '@/api/MeasureResultAPI'\r\nimport moment from 'moment'\r\nexport default {\r\n    components: { CommonOptions },\r\n    data() {\r\n        return {\r\n            QueryResult: {\r\n\r\n            },\r\n            Options: {}\r\n        };\r\n    },\r\n    computed: {},\r\n    watch: {},\r\n    methods: {\r\n        async HandleQueryBtnClick(options) {\r\n            this.Options = options;\r\n            this.QueryResult = await Query(options)\r\n        },\r\n        ResultFormatter(row, column, cellValue, index) {\r\n            return cellValue == 'done' ? '成功' : '失敗'\r\n        },\r\n        TimeFormatter(row, column, cellValue, index) {\r\n            return moment(cellValue).format('yyyy-MM-DD \\r\\n HH:mm:ss')\r\n        },\r\n        ValFormatter(row, column, cellValue, index) {\r\n            return cellValue == '-1' || cellValue == '-1.0' ? 'NA' : cellValue;\r\n        },\r\n        PageChnageHandle() {\r\n            this.Options.Page = this.QueryResult.Page;\r\n            this.HandleQueryBtnClick(this.Options);\r\n        }\r\n    },\r\n    mounted() {\r\n\r\n    },\r\n}\r\n</script>\r\n<style lang='scss' scoped></style>","<!--  -->\r\n<template>\r\n    <div class='common-options'>\r\n        <div class=\"options d-flex\">\r\n            <div class=\"block\">\r\n                <div class=\"title\">開始時間</div>\r\n                <div class=\"control\">\r\n                    <el-date-picker\r\n                        v-model=\"OPTIONS.StartTimeStr\"\r\n                        type=\"date\"\r\n                        placeholder=\"選擇開始日期\" />\r\n                </div>\r\n            </div>\r\n            <div class=\"block\">\r\n                <div class=\"title\">結束時間</div>\r\n                <div class=\"control\">\r\n                    <el-date-picker\r\n                        v-model=\"OPTIONS.EndTimeStr\"\r\n                        type=\"date\"\r\n                        placeholder=\"選擇結束日期\" />\r\n                </div>\r\n            </div>\r\n            <div class=\"block\">\r\n                <div class=\"title\">AGV</div>\r\n                <div class=\"control\">\r\n                    <el-select v-model=\"OPTIONS.AGVName\">\r\n                        <el-option v-for=\"name in AGVNameList\" :key=\"name\" :label=\"name\" :value=\"name\"></el-option>\r\n                    </el-select>\r\n                </div>\r\n            </div>\r\n            <div class=\"block\">\r\n                <div class=\"title\">量測結果</div>\r\n                <div class=\"control\">\r\n                    <el-select v-model=\"OPTIONS.Result\">\r\n                        <el-option v-for=\"option in Results\" :key=\"option.value\" :label=\"option.label\" :value=\"option.value\"></el-option>\r\n                    </el-select>\r\n                </div>\r\n            </div>\r\n            <div class=\"block\">\r\n                <div class=\"title\"></div>\r\n                <div class=\"my-4\">\r\n                    <b-button @click=\"HandleQueryBtnClick\" variant=\"primary\">查詢</b-button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport clsQueryOptions from '@/api/Common/clsQueryOptions';\r\nimport { agv_states_store } from '@/store';\r\nexport default {\r\n    components: {},\r\n    props: {\r\n        Results: {\r\n            type: Array,\r\n            default() {\r\n                return [\r\n                    {\r\n                        value: 2,\r\n                        label: \"ALL\"\r\n                    },\r\n                    {\r\n                        value: 0,\r\n                        label: \"成功\"\r\n                    }, {\r\n                        value: 1,\r\n                        label: \"失敗\"\r\n                    },]\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            OPTIONS: new clsQueryOptions(),\r\n\r\n        };\r\n    },\r\n    computed: {\r\n        AGVNameList() {\r\n            var list = [\"ALL\"];\r\n            agv_states_store.getters.AGVNameList.forEach(element => {\r\n\r\n                list.push(element)\r\n            });\r\n            return list;\r\n        }\r\n    },\r\n    watch: {},\r\n    methods: {\r\n        HandleQueryBtnClick() {\r\n            this.OPTIONS.Page = 1;\r\n            this.$emit('OnQueryBtnClick', this.OPTIONS)\r\n        }\r\n    },\r\n    mounted() {\r\n    },\r\n}\r\n</script>\r\n<style lang='scss' scoped>\r\n.common-options {\r\n    .block {\r\n        margin: 3px;\r\n\r\n        .title {\r\n            text-align: left;\r\n            font-weight: bold;\r\n            font-size: 20px;\r\n        }\r\n    }\r\n\r\n}\r\n</style>","import { render } from \"./CommonOptions.vue?vue&type=template&id=41579660&scoped=true\"\nimport script from \"./CommonOptions.vue?vue&type=script&lang=js\"\nexport * from \"./CommonOptions.vue?vue&type=script&lang=js\"\n\nimport \"./CommonOptions.vue?vue&type=style&index=0&id=41579660&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-41579660\"]])\n\nexport default __exports__","import { render } from \"./InstrumentMeasureQuery.vue?vue&type=template&id=4772be91\"\nimport script from \"./InstrumentMeasureQuery.vue?vue&type=script&lang=js\"\nexport * from \"./InstrumentMeasureQuery.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./DataView.vue?vue&type=template&id=bb9b8584\"\nimport script from \"./DataView.vue?vue&type=script&lang=js\"\nexport * from \"./DataView.vue?vue&type=script&lang=js\"\n\nimport \"./DataView.vue?vue&type=style&index=0&id=bb9b8584&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"alarm-view\">\r\n    <div class=\"d-flex flex-row mb-2\">\r\n      <h3 class=\"flex-fill\">系統警報</h3>\r\n      <b-button v-if=\"is_user_login\" variant=\"danger\" @click=\"ResetSystemAlarm()\">警報復歸</b-button>\r\n    </div>\r\n    <el-table :data=\"sys_alarms\" border :row-class-name=\"row_state_class_name\">\r\n      <el-table-column label=\"時間\" prop=\"Time\" width=\"160\">\r\n        <template #default=\"scope\">{{ formatTime(scope.row.Time) }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"設備名稱\" prop=\"Equipment_Name\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"警報碼\" prop=\"AlarmCode\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"警報描述\" prop=\"Description_En\">\r\n        <template #default=\"scope\">\r\n          <div>{{ scope.row.Description_En }}({{ scope.row.Description_Zh }})</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"警報類型\" prop=\"Level\" width=\"120\">\r\n        <template #default=\"scope\">\r\n          <div>{{ scope.row.Level == 1 ? 'ALARM' : 'WARNING' }}</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"任務名稱\" prop=\"Task_Name\" width=\"160\"></el-table-column>\r\n      <el-table-column label=\"發生地點\" prop=\"OccurLocation\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"持續時間\" prop=\"Duration\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"清除警報人員\" prop=\"ResetAalrmMemberName\" width=\"120\"></el-table-column>\r\n    </el-table>\r\n    <el-divider></el-divider>\r\n    <h3>設備警報</h3>\r\n    <el-table :data=\"eq_alarms\" border :row-class-name=\"row_state_class_name\">\r\n      <el-table-column label=\"時間\" prop=\"Time\" width=\"160\">\r\n        <template #default=\"scope\">{{ formatTime(scope.row.Time) }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"設備名稱\" prop=\"Equipment_Name\" width=\"150\"></el-table-column>\r\n      <el-table-column label=\"警報碼\" prop=\"AlarmCode\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"警報描述\" prop=\"Description_En\">\r\n        <template #default=\"scope\">\r\n          <div>{{ scope.row.Description_En }}({{ scope.row.Description_Zh }})</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"警報類型\" prop=\"Level\" width=\"120\">\r\n        <template #default=\"scope\">\r\n          <div>{{ scope.row.Level == 1 ? 'ALARM' : 'WARNING' }}</div>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"任務名稱\" prop=\"Task_Name\" width=\"160\"></el-table-column>\r\n      <el-table-column label=\"發生地點\" prop=\"OccurLocation\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"持續時間\" prop=\"Duration\" width=\"120\"></el-table-column>\r\n      <el-table-column label=\"清除警報人員\" prop=\"ResetAalrmMemberName\" width=\"120\"></el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { AlarmHelper, ResetSystemAlarm } from '@/api/AlarmAPI.js'\r\nimport moment from 'moment'\r\nimport { userStore } from '@/store'\r\nexport default {\r\n  data() {\r\n    return {\r\n      alarms: [\r\n        {\r\n          Time: '2021/04/17 13:13:44',\r\n          Level: 'ALARM',\r\n          Source: 'System',\r\n          AlarmCode: 2,\r\n          Description_Zh: '車載管理系統斷線',\r\n          Description_En: 'VMS Disconnect',\r\n          OccurLocation: 32,\r\n          Equipment_Name: 'System',\r\n          Task_Name: '',\r\n          Duration: 0,\r\n          Checked: '',\r\n          ResetAalrmMemberName: '',\r\n        },\r\n        {\r\n          Time: '2021/04/18 12:23:23',\r\n          Level: 'WARNING',\r\n          Source: 'System',\r\n          AlarmCode: 2,\r\n          Description_Zh: '車載管理系統斷線',\r\n          Description_En: 'VMS Disconnect',\r\n          OccurLocation: 32,\r\n          Equipment_Name: 'System',\r\n          Task_Name: '',\r\n          Duration: 0,\r\n          Checked: '',\r\n          ResetAalrmMemberName: '',\r\n        }\r\n      ],\r\n\r\n    }\r\n  },\r\n  computed: {\r\n    is_user_login() {\r\n      return userStore.getters.IsLogin;\r\n    },\r\n    sys_alarms() {\r\n      return this.alarms.filter(alarm => alarm.Source == 0)\r\n    },\r\n    eq_alarms() {\r\n      return this.alarms.filter(alarm => alarm.Source == 1)\r\n    }\r\n  },\r\n  mounted() {\r\n    var alarmHelper = new AlarmHelper(this.onmessage);\r\n  },\r\n  methods: {\r\n    ResetSystemAlarm() {\r\n      ResetSystemAlarm();\r\n    },\r\n    formatTime(time) {\r\n      return moment(time).format('yyyy/MM/DD HH:mm:ss')\r\n    },\r\n    onmessage(ev) {\r\n      this.alarms = JSON.parse(ev.data)\r\n    },\r\n    row_state_class_name({ row, rowIndex }) {\r\n      return row.Level == 1 ? 'ALARM' : 'WARNING';\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.alarm-view {\r\n  text-align: left;\r\n  padding: 8px;\r\n\r\n  .el-table {\r\n    .WARNING {\r\n      background: rgb(255, 210, 6);\r\n      color: black;\r\n    }\r\n\r\n    .ALARM {\r\n      background: rgb(232, 96, 96);\r\n      color: white;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./AlarmView.vue?vue&type=template&id=2f607c39\"\nimport script from \"./AlarmView.vue?vue&type=script&lang=js\"\nexport * from \"./AlarmView.vue?vue&type=script&lang=js\"\n\nimport \"./AlarmView.vue?vue&type=style&index=0&id=2f607c39&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import {\r\n  createRouter,\r\n  createWebHashHistory,\r\n  createWebHistory,\r\n  createMemoryHistory,\r\n} from 'vue-router'\r\nimport HomeView from '../views/HomeView.vue'\r\nimport SystemSettings from '../views/SystemSettings.vue'\r\nimport DataVue from '../views/DataView.vue'\r\nimport AlarmView from '@/views/AlarmView.vue'\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'home',\r\n    component: HomeView\r\n  },\r\n  {\r\n    path: '/OP',\r\n    name: 'OP',\r\n    component: () => import('../views/SimpleOpUsePage.vue'),\r\n  },\r\n  {\r\n    path: '/maptest',\r\n    name: 'maptest',\r\n    component: () => import('../components/Map/Map.vue'),\r\n    meta: {\r\n      isAdminUse: true\r\n    }\r\n  },\r\n  {\r\n    path: '/map',\r\n    name: 'map',\r\n    component: () => import('../views/MapView.vue'),\r\n    meta: {\r\n      isAdminUse: true\r\n    }\r\n  },\r\n  {\r\n    path: '/racks_status',\r\n    name: 'racks_status',\r\n    component: () => import('../views/RacksStatusView.vue'),\r\n  },\r\n  {\r\n    path: '/sys_settings',\r\n    name: 'sys_settings',\r\n    component: SystemSettings,\r\n    meta: {\r\n      isAdminUse: true\r\n    }\r\n  },\r\n  {\r\n    path: '/data',\r\n    name: 'data',\r\n    component: DataVue,\r\n  },\r\n  {\r\n    path: '/alarm',\r\n    name: 'alarm',\r\n    component: AlarmView,\r\n  },\r\n]\r\n\r\nexport const tsmc_routes = [\r\n  {\r\n    path: '/',\r\n    name: 'home',\r\n    component: () => import('@/views/TSMC/TSMC_Home.vue'),\r\n    children: [\r\n      {\r\n        path: '/',\r\n        name: '/',\r\n        component: () => import('@/views/TSMC/Components/TaskDispatch.vue'),\r\n        meta: {\r\n          Display: \"車輛狀態與任務\"\r\n        }\r\n      },\r\n      {\r\n        path: 'BirdView',\r\n        name: 'BirdView',\r\n        component: () => import('@/views/TSMC/Components/BirdView.vue'),\r\n        meta: {\r\n          Display: \"Bird View\"\r\n        }\r\n      }, {\r\n        path: 'AGVLocus',\r\n        name: 'AGVLocus',\r\n        component: () => import('@/components/DataView/AGVLocus.vue'),\r\n        meta: {\r\n          Display: \"AGV軌跡\"\r\n        }\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '/map',\r\n    name: 'map',\r\n    component: () => import('../views/MapView.vue'),\r\n  },\r\n  {\r\n    path: '/alarm',\r\n    name: 'alarm',\r\n    component: AlarmView,\r\n  },\r\n  {\r\n    path: '/data',\r\n    name: 'data',\r\n    component: DataVue,\r\n  },\r\n]\r\n\r\nconst router = createRouter({\r\n  history: createWebHistory(),\r\n  // routes: tsmc_routes,\r\n  routes: routes,\r\n})\r\n\r\nexport default router\r\n","import { createStore } from 'vuex'\r\nimport { Login, StoreToLocalStorage, UserRouteChange } from '@/api/UserAPI';\r\nimport MapAPI from '@/api/MapAPI'\r\nimport clsAGVStateDto from \"@/ViewModels/clsAGVStateDto.js\"\r\n\r\n\r\nexport default createStore({\r\n\r\n  state: {\r\n    configs: {\r\n\r\n    }\r\n  },\r\n  mutations: {\r\n    setConfigs(state, configs) {\r\n      state.configs = configs\r\n    }\r\n  },\r\n  actions: {\r\n    SetConfig({ commit }, configs) {\r\n      commit('setConfigs', configs)\r\n    }\r\n  }\r\n})\r\n\r\nexport const agv_states_store = createStore({\r\n  state: {\r\n    agv_states: [new clsAGVStateDto()],\r\n    hotrun_states: []\r\n  },\r\n  getters: {\r\n    AGVStatesData: state => state.agv_states,\r\n    AGVNameList: state => {\r\n      return state.agv_states.map(agv => agv.AGV_Name)\r\n    },\r\n    HotRunStates: state => state.hotrun_states\r\n  },\r\n  mutations: {\r\n    storeAgvStates(state, data) {\r\n      state.agv_states = data\r\n    },\r\n    setHotRunStates(state, data) {\r\n      state.hotrun_states = data\r\n    }\r\n  }\r\n})\r\n\r\n/**系統參數設定狀態管理 */\r\nexport const agvs_settings_store = createStore({\r\n  state: {\r\n    sys_settings: {\r\n      operations: {\r\n        system_run_mode: false,\r\n        host_online_mode: false,\r\n        host_remote_mode: false,\r\n        transfer_mode: false\r\n      }\r\n    }\r\n  },\r\n  mutations: {\r\n    setOperations(state, operations) {\r\n      state.sys_settings.operations = operations\r\n    },\r\n    setRunMode(state, actived) {\r\n      state.sys_settings.operations.system_run_mode = actived\r\n    },\r\n    setHostOnline(state, actived) {\r\n      state.sys_settings.operations.host_online_mode = actived\r\n    },\r\n    setHostRemote(state, actived) {\r\n      state.sys_settings.operations.host_remote_mode = actived\r\n    },\r\n    setTransferRemote(state, actived) {\r\n      state.sys_settings.operations.transfer_mode = actived\r\n    }\r\n  },\r\n  actions: {\r\n\r\n  },\r\n  getters: {\r\n    IsRunMode: state => {\r\n      return state.sys_settings.operations.system_run_mode;\r\n    },\r\n\r\n  },\r\n  // modules: {\r\n  // }\r\n})\r\n\r\n/**用戶狀態管理 */\r\nexport const userStore = createStore({\r\n  state: {\r\n    user: null,\r\n    current_route: '',\r\n    web_user_id: ''\r\n  },\r\n  mutations: {\r\n    setUser(state, user) {\r\n      state.user = user\r\n      if (user) {\r\n        StoreToLocalStorage(user)\r\n      } else {\r\n        localStorage.removeItem('user')\r\n      }\r\n    },\r\n    setUserID(state, user_id) {\r\n      state.web_user_id = user_id;\r\n      console.log(user_id);\r\n    },\r\n    setRoute(state, route) {\r\n      state.current_route = route;\r\n      console.log(route);\r\n    },\r\n  },\r\n  actions: {\r\n    async login({ commit }, user) {\r\n      var server_reply = await Login(user);\r\n      if (server_reply.Success) {\r\n        commit('setUser', server_reply);\r\n      } else {\r\n        commit('setUser', null);\r\n      }\r\n      console.log(server_reply);\r\n      return { confirm: server_reply.Success, message: server_reply.Message }\r\n    },\r\n\r\n    logout({ commit }) {\r\n      commit('setUser', null)\r\n    },\r\n    async user_route_change({ commit, state }, route) {\r\n      commit('setRoute', route);\r\n      var result = await UserRouteChange(state.web_user_id, route)\r\n      return result\r\n    }\r\n  },\r\n  getters: {\r\n    IsLogin: state => {\r\n      return state.user != null;\r\n    },\r\n    level: state => {\r\n      if (state.user)\r\n        return state.user.Role\r\n      else\r\n        return -1\r\n    },\r\n    UserName: state => {\r\n      if (state.user)\r\n        return state.user.UserName\r\n      else\r\n        return \"\"\r\n    },\r\n    IsDeveloperLogining: state => {\r\n      if (state.user == null)\r\n        return false;\r\n      if (state.user.Role != 2 && state.user.Role != 3)\r\n        return false;\r\n      return true;\r\n    },\r\n    WebUserID: state => {\r\n      return state.web_user_id;\r\n    }\r\n  },\r\n})\r\n\r\nexport const UIStore = createStore({\r\n  state: {\r\n    locus: {\r\n    }\r\n  }\r\n})\r\n\r\nexport const EqStore = createStore({\r\n  state: {\r\n    EQ: [],\r\n    ChargeStation: {},\r\n    EqOptions: [],\r\n    WIPOptions: [],\r\n    WIPsData: []\r\n  },\r\n  getters: {\r\n    EQData: state => {\r\n      return state.EQ;\r\n    },\r\n    ChargeStationData: state => {\r\n      return state.ChargeStation;\r\n    },\r\n    EqOptions: state => state.EqOptions,\r\n    WIPData: state => state.WIPsData\r\n  },\r\n  mutations: {\r\n    setData(state, data) {\r\n      state.EQ = data.EQPData\r\n      state.ChargeStation = data.ChargeStationData\r\n      state.WIPsData = data.WIPsData\r\n    },\r\n    EqOptions(state, option) {\r\n      state.EqOptions = option\r\n    },\r\n    WIPOptions(state, option) {\r\n      state.WIPOptions = option\r\n    }\r\n  },\r\n  actions: {\r\n  }\r\n})\r\n\r\n\r\n","<template>\r\n  <el-select v-model=\"selected\" @change=\"HandleSelectChanged\">\r\n    <el-option v-for=\"name in agvNameList\" :key=\"name\" :label=\"name\" :value=\"name\"></el-option>\r\n  </el-select>\r\n</template>\r\n\r\n<script>\r\nimport { agv_states_store } from '@/store'\r\n\r\nexport default {\r\n  props: {\r\n    default: {\r\n      type: String,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      selected: this.value\r\n    }\r\n  },\r\n  methods: {\r\n    HandleSelectChanged() {\r\n      //this.$emit('switch', this.isChecked);\r\n    }\r\n  },\r\n  computed: {\r\n    agvNameList() {\r\n      return agv_states_store.getters.AGVNameList;\r\n    },\r\n  },\r\n  mounted() {\r\n    this.selected = this.default;\r\n  },\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>","import { render } from \"./AGVSelector.vue?vue&type=template&id=30f9b062\"\nimport script from \"./AGVSelector.vue?vue&type=script&lang=js\"\nexport * from \"./AGVSelector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"agv-locus border rounded\">\r\n    <div class=\"w-100 d-flex\">\r\n      <div class=\"menu-container bg-light p-2 border\">\r\n        <div class=\"border-bottom my-1 py-2\">\r\n          <div class=\"time-pick text-start d-flex\">\r\n            <div>\r\n              <div class=\"label\">車輛選擇</div>\r\n              <AGVSelector v-model=\"agvname\"></AGVSelector>\r\n            </div>\r\n            <div>\r\n              <div class=\"label\">開始時間</div>\r\n              <el-date-picker\r\n                v-model=\"timePick.start_time\"\r\n                type=\"datetime\"\r\n                placeholder=\"選擇開始時間\"\r\n                format=\"YYYY/MM/DD HH:mm:ss\"\r\n              />\r\n            </div>\r\n            <div>\r\n              <div class=\"label\">結束時間</div>\r\n              <el-date-picker\r\n                v-model=\"timePick.end_time\"\r\n                type=\"datetime\"\r\n                placeholder=\"選擇結束時間\"\r\n                format=\"YYYY/MM/DD HH:mm:ss\"\r\n              />\r\n            </div>\r\n            <el-button\r\n              @click=\"HandleSearchBtnClicked\"\r\n              style=\"height:30px;font-size: large;width:120px;position:relative;top:16px\"\r\n              class=\"my-2\"\r\n              type=\"primary\"\r\n            >搜尋</el-button>\r\n          </div>\r\n        </div>\r\n        <el-table\r\n          v-loading=\"loading\"\r\n          :data=\"tableData\"\r\n          style=\"width:720px\"\r\n          height=\"700\"\r\n          highlight-current-row\r\n          size=\"small\"\r\n        >\r\n          <el-table-column align=\"center\" label=\"No\" width=\"50\">\r\n            <template #default=\"scope\">\r\n              <div>{{GetNo(scope.row)}}</div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"Task ID\" prop=\"task_id\"></el-table-column>\r\n          <el-table-column label=\"開始時間\" prop=\"start_time\">\r\n            <template #default=\"scope\">{{ FormatTime(scope.row.start_time) }}</template>\r\n          </el-table-column>\r\n          <el-table-column label=\"結束時間\" prop=\"end_time\">\r\n            <template #default=\"scope\">{{ FormatTime(scope.row.end_time) }}</template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"花費時間(秒)\" prop=\"duration\" min-width=\"60\">\r\n            <template #default=\"scope\">\r\n              <div>\r\n                <el-tag effect=\"dark\" type=\"info\">{{ CalculatTimeSpend(scope.row) }}</el-tag>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column align=\"center\" label=\"顯示軌跡\" min-width=\"50\">\r\n            <template #default=\"scope\">\r\n              <div class=\"w-100\" @click=\"ShowLocusHandler(scope.row)\">\r\n                <i class=\"view-icon bi bi-eye-fill\"></i>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n      <div class=\"bg-light border flex-fill\">\r\n        <div class=\"locus-settings bg-dark text-light d-flex py-1 px-3\">\r\n          <div>\r\n            <span>軌跡顏色</span>\r\n            <el-color-picker @change=\"HandleLocusSettingChange\" v-model=\"locus_settings.color\" />\r\n          </div>\r\n          <div>\r\n            <span>軌跡寬度</span>\r\n            <el-select v-model=\"locus_settings.width\" @change=\"HandleLocusSettingChange\">\r\n              <el-option v-for=\"width in 12\" :key=\"width\" :value=\"width\"></el-option>\r\n            </el-select>\r\n          </div>\r\n          <div class=\"flex-fill text-end\">\r\n            <el-button type=\"primary\">儲存軌跡圖</el-button>\r\n          </div>\r\n        </div>\r\n        <Map\r\n          v-loading=\"locus_painting\"\r\n          class=\"bg-light border\"\r\n          ref=\"map\"\r\n          id=\"locus_map\"\r\n          :editable=\"false\"\r\n          :agv_show=\"false\"\r\n          :station_show=\"true\"\r\n        ></Map>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport AGVSelector from '@/components/AGVSelector'\r\n\r\nimport Map from '@/components/Map/Map.vue'\r\nimport { GetTasks, GetTrajectory } from '@/api/TaskAPI.js'\r\nimport { agv_states_store } from '@/store'\r\nimport { MapStore } from '@/components/Map/store'\r\nimport moment from 'moment'\r\nexport default {\r\n  components: {\r\n    Map, AGVSelector\r\n  },\r\n  computed: {\r\n    agvNameList() {\r\n      return agv_states_store.getters.AGVNameList;\r\n    },\r\n    map_station_data() {\r\n      return MapStore.getters.MapStations\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      tableData: [\r\n        {\r\n          task_id: '',\r\n          start_time: '2023-08-03 12:00:00',\r\n          end_time: '2023-08-03 12:10:00',\r\n          duration: 600,\r\n          corrdinations: [[0, 0], [-1.2, 2.2], [-1.3, 2.3], [-1.4, 3]]\r\n        },\r\n\r\n      ],\r\n      agvname: 'AGV_001',\r\n      timePick: {\r\n        start_time: '2023-08-03 12:00:00',\r\n        end_time: '2023-08-04 12:00:00'\r\n      },\r\n      locus_settings: {\r\n\r\n        color: 'red',\r\n        width: 1,\r\n      },\r\n      showing_row_data: {},\r\n      loading: false,\r\n      locus_painting: false\r\n    }\r\n  },\r\n  methods: {\r\n    SetDefaultTimeInterval() {\r\n\r\n    },\r\n    GetNo(row) {\r\n      return this.tableData.indexOf(row) + 1;\r\n    },\r\n    async ShowLocusHandler(row_data) {\r\n\r\n      try {\r\n        this.locus_painting = true;\r\n        setTimeout(async () => {\r\n          if (row_data.corrdinations == undefined) {\r\n\r\n            var trajData = await GetTrajectory(row_data.task_id)\r\n            if (trajData) {\r\n              row_data.corrdinations = trajData.coordinations.map(data => ([data.X, data.Y]))\r\n              this.showing_row_data = row_data;\r\n            }\r\n          }\r\n\r\n          this.$refs.map.ShowLocus(row_data.corrdinations, this.locus_settings.color, this.locus_settings.width)\r\n          this.locus_painting = false;\r\n        }, 300);\r\n      } catch (error) {\r\n        this.$swal.fire(\r\n          {\r\n            text: error.response.data,\r\n            title: '後端服務異常',\r\n            icon: 'error',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n      }\r\n\r\n    },\r\n    FormatTime(time) {\r\n      return moment(time).format('YYYY/MM/DD HH:mm:ss')\r\n    },\r\n    HandleLocusSettingChange() {\r\n      this.$refs.map.ShowLocus(this.showing_row_data.corrdinations, this.locus_settings.color, this.locus_settings.width)\r\n    },\r\n    async HandleSearchBtnClicked() {\r\n\r\n      this.SaveLocusSettingsToLocalStroage();\r\n      if (this.agvname == '') {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '請選擇車輛',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n        return;\r\n      }\r\n\r\n      var startTime = moment(this.timePick.start_time).format('YYYY/MM/DD HH:mm:ss')\r\n      var endTime = moment(this.timePick.end_time).format('YYYY/MM/DD HH:mm:ss')\r\n      var tasklist = []\r\n      this.loading = true;\r\n      setTimeout(async () => {\r\n        tasklist = await GetTasks(startTime, endTime, this.agvname)\r\n        this.tableData = tasklist.map(obj => ({\r\n          task_id: obj.TaskName,\r\n          start_time: obj.RecieveTime,\r\n          end_time: obj.FinishTime,\r\n          duration: 0,\r\n          corrdinations: undefined\r\n        }))\r\n        this.loading = false\r\n      }, 200);\r\n\r\n    },\r\n\r\n    SaveLocusSettingsToLocalStroage() {\r\n      localStorage.setItem('locus', JSON.stringify({ locus_paint: this.locus_settings, time: this.timePick }))\r\n    },\r\n    ReloadLocusSettingsFromLocalStorage() {\r\n      var settings_json = localStorage.getItem('locus')\r\n      if (settings_json) {\r\n        var store = JSON.parse(settings_json);\r\n        if (store.locus_paint)\r\n          this.locus_settings = store.locus_paint\r\n        if (store.time)\r\n          this.timePick = store.time\r\n        else {\r\n          this.timePick.start_time = this.timePick.end_time = moment(Date.now()).format('YYYY-MM-DD HH:mm:ss')\r\n        }\r\n      }\r\n    },\r\n    CalculatTimeSpend(row) {\r\n      return moment(row.end_time).unix() - moment(row.start_time).unix();\r\n    }\r\n  },\r\n  mounted() {\r\n    this.SetDefaultTimeInterval();\r\n    this.ReloadLocusSettingsFromLocalStorage();\r\n    //假資料 \r\n    this.tableData = []\r\n    // for (let index = 1; index < 51; index++) {\r\n    //   var coordinates = []\r\n    //   for (let n = 1; n < 100; n++) {\r\n    //     coordinates.push([(n / 50.0) + (n % index * (n % 2 == 0 ? 0.1 : -1)), n / 10])\r\n    //   }\r\n    //   this.tableData.push({\r\n    //     start_time: `2022-08-03 12:${index}:00`,\r\n    //     end_time: '2022-08-03 12:10:00',\r\n    //     duration: 600,\r\n    //     corrdinations: coordinates\r\n    //   })\r\n\r\n    // }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.agv-locus {\r\n  padding-right: 3%;\r\n  .time-pick {\r\n    .label {\r\n      font-weight: bold;\r\n      letter-spacing: 2px;\r\n    }\r\n  }\r\n  .view-icon:hover {\r\n    cursor: pointer;\r\n    font-size: large;\r\n  }\r\n\r\n  .locus-settings {\r\n    span {\r\n      font-weight: bold;\r\n    }\r\n    span,\r\n    div {\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./AGVLocus.vue?vue&type=template&id=4893f878&scoped=true\"\nimport script from \"./AGVLocus.vue?vue&type=script&lang=js\"\nexport * from \"./AGVLocus.vue?vue&type=script&lang=js\"\n\nimport \"./AGVLocus.vue?vue&type=style&index=0&id=4893f878&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4893f878\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"agv-status card-like\">\r\n    <div class=\"title\">\r\n      <i class=\"bi bi-three-dots-vertical\"></i>車輛狀態 STATUS\r\n    </div>\r\n    <el-tabs class=\"px-1\" tab-position=\"top\">\r\n      <el-tab-pane\r\n        v-for=\"group in Groups\"\r\n        :key=\"group.group\"\r\n        :label=\"`${group.group_name}(${group.agv_states.length})`\">\r\n        <el-table\r\n          v-if=\"!IsEasyMode\"\r\n          :header-cell-style=\"{ color: 'white', border: '1px solid rgb(222, 226, 230)', backgroundColor: 'rgb(13, 110, 253)' }\"\r\n          :data=\"group.agv_states\"\r\n          size=\"small\"\r\n          height=\"93%\"\r\n          empty-text=\"沒有AGV\"\r\n          :row-class-name=\"connected_class\"\r\n          style=\"width:100%\"\r\n          row-key=\"AGV_Name\"\r\n          border\r\n          @row-click=\"HandleRowClick\">\r\n          <el-table-column label=\"車輛名稱\" prop=\"AGV_Name\" align=\"center\" min-width=\"100px\" type=\"index\">\r\n            <template #default=\"scope\">\r\n              <div class=\"\">\r\n                <b>{{ scope.row.AGV_Name.toUpperCase() }}</b>\r\n                <b-button v-if=\"!IsRunMode\"\r\n                  class=\"w-20 my-1 mx-2\"\r\n                  @click=\"ShowAGVChargeConfirmDialog(scope.row)\"\r\n                  size=\"sm\"\r\n                  variant=\"warning\">\r\n                  <i class=\"bi bi-lightning-charge-fill\"></i> {{ group.group == 3 ? '交換電池' : '充電' }} </b-button>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <!-- <el-table-column label=\"AGV ID\" prop=\"AGV_ID\"></el-table-column> -->\r\n          <!-- <el-table-column label=\"通訊狀態\"></el-table-column> -->\r\n          <el-table-column label=\"AGV 狀態\" align=\"left\" width=\"300\">\r\n            <template #default=\"scope\">\r\n              <div class=\"w-100\" style=\"position: absolute; top:0;left:0\">\r\n                <el-row class=\"h-50\">\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border px-1 py-2 text-center  bg-light\">狀態</div>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <div class=\"h-100 border p-1\">\r\n                      <el-tag class=\"h-100 w-100\" effect=\"dark\" :type=\"AGV_Status_TagType(scope.row.MainStatus)\">\r\n                        <b>{{ AGVStatusFormatter(scope.row) }}</b>\r\n                      </el-tag>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"4\">\r\n                    <div class=\"h-100 border py-2 text-center  bg-light\">載物ID </div>\r\n                  </el-col>\r\n                  <el-col :span=\"11\">\r\n                    <div class=\"h-100 w-100 border p-2\"> <b> {{ scope.row.CurrentCarrierID }}</b></div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row class=\"h-50\">\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border px-1 py-2 text-center  bg-light\">派車</div>\r\n                  </el-col>\r\n                  <el-col :span=\"6\">\r\n                    <div class=\"h-100 border p-1\">\r\n                      <el-tag class=\"h-100 w-100 \"\r\n                        effect=\"dark\"\r\n                        @click=\"ShowOnlineStateChangeModal(scope.row.AGV_Name, scope.row.OnlineStatus, scope.row.Model)\"\r\n                        :type=\"scope.row.OnlineStatus == 0 ? 'info' : 'success'\">\r\n                        <b>{{ scope.row.OnlineStatus == 1 ? '已上線' : '離線中' }}</b>\r\n                      </el-tag>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"4\">\r\n                    <div class=\"h-100 border py-2 text-center bg-light\">位置 </div>\r\n                  </el-col>\r\n                  <el-col :span=\"11\">\r\n                    <div class=\"w-100 h-100 border p-1\">\r\n                      <i\r\n                        class=\"bi bi-geo-alt-fill\"\r\n                        style=\"font-size:20px;cursor:pointer\"\r\n                        @click=\"HandleShowAGVInMapCenter(scope.row.AGV_Name)\"></i>\r\n                      <b>{{ scope.row.StationName }}</b>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row class=\"h-50\">\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border px-1 py-2 text-center  bg-light\">電量</div>\r\n                  </el-col>\r\n                  <el-col :span=\"21\">\r\n                    <div class=\"h-100 border px-2 py-1 d-flex\">\r\n                      <b-progress class=\"flex-fill\" :max=\"100\" :min=\"0\" animated>\r\n                        <i\r\n                          v-if=\"scope.row.IsCharging\"\r\n                          v-bind:class=\"BatteryClass(scope.row.BatteryLevel_1, scope.row.IsCharging)\"\r\n                          style=\"color:white\"\r\n                          class=\"bi bi-lightning-charge battery-icon\"></i>\r\n                        <b-progress-bar\r\n                          :animated=\"true\"\r\n                          v-bind:class=\"BatteryClass(scope.row.BatteryLevel_1, scope.row.IsCharging)\"\r\n                          :value=\"scope.row.BatteryLevel_1\"\r\n                          :label=\"`${((scope.row.BatteryLevel_1 / 100) * 100).toFixed(2)}%`\"></b-progress-bar>\r\n                      </b-progress>\r\n                      <b-progress\r\n                        v-if=\"scope.row.BatteryLevel_2 != -1.0\"\r\n                        class=\"flex-fill mx-1\"\r\n                        :max=\"100\"\r\n                        :min=\"0\"\r\n                        animated>\r\n                        <i\r\n                          v-if=\"scope.row.IsCharging\"\r\n                          v-bind:class=\"BatteryClass(scope.row.BatteryLevel_2, scope.row.IsCharging)\"\r\n                          style=\"color:white\"\r\n                          class=\"bi bi-lightning-charge battery-icon\"></i>\r\n                        <b-progress-bar\r\n                          :animated=\"true\"\r\n                          v-bind:class=\"BatteryClass(scope.row.BatteryLevel_2, scope.row.IsCharging)\"\r\n                          :value=\"scope.row.BatteryLevel_2\"\r\n                          :label=\"`${((scope.row.BatteryLevel_2 / 100) * 100).toFixed(2)}%`\"></b-progress-bar>\r\n                      </b-progress>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"任務狀態\" align=\"left\" min-width=\"420\">\r\n            <template #default=\"scope\">\r\n              <div class=\"w-100\" style=\"position: absolute; top:0;left:0\">\r\n                <el-row class=\"h-50\">\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border p-2 text-center  bg-light\">ID</div>\r\n                  </el-col>\r\n                  <el-col :span=\"21\">\r\n                    <div class=\"h-100 border p-1\">\r\n                      <b>{{ scope.row.TaskName }} </b>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row class=\"h-50\">\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border px-1 py-2 text-center  bg-light\">起點</div>\r\n                  </el-col>\r\n                  <el-col :span=\"9\">\r\n                    <div class=\"h-100 border p-1\">\r\n                      <el-tag class=\"h-100 w-100 \"\r\n                        effect=\"light\">\r\n                        <b>{{ scope.row.TaskSourceStationName }}</b>\r\n                      </el-tag>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border py-2 text-center bg-light\">目的地 </div>\r\n                  </el-col>\r\n                  <el-col :span=\"9\">\r\n                    <div class=\"h-100 border p-1\">\r\n                      <el-tag class=\"h-100 w-100 \"\r\n                        effect=\"light\">\r\n                        <b>{{ scope.row.TaskDestineStationName }}</b>\r\n                      </el-tag>\r\n                    </div>\r\n                  </el-col>\r\n                </el-row>\r\n                <el-row class=\"h-50\">\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border px-1 py-2 text-center  bg-light\">動作</div>\r\n                  </el-col>\r\n                  <el-col :span=\"9\">\r\n                    <div class=\"h-100 border p-1 d-flex\">\r\n                      <el-tag class=\"h-100 w-100 \"\r\n                        effect=\"light\">\r\n                        <b> {{ GetTransferProcessDescription(scope.row, scope.row.TransferProcess) }}</b>\r\n                      </el-tag>\r\n                    </div>\r\n                  </el-col>\r\n                  <el-col :span=\"3\">\r\n                    <div class=\"h-100 border px-1 py-2 text-center  bg-light\">時間</div>\r\n                  </el-col>\r\n                  <el-col :span=\"9\">\r\n                    <div class=\"h-100 border px-1 py-2 text-center  bg-light\">{{ scope.row.TaskName == '' ? '' : '預計抵達時間:' + Timeformat(scope.row.TaskETA, 'HH:mm:ss') }}</div>\r\n                  </el-col>\r\n                </el-row>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column width=\"1\">\r\n            <template #default=\"scope\">\r\n              <div v-bind:style=\"{ height: IsRunMode ? '110px' : '125px' }\" class=\"d-flex flex-column\">\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div v-else class=\" easy-mode\">\r\n          <div\r\n            v-for=\"state in group.agv_states\"\r\n            :key=\"state.AGV_Name\"\r\n            class=\"easy-mode-car-card border rounded my-2 p-2\"\r\n            v-bind:style=\"{ backgroundColor: state.Connected ? 'rgb(229, 255, 240)' : 'rgb(255, 184, 182)' }\">\r\n            <!-- {{ state.AGV_Name }} -->\r\n            <div class=\"d-flex\">\r\n              <div class=\"mx-1 border-end px-1\">\r\n                <span class=\"border-bottom\" style=\"font-weight:bolder\">{{ state.AGV_Name }}</span>\r\n                <div class=\"py-1\">\r\n                  <img src=\"agv.png\" @click=\"HandleShowAGVInMapCenter(state.AGV_Name)\" />\r\n                  <el-tag\r\n                    effect=\"dark\"\r\n                    @click=\"ShowOnlineStateChangeModal(state.AGV_Name, state.OnlineStatus, state.Model)\"\r\n                    :type=\"state.OnlineStatus == 0 ? 'danger' : 'success'\">\r\n                    <b>{{ state.OnlineStatus == 1 ? 'ONLINE' : 'OFFLINE' }}</b>\r\n                  </el-tag>\r\n                </div>\r\n              </div>\r\n              <div style=\"padding-top:5px\" class=\"w-100\">\r\n                <div class=\"d-flex w-100\">\r\n                  <div class=\"item-title\">狀態</div>\r\n                  <div class=\"w-100 text-start\">\r\n                    <el-tag effect=\"dark\" :type=\"AGV_Status_TagType(state.MainStatus)\">\r\n                      <b>{{ AGVStatusFormatter(state) }}</b>\r\n                    </el-tag>\r\n                  </div>\r\n                </div>\r\n                <div class=\"d-flex w-100 my-2\">\r\n                  <div class=\"item-title\">電量</div>\r\n                  <div class=\"w-100 px-1 text-start\">\r\n                    <div style=\"width:110px\">\r\n                      <b-progress class=\"flex-fill\" :max=\"100\" :min=\"0\" animated>\r\n                        <b-progress-bar\r\n                          :animated=\"true\"\r\n                          v-bind:class=\"BatteryClass(state.BatteryLevel_1)\"\r\n                          :value=\"state.BatteryLevel_1\"\r\n                          :label=\"`${((state.BatteryLevel_1 / 100) * 100).toFixed(2)}%`\"></b-progress-bar>\r\n                      </b-progress>\r\n                      <b-progress\r\n                        v-if=\"state.BatteryLevel_2 != -1.0\"\r\n                        class=\"flex-fill my-1\"\r\n                        :max=\"100\"\r\n                        :min=\"0\"\r\n                        animated>\r\n                        <b-progress-bar\r\n                          :animated=\"true\"\r\n                          v-bind:class=\"BatteryClass(state.BatteryLevel_2)\"\r\n                          :value=\"state.BatteryLevel_2\"\r\n                          :label=\"`${((state.BatteryLevel_2 / 100) * 100).toFixed(2)}%`\"></b-progress-bar>\r\n                      </b-progress>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"d-flex w-100 my-1\">\r\n                  <div class=\"item-title\">位置</div>\r\n                  <div class=\"w-100 text-start\" style=\"font-size:font-size: 14px;\">\r\n                    <b>{{ state.StationName }}</b>\r\n                    <i\r\n                      class=\"bi bi-geo-alt-fill\"\r\n                      style=\"font-size:20px;cursor:pointer\"\r\n                      @click=\"HandleShowAGVInMapCenter(state.AGV_Name)\"></i>\r\n                  </div>\r\n                </div>\r\n                <div class=\"d-flex w-100 my-1\">\r\n                  <div class=\"item-title\">載物ID</div>\r\n                  <div class=\"w-100 text-start\">\r\n                    <b>{{ state.Cst }}</b>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n  </div>\r\n  <!--Modals-->\r\n  <div class=\"modals\">\r\n    <b-modal\r\n      v-model=\"ShowOnlineStateChange\"\r\n      title=\"ONLINE / OFFLINE REQUEST CONFIRM.\"\r\n      :centered=\"true\"\r\n      @ok=\"SendOnlineStateChangeRequest\"\r\n      :no-close-on-esc=\"true\"\r\n      header-bg-variant=\"warning\"\r\n      header-text-variant=\"light\">\r\n      <p ref=\"online_status_change_noti_txt\"></p>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Notifier from '@/api/NotifyHelper';\r\nimport bus from '@/event-bus';\r\nimport { IsLoginLastTime } from '@/api/AuthHelper';\r\nimport { OnlineRequest, OfflineRequest } from '@/api/VMSAPI';\r\nimport { TaskAllocation, clsChargeTaskData } from '@/api/TaskAllocation.js'\r\nimport { userStore, agvs_settings_store, agv_states_store } from '@/store'\r\nimport moment from 'moment'\r\nexport default {\r\n  mounted() {\r\n  },\r\n  data() {\r\n    return {\r\n\r\n      ShowOnlineStateChange: false,\r\n      ShowChargeConfirmDialog: false,\r\n      OnlineStatusReq: {\r\n        AGV_Name: '',\r\n        Online_Status: '',\r\n        Model: 0\r\n      },\r\n    }\r\n  },\r\n  props: {\r\n    IsEasyMode: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n  },\r\n  methods: {\r\n    Timeformat(time, format = 'YYYY/MM/DD HH:mm:ss') {\r\n      return moment(time).format(format)\r\n    },\r\n    HandleRowClick(row, row_) {\r\n      //alert(row.IP + `:${row.Port}`)\r\n    },\r\n    HandleShowAGVInMapCenter(agv_name) {\r\n      bus.emit('/show_agv_at_center', agv_name)\r\n    },\r\n    ShowTaskAllocationView(clsAgvStatus) {\r\n      if (!IsLoginLastTime().isLogin) {\r\n        this.$swal.fire({\r\n          title: '權限不足',\r\n          text: '您沒有指派任務的權限，請先進行登入。',\r\n          icon: 'warning',\r\n          showCancelButton: true\r\n        }).then((confirm) => {\r\n          if (confirm.isConfirmed)\r\n            bus.emit('/show-login-view-invoke', '');\r\n        });\r\n        return;\r\n      }\r\n      bus.emit('bus-show-task-allocation', { agv_name: clsAgvStatus.AGV_Name, agv_type: clsAgvStatus.Model, action: '', station_data: undefined });\r\n    },\r\n    ShowOnlineStateChangeModal(agv_name, current_online_status, Model) {\r\n\r\n      if (!this.IsLogin) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '沒有請求車子上下線的權限，請先進行登入',\r\n            icon: 'warning',\r\n            showCancelButton: true,\r\n            confirmButtonText: '登入',\r\n            cancelButtonText: '取消',\r\n            customClass: 'my-sweetalert'\r\n          }).then(response => {\r\n            if (response.isConfirmed) {\r\n              bus.emit('/show-login-view-invoke', '');\r\n            }\r\n          })\r\n        return;\r\n      }\r\n      this.OnlineStatusReq.AGV_Name = agv_name;\r\n      this.OnlineStatusReq.Online_Status = current_online_status == 0 ? 'Online' : 'Offline';\r\n      this.OnlineStatusReq.Model = Model;\r\n      var online_text = this.OnlineStatusReq.Online_Status == 'Online' ? '上線' : '下線';\r\n      this.$swal.fire(\r\n        {\r\n          text: `確定要將 ${this.OnlineStatusReq.AGV_Name} ${online_text}?`,\r\n          title: `${this.OnlineStatusReq.AGV_Name} - ${online_text}`,\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(async (res) => {\r\n          if (res.isConfirmed) {\r\n            var resp = await this.SendOnlineStateChangeRequest()\r\n          }\r\n        })\r\n\r\n    },\r\n    async SendOnlineStateChangeRequest() {\r\n      Notifier.Primary(`${this.OnlineStatusReq.AGV_Name} ${this.OnlineStatusReq.Online_Status} 請求已送出`, 'top', 2000);\r\n      var response = null\r\n      try {\r\n\r\n\r\n        if (this.OnlineStatusReq.Online_Status == 'Online') {\r\n          var res = await OnlineRequest(this.OnlineStatusReq.AGV_Name, this.OnlineStatusReq.Model);\r\n          response = res.data;\r\n        } else {\r\n          var res = await OfflineRequest(this.OnlineStatusReq.AGV_Name, this.OnlineStatusReq.Model);\r\n          response = res.data;\r\n        }\r\n        if (response.ReturnCode != 0) {\r\n          this.$swal.fire(\r\n            {\r\n              text: `${this.OnlineStatusReq.AGV_Name} ${this.OnlineStatusReq.Online_Status} 失敗:${response.Message}`,\r\n              title: '',\r\n              icon: 'error',\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              customClass: 'my-sweetalert'\r\n            })\r\n        }\r\n      } catch (error) {\r\n        this.$swal.fire(\r\n          {\r\n            title: 'VMS系統通訊異常',\r\n            text: `${error.message} , Please confirm that the VMS is currently in service.`,\r\n            icon: 'error',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n      }\r\n\r\n    },\r\n    ShowAGVChargeConfirmDialog(agv_status) {\r\n\r\n      if (userStore.getters.level < 0) {\r\n        this.$swal.fire({\r\n          title: '權限不足',\r\n          text: '您沒有指派AGV充電的權限，請先進行登入。',\r\n          icon: 'warning',\r\n          showCancelButton: true\r\n\r\n        }).then((confirm) => {\r\n          if (confirm.isConfirmed)\r\n            bus.emit('/show-login-view-invoke', '');\r\n        });\r\n        return;\r\n      }\r\n\r\n\r\n      this.Agv_Selected = agv_status.AGV_Name;\r\n\r\n\r\n      this.$swal.fire(\r\n        {\r\n          title: `確定要將${agv_status.AGV_Name}派送至充電站充電?`,\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(res => {\r\n          if (res.isConfirmed) {\r\n            this.AGVChargeTask()\r\n          }\r\n        })\r\n    },\r\n    AGVChargeTask() {\r\n      TaskAllocation.ChargeTask(new clsChargeTaskData(this.Agv_Selected, -1))\r\n    },\r\n    AGV_Status_TagType(status_code) {\r\n      if (status_code == 1)\r\n        return \"warning\"\r\n      else if (status_code == 2)\r\n        return \"success\"\r\n      else if (status_code == 3)\r\n        return \"danger\"\r\n      else if (status_code == 4)\r\n        return \"\"\r\n      else\r\n        return \"\"\r\n    },\r\n    GetTaskRunStatusString(status_code) {\r\n      if (status_code == 1)\r\n        return \"等待\"\r\n      else if (status_code == 2)\r\n        return \"執行中\"\r\n      else if (status_code == 3)\r\n        return \"完成\"\r\n      else if (status_code == 4)\r\n        return \"失敗\"\r\n      else\r\n        return \"Unknown\"\r\n    },\r\n    GetAGVStatusString(status_code) {\r\n      if (status_code == 1)\r\n        return \"閒置中\"\r\n      else if (status_code == 2)\r\n        return \"執行中\"\r\n      else if (status_code == 3)\r\n        return \"當機\"\r\n      else if (status_code == 4)\r\n        return \"充電中\"\r\n      else\r\n        return \"Unknown\"\r\n    },\r\n    GetTransferProcessDescription(agv_data, status_code) {\r\n      if (agv_data.MainStatus != 2 || status_code == 0 || status_code == 9)\r\n        return \"\"\r\n      else if (status_code == 1)\r\n        return \"前往來源設備\"\r\n      else if (status_code == 2)\r\n        return \"取貨中\"\r\n      else if (status_code == 3)\r\n        return \"前往終點設備\"\r\n      else if (status_code == 4)\r\n        return \"放貨中\"\r\n      else if (status_code == 5)\r\n        return \"退出充電站/WIP\"\r\n      else if (status_code == 6)\r\n        return \"移動中\"\r\n      else if (status_code == 7)\r\n        return \"前往充電站\"\r\n      else if (status_code == 8)\r\n        return \"停車-充電站\"\r\n      else\r\n        return \"Unknown\"\r\n    },\r\n    AGVStatusFormatter(row, column) {\r\n      if (row == undefined)\r\n        return this.GetAGVStatusString(999)\r\n\r\n      var status_code = row.MainStatus;\r\n      return this.GetAGVStatusString(status_code)\r\n    },\r\n    connected_class({ row, rowIndex }) {\r\n      var agv_row_class = this.IsRunMode ? 'agv-row-no-operation' : 'agv-row';\r\n      return row.Connected ? `${agv_row_class} connect` : `${agv_row_class} disconnect`\r\n    }\r\n    ,\r\n    BatteryClass(level, isCharging = false) {\r\n\r\n      if (isCharging)\r\n        return 'batter-charging'\r\n      if (level >= 30) {\r\n        return 'batter-full-level'\r\n      }\r\n      else if (level > 10 && level < 30) {\r\n        return 'batter-mid-level'\r\n      }\r\n      else {\r\n        return 'batter-low-level'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    AGVDatas() {\r\n      return agv_states_store.getters.AGVStatesData;\r\n    },\r\n    Groups() {\r\n\r\n      function GetGroupName(group_enum) {\r\n        if (group_enum == 0)\r\n          return 'Fork AGV'\r\n        else if (group_enum == 1)\r\n          return '潛盾 AGV'\r\n        else if (group_enum == 2)\r\n          return 'YUNTECH AGV'\r\n        else if (group_enum == 3)\r\n          return '巡檢 AGV'\r\n        else\r\n          return 'GROUP'\r\n      }\r\n\r\n      var groups = this.AGVDatas.map(agv => agv.Group)\r\n      const uniqueGroups = [...new Set(groups)];\r\n      var output = [];\r\n      for (let index = 0; index < uniqueGroups.length; index++) {\r\n        const group = uniqueGroups[index];\r\n        var agvlist = this.AGVDatas.filter(agv => agv.Group == group)\r\n        output.push({ group: group, group_name: GetGroupName(group), agv_states: agvlist })\r\n      }\r\n\r\n      return output;\r\n    },\r\n    IsLogin() {\r\n      return userStore.getters.IsLogin;\r\n    },\r\n    IsRunMode() {\r\n      return agvs_settings_store.getters.IsRunMode;\r\n    },\r\n    AGV_Names() {\r\n      var agv_name_list = [];\r\n      this.AGVDatas.forEach(agvData => {\r\n        agv_name_list.push(agvData.AGV_Name);\r\n      });\r\n      return agv_name_list\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.agv-status {\r\n  .easy-mode {\r\n    font-size: 18px;\r\n\r\n    .easy-mode-car-card {\r\n      width: 316px;\r\n\r\n      .item-title {\r\n        width: 90px;\r\n        font-size: small;\r\n      }\r\n    }\r\n  }\r\n\r\n  .online-status-div:hover {\r\n    cursor: pointer;\r\n  }\r\n\r\n  .agv-row-no-operation {\r\n    .cell {\r\n      padding: 8px 11px;\r\n    }\r\n  }\r\n\r\n  .connect {\r\n    background-color: rgb(229, 255, 240);\r\n  }\r\n\r\n  .disconnect {\r\n    background-color: rgb(255, 184, 182);\r\n  }\r\n\r\n  .batter-full-level {\r\n    background-color: rgb(13, 110, 253);\r\n  }\r\n\r\n  .batter-mid-level {\r\n    background-color: orange;\r\n  }\r\n\r\n  .batter-low-level {\r\n    background-color: red;\r\n  }\r\n\r\n  .batter-charging {\r\n    background-color: rgb(57, 194, 57);\r\n  }\r\n\r\n  .battery-icon {\r\n    font-size: 16px;\r\n    position: relative;\r\n    top: -5px;\r\n    height: 25px;\r\n    padding-left: 3px;\r\n  }\r\n}\r\n</style>","import axios from 'axios'\r\nimport param from '@/gpm_param'\r\nvar axios_entity = axios.create({\r\n  baseURL: param.backend_host,\r\n})\r\n\r\nvar axios_entity_vms = axios.create({\r\n  baseURL: param.vms_host,\r\n})\r\n\r\nexport async function OnlineRequest(AGV_Name,Model=0) {\r\n  return await axios_entity_vms.get(\r\n    `/api/VmsManager/OnlineRequet?agv_name=${AGV_Name}&model=${Model}`,\r\n  )\r\n}\r\n\r\nexport async function OfflineRequest(AGV_Name,Model=0) {\r\n  return await axios_entity_vms.get(\r\n    `/api/VmsManager/OfflineRequet?agv_name=${AGV_Name}&model=${Model}`,\r\n  )\r\n}\r\n","import { render } from \"./AGVStatus.vue?vue&type=template&id=6af70ac6\"\nimport script from \"./AGVStatus.vue?vue&type=script&lang=js\"\nexport * from \"./AGVStatus.vue?vue&type=script&lang=js\"\n\nimport \"./AGVStatus.vue?vue&type=style&index=0&id=6af70ac6&lang=scss\"\n\nimport exportComponent from \"../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"map card-like\">\r\n    <!-- <div class=\"title\">\r\n      <i class=\"bi bi-map\"></i>MAP SHOW\r\n    </div>-->\r\n    <Map canva_height=\"800px\" @onTransferRequst=\"HandleTransferReq\" :id=\"id\" class=\"w-100\" :task_dispatch_menu_show=\"true\" :eq_lduld_status_show=\"true\"></Map>\r\n    <CargoTransferDialog ref=\"transfer_dialog\"></CargoTransferDialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Map from '@/components/Map/Map.vue'\r\nimport { MapStore } from '@/components/Map/store'\r\nimport CargoTransferDialog from './CargoTransferDialog.vue'\r\nimport { AGVOption, clsAGVDisplay, clsMapStation } from '@/components/Map/mapjs';\r\n\r\nexport default {\r\n  props: {\r\n    id: {\r\n      type: String,\r\n      default: \"homemap\"\r\n    },\r\n  },\r\n  components: {\r\n    Map, CargoTransferDialog\r\n  },\r\n  data() {\r\n    return {\r\n      navPathDisplayData: {},\r\n      agv_colors: [\r\n        '#42c2f5',\r\n        'limegreen',\r\n        'orange',\r\n        'pink',\r\n        'red',\r\n        'purple',\r\n      ]\r\n    }\r\n  },\r\n  computed: {\r\n    map_station_data() {\r\n      return MapStore.getters.MapStations\r\n    },\r\n    agvs_info() {\r\n      return MapStore.getters.AGVNavInfo;\r\n    }\r\n  },\r\n  mounted() {\r\n  },\r\n  methods: {\r\n    HandleTransferReq(data = { station_data: {}, action: 'load' }) {\r\n      // alert(JSON.stringify(station_data))\r\n      this.$refs.transfer_dialog.ShowDialog(data.station_data, data.action);\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.map {\r\n  height: 100%;\r\n}\r\n</style>","<template>\r\n    <el-dialog destroy-on-close :modal=\"false\" style=\"z-index:0\" v-model=\"show_dialog\" draggable :title=\"`${source_station.Name}-搬運任務`\">\r\n        <div class=\"justify-content-center px-5 cargo-transfer\">\r\n            <div class=\"w-100 border-bottom my-1\">\r\n                <h3>車輛選擇</h3>\r\n            </div>\r\n            <el-select v-if=\"!isRunMode\" class=\"w-100\" v-model=\"selectedAGVName\">\r\n                <el-option\r\n                    v-for=\"agv_name in AgvNameList\"\r\n                    :key=\"agv_name\"\r\n                    :label=\"agv_name == 'Assigning' ? '自動選車' : agv_name\"\r\n                    :value=\"agv_name == 'Assigning' ? '' : agv_name\"></el-option>\r\n            </el-select>\r\n            <el-select v-else disabled class=\"w-100\" v-model=\"autoSelectAGVName\">\r\n            </el-select>\r\n            <el-divider></el-divider>\r\n            <div class=\"w-100 border-bottom my-1\">\r\n                <h3>{{ action == 'unload' ? '下游設備列表' : '來源設備列表' }}</h3>\r\n            </div>\r\n            <el-table size=\"small\" border :data=\"CandicateEQOptions\">\r\n                <el-table-column v-if=\"action == 'unload'\" label=\"起點\">\r\n                    <template #default=\"scope\">\r\n                        <b style=\"color:blue\"> {{ source_station.Graph.Display }} </b>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column :label=\"action == 'unload' ? '下游設備' : '上游設備'\" prop=\"Name\">\r\n                    <template #default=\"scope\">\r\n                        <b> {{ scope.row.Name }} </b>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column v-if=\"action == 'load'\" label=\"終點\">\r\n                    <template #default=\"scope\">\r\n                        <b style=\"color:seagreen\"> {{ source_station.Graph.Display }} </b>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column align=\"center\" label=\"TAG\" prop=\"TagID\"></el-table-column>\r\n                <el-table-column align=\"center\" label=\"動作\">\r\n                    <template #default=\"scope\">\r\n                        <el-popconfirm\r\n                            width=\"220\"\r\n                            confirm-button-text=\"確定\"\r\n                            cancel-button-text=\"取消\"\r\n                            icon-color=\"#626AEF\"\r\n                            title=\"確定要進行此搬運任務?\"\r\n                            @confirm=\"HandleTransferBtnClick(scope.row.TagID)\">\r\n                            <template #reference>\r\n                                <b-button style=\"width:90px\" size=\"sm\" variant=\"primary\" :disabled=\"!Transferable(scope.row.TagID)\">搬運</b-button>\r\n                            </template>\r\n                        </el-popconfirm>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column width=\"300\" label=\"說明\">\r\n                    <template #default=\"scope\">\r\n                        <div class=\"text-danger\">{{ GetNoTransferActionReason(scope.row.TagID) }}</div>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <!-- <el-dialog draggable destroy-on-close width=\"500\" title=\"確定要進行此搬運任務?\" v-model=\"confirm_dialog_show\">\r\n            <div class=\"d-flex flex-row justify-content-center\">\r\n                <b-button>確定</b-button>\r\n                <b-button>取消</b-button>\r\n            </div>\r\n        </el-dialog> -->\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { GetEQOptions, SaveEQOptions, ConnectTest } from '@/api/EquipmentAPI.js';\r\nimport { EqStore, agvs_settings_store, agv_states_store } from '@/store'\r\nimport { TaskAllocation, clsCarryTaskData } from '@/api/TaskAllocation';\r\nimport { InfoFilled } from '@element-plus/icons-vue'\r\n\r\nexport default {\r\n    components: {\r\n        InfoFilled,\r\n    },\r\n    data() {\r\n        return {\r\n            show_dialog: false,\r\n            confirm_dialog_show: false,\r\n            source_station: {},\r\n            EQOptions: [],\r\n            CandicateEQOptions: [],\r\n            action: '',\r\n            selectedAGVName: '',\r\n            autoSelectAGVName: '自動指派'\r\n        }\r\n    },\r\n    methods: {\r\n        ShowDialog(source_station, action = 'load') {\r\n            if (this.isRunMode) {\r\n                this.selectedAGVName = 'Assigning'\r\n            } else if (this.selectedAGVName == '') {\r\n                this.selectedAGVName = this.AgvNameList[0]\r\n            }\r\n            this.source_station = source_station;\r\n            this.action = action;\r\n            this.CandicateEQOptions = [];\r\n            var source_tag = source_station.TagNumber\r\n            GetEQOptions().then(options => {\r\n                var source = options.find(opt => opt.TagID == source_tag)\r\n                var downstreamEqNames = source.ValidDownStreamEndPointNames\r\n                this.EQOptions = options\r\n                if (action == 'unload')\r\n                    this.CandicateEQOptions = options.filter(eq => downstreamEqNames.includes(eq.Name))\r\n                else {\r\n                    //找到上游設備>\r\n                    this.CandicateEQOptions = options.filter(eq => eq.ValidDownStreamEndPointNames.includes(source_station.Name))\r\n                }\r\n\r\n                this.show_dialog = true\r\n            })\r\n        },\r\n        Transferable(TagID) {\r\n            if (TagID == undefined)\r\n                return true;\r\n\r\n            var EQ = this.eq_status_data.find(eq => eq.Tag == TagID);\r\n            if (this.action == 'load') {\r\n                //來源機台必須 U_REQ ON and 下點位 and Status down \r\n                if (EQ.EqType == 0)\r\n                    return EQ.Unload_Request && EQ.Up_Pose && EQ.IsConnected && EQ.Eqp_Status_Down\r\n                else if (EQ.EqType == 1)\r\n                    return EQ.Unload_Request && EQ.IsConnected && EQ.Eqp_Status_Idle\r\n            } else {\r\n                if (EQ.EqType == 0)\r\n                    return EQ.Load_Request && EQ.Down_Pose && EQ.IsConnected && EQ.Eqp_Status_Down\r\n                else if (EQ.EqType == 1)\r\n                    return EQ.Load_Request && EQ.IsConnected && EQ.Eqp_Status_Idle\r\n            }\r\n        },\r\n        GetNoTransferActionReason(TagID) {\r\n            if (TagID == undefined)\r\n                return \"\";\r\n            var EQ = this.eq_status_data.find(eq => eq.Tag == TagID);\r\n            var action = this.action == 'load' ? 'unload' : 'load';\r\n            if (!EQ.IsConnected)\r\n                return `${EQ.EQName} 機台尚未連線`\r\n\r\n\r\n            if (!EQ.Eqp_Status_Down && EQ.EqType == 0)\r\n                return `${EQ.EQName} 機台狀態異常(Eqp_Status_Down)`\r\n\r\n\r\n            if (EQ.Eqp_Status_Down && EQ.EqType == 1)\r\n                return `${EQ.EQName} 機台狀態異常(Eqp_Status_Down)`\r\n\r\n            if (action == 'load') {\r\n                if (!EQ.Load_Request)\r\n                    return `${EQ.EQName} 機台未發起載入請求(Load_Request)`\r\n                if (!EQ.Down_Pose && EQ.EqType == 0)\r\n                    return `${EQ.EQName} 設備機構位置錯誤(Down_Pose)`\r\n            }\r\n            if (action == 'unload') {\r\n                if (!EQ.Unload_Request)\r\n                    return `${EQ.EQName} 機台未發起移出請求(Unload_Request)`\r\n                if (!EQ.Up_Pose && EQ.EqType == 0)\r\n                    return `${EQ.EQName} 設備機構位置錯誤(Up_Pose)`\r\n            }\r\n            return \"\"\r\n        },\r\n        HandleTransferBtnClick(tag) {\r\n            if (this.selectedAGVName == '') {\r\n                this.show_dialog = false;\r\n                this.$swal.fire(\r\n                    {\r\n                        text: '',\r\n                        title: '請選擇車輛',\r\n                        icon: 'warning',\r\n                        showCancelButton: false,\r\n                        confirmButtonText: 'OK',\r\n                        customClass: 'my-sweetalert'\r\n                    }).then(() => {\r\n                        this.show_dialog = true\r\n                    })\r\n                return;\r\n            }\r\n            // alert(destin_tag)\r\n            var sourceTag = '-1'\r\n            var destineTag = '-1'\r\n            if (this.action == 'load') {\r\n                sourceTag = tag\r\n                destineTag = this.source_station.TagNumber\r\n            } else {\r\n                sourceTag = this.source_station.TagNumber\r\n                destineTag = tag\r\n            }\r\n            var agvName = this.selectedAGVName == \"Assigning\" ? '' : this.selectedAGVName;\r\n            TaskAllocation.CarryTask(new clsCarryTaskData(agvName, sourceTag, 1, destineTag, 1, '-1', 5))\r\n        }\r\n    },\r\n    computed: {\r\n        eq_status_data() {\r\n            return EqStore.getters.EQData\r\n        },\r\n        isRunMode() {\r\n            return agvs_settings_store.getters.IsRunMode\r\n        },\r\n\r\n        AgvNameList() {\r\n            return agv_states_store.getters.AGVNameList\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.cargo-transfer {\r\n    h3 {\r\n        text-align: left;\r\n    }\r\n}\r\n</style>","import { render } from \"./CargoTransferDialog.vue?vue&type=template&id=feaad786&scoped=true\"\nimport script from \"./CargoTransferDialog.vue?vue&type=script&lang=js\"\nexport * from \"./CargoTransferDialog.vue?vue&type=script&lang=js\"\n\nimport \"./CargoTransferDialog.vue?vue&type=style&index=0&id=feaad786&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-feaad786\"]])\n\nexport default __exports__","import { render } from \"./HomeMap.vue?vue&type=template&id=237c3ad1&scoped=true\"\nimport script from \"./HomeMap.vue?vue&type=script&lang=js\"\nexport * from \"./HomeMap.vue?vue&type=script&lang=js\"\n\nimport \"./HomeMap.vue?vue&type=style&index=0&id=237c3ad1&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-237c3ad1\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"task-allocation\">\r\n    <el-drawer\r\n      :show-close=\"false\"\r\n      v-model=\"show\"\r\n      :header=\"false\"\r\n      size=\"95%\"\r\n      direction=\"btt\"\r\n      :modal=\"false\"\r\n      :z-index=\"123\"\r\n      @closed=\"HandleDrawerClosed\">\r\n      <template #header>\r\n        <div class=\"d-flex\">\r\n          <el-button\r\n            @click=\"() => { show = false }\"\r\n            size=\"large\"\r\n            style=\"margin-left:53px;font-size:larger;\"\r\n            type=\"primary\">←返回(ESC)</el-button>\r\n          <h3 class=\"flex-fill text-center\">Local任務派送-車輛:{{ selectedAGVName }}</h3>\r\n        </div>\r\n      </template>\r\n      <div class=\"drawer-content border-top\" v-loading=\"wait_task_confirm\">\r\n        <div class=\"d-flex flex-row py-1 w-100 h-100\">\r\n          <el-form label-width=\"100px\" label-position=\"left\" size=\"large\" style=\"width:500px\">\r\n            <el-form-item label=\"AGV車輛選擇\">\r\n              <el-select class=\"w-100\" v-model=\"selectedAGVName\">\r\n                <el-option\r\n                  v-for=\"agv_name in AgvNameList\"\r\n                  :key=\"agv_name.value\"\r\n                  :label=\"agv_name.label\"\r\n                  :value=\"agv_name.value\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"AGV任務動作\">\r\n              <el-select\r\n                v-if=\"agv_type != 2\"\r\n                class=\"w-100\"\r\n                v-model=\"selectedAction\"\r\n                placeholder=\"請選擇Action\"\r\n                @change=\"ActionChangeHandler\">\r\n                <el-option label=\"移動\" value=\"move\"></el-option>\r\n                <el-option label=\"停車\" value=\"park\"></el-option>\r\n                <el-option label=\"搬運\" value=\"carry\"></el-option>\r\n                <el-option label=\"放貨\" value=\"load\"></el-option>\r\n                <el-option label=\"取貨\" value=\"unload\"></el-option>\r\n                <el-option label=\"充電\" value=\"charge\"></el-option>\r\n                <el-option v-if=\"IsDeveloper\" label=\"巡檢量測\" value=\"measure\"></el-option>\r\n              </el-select>\r\n              <!-- 巡檢AGV使用 -->\r\n              <el-select\r\n                v-else\r\n                class=\"w-100\"\r\n                v-model=\"selectedAction\"\r\n                placeholder=\"請選擇Action\"\r\n                @change=\"ActionChangeHandler\">\r\n                <el-option label=\"移動\" value=\"move\"></el-option>\r\n                <el-option label=\"交換電池\" value=\"exchange_battery\"></el-option>\r\n                <el-option label=\"巡檢量測\" value=\"measure\"></el-option>\r\n                <el-option label=\"進Bay\" value=\"in-bay\"></el-option>\r\n                <el-option label=\"出Bay\" value=\"out-bay\"></el-option>\r\n                <!-- <el-option label=\"停車\" value=\"park\"></el-option> -->\r\n                <!-- <el-option label=\"搬運\" value=\"carry\"></el-option>\r\n                <el-option label=\"放貨\" value=\"load\"></el-option>\r\n                <el-option label=\"取貨\" value=\"unload\"></el-option>\r\n                <el-option label=\"充電\" value=\"charge\"></el-option>-->\r\n              </el-select>\r\n            </el-form-item>\r\n            <!--  -->\r\n            <el-form-item label=\"起點\" v-if=\"selectedAction == 'carry'\">\r\n              <el-select\r\n                class=\"w-100\"\r\n                v-model=\"sourceTag\"\r\n                @change=\"HandleFromSelectChanged\"\r\n                placeholder=\"選擇站點\">\r\n                <el-option v-for=\"tag in tags\" :key=\"tag.tag\" :label=\"tag.name\" :value=\"tag.tag\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"目的地\">\r\n              <el-select class=\"w-100\" v-model=\"destinTag\" placeholder=\"選擇站點\">\r\n                <el-option\r\n                  v-for=\"tag in DetermineDestinOptions()\"\r\n                  :key=\"tag.tag\"\r\n                  :label=\"tag.name\"\r\n                  :value=\"tag.tag\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <!--  -->\r\n            <el-form-item\r\n              v-if=\"selectedAction === 'carry' | selectedAction === 'unload'\"\r\n              label=\"貨物ID\">\r\n              <el-input class=\"w-100\" v-model=\"Cst_ID_Input\" autocomplete></el-input>\r\n            </el-form-item>\r\n            <el-form-item>\r\n              <b-button\r\n                class=\"w-100 my-2\"\r\n                @click=\"TaskDeliveryBtnClickHandle\"\r\n                variant=\"primary\">派送任務</b-button>\r\n              <!-- <b-button class=\"w-100\" @click=\"HandleNavPathPreviewBtnClick\" variant=\"default\">預覽路徑</b-button> -->\r\n            </el-form-item>\r\n            <el-form-item v-if=\"IsDeveloper\" label=\"Bypass 設備狀態檢查\">\r\n              <el-checkbox class=\"w-100\" v-model=\"bypass_eq_status_check\"></el-checkbox>\r\n            </el-form-item>\r\n          </el-form>\r\n          <Map\r\n            canva_height=\"750px\"\r\n            id=\"task_allocation_map\"\r\n            class=\"w-100 border rounded mx-2\"\r\n            ref=\"_map\"></Map>\r\n        </div>\r\n        <div v-if=\"selectedAction == 'charge'\" class=\"img charge\"></div>\r\n        <div v-else class=\"img delivery\"></div>\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Notifier from '@/api/NotifyHelper';\r\nimport bus from '@/event-bus';\r\nimport clsAGVStateDto from '@/ViewModels/clsAGVStateDto';\r\nimport MapShowVue from '../MapShow.vue';\r\nimport Map from '@/components/Map/Map.vue'\r\nimport { MapStore } from '@/components/Map/store'\r\nimport { TaskAllocation, clsMoveTaskData, clsMeasureTaskData, clsLoadTaskData, clsUnloadTaskData, clsCarryTaskData, clsExangeBatteryTaskData, clsChargeTaskData, clsParkTaskData } from '@/api/TaskAllocation'\r\nimport { userStore, agv_states_store, agvs_settings_store } from '@/store';\r\nimport { MapPointModel } from '@/components/Map/mapjs';\r\nimport { GetEQOptions } from '@/api/EquipmentAPI'\r\nexport default {\r\n  components: {\r\n    MapShowVue, Map\r\n  },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      clsAgvStatus: new clsAGVStateDto(),\r\n      confirm_dialog_show: false,\r\n      notify_dialog_show: false,\r\n      wait_task_confirm: false,\r\n      bypass_eq_status_check: false,\r\n      notify_text: '',\r\n      selectedAGVName: '',\r\n      selectedAction: 'move', // 選擇的Action\r\n      sourceTag: '', // 選擇的tag_id\r\n      destinTag: '', // 選擇的to_tag\r\n      Cst_ID_Input: '', // 選擇的cst_id\r\n      moveable_tags: [ // tag_id選項\r\n        { tag: 1, name: '標籤1' },\r\n      ],\r\n      parkable_tags: [ // tag_id選項\r\n      ],\r\n      stock_tags: [\r\n        { tag: 1, name: '標籤1' },\r\n        { tag: 2, name: '標籤2' },\r\n      ],\r\n      chargable_tags: [ // tag_id選項\r\n        { tag: 50, name: '充電站(TAG-50)' },\r\n        { tag: 70, name: '充電站(TAG-70)' },\r\n      ],\r\n      downstream_tags: [\r\n        { tag: 1, name: '標籤1' },\r\n        { tag: 2, name: '標籤2' }\r\n      ],\r\n      csts: [ // cst_id選項\r\n        { tag: 1, name: '' },\r\n      ],\r\n      agv_type: 0,\r\n      equipments_options: undefined\r\n    }\r\n  },\r\n  computed: {\r\n    Map() {\r\n      return this.$refs['_map']\r\n    },\r\n\r\n    AgvNameList() {\r\n      var namelist = [];\r\n      if (agvs_settings_store.getters.IsRunMode) {\r\n        namelist.push({ value: '', label: '自動選車' });\r\n        if (this.IsDeveloper)\r\n          createdAgvNameOptions(namelist);\r\n      }\r\n      else {\r\n        createdAgvNameOptions(namelist);\r\n      }\r\n\r\n      function createdAgvNameOptions(namelist) {\r\n        agv_states_store.getters.AGVNameList.forEach(element => {\r\n          namelist.push({\r\n            value: element,\r\n            label: element\r\n          });\r\n        });\r\n      }\r\n      return namelist;\r\n    },\r\n    tags() {\r\n      if (this.selectedAction == 'move')\r\n        return this.moveable_tags;\r\n      else if (this.selectedAction == 'charge')\r\n        return this.chargable_tags;\r\n      else if (this.selectedAction == 'load' | this.selectedAction == 'unload' | this.selectedAction == 'carry') {\r\n        return this.stock_tags;\r\n      }\r\n      else\r\n        return this.parkable_tags;\r\n    },\r\n\r\n    IsDeveloper() {\r\n      return userStore.getters.IsDeveloperLogining;\r\n    },\r\n    IsUserLogin() {\r\n      return userStore.getters.level != 0\r\n    },\r\n    bay_names() {\r\n\r\n      var bay_data = MapStore.getters.BaysData;\r\n      return Object.keys(bay_data).map(bay_name => ({\r\n        tag: bay_name,\r\n        name: bay_name\r\n      }))\r\n\r\n    },\r\n    exchanger_options() {\r\n      return MapStore.getters.AllExangeBatteryStation;\r\n    }\r\n  },\r\n  methods: {\r\n    ActionChangeHandler(action) {\r\n\r\n      this.sourceTag = undefined;\r\n      this.destinTag = undefined;\r\n      var highlight_color = 'blue'\r\n      if (action == 'move')\r\n        this.Map.HighLightFeaturesByStationType(0, highlight_color);\r\n      if (action == 'carry' | action == 'load' | action == 'unload')\r\n        this.Map.HighLightFeaturesByStationType(1, highlight_color);\r\n      if (action == 'charge')\r\n        this.Map.HighLightFeaturesByStationType(3, highlight_color);\r\n    },\r\n    HandleNavPathPreviewBtnClick() {\r\n    },\r\n    DetermineDestinOptions() {\r\n\r\n      if (this.selectedAction == 'measure')\r\n        return this.bay_names;\r\n      else if (this.selectedAction == 'carry')\r\n        return this.downstream_tags;\r\n      else if (this.selectedAction == 'exchange_battery')\r\n        return this.exchanger_options;\r\n      else\r\n        return this.tags;\r\n\r\n    },\r\n    TaskDeliveryBtnClickHandle() {\r\n      if (!this.selectedAGVName && !agvs_settings_store.getters.IsRunMode) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '尚未選擇車輛',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n        return;\r\n      }\r\n      if (!this.selectedAction) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '尚未選擇動作',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n        return;\r\n      }\r\n      if (this.destinTag == '' | this.destinTag == undefined) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '尚未選擇目的地',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n\r\n        return;\r\n      }\r\n\r\n      if (this.selectedAction == 'carry' && (this.sourceTag == '' | this.sourceTag == undefined)) {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: '尚未選擇起點',\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n        return;\r\n      }\r\n      // if ((this.selectedAction == 'carry' | this.selectedAction == 'load' | this.selectedAction == 'unload') && (this.Cst_ID_Input == '' | this.Cst_ID_Input == undefined)) {\r\n      //   this.$swal.fire(\r\n      //     {\r\n      //       text: '',\r\n      //       title: '尚未填寫/選擇CST ID',\r\n      //       icon: 'warning',\r\n      //       showCancelButton: false,\r\n      //       confirmButtonText: 'OK',\r\n      //       customClass: 'my-sweetalert'\r\n      //     })\r\n      //   return;\r\n      // }\r\n      var destinName = this.destinTag\r\n      this.$swal.fire(\r\n        {\r\n          title: '確定要派送此任務?',\r\n          text: `${this.selectedAGVName} 執行 ${this.selectedAction.toUpperCase()} 任務,終點:${destinName}`,//TODO 完整的名稱\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: '確定',\r\n          cancelButtonText: '取消',\r\n          customClass: 'my-sweetalert'\r\n        }).then(res => {\r\n          if (res.isConfirmed) {\r\n            this.TaskDeliveryHandle()\r\n          }\r\n        })\r\n    },\r\n    async TaskDeliveryHandle() {\r\n      // TaskAllocation.Task();\r\n      if (userStore.getters.level == 0)\r\n        this.bypass_eq_status_check = false;\r\n      this.wait_task_confirm = true\r\n      var response = { confirm: true, message: '' }\r\n\r\n      if (this.selectedAction == 'move') {\r\n        response = await TaskAllocation.MoveTask(new clsMoveTaskData(this.selectedAGVName, this.destinTag, 50));\r\n      }\r\n\r\n      if (this.selectedAction == 'measure') {\r\n        response = await TaskAllocation.MeasureTask(new clsMeasureTaskData(this.selectedAGVName, this.destinTag));\r\n      }\r\n      if (this.selectedAction == 'load') {\r\n        response = await TaskAllocation.LoadTask(new clsLoadTaskData(this.selectedAGVName, this.destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n      }\r\n\r\n      if (this.selectedAction == 'unload') {\r\n        response = await TaskAllocation.UnloadTask(new clsUnloadTaskData(this.selectedAGVName, this.destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n      }\r\n\r\n      if (this.selectedAction == 'carry') {\r\n        response = await TaskAllocation.CarryTask(new clsCarryTaskData(this.selectedAGVName, this.sourceTag, 1, this.destinTag, 1, this.Cst_ID_Input, 50, this.bypass_eq_status_check));\r\n      }\r\n      if (this.selectedAction == 'exchange_battery') {\r\n        response = await TaskAllocation.ExangeBatteryTask(new clsExangeBatteryTaskData(this.selectedAGVName, this.destinTag, 50, this.bypass_eq_status_check));\r\n      }\r\n      if (this.selectedAction == 'charge') {\r\n        response = await TaskAllocation.ChargeTask(new clsChargeTaskData(this.selectedAGVName, this.destinTag, 50, this.bypass_eq_status_check));\r\n      }\r\n      if (this.selectedAction == 'park') {\r\n        response = await TaskAllocation.ParkTask(new clsParkTaskData(this.selectedAGVName, this.destinTag, 50, this.bypass_eq_status_check));\r\n      }\r\n      this.wait_task_confirm = false;\r\n      if (response.status != 200) {\r\n        const is_Unauthorized = response.status == 401;\r\n        this.$swal.fire({\r\n          title: is_Unauthorized ? '須重新進行登入' : '任務派送失敗!',\r\n          text: is_Unauthorized ? '' : response.mesage,\r\n          icon: 'error',\r\n          showCancelButton: false,\r\n          showConfirmButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert',\r\n        }).then(res => {\r\n          if (is_Unauthorized) {\r\n            this.show = false;\r\n            userStore.dispatch('logout', '')\r\n            bus.emit('/show-login-view-invoke')\r\n\r\n          }\r\n        })\r\n\r\n\r\n      }\r\n      else {\r\n        //{confirm:true,message:''}\r\n        if (response.data.confirm) {\r\n          Notifier.Success(`任務-[${this.selectedAction.toUpperCase()}] 已派送!`, 'bottom', 2000);\r\n          setTimeout(() => {\r\n            this.show = false;\r\n          }, 400);\r\n        } else {\r\n          this.$swal.fire(\r\n            {\r\n              text: response.data.message,\r\n              title: '任務派送失敗!',\r\n              icon: 'error',\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              customClass: 'my-sweetalert'\r\n            })\r\n        }\r\n      }\r\n\r\n    },\r\n    HandleDrawerClosed() {\r\n    },\r\n\r\n    MapStationClicked(MapPoint) {\r\n      // alert(MapPoint.TagNumber)\r\n      if (!MapPoint)\r\n        return;\r\n      var _station_type = MapPoint.StationType\r\n      if (_station_type == 0)\r\n        this.selectedAction = 'move'\r\n      if (_station_type == 1)\r\n        this.selectedAction = 'unload'\r\n      if (_station_type == 3)\r\n        this.selectedAction = 'charge'\r\n\r\n\r\n      var option = this.tags.findLast(tag => tag.tag == MapPoint.TagNumber);\r\n      console.info(option)\r\n      if (option)\r\n        this.sourceTag = MapPoint.TagNumber\r\n    },\r\n    async HandleFromSelectChanged(source_tag) {\r\n      this.destinTag = undefined\r\n      this.downstream_tags = [];\r\n      this.equipments_options = await GetEQOptions();\r\n      var source_eq = this.equipments_options.find(eq => eq.TagID == source_tag)\r\n      if (source_eq) {\r\n        var downstream_eq_names = source_eq.ValidDownStreamEndPointNames\r\n        console.info(downstream_eq_names)\r\n        var downstread_eq_options = this.equipments_options.filter(eq => downstream_eq_names.includes(eq.Name))\r\n        console.info(downstread_eq_options)\r\n        Object.values(downstread_eq_options).forEach(element => {\r\n          this.downstream_tags.push({\r\n            tag: element.TagID,\r\n            name: `${element.Name}(Tag=${element.TagID})`\r\n          })\r\n        });\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    bus.on('bus-show-task-allocation', (data = { agv_name: undefined, agv_type: 0, action: '', station_data: new MapPointModel() }) => {\r\n      if (!this.IsUserLogin && !agvs_settings_store.getters.IsRunMode) {\r\n        setTimeout(() => {\r\n\r\n          this.$swal.fire(\r\n            {\r\n              text: '',\r\n              title: '請先進行登入',\r\n              icon: 'warning',\r\n              showCancelButton: false,\r\n              confirmButtonText: 'OK',\r\n              customClass: 'my-sweetalert'\r\n            }).then(() => {\r\n\r\n              bus.emit('/show-login-view-invoke')\r\n            })\r\n\r\n        }, 200);\r\n        return;\r\n      }\r\n      this.agv_type = data.agv_type\r\n      this.sourceTag = undefined;\r\n      this.destinTag = undefined;\r\n      this.selectedAGVName = agvs_settings_store.getters.IsRunMode ? '' : undefined;\r\n      this.moveable_tags = MapStore.getters.AllNormalStationOptions\r\n      this.stock_tags = MapStore.getters.AllEqStation\r\n      this.chargable_tags = MapStore.getters.AllChargeStation\r\n      this.parkable_tags = MapStore.getters.AllParkingStationOptions\r\n\r\n      this.selectedAction = data.action\r\n      if (data.agv_name) {\r\n        this.selectedAGVName = data.agv_name;\r\n      }\r\n\r\n      if (data.station_data) {\r\n\r\n        if (this.selectedAction == 'carry') {\r\n          this.sourceTag = data.station_data.TagNumber\r\n          this.HandleFromSelectChanged(this.sourceTag)\r\n        }\r\n        else {\r\n          this.destinTag = data.station_data.TagNumber\r\n        }\r\n      }\r\n      this.show = true;\r\n    })\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.task-allocation {\r\n  .item {\r\n    display: flex;\r\n    flex-direction: row;\r\n    padding-left: 50px;\r\n\r\n    .title {\r\n      width: 120px;\r\n    }\r\n  }\r\n\r\n  .drawer-content {\r\n    height: 100%;\r\n    width: 100%;\r\n    padding-left: 76px;\r\n    position: absolute;\r\n    top: 67px;\r\n\r\n    .img {\r\n      width: 200px;\r\n      height: 200px;\r\n      position: absolute;\r\n      bottom: 86px;\r\n      opacity: 0.2;\r\n      background-repeat: no-repeat;\r\n      background-size: cover;\r\n    }\r\n\r\n    .delivery {\r\n      background-image: url(\"@/assets/images/fast-delivery.png\");\r\n    }\r\n\r\n    .charge {\r\n      background-image: url(\"@/assets/images/charging-station.png\");\r\n    }\r\n  }\r\n}\r\n</style>","<template>\r\n  <div @mousemove=\"MapMouseMoveHandler\">\r\n    <b-alert class=\"map-notify py-1 px-2 text-start\" v-if=\"!only_view\" show variant=\"info\">\r\n      <div class=\"mode-text\">{{ Mode_Text }}</div>\r\n      <div class=\"d-flex flex-row\">\r\n        <div class=\"tips-text\" v-for=\"tip in Tips\" :key=\"tip\">\r\n          <i class=\"bi bi-info-square\"></i> {{ tip }}\r\n        </div>\r\n      </div>\r\n    </b-alert>\r\n    <div class=\"map-show h-100 border py-2 px-2 d-flex flex-row bg-light\">\r\n      <div class=\"w-100\">\r\n        <div\r\n          v-if=\"hoverPointData != undefined\"\r\n          id=\"point-tooltip\"\r\n          class=\"rounded text-start p-2\"\r\n          v-bind:style=\"TooltipStyle\">\r\n          <div>名稱 :{{ hoverPointData.Name }}</div>\r\n          <div>Tag :{{ hoverPointData.TagNumber }} ({{ hoverPointData.X }},{{ hoverPointData.Y }},{{ hoverPointData.Direction }} )</div>\r\n          <div>站點類型 :{{ GetPointTypeNameByTypeNum(hoverPointData.StationType) }}</div>\r\n        </div>\r\n        <div class=\"header-div w-100 d-flex flex-row justify-content-between\">\r\n          <div class=\"options text-start d-flex flex-row\">\r\n            <div class=\"d-flex flex-row option-container\">\r\n              <span>\r\n                <i class=\"bi bi-three-dots-vertical\"></i>顯示方式 </span>\r\n              <b-form-group @change=\"NameDisplayChangeHandle\" v-slot=\"{ ariaDescribedby }\">\r\n                <b-form-radio\r\n                  v-model=\"display_selected\"\r\n                  :aria-describedby=\"ariaDescribedby\"\r\n                  name=\"some-radios\"\r\n                  value=\"Index\">Index</b-form-radio>\r\n                <b-form-radio\r\n                  v-model=\"display_selected\"\r\n                  :aria-describedby=\"ariaDescribedby\"\r\n                  name=\"some-radios\"\r\n                  value=\"Tag\">Tag</b-form-radio>\r\n                <b-form-radio\r\n                  v-model=\"display_selected\"\r\n                  :aria-describedby=\"ariaDescribedby\"\r\n                  name=\"some-radios\"\r\n                  value=\"Name\">名稱</b-form-radio>\r\n              </b-form-group>\r\n            </div>\r\n            <div class=\"d-flex flex-row option-container\">\r\n              <span>\r\n                <i class=\"bi bi-three-dots-vertical\"></i>AGV顯示 </span>\r\n              <b-form-group @change=\"AGVDisplayChangeHandle\">\r\n                <b-form-radio v-model=\"agv_display_mode_selected\" value=\"hidden\">隱藏</b-form-radio>\r\n                <b-form-radio v-model=\"agv_display_mode_selected\" value=\"show\">顯示</b-form-radio>\r\n              </b-form-group>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <b-form-input v-model=\"map_name\" disabled size=\"sm\" :state=\"map_name != undefined\"></b-form-input>\r\n          </div>\r\n        </div>\r\n        <div\r\n          v-loading=\"loading\"\r\n          ref=\"map\"\r\n          :key=\"reload_key\"\r\n          class=\"map border\"\r\n          @click=\"HideAllMenus\">\r\n          <!--任務選單-->\r\n          <div\r\n            class=\"edit-mode-menu bg-light border rounded\"\r\n            v-if=\"showTaskAllocationMenu\"\r\n            ref=\"contextMenu\"\r\n            :style=\"map_contextmenu_style\">\r\n            <div class=\"p-2 text-start\">\r\n              <span v-show=\"!is_agv_feature_selected\">Tag:</span>\r\n              <span v-show=\"is_agv_feature_selected\">AGV:</span>\r\n              <b>{{ is_agv_feature_selected ? current_select_agv_name : current_select_featureID }}</b>\r\n            </div>\r\n            <div class=\"px-1\" style=\"position:absolute;left:6px\">\r\n              <b-button\r\n                class=\"w-100 my-1\"\r\n                size=\"sm\"\r\n                variant=\"primary\"\r\n                @click=\"handleTaskAllocatModeMenuClick('move')\">移動</b-button>\r\n              <b-button\r\n                class=\"w-100 my-1\"\r\n                size=\"sm\"\r\n                variant=\"primary\"\r\n                @click=\"handleTaskAllocatModeMenuClick('load')\">放貨</b-button>\r\n              <b-button\r\n                class=\"w-100 my-1\"\r\n                size=\"sm\"\r\n                variant=\"primary\"\r\n                @click=\"handleTaskAllocatModeMenuClick('unload')\">取貨</b-button>\r\n            </div>\r\n          </div>\r\n          <!--AGV選單-->\r\n          <div\r\n            class=\"edit-mode-menu bg-light border rounded\"\r\n            v-if=\"showAGVMenu\"\r\n            ref=\"contextMenu\"\r\n            :style=\"map_contextmenu_style\">\r\n            <div class=\"p-2 text-start border-bottom\">\r\n              <span>AGV :</span>\r\n              <b>{{ current_select_agv_name }}</b>\r\n            </div>\r\n            <div class=\"px-1\" style=\"position:absolute;left:6px\">\r\n              <el-color-picker v-model=\"color\" show-alpha />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <MapPointSettingDrawer\r\n        ref=\"point-setting-drawer\"\r\n        @OnPointSettingChanged=\"PointSettingChangedHandle\"></MapPointSettingDrawer>\r\n    </div>\r\n    <b-modal\r\n      draggable\r\n      title=\"移除路徑\"\r\n      v-model=\"selectPathVisible\"\r\n      :hide-header-close=\"true\"\r\n      hide-footer\r\n      no-close-on-esc\r\n      @cancel=\"() => { selectPathVisible = false }\"\r\n      header-bg-variant=\"primary\"\r\n      header-text-variant=\"light\">\r\n      <el-table height=\"150px\" row-key=\"startPoint.Name\" :data=\"PathesSelectedForDelete\">\r\n        <el-table-column label=\"起點\" prop=\"startPoint.Name\"></el-table-column>\r\n        <el-table-column label=\"終點\" prop=\"endPoint.Name\"></el-table-column>\r\n        <el-table-column>\r\n          <template #default=\"scope\">\r\n            <b-button\r\n              variant=\"danger\"\r\n              @click=\"RemovePathByPointsIndex(scope.row.startStation_Index, scope.row.endStation_Index)\">Remove</b-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n  \r\n<script>\r\nimport 'ol/ol.css';\r\nimport ContextMenu from 'ol-contextmenu';\r\nimport { Map, View, Feature } from 'ol';\r\nimport { Layer, Vector as VectorLayer } from 'ol/layer';\r\nimport { Vector as VectorSource } from 'ol/source';\r\nimport { Point } from 'ol/geom';\r\nimport { Circle as CircleStyle, Fill, Stroke, Style, Text, RegularShape, Image, Icon } from 'ol/style';\r\nimport { Pointer, DragPan } from 'ol/interaction'\r\nimport LineString from 'ol/geom/LineString';\r\nimport MapAPI from '@/api/MapAPI'\r\nimport { GetPointTypeNameByTypeNum } from '@/api/MapAPI'\r\nimport bus from '@/event-bus'\r\nimport Notifier from '@/api/NotifyHelper';\r\nimport MapPointSettingDrawer from '@/components/MapPointSettingDrawer.vue'\r\nimport WebSocketHelp from '@/api/WebSocketHepler';\r\nimport param from '@/gpm_param'\r\nimport { MapStore } from '@/components/Map/store'\r\n\r\nexport default {\r\n  name: 'MapComponent',\r\n  components: {\r\n    MapPointSettingDrawer,\r\n  },\r\n  props: {\r\n    edit_mode: {\r\n      type: Object,\r\n      default() {\r\n        return {\r\n          enabled: false,\r\n          mode_selected: 'none'\r\n        }\r\n      }\r\n    },\r\n    task_allocatable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    show_agv: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    only_view: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    zoom: {\r\n      type: Number,\r\n      default: 6\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      reload_key: 1,\r\n      loading: false,\r\n      selected_feature: undefined,\r\n      mouse_click_coordinate: undefined,\r\n      display_selected: \"Name\",\r\n      agv_display_mode_selected: \"show\",\r\n      map: new Map(),\r\n      showTaskAllocationMenu: false,\r\n      showAGVMenu: false,\r\n      selectPathVisible: false,\r\n      PathesSelectedForDelete: [],\r\n      dynamic_traffic_data: {\r\n        AGVTrafficStates: {}\r\n      },\r\n      path_plan_tags: [],\r\n      contextMenu: {},\r\n      agv_color_set: [\r\n        'lime', 'rgb(51, 194, 255)', 'yellow', 'rgb(64, 158, 255)', 'pink', 'gold', 'red', 'grey'\r\n      ],\r\n      TooltipStyle: {\r\n        top: '0px',\r\n        left: '0px'\r\n      },\r\n      hoverPointData: undefined,\r\n      map_contextmenu_style: {\r\n        position: 'absolute',\r\n        top: '112px',\r\n        left: '400px',\r\n        visibility: 'visible',\r\n        zIndex: 200,\r\n        width: '170px',\r\n        height: '157px',\r\n        //style=\"visibility: visible; z-index: 200;\"\r\n      },\r\n      layer_index: {\r\n        station: 1,\r\n        station_line: 2,\r\n        eq_station: 3,\r\n        agv: 4,\r\n        move_path: 5,\r\n        path_plan: 6,\r\n        mesh: 7,\r\n      },\r\n      stations: [],\r\n      station_features: [],\r\n      agvList: [],\r\n      path_start_end: {\r\n        start: undefined,\r\n        end: undefined\r\n      },\r\n      PathPlanLineStyle: new Style({\r\n        stroke: new Stroke({\r\n          color: 'blue',\r\n          width: 8,\r\n          lineDash: null,\r\n        }),\r\n      }),\r\n      pointStyle: (feature) => {\r\n        const GetPointFeatureInfo = function (feature) {\r\n\r\n          var featureID = feature.getId();\r\n          if (featureID) {\r\n            //var featureID = `Point:${index}:${_tagID}:${stationType}:${Name}`;\r\n            var split = featureID.split(':')\r\n            var index = split[1];\r\n            var tag = split[2];\r\n            var stationType = split[3];\r\n            var name = split[4];\r\n            return {\r\n              index: index,\r\n              tag: tag,\r\n              station_type: stationType,\r\n              name: name\r\n            }\r\n          }\r\n        }\r\n\r\n        var pointRawData = feature.get('data');\r\n        var pointInfo = GetPointFeatureInfo(feature)\r\n        var text_display = '';\r\n        var text_color = 'gold'\r\n        if (this.display_selected == 'Name') {\r\n          text_display = pointInfo.name;\r\n          text_color = 'gold'\r\n        }\r\n        else if (this.display_selected == 'Tag') {\r\n          text_display = pointInfo.tag;\r\n          text_color = 'lime'\r\n        }\r\n        else {\r\n          text_display = pointInfo.index;\r\n          text_color = 'rgb(90, 213, 255)'\r\n        }\r\n        var eq_station_icon = new Icon({\r\n          src: '/images/eq-icon.png', // 设置PNG图像的路径\r\n          scale: 0.45,\r\n          anchor: [0.5, 0.5],\r\n          size: [64, 64],\r\n          opacity: 1,\r\n          color: 'white'\r\n        })\r\n        var rack_station_icon = new Icon({\r\n          src: '/images/rack_station.png', // 设置PNG图像的路径\r\n          scale: 0.45,\r\n          anchor: [0.5, 0.5],\r\n          size: [64, 64],\r\n          opacity: 1,\r\n          color: 'white'\r\n        })\r\n        var charge_station_icon = new Icon({\r\n          src: '/images/charging-station.png', // 设置PNG图像的路径\r\n          scale: 0.5,\r\n          anchor: [0.5, 0.5],\r\n          size: [64, 64],\r\n          opacity: 1,\r\n          color: 'white'\r\n\r\n        })\r\n        var icon_stroke = (selected) => {\r\n          return new Stroke({\r\n            color: selected ? 'red' : 'black',\r\n            width: selected ? 2 : 1,\r\n          })\r\n        };\r\n        var polygonImg = (points, rotation = 0, color = 'rgb(37, 172, 95)', selected = false) => {\r\n          return new RegularShape({\r\n            radius: 7,\r\n            fill: new Fill({\r\n              color: color,\r\n            }),\r\n            stroke: icon_stroke(selected),\r\n            angle: rotation,\r\n            points: points,\r\n          })\r\n        }\r\n\r\n        var circleImg = (color, selected = false) => {\r\n          return new CircleStyle({\r\n            radius: 6,\r\n            fill: new Fill({\r\n              color: color,\r\n            }),\r\n            stroke: icon_stroke(selected),\r\n          })\r\n        }\r\n        var EQ_Ints = [1, 11, 21, 32];\r\n        var STK_Ints = [2, 6, 12, 22];\r\n        var Charge_Ints = [3, 5, 6];\r\n        var polyPoint = 3;\r\n        var polyRotation = 0;\r\n        var color = 'rgb(243, 123, 55)'\r\n        if (EQ_Ints.includes(pointRawData.StationType)) {\r\n          polyPoint = 4;\r\n          polyRotation = Math.PI / 180.0 * 45;\r\n        }\r\n        else if (STK_Ints.includes(pointRawData.StationType)) {\r\n          polyPoint = 4;\r\n          polyRotation = Math.PI / 180.0 * 90;\r\n        }\r\n        else if (Charge_Ints.includes(pointRawData.StationType)) {\r\n          polyPoint = 3;\r\n          polyRotation = Math.PI / 180.0 * 0;\r\n        }\r\n\r\n        if (!pointRawData.Enable)\r\n          color = 'red';\r\n        else {\r\n          if (pointRawData.IsSegment | pointRawData.IsAvoid)\r\n            color = 'rgb(0, 122, 255)';\r\n          if (pointRawData.IsParking)\r\n            color = 'pink';\r\n        }\r\n        var highlight = feature.get('highlight')\r\n        var selected = feature.get('selected');\r\n        var isEQ = feature.get('data').IsEquipment;\r\n        var isCharge = feature.get('data').IsCharge;\r\n        var isSTK = feature.get('data').IsSTK;\r\n        var isRegisted = feature.get('IsRegisted');\r\n\r\n        var GetImage = () => {\r\n          if (isEQ)\r\n            return eq_station_icon;\r\n          if (isSTK)\r\n            return rack_station_icon;\r\n          if (isCharge)\r\n            return charge_station_icon;\r\n          return pointRawData.StationType == 0 ? circleImg(color, selected) : polygonImg(polyPoint, polyRotation, color, selected)\r\n        }\r\n\r\n        return new Style({\r\n          image: GetImage(),\r\n          //image: eq_station_icon,\r\n          text: new Text({\r\n            text: text_display + (isRegisted ? '(已註冊)' : ''),\r\n            offsetX: 12,\r\n            offsetY: isEQ | isCharge ? -25 : -15,\r\n            font: 'bold 14px sans-serif',\r\n            fill: new Fill({\r\n              color: pointRawData.Enable ? text_color : 'rgb(255, 106, 138)'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: highlight | selected ? 'red' : 'black',\r\n              width: highlight ? 4 : 3\r\n            })\r\n          }),\r\n        });\r\n\r\n      },\r\n      point_icon_style: (feature) => {\r\n        return new Style({\r\n\r\n        })\r\n      },\r\n      pathStyle: (feature) => {\r\n        var isEQLink = feature.get('data').IsEQLink\r\n        var isPathClose = feature.get('data').IsPathClose\r\n        const geometry = feature.getGeometry();\r\n        const styles = [\r\n          new Style({\r\n            stroke: new Stroke({\r\n              color: isPathClose ? 'red' : (isEQLink ? 'rgb(115, 115, 115)' : 'rgb(176, 176, 178)'),\r\n              width: 2.7,\r\n              lineDash: isEQLink ? [4, 11] : null // 虛線模式（設定虛線段的長度和間隔）\r\n            }),\r\n          }),\r\n        ];\r\n\r\n        geometry.forEachSegment(function (start, end) {\r\n          const dx = end[0] - start[0];\r\n          const dy = end[1] - start[1];\r\n          const rotation = Math.atan2(dy, dx);\r\n\r\n          // arrows\r\n          styles.push(\r\n            new Style({\r\n              geometry: new Point(end),\r\n              image: new Icon({\r\n                src: 'arrow.png',\r\n                anchor: [1.2, 0.5],\r\n                rotateWithView: true,\r\n                rotation: -rotation,\r\n                scale: 0.18,\r\n                color: isPathClose ? 'red' : 'white'\r\n              }),\r\n            })\r\n          );\r\n          if (isPathClose) {\r\n            start = [(end[0] + start[0]) / 2, (end[1] + start[1]) / 2]\r\n            const dx = end[0] - start[0];\r\n            const dy = end[1] - start[1];\r\n            const rotation = Math.atan2(dy, dx);\r\n            // arrows\r\n            styles.push(\r\n              new Style({\r\n                geometry: new Point(start),\r\n                image: new Icon({\r\n                  src: 'close.png',\r\n                  anchor: [1.2, 0.5],\r\n                  rotateWithView: true,\r\n                  rotation: -rotation,\r\n                  scale: 0.5,\r\n                }),\r\n              })\r\n            );\r\n          }\r\n        });\r\n        return styles;\r\n      },\r\n      UnloadIconStyle: (feature) => {\r\n\r\n        if (!this.task_allocatable)\r\n          return;\r\n\r\n        var data = feature.get('data');\r\n        if (data.StationType != 1) {\r\n          return;\r\n        }\r\n\r\n        if (!feature.get('unload'))\r\n          return;\r\n        var unload_icon = new Icon({\r\n          src: '/unloading.png', // 设置PNG图像的路径\r\n          scale: 1, // 设置PNG图像的缩放比例\r\n          anchor: [0, 1.3], // 设置PNG图像的锚点，即图片的中心点位置\r\n          size: [44, 44],// 设置PNG图像的大小\r\n          opacity: 1,\r\n          offset: [0, 1]  // 向上移動10像素\r\n\r\n        })\r\n\r\n        return new Style({\r\n          image: unload_icon,\r\n\r\n        })\r\n      },\r\n      path_store: {\r\n\r\n      },\r\n      IsSelectAGVMode: false,\r\n      IsSelectEQStationMode: false\r\n    }\r\n  },\r\n  async mounted() {\r\n    this.loading = true;\r\n    if (!this.show_agv) {\r\n      this.agv_display_mode_selected = 'hidden'\r\n\r\n    }\r\n    setTimeout(() => {\r\n      this.FetchMap();\r\n      bus.on('unload_eq_tags', (unload_tags) => {\r\n        this.SetFeatureHasUnloadReq(unload_tags)\r\n      })\r\n      this.TrafficStateWsInit();\r\n    }, 300);\r\n\r\n  },\r\n  computed: {\r\n\r\n    map_data() {\r\n      return MapStore.getters.MapData;\r\n    },\r\n    map_name() {\r\n      return MapStore.getters.MapName;\r\n    },\r\n    Mode_Text() {\r\n      if (!this.edit_mode.enabled)\r\n        return \"檢視模式\"\r\n      if (this.edit_mode.mode_selected == 'edit_point')\r\n        return \"編輯點位模式\"\r\n      if (this.edit_mode.mode_selected == 'add_point')\r\n        return \"新增點位模式\"\r\n      if (this.edit_mode.mode_selected == 'remove_point')\r\n        return \"移除點位模式\"\r\n      if (this.edit_mode.mode_selected == 'add_path')\r\n        return \"新增路徑模式\"\r\n      if (this.edit_mode.mode_selected == 'remove_path')\r\n        return \"移除路徑模式\"\r\n    },\r\n    Tips() {\r\n      if (!this.edit_mode.enabled)\r\n        return []\r\n      if (this.edit_mode.mode_selected == 'edit_point')\r\n        return [\"使用滑鼠【左鍵】拖曳點位。\", \"滑鼠【右鍵】點擊點位顯示編輯頁面。\"]\r\n      if (this.edit_mode.mode_selected == 'add_point')\r\n        return [\"使用滑鼠【右鍵】點擊地圖新增點位。\"]\r\n      if (this.edit_mode.mode_selected == 'remove_point')\r\n        return [\"使用滑鼠【左鍵】點擊欲移除的點位。\"]\r\n      if (this.edit_mode.mode_selected == 'add_path')\r\n        return [\"使用滑鼠【左鍵】點擊路徑起點點位以及終點點位。\"]\r\n      if (this.edit_mode.mode_selected == 'remove_path')\r\n        return [\"使用滑鼠【左鍵】點擊欲移除的路徑。\"]\r\n    },\r\n    current_select_featureID() {\r\n      if (this.selected_feature) {\r\n        return this.selected_feature.getId();\r\n      } else\r\n        return \"\";\r\n    },\r\n    current_select_agv_name() {\r\n      return (this.current_select_featureID + '').replace(\"AGV_\", \"\");\r\n    },\r\n\r\n    is_agv_feature_selected() {\r\n      if (!this.selected_feature)\r\n        return false;\r\n      var feature_id = this.selected_feature.getId();\r\n      return (feature_id + '').includes('AGV')\r\n    },\r\n    Station_Layer() {\r\n      return this.map.getLayers().item(this.layer_index.station);\r\n    },\r\n    Line_Layer() {\r\n      return this.map.getLayers().item(this.layer_index.station_line);\r\n    },\r\n    AGV_Layer() {\r\n      return this.map.getLayers().item(this.layer_index.agv);\r\n    },\r\n    Nav_Path_Layer() {\r\n      return this.map.getLayers().item(this.layer_index.move_path);\r\n    },\r\n    PathPlan_Layer() {\r\n      return this.map.getLayers().item(this.layer_index.path_plan);\r\n    },\r\n    Mesh_Layer() {\r\n      return this.map.getLayers().item(this.layer_index.mesh);\r\n    },\r\n  },\r\n  methods: {\r\n    GetPointTypeNameByTypeNum(tnum) {\r\n      return GetPointTypeNameByTypeNum(tnum)\r\n    },\r\n    UpdatePathPlanRender(tags = []) {\r\n\r\n      this.path_plan_tags = tags;\r\n      let source = this.PathPlan_Layer.getSource();\r\n      source.clear();\r\n\r\n      if (tags.length == 0) {\r\n        return;\r\n      }\r\n      var features = this.CreateLineFeaturesOfPath(tags);\r\n      source.addFeatures(features);\r\n      source.changed();\r\n    },\r\n    CreateLineFeaturesOfEachStaion() {\r\n      var lineFeatures = [];\r\n\r\n      this.map_data.Pathes.forEach(path => {\r\n        //tag\r\n        var start_tag = path.StartPoint.TagNumber;\r\n        var end_tag = path.EndPoint.TagNumber;\r\n\r\n        var startStation = this.stations.find(st => st.tag == start_tag);\r\n        var endStation = this.stations.find(st => st.tag == end_tag);\r\n        var startFeature = startStation.feature;\r\n        var endFeature = endStation.feature;\r\n\r\n        let lineFeature = new Feature(\r\n          {\r\n            geometry: new LineString([startFeature.getGeometry().getCoordinates(), endFeature.getGeometry().getCoordinates()]),\r\n          },\r\n        );\r\n\r\n        lineFeature.setId(`path:${startStation.index}:${endStation.index}`);\r\n        lineFeature.set('data', path)\r\n        lineFeatures.push(lineFeature);\r\n      })\r\n\r\n      // Object.keys(this.map_data.Points).forEach(index_str => {\r\n      //   var index = parseInt(index_str)\r\n      //   var current_station = this.stations.find(st => st.index == index);\r\n      //   var targets = this.map_data.Points[index_str].Target;\r\n      //   Object.keys(targets).forEach(index_str => {\r\n      //     var _index = parseInt(index_str)\r\n\r\n      //     var station_link = this.stations.find(st => st.index == _index);\r\n      //     if (station_link != undefined) {\r\n      //       let lineFeature = new Feature(\r\n      //         {\r\n      //           geometry: new LineString([current_station.feature.getGeometry().getCoordinates(), station_link.feature.getGeometry().getCoordinates()]),\r\n      //         },\r\n      //       );\r\n\r\n      //       lineFeature.setId(`path:${index}:${_index}`);\r\n      //       lineFeatures.push(lineFeature);\r\n      //     }\r\n      //   })\r\n\r\n      // })\r\n\r\n      return lineFeatures;\r\n    },\r\n    CreateLineFeaturesOfPath(tags = [], color) {\r\n      // 创建一条线要素，连接两个点要素\r\n      var lineFeatures = [];\r\n\r\n      for (let index = 0; index < tags.length; index++) {\r\n        const tag = tags[index];\r\n        const next_tag = tags[index + 1];\r\n        //找出feature\r\n        if (next_tag != undefined) {\r\n\r\n          var current_station = this.stations.find(st => st.tag == tag);\r\n          var next_station = this.stations.find(st => st.tag == next_tag);\r\n          let lineFeature = new Feature({\r\n            geometry: new LineString(\r\n              [current_station.feature.getGeometry().getCoordinates(), next_station.feature.getGeometry().getCoordinates()],\r\n            ),\r\n          });\r\n          lineFeature.setStyle(new Style(\r\n            {\r\n              stroke: new Stroke({\r\n                color: color,\r\n                width: 6\r\n              }),\r\n            }\r\n          ));\r\n          lineFeatures.push(lineFeature);\r\n\r\n        }\r\n      }\r\n      return lineFeatures;\r\n    },\r\n    AGVDisplayControl(display) {\r\n      this.AGV_Layer.setVisible(display);\r\n      this.Nav_Path_Layer.setVisible(display);\r\n    },\r\n\r\n    UpdatePointDisplay() {\r\n      this.Station_Layer.getSource().changed();\r\n    },\r\n    PointSettingChangedHandle(dto) {\r\n      var index = dto.index;\r\n      var pointData = dto.pointData;\r\n\r\n      this.map_data.Points[index] = pointData;\r\n      var feature = this.stations.filter(pt => pt.index == index)[0].feature;\r\n      this.SetPointFeatureIDByPointData(feature, index, pointData);\r\n      this.stations.filter(pt => pt.index == index)[0].feature = feature;\r\n      //this.UpdatePointDisplay();\r\n\r\n    },\r\n    /**使用站點資料設定Point Feature ID */\r\n    SetPointFeatureIDByPointData(feature, pt_index, pointData) {\r\n      var featureID = `Point:${pt_index}:${pointData.TagNumber}:${pointData.StationType}:${pointData.Name}`;\r\n      feature.setId(featureID);\r\n      feature.set('data', pointData)\r\n    },\r\n    Highlight(layer = 'normal|eq|charge|park') {\r\n      this.AllUnHighlight()\r\n      var features = []\r\n      if (layer == 'normal') {\r\n        features = this.GetAllNormalPtFeature();\r\n      }\r\n      if (layer == 'eq') {\r\n        features = this.GetAllEQPtFeature()\r\n      }\r\n      if (layer == 'charge') {\r\n        features = this.GetAllChargePtFeature()\r\n      }\r\n      if (layer == 'park') {\r\n        features = this.GetAllParkPtFeature()\r\n      }\r\n      this.HighlightControl(features, true)\r\n    },\r\n    AllUnHighlight() {\r\n      this.HighlightControl(this.station_features, false);\r\n    },\r\n    HighlightControl(features = [], IsHighlight) {\r\n      features.forEach(feature => {\r\n        feature.set('highlight', IsHighlight)\r\n      })\r\n    },\r\n\r\n    TrafficStateWsInit() {\r\n\r\n      const worker = new Worker('websocket_worker.js')\r\n      worker.onmessage = (event) => {\r\n        this.dynamic_traffic_data = event.data;\r\n        setTimeout(() => {\r\n          var GetAGVStatusString = (status_code) => {\r\n            if (status_code == 1)\r\n              return \"IDLE\"\r\n            else if (status_code == 2)\r\n              return \"RUN\"\r\n            else if (status_code == 3)\r\n              return \"DOWN\"\r\n            else if (status_code == 4)\r\n              return \"充電\"\r\n            else\r\n              return \"Unknown\"\r\n          }\r\n          this.UpdateRegistedPropery(this.dynamic_traffic_data.RegistedPoints);\r\n          var agv_data = []\r\n          Object.keys(this.dynamic_traffic_data.AGVTrafficStates).forEach(agvname => {\r\n            var agvTrafficInfo = this.dynamic_traffic_data.AGVTrafficStates[agvname];\r\n            var agv_currentTag = agvTrafficInfo.CurrentPosition == null ? 0 : agvTrafficInfo.CurrentPosition.TagNumber;\r\n            agv_data.push({\r\n              AGV_Name: agvTrafficInfo.AGVName,\r\n              Current_Tag: agv_currentTag,\r\n              State: GetAGVStatusString(agvTrafficInfo.AGVStatus),\r\n              IsOnline: agvTrafficInfo.IsOnline\r\n            })\r\n          });\r\n\r\n          if (!this.show_agv)\r\n            return;\r\n\r\n          this.UpdateAGVLayer(agv_data);\r\n\r\n          Object.keys(this.dynamic_traffic_data.AGVTrafficStates).forEach(agvname => {\r\n            var agvTrafficInfo = this.dynamic_traffic_data.AGVTrafficStates[agvname];\r\n            var tags = agvTrafficInfo.RemainNavTrajectory.map(pt => pt.TagNumber)\r\n            var agv_currentTag = agvTrafficInfo.CurrentPosition == null ? 0 : agvTrafficInfo.CurrentPosition.TagNumber;\r\n            this.UpdateNavPathRender(agvname, agv_currentTag, tags)\r\n          });\r\n        }, 100);\r\n\r\n      }\r\n      worker.postMessage({ command: 'connect', ws_url: param.vms_ws_host + '/ws/DynamicTrafficData' });\r\n\r\n    },\r\n    UpdateRegistedPropery(registed_point) {\r\n\r\n      var registedTags = Object.keys(registed_point);\r\n      this.station_features.forEach(ft => {\r\n        var tagNumber = ft.get('data').TagNumber;\r\n        var isRegisted = registedTags.includes(tagNumber)\r\n        ft.set('IsRegisted', isRegisted)\r\n      })\r\n    },\r\n    MapMouseMoveHandler(ev) {\r\n      this.TooltipStyle.left = `${ev.x}px`\r\n      this.TooltipStyle.top = `${ev.y - 110}px`\r\n    },\r\n    Reload() {\r\n      //TODO RELOAD MAP\r\n      this.FetchMap();\r\n    },\r\n    FetchMap() {\r\n\r\n      setTimeout(() => {\r\n        if (this.map_data) {\r\n          this.loading = false;\r\n          this.MapDataInit();\r\n          this.MapInitializeRender();\r\n          Notifier.Success('Success Fetch Map Data From Server.', 'bottom', 2000);\r\n\r\n        } else {\r\n          Notifier.Warning('嘗試下載圖資...', 'bottom', 3000);\r\n          this.FetchMap();\r\n        }\r\n      }, 1000);\r\n\r\n      // MapAPI.GetMapFromLocal().then((map) => {\r\n      //   this.loading = false;\r\n      //   if (map == undefined) {\r\n      //     Notifier.Danger('圖資取得失敗(後端伺服器異常)', 'bottom', 3000);\r\n      //   }\r\n      //   else if (map.Points == undefined) {\r\n      //     Notifier.Danger('圖資取得失敗(AGVS伺服器異常)', 'bottom', 3000);\r\n      //   }\r\n      //   else {\r\n      //     Notifier.Success('Success Fetch Map Data From Server.', 'bottom', 2000);\r\n\r\n      //     this.MapDataInit(map);\r\n      //     this.MapInitializeRender();\r\n\r\n      //   }\r\n\r\n      // });\r\n    },\r\n    get_agv_position(name) {\r\n      var agv = this.agvList.find(agv => agv.name == name);\r\n      return this.get_agv_position_byTag(agv.current_tag)\r\n    },\r\n    get_agv_position_byTag(current_tag) {\r\n      var feature_ = this.station_features.find(sf => sf.get('data').TagNumber == current_tag)\r\n      if (feature_ == undefined)\r\n        return [0, 0];\r\n      else {\r\n        return feature_.getGeometry().getCoordinates();\r\n      }\r\n    },\r\n    GetNormalStations() {\r\n      if (!this.map_data)\r\n        return [];\r\n      var stations = Object.values(this.map_data.Points);\r\n      return stations.filter(st => st.StationType == 0);\r\n    },\r\n    GetLDULDableStations() {\r\n      if (!this.map_data)\r\n        return [];\r\n\r\n      const lduldable_types = [1, 2, 6, 11, 12, 21, 22];\r\n\r\n      var stations = Object.values(this.map_data.Points);\r\n      return stations.filter(st => lduldable_types.includes(st.StationType));\r\n    },\r\n    GetChargeStations() {\r\n      if (!this.map_data)\r\n        return [];\r\n      const chargable_types = [3, 5, 6];\r\n      var stations = Object.values(this.map_data.Points);\r\n      return stations.filter(st => chargable_types.includes(st.StationType));\r\n    },\r\n    GetParkStations() {\r\n      if (!this.map_data)\r\n        return [];\r\n      var stations = Object.values(this.map_data.Points);\r\n      return stations.filter(st => st.IsParking);\r\n    },\r\n    MapDataInit() {\r\n      this.map_name = this.map_data.Name;\r\n      this.stations = [];\r\n      Object.keys(this.map_data.Points).forEach(index => {\r\n        var pt_data = this.map_data.Points[index];\r\n        var Graph = pt_data.Graph\r\n        var _tagID = pt_data.TagNumber;\r\n        var _stationType = pt_data.StationType;\r\n        var _feature = new Feature({\r\n          geometry: new Point([Graph.X * 1000, Graph.Y * -1000]),\r\n          name: index,\r\n        });\r\n\r\n        this.SetPointFeatureIDByPointData(_feature, index, pt_data);\r\n        _feature.set('StationType', _stationType)\r\n        _feature.set('Tag', _tagID)\r\n        this.AddStation(\r\n          {\r\n            index: index,\r\n            tag: _tagID,\r\n            feature: _feature,\r\n          }\r\n\r\n        );\r\n\r\n      })\r\n    },\r\n    AddStation(data) {\r\n      data.feature.set('highlight', false)\r\n      this.stations.push(data);\r\n      this.station_features.push(data.feature)\r\n    },\r\n    GetAllNormalPtFeature() {\r\n      return this.station_features.filter(ft => ft.get('StationType') == 0);\r\n    },\r\n\r\n    GetAllParkPtFeature() {\r\n      return this.station_features.filter(ft => ft.get('data').IsParking);\r\n    },\r\n    GetAllEQPtFeature() {\r\n      return this.station_features.filter(ft => ft.get('data').IsEQLink);\r\n    },\r\n    GetAllChargePtFeature() {\r\n      return this.station_features.filter(ft => ft.get('data').IsCharge);\r\n    },\r\n    MapInitializeRender() {\r\n      const lineFeatures = this.CreateLineFeaturesOfEachStaion();\r\n      this.map = new Map({\r\n        target: this.$refs.map,\r\n        layers: [\r\n          // add a vector layer with no source\r\n          new VectorLayer({//0\r\n            source: new VectorSource(),\r\n            name: '1'\r\n          }),\r\n          new VectorLayer({//1\r\n            source: new VectorSource({\r\n              features: this.station_features\r\n            }),\r\n            style: this.pointStyle,\r\n            zIndex: 2,\r\n          }),\r\n          new VectorLayer({//3\r\n            source: new VectorSource({\r\n              features: lineFeatures\r\n            }),\r\n            style: this.pathStyle,\r\n            zIndex: 1\r\n          }),\r\n          new VectorLayer({//2\r\n            source: new VectorSource(),\r\n          }),\r\n\r\n          new VectorLayer({//4\r\n            source: new VectorSource({\r\n              features: [],\r\n            }\r\n            ),\r\n            zIndex: 11111\r\n          }),\r\n          new VectorLayer({//5:導航任務路徑顯示\r\n            source: new VectorSource({\r\n              features: []\r\n            }),\r\n            zIndex: 122\r\n          }),\r\n          new VectorLayer({//路徑規劃測試顯示\r\n            source: new VectorSource({\r\n              features: []\r\n            }),\r\n            style: this.PathPlanLineStyle\r\n          }),\r\n          new VectorLayer({ //Unload Icon 圖層\r\n            source: new VectorSource({\r\n              features: this.station_features\r\n            }),\r\n            style: this.UnloadIconStyle,\r\n            zIndex: 122\r\n          }),\r\n          new VectorLayer({ //固定的圖標圖層\r\n            source: new VectorSource({\r\n              features: [\r\n                new Feature({\r\n                  geometry: new Point([0, 0]),\r\n                  name: \"原點\",\r\n                  id: \"原點\"\r\n                })\r\n              ]\r\n            }),\r\n            style: (feature) => new Style({\r\n              text: new Text({\r\n                text: feature.getId(),\r\n                offsetX: 12,\r\n                offsetY: -15,\r\n                font: 'bold 14px sans-serif',\r\n                fill: new Fill({\r\n                  color: 'black'\r\n                }),\r\n                stroke: new Stroke({\r\n                  color: 'black',\r\n                  width: 3\r\n                })\r\n              }),\r\n            }),\r\n            zIndex: 122\r\n          }),\r\n        ],\r\n        view: new View({\r\n          center: [0, 0],\r\n          zoom: this.zoom,\r\n        }),\r\n      });\r\n\r\n      if (!this.show_agv) {\r\n        this.AGVDisplayControl(false);\r\n      }\r\n      this.CreateMapEvent()\r\n      this.CreateMeshLayer();\r\n      this.$emit('loaded', '')\r\n    },\r\n    CreateMapEvent() {\r\n\r\n      var that = this;\r\n      var isEditMode = () => { return that.edit_mode.enabled };\r\n      var isEditPointMode = () => { return that.edit_mode.mode_selected == 'edit_point' };\r\n      var isRemovePointMode = () => { return that.edit_mode.mode_selected == 'remove_point' };\r\n      var isAddPointMode = () => { return that.edit_mode.mode_selected == 'add_point' };\r\n      var isRemovePathMode = () => { return that.edit_mode.mode_selected == 'remove_path' };\r\n      var isAddPathMode = () => { return that.edit_mode.mode_selected == 'add_path' };\r\n\r\n      var dragControl = (active) => {\r\n        var interactions = that.map.getInteractions();\r\n        interactions.forEach(function (interaction) {\r\n          if (interaction instanceof DragPan) {\r\n            interaction.setActive(active);\r\n          }\r\n        });\r\n      }\r\n\r\n      this.map.on('pointerup', event => {\r\n        if (!that.selected_feature)\r\n          return\r\n\r\n        this.hoverPointData = undefined;\r\n        if (isEditMode() && isAddPointMode() && event.originalEvent.button === 2) {\r\n          document.addEventListener('contextmenu', function (event) {\r\n            event.preventDefault();\r\n          });\r\n\r\n          that.AddNewPoint();\r\n        }\r\n        that.$emit('onStationClick', that.selected_feature.get('data'))\r\n      })\r\n\r\n      // this.map.on('pointermove', (event) => {\r\n      //   var feature = this.map.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\r\n      //     return feature;\r\n      //   });\r\n      //   if (feature && feature.get('data')) {\r\n      //     var data = feature.get('data');\r\n      //     this.hoverPointData = data;\r\n      //   } else {\r\n      //     this.hoverPointData = undefined;\r\n      //   }\r\n      // })\r\n\r\n\r\n      this.map.on('pointerdown', (event) => {\r\n\r\n        that.mouse_click_coordinate = event.coordinate\r\n        if (this.selected_feature) {\r\n          this.selected_feature.set('selected', false);\r\n        }\r\n        this.selected_feature = this.map.forEachFeatureAtPixel(event.pixel, (feature) => {\r\n\r\n          if (feature) {\r\n            that.selected_feature = feature;\r\n            that.selected_feature.set('selected', true);\r\n            if (!isEditMode())\r\n              return undefined;\r\n\r\n            var feature_id = feature.getId();\r\n            var isPathFeature = (feature_id + '').includes('path:')\r\n            if (event.originalEvent.button === 2) { // 右键\r\n              document.addEventListener('contextmenu', function (event) {\r\n                event.preventDefault();\r\n              });\r\n\r\n              if (isEditPointMode()) {\r\n                that.ShowPointSettingDrawer();\r\n              }\r\n            }\r\n            else if (event.originalEvent.button === 0) {//左键\r\n              if (isRemovePathMode()) {\r\n                if (!isPathFeature)\r\n                  return;\r\n                that.RemovePath();\r\n              }\r\n              else if (isRemovePointMode()) {\r\n                if (isPathFeature)\r\n                  return;\r\n                that.RemovePoint();\r\n              }\r\n              else if (isAddPathMode()) {\r\n                if (isPathFeature)\r\n                  return;\r\n                if (that.path_start_end.start == undefined) {\r\n                  that.path_start_end.start = feature\r\n                } else {\r\n                  that.path_start_end.end = feature\r\n                  that.UpdatePathOfBetweenTags();\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          return feature;\r\n        });\r\n\r\n\r\n      });\r\n      // 创建一个拖动交互操作\r\n      var dragInteraction = new Pointer({\r\n        handleDownEvent: function (event) {\r\n          var map = event.map;\r\n          var feature = map.forEachFeatureAtPixel(event.pixel, function (feature) {\r\n            return feature;\r\n          });\r\n          if (!feature)\r\n            return false;\r\n          that.selected_feature = feature;\r\n          var feature_id = feature.getId();\r\n          if (feature_id) {\r\n            this.feature_ = feature;\r\n            this.coordinate_ = event.coordinate;\r\n            return true;\r\n          }\r\n          return false;\r\n        },\r\n        handleDragEvent: function (event) {\r\n          if (isEditMode() && isAddPointMode() && event.originalEvent.button === 0)\r\n            return;\r\n\r\n          if (!isEditMode())\r\n            return;\r\n          if (!isEditPointMode() && !isAddPointMode()) {\r\n            return;\r\n          }\r\n          var deltaX = event.coordinate[0] - this.coordinate_[0];\r\n          var deltaY = event.coordinate[1] - this.coordinate_[1];\r\n          var geometry = this.feature_.getGeometry();\r\n          geometry.translate(deltaX, deltaY);\r\n          this.coordinate_ = event.coordinate;\r\n\r\n          that.UpdateStationPathLayer();\r\n\r\n          //更新本地圖資\r\n          var featureID = that.selected_feature.getId();\r\n          var index = parseInt(featureID.split(':')[1])\r\n\r\n          var coordinates = that.selected_feature.getGeometry().getCoordinates();\r\n          that.map_data.Points[index].Graph.X = Math.round(coordinates[0] / 1000.0, 0);\r\n          that.map_data.Points[index].Graph.Y = Math.round(coordinates[1] / -1000.0, 0);\r\n          that.UpdatePathPlanRender(that.path_plan_tags);\r\n\r\n        },\r\n        handleUpEvent: function () {\r\n          this.feature_ = null;\r\n          this.coordinate_ = null;\r\n          return false;\r\n        },\r\n        handleMoveEvent: function (event) {\r\n\r\n          var map = event.map;\r\n          var feature = map.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\r\n            return feature;\r\n          });\r\n          if (feature) {\r\n            map.getTargetElement().style.cursor = 'pointer';\r\n          } else {\r\n            map.getTargetElement().style.cursor = '';\r\n          }\r\n        }\r\n      });\r\n\r\n      // 将拖动交互操作添加到地图中\r\n      this.map.addInteraction(dragInteraction);\r\n\r\n    },\r\n    /**更新地圖路徑圖層 */\r\n    UpdateStationPathLayer() {\r\n      var New_lineFeatures = this.CreateLineFeaturesOfEachStaion();\r\n      var source = this.Line_Layer.getSource();\r\n      source.clear(); // 清空原有的要素\r\n      source.addFeatures(New_lineFeatures); // 添加新的要素\r\n      source.changed();\r\n    },\r\n    UpdatePathOfBetweenTags() {\r\n      var start_ = this.GetPointDataByFeature(this.path_start_end.start)\r\n      var end_ = this.GetPointDataByFeature(this.path_start_end.end)\r\n      if (!start_ | !end_) {\r\n        this.path_start_end = { start: undefined, end: undefined }\r\n        return;\r\n      }\r\n      if (start_.index != end_.index) {\r\n        var startPoint = this.map_data.Points[start_.index];\r\n        var endPoint = this.map_data.Points[end_.index];\r\n        if (startPoint.Target[end_.index] == undefined) {\r\n          startPoint.Target[end_.index] = 1\r\n          this.map_data.Pathes.push({ StartPoint: startPoint, EndPoint: endPoint });\r\n        }\r\n        this.UpdateStationPathLayer();\r\n      }\r\n      this.path_start_end = { start: undefined, end: undefined }\r\n    },\r\n    CreateMeshLayer() {\r\n      var mesh_vectorSource = new VectorSource();\r\n      var mesh_vectorLayer = new VectorLayer({\r\n        source: mesh_vectorSource,\r\n        zIndex: -1\r\n      });\r\n\r\n      var gridStyle = new Style({\r\n        stroke: new Stroke({\r\n          color: 'rgba(0, 0, 0, 0.1)',\r\n          width: 1,\r\n        })\r\n      });\r\n      var extent = this.map.getView().getProjection().getExtent(); // 获取地图范围\r\n      var gridInterval = 80000; // 设置网格间距为10000米\r\n      for (var x = extent[0]; x < extent[2]; x += gridInterval) {\r\n        var gridLine = new LineString([[x, extent[1]], [x, extent[3]]]); // 创建垂直网格线\r\n        var gridFeature = new Feature({\r\n          geometry: gridLine\r\n        });\r\n        gridFeature.setStyle(gridStyle);\r\n        mesh_vectorSource.addFeature(gridFeature);\r\n      }\r\n      for (var y = extent[1]; y < extent[3]; y += gridInterval) {\r\n        var gridLine = new LineString([[extent[0], y], [extent[2], y]]); // 创建水平网格线\r\n        var gridFeature = new Feature({\r\n          geometry: gridLine\r\n        });\r\n        gridFeature.setStyle(gridStyle);\r\n        mesh_vectorSource.addFeature(gridFeature);\r\n      }\r\n      this.map.addLayer(mesh_vectorLayer);\r\n    },\r\n    UpdateAGVLayer(agv_data) {\r\n      if (!this.AGV_Layer)\r\n        return;\r\n      var output = this.CreateAGVFeatures(agv_data);\r\n      var agv_layer_source = this.AGV_Layer.getSource()\r\n      agv_layer_source.clear();\r\n      agv_layer_source.addFeatures(output.agv_features);\r\n      agv_layer_source.changed();\r\n\r\n      var agv_nav_path_layer_source = this.Nav_Path_Layer.getSource()\r\n      agv_nav_path_layer_source.clear();\r\n      agv_nav_path_layer_source.addFeatures(output.agv_nav_path_features);\r\n      agv_nav_path_layer_source.changed();\r\n\r\n\r\n    },\r\n    GetAgvProp(agv_name) {\r\n      return this.agvList.find(av => av.name == agv_name);\r\n    },\r\n    HightlightAGV(agv_name) {\r\n      this.agvList.forEach(prop => {\r\n        prop.heighlight = false\r\n        prop.isOnline = false\r\n      })\r\n      var agvProp = this.GetAgvProp(agv_name);\r\n      if (agvProp) {\r\n        this.GetAgvProp(agv_name).heighlight = true;\r\n      }\r\n    },\r\n    CreateAGVFeatures(agv_data = []) {\r\n\r\n      var agv_features = [];\r\n      var agv_nav_path_features = [];\r\n      var idx = 0;\r\n      agv_data.forEach(info => {\r\n        var agv_name = info.AGV_Name;\r\n        var agv_current_tag = info.Current_Tag\r\n        var agv_state = info.State\r\n        var isOnline = info.IsOnline\r\n\r\n        var agv_prop_exist = this.GetAgvProp(agv_name);\r\n        if (agv_prop_exist) {\r\n          agv_prop_exist.current_tag = agv_current_tag;\r\n          agv_prop_exist.theta = info.Rotation;\r\n          agv_prop_exist.state = agv_state;\r\n        } else {\r\n          agv_prop_exist = {\r\n            name: agv_name,\r\n            current_tag: agv_current_tag,\r\n            previous_tag: -1,\r\n            color: this.agv_color_set[idx],\r\n            theta: info.Rotation,\r\n            state: agv_state,\r\n            heighlight: false\r\n          }\r\n          this.agvList.push(agv_prop_exist)\r\n        }\r\n        var agv_position = this.get_agv_position(agv_name);\r\n        var agv_feature = new Feature({\r\n          geometry: new Point(agv_position),\r\n          name: agv_name,\r\n        })\r\n        agv_feature.setId('AGV_' + agv_name);\r\n        agv_features.push(agv_feature);\r\n\r\n        var agvIcon = new Icon({\r\n          src: '/agv.png', // 设置PNG图像的路径\r\n          scale: .8, // 设置PNG图像的缩放比例\r\n          anchor: [0.5, 0.5], // 设置PNG图像的锚点，即图片的中心点位置\r\n          size: [60, 60],// 设置PNG图像的大小\r\n          opacity: 1,\r\n\r\n        })\r\n\r\n        agv_feature.setStyle(new Style({\r\n          image: agvIcon,\r\n          text: new Text({\r\n            text: agv_name,\r\n            offsetX: 0,\r\n            offsetY: 20,\r\n            font: 'bold 14px Arial',\r\n            fill: new Fill({\r\n              color: isOnline ? agv_prop_exist.color : 'rgb(192, 192, 192)'\r\n            }),\r\n            stroke: new Stroke({\r\n              color: 'black',\r\n              width: 3\r\n            })\r\n          }),\r\n        }));\r\n        //agv_feature.getStyle().getImage().setRotation(-agv_prop_exist.theta);//設定旋轉角度\r\n\r\n        var nav_path_feature = new Feature({\r\n          geometry: new Point(agv_position),\r\n          name: agv_name\r\n        })\r\n        agv_nav_path_features.push(nav_path_feature);\r\n        idx += 1;\r\n      });\r\n      return { agv_features: agv_features, agv_nav_path_features: agv_nav_path_features }\r\n    },\r\n    /**顯示站點設定抽屜 */\r\n    ShowPointSettingDrawer() {\r\n      var pointData = this.GetPointDataByFeature(this.selected_feature);\r\n      if (pointData) {\r\n        this.$refs['point-setting-drawer'].Show(pointData);\r\n      }\r\n    },\r\n    /**移除站點 */\r\n    RemovePoint() {\r\n      var pointData = this.GetPointDataByFeature(this.selected_feature);\r\n      delete this.map_data.Points[pointData.index];\r\n      var _index = this.stations.findIndex(p => p.index == pointData.index);\r\n      this.stations.splice(_index, 1)\r\n      this.Station_Layer.getSource().removeFeature(this.selected_feature)\r\n      this.Station_Layer.getSource().changed();\r\n      this.UpdateStationPathLayer();\r\n    },\r\n    /**設定Feature屬性Unload */\r\n    SetFeatureHasUnloadReq(unload_tags) {\r\n      //console.info(unload_eqs)\r\n      this.station_features.forEach(feat => {\r\n        var data = feat.get('data')\r\n        var isUnload = unload_tags.includes(data.TagNumber)\r\n        feat.set('unload', isUnload)\r\n      })\r\n\r\n    },\r\n    async AddNewPoint() {\r\n\r\n      var pt_index = this.GetNewPointIndex();\r\n      var source = this.Station_Layer.getSource()\r\n      var _feature = new Feature({\r\n        geometry: new Point(this.mouse_click_coordinate),\r\n        name: pt_index,\r\n      });\r\n\r\n      //新增資料\r\n      var new_point = await this.CloneAPointData();\r\n      new_point.Graph = {\r\n        X: parseInt(this.mouse_click_coordinate[0] / (1000.0)),\r\n        Y: parseInt(this.mouse_click_coordinate[1] / (-1000.0)),\r\n        Display: pt_index + ''\r\n      }\r\n      new_point.TagNumber = (pt_index);\r\n      new_point.Target = {}\r\n      new_point.Name = pt_index + ''\r\n      this.map_data.Points[pt_index] = new_point;\r\n      this.SetPointFeatureIDByPointData(_feature, pt_index, new_point);\r\n      this.AddStation(\r\n        {\r\n          index: pt_index,\r\n          tag: pt_index,\r\n          feature: _feature\r\n        }\r\n      );\r\n      source.addFeature(_feature);\r\n      this.UpdateStationPathLayer();\r\n    },\r\n\r\n    handleAGVMenuItemClick(action) {\r\n      this.showAGVMenu = false;\r\n      if (action === 'add_point') {\r\n      }\r\n    },\r\n    handleTaskAllocatModeMenuClick(action) {\r\n      this.showTaskAllocationMenu = false;\r\n    },\r\n    ChangeFillColorOfFeature(feature, color) {\r\n      var fillStyle = new Fill({\r\n        color: color // 设置填充颜色，例如绿色半透明\r\n      });\r\n      var style = new Style({\r\n        fill: fillStyle // 设置要素的填充样式\r\n      });\r\n      feature.setStyle(style)\r\n      this.GetLayerOfFeature(feature).getSource().refresh();\r\n    },\r\n\r\n    RemovePath(check_way = true) {\r\n\r\n      var pathID = this.selected_feature.getId();\r\n      var splited = pathID.split(':')\r\n      var startStation_Index = parseInt(splited[1])\r\n      var endStation_Index = parseInt(splited[2])\r\n      var startPoint = this.map_data.Points[startStation_Index];\r\n      var endPoint = this.map_data.Points[endStation_Index];\r\n\r\n      //如果包含雙向\r\n      var revertPathIndex = this.GetPathIndex(endPoint, startPoint);\r\n      if (revertPathIndex != -1) {\r\n        this.PathesSelectedForDelete = [\r\n          {\r\n            startPoint: startPoint,\r\n            endPoint: endPoint,\r\n            startStation_Index: startStation_Index,\r\n            endStation_Index: endStation_Index\r\n          },\r\n          {\r\n            startPoint: endPoint,\r\n            endPoint: startPoint,\r\n            startStation_Index: endStation_Index,\r\n            endStation_Index: startStation_Index\r\n          }\r\n        ]\r\n        this.selectPathVisible = true;\r\n        return;\r\n      }\r\n      this.RemovePathByPointsIndex(startStation_Index, endStation_Index);\r\n    },\r\n\r\n    RemovePathByPointsIndex(startStation_Index, endStation_Index) {\r\n\r\n      var startPoint = this.map_data.Points[startStation_Index];\r\n      var endPoint = this.map_data.Points[endStation_Index];\r\n      delete startPoint.Target[endStation_Index]\r\n      var path_index = this.GetPathIndex(startPoint, endPoint)\r\n      this.map_data.Pathes.splice(path_index, 1)\r\n      this.UpdateStationPathLayer()\r\n      this.path_start_end = { start: undefined, end: undefined }\r\n      this.selectPathVisible = false;\r\n    },\r\n    GetPathIndex(startPt, endPt) {\r\n      return this.map_data.Pathes.findIndex(path => path.StartPoint.TagNumber == startPt.TagNumber && path.EndPoint.TagNumber == endPt.TagNumber)\r\n    },\r\n    /**從圖資資料中產生一個新的Point Index */\r\n    GetNewPointIndex() {\r\n      if (this.stations.length == 0)\r\n        return 1;\r\n      const sortedKeys = Object.keys(this.map_data.Points).map(Number).sort((a, b) => a - b); // 小到大排序\r\n      const lastKey = sortedKeys[sortedKeys.length - 1]; // 取得最後一個key\r\n      return lastKey + 1;\r\n    },\r\n    async CloneAPointData() {\r\n      if (this.stations.length == 0) {\r\n        var template = await MapAPI.GetMapStationTemplate()\r\n        return JSON.parse(JSON.stringify(template));\r\n      }\r\n      var points = Object.values(this.map_data.Points);\r\n      var lastPoint = points[points.length - 1]\r\n      return JSON.parse(JSON.stringify(lastPoint))\r\n    },\r\n\r\n\r\n    GetPointDataByFeature(feature) {\r\n\r\n      // var featureID = `Point:${index}:${_tagID}:${stationType}`;\r\n      var featureID = feature.getId();\r\n      var index = parseInt(featureID.split(':')[1]);\r\n      var tagID = parseInt(featureID.split(':')[2]);\r\n      if (tagID) {\r\n        var point = this.map_data.Points[index]\r\n        return {\r\n          index: index,\r\n          point: point\r\n        }\r\n      } else\r\n        return undefined;\r\n\r\n    },\r\n\r\n    NameDisplayChangeHandle() {\r\n      this.UpdatePointDisplay();\r\n    },\r\n    AGVDisplayChangeHandle() {\r\n\r\n      this.AGVDisplayControl(this.agv_display_mode_selected == 'show');\r\n    },\r\n    UpdateNavPathRender(agv_name, currentTag, tags = []) {\r\n      var layerName = `agv_path_layer_${agv_name}`\r\n      var layer = this.map.getLayers().getArray().find(layer => layer.get('id') == layerName);\r\n      let source = undefined\r\n      if (!layer) {\r\n        this.path_store[agv_name] = tags;\r\n        var path_vectorSource = new VectorSource();\r\n        var path_vectorLayer = new VectorLayer({\r\n          source: path_vectorSource,\r\n          zIndex: 666,\r\n          id: layerName\r\n        });\r\n        this.map.addLayer(path_vectorLayer)\r\n        source = path_vectorLayer.getSource();\r\n      }\r\n      else {\r\n        if (this.path_store[agv_name].length == tags.length) {\r\n          return;\r\n        }\r\n        this.path_store[agv_name] = tags;\r\n        source = layer.getSource();\r\n      }\r\n      source.clear();\r\n\r\n      var GetColor = (agvName) => {\r\n        var agv_prop = this.agvList.find(agv => agv.name == agvName);\r\n        var color = 'blue'\r\n        if (agv_prop) {\r\n          color = agv_prop.color;\r\n        }\r\n        return color;\r\n      }\r\n\r\n      var color = GetColor(agv_name);\r\n      if (tags.length != 0) {\r\n        var features = this.CreateLineFeaturesOfPath(tags, color);\r\n        source.addFeatures(features)\r\n      }\r\n      source.changed();\r\n    },\r\n  },\r\n};\r\n</script>\r\n  \r\n<style lang=\"scss\" scoped>\r\n.map-notify {\r\n  .mode-text {\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n  }\r\n\r\n  .tips-text {\r\n    color: \"orange\";\r\n  }\r\n}\r\n\r\n.map-show {\r\n  #point-tooltip {\r\n    position: fixed;\r\n    background-color: rgb(51, 51, 51);\r\n    color: white;\r\n    opacity: 0.9;\r\n    z-index: 9200;\r\n    border: 2px dashed black;\r\n  }\r\n\r\n  .header-div {\r\n    height: 26px;\r\n    margin-bottom: 9px;\r\n\r\n    .options {\r\n      .option-container {\r\n        background-color: rgb(235, 235, 235);\r\n        margin-right: 3px;\r\n        border-radius: 12px;\r\n        padding-left: 8px;\r\n\r\n        span {\r\n          // background-color: pink;\r\n          margin-right: 10px;\r\n          font-weight: bold;\r\n        }\r\n      }\r\n\r\n      .form-check {\r\n        float: right;\r\n        margin-right: 15px;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n.map {\r\n  height: 95%;\r\n  width: 100%;\r\n}\r\n</style>\r\n  ","import { render } from \"./MapShow.vue?vue&type=template&id=3613a1d6&scoped=true\"\nimport script from \"./MapShow.vue?vue&type=script&lang=js\"\nexport * from \"./MapShow.vue?vue&type=script&lang=js\"\n\nimport \"./MapShow.vue?vue&type=style&index=0&id=3613a1d6&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3613a1d6\"]])\n\nexport default __exports__","import { render } from \"./TaskAllocation.vue?vue&type=template&id=543e5f68&scoped=true\"\nimport script from \"./TaskAllocation.vue?vue&type=script&lang=js\"\nexport * from \"./TaskAllocation.vue?vue&type=script&lang=js\"\n\nimport \"./TaskAllocation.vue?vue&type=style&index=0&id=543e5f68&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-543e5f68\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"task-status card-like\">\r\n    <div v-show=\"show_card_title\" class=\"title d-flex flex-row justify-content-between\">\r\n      <div><i class=\"bi bi-three-dots-vertical\"></i>任務狀態 TASK STATUS</div>\r\n      <div><i class=\"bi bi-sliders\" @click=\"ShowSettingsDrawer = true\"></i></div>\r\n    </div>\r\n    <div class=\"px-1\" v-if=\"display_mode == 'tabs'\">\r\n      <el-tabs size>\r\n        <el-tab-pane label=\"未完成任務\">\r\n          <RunningTaskTable :height=\"height\" :IncompletedTaskList=\"IncompletedTaskListTbData\"></RunningTaskTable>\r\n        </el-tab-pane>\r\n        <el-tab-pane label=\"已結束任務\">\r\n          <CompletedTaskTable :height=\"height\" :CompletedTaskList=\"CompletedTaskListTbData\"></CompletedTaskTable>\r\n        </el-tab-pane>\r\n      </el-tabs>\r\n    </div>\r\n    <div v-else class=\"column-display-mode\">\r\n      <div class=\"title-display\">等待/執行中任務</div>\r\n      <RunningTaskTable :height=\"height\" :IncompletedTaskList=\"IncompletedTaskListTbData\"></RunningTaskTable>\r\n      <div class=\"title-display\">已結束任務</div>\r\n      <CompletedTaskTable :height=\"height\" :CompletedTaskList=\"CompletedTaskListTbData\"></CompletedTaskTable>\r\n    </div>\r\n    <el-drawer v-model=\"ShowSettingsDrawer\" title=\"任務狀態設定\">\r\n      <div class=\"setting-container w-100 bg-light text-start\">\r\n        <el-checkbox @change=\"HandleShowTrafficCkbChg\" v-model=\"Settings.ShowTrafficTask\" label=\"顯示交管任務\"></el-checkbox>\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport clsTaskState from '@/ViewModels/TaskState.js'\r\nimport param from '@/gpm_param'\r\nimport { userStore } from '@/store'\r\nimport RunningTaskTable from '@/components/TaskStatus/RunningTaskTable.vue'\r\nimport CompletedTaskTable from '@/components/TaskStatus/CompletedTaskTable.vue'\r\nexport default {\r\n  components: {\r\n    RunningTaskTable, CompletedTaskTable\r\n  },\r\n  props: {\r\n    display_mode: {\r\n      type: String,\r\n      default: 'tabs'\r\n    },\r\n    show_card_title: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    height: {\r\n      type: String,\r\n      defualt: '310px'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      IncompletedTaskList: [\r\n      ],\r\n      CompletedTaskList: [\r\n      ],\r\n      showCancelTaskConfirm: false,\r\n      cancelTaskName: '',\r\n      ShowSettingsDrawer: false,\r\n      Settings: {\r\n        ShowTrafficTask: true\r\n      }\r\n    }\r\n  },\r\n  mounted() {\r\n    this.WsInit();\r\n  },\r\n  computed: {\r\n    taskCancelable() {\r\n      return userStore.getters.IsLogin;\r\n    },\r\n    IncompletedTaskListTbData() {\r\n      if (!this.Settings.ShowTrafficTask) {\r\n        return this.IncompletedTaskList.filter(tk => !tk.DispatcherName.toUpperCase().includes('TRAFFIC'))\r\n      } else\r\n        return this.IncompletedTaskList\r\n    },\r\n    CompletedTaskListTbData() {\r\n      if (!this.Settings.ShowTrafficTask) {\r\n        return this.CompletedTaskList.filter(tk => !tk.DispatcherName.toUpperCase().includes('TRAFFIC'))\r\n      } else\r\n        return this.CompletedTaskList\r\n\r\n    },\r\n  },\r\n  methods: {\r\n\r\n    WsInit() {\r\n      const worker = new Worker('websocket_worker.js')\r\n      worker.onmessage = (event) => {\r\n        var parsedArray = event.data;\r\n        this.IncompletedTaskList = parsedArray.incompleteds.map(task => new clsTaskState(task));\r\n        this.CompletedTaskList = parsedArray.completeds.map(task => new clsTaskState(task));\r\n      }\r\n      worker.postMessage({ command: 'connect', ws_url: param.backend_ws_host + '/ws/TaskData' });\r\n    },\r\n    HandleShowTrafficCkbChg() {\r\n\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.task-status {\r\n  .setting-container {\r\n    .el-checkbox__input {\r\n      font-size: 25px;\r\n    }\r\n  }\r\n\r\n  .column-display-mode {\r\n    height: 100%;\r\n\r\n    .title-display {\r\n      text-align: left;\r\n      font-weight: bold;\r\n      letter-spacing: 1px;\r\n    }\r\n  }\r\n}\r\n</style>","import moment from 'moment'\r\n\r\nclass clsTaskState {\r\n  constructor(task) {\r\n    this.TaskName = task.TaskName\r\n    this.State = task.State\r\n    this.StateName = task.StateName\r\n    this.RecieveTime = task.RecieveTime\r\n    this.FinishTime = task.FinishTime\r\n    this.DispatcherName = task.DispatcherName\r\n    this.DesignatedAGVName = task.DesignatedAGVName\r\n    this.ACTIONS = {\r\n      MOVE: 0,\r\n      LOAD: 1,\r\n      UNLOAD: 2,\r\n      CHARGE: 3,\r\n      CARRY: 4,\r\n    }\r\n    this.Action = task.Action\r\n    this.From_Station = task.From_Station\r\n    this.From_Slot = task.From_Slot\r\n    this.To_Station = task.To_Station\r\n    this.To_Slot = task.To_Slot\r\n    this.Carrier_ID = task.Carrier_ID\r\n    this.Priority = task.Priority\r\n  }\r\n  get RecieveTime_Formated() {\r\n    return moment(this.RecieveTime).format('HH:mm:ss')\r\n  }\r\n  get FinishTime_Formated() {\r\n    return moment(this.FinishTime).format('HH:mm:ss')\r\n  }\r\n\r\n  get ActionName() {\r\n    switch (this.Action) {\r\n      case 0:\r\n        return '移動'\r\n      case 1:\r\n        return '取貨'\r\n      case 2:\r\n        return '取貨/停車'\r\n      case 3:\r\n        return '前進'\r\n      case 4:\r\n        return '後退'\r\n      case 6:\r\n        return '量測'\r\n      case 7:\r\n        return '放貨'\r\n      case 8:\r\n        return '充電'\r\n      case 9:\r\n        return '搬運'\r\n      case 12:\r\n        return '停車'\r\n      case 14:\r\n        return '交換電池'\r\n      default:\r\n        return 'Unknown'\r\n    }\r\n  }\r\n}\r\n\r\nexport default clsTaskState\r\n","<template>\r\n  <div class=\"running-task-table\">\r\n    <el-table\r\n      :header-cell-style=\"{ color: 'black', backgroundColor: 'rgb(241, 241, 241)' }\"\r\n      :data=\"IncompletedTaskList\"\r\n      row-key=\"TaskName\"\r\n      size=\"small\"\r\n      :row-class-name=\"row_class_name\"\r\n      empty-text=\"沒有任務\"\r\n      border\r\n      :height=\"height\">\r\n      <el-table-column label=\"任務名稱\" prop=\"TaskName\" width=\"180\"></el-table-column>\r\n      <el-table-column label=\"執行AGV\" prop=\"DesignatedAGVName\"></el-table-column>\r\n      <el-table-column label=\"接收時間\" prop=\"RecieveTime_Formated\" width=\"80\"></el-table-column>\r\n      <el-table-column label=\"任務狀態\" prop=\"StateName\" width=\"80\">\r\n        <template #default=\"scope\">\r\n          <el-tag effect=\"dark\" :type=\"GetTaskStateType(scope.row.State)\">{{ scope.row.StateName }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"動作\" prop=\"ActionName\" width=\"60\">\r\n        <template #default=\"scope\">\r\n          <b>{{ scope.row.ActionName }}</b>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"卡匣ID\" prop=\"Carrier_ID\" width=\"100\">\r\n        <template #default=\"scope\">{{ scope.row.Carrier_ID == \"-1\" ? \"\" : scope.row.Carrier_ID }}</template>\r\n      </el-table-column>\r\n      <el-table-column label=\"起點\" prop=\"From_Station\">\r\n        <template #default=\"scope\">{{ GetStationName(scope.row.From_Station) }}</template>\r\n        <!-- <el-table-column label=\"站點\" prop=\"From_Station\"></el-table-column> -->\r\n        <!-- <el-table-column label=\"Port\" prop=\"From_Slot\" width=\"50\"></el-table-column> -->\r\n      </el-table-column>\r\n      <el-table-column label=\"終點\" prop=\"To_Station\">\r\n        <template #default=\"scope\">{{ GetStationName(scope.row.To_Station) }}</template>\r\n        <!-- <el-table-column label=\"站點\" prop=\"To_Station\"></el-table-column> -->\r\n        <!-- <el-table-column label=\"Port\" prop=\"To_Slot\" width=\"50\"></el-table-column> -->\r\n      </el-table-column>\r\n      <el-table-column label=\"派工人員\" prop=\"DispatcherName\"></el-table-column>\r\n      <el-table-column v-show=\"taskCancelable\" fixed=\"right\" width=\"100\">\r\n        <template #default=\"scope\">\r\n          <div>\r\n            <b-button size=\"sm\" variant=\"danger\" @click=\"CancelTaskHandler(scope.row.TaskName)\">取消任務</b-button>\r\n          </div>\r\n        </template>\r\n      </el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { userStore } from '@/store'\r\nimport { TaskAllocation } from '@/api/TaskAllocation'\r\nimport { GetTaskStateType } from './TaskStatus'\r\nimport { MapStore } from '@/components/Map/store'\r\nimport bus from '@/event-bus';\r\n\r\nexport default {\r\n  props: {\r\n    IncompletedTaskList: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    height: {\r\n      type: String,\r\n      default() {\r\n        return '260px'\r\n      }\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      showCancelTaskConfirm: false,\r\n      cancelTaskName: ''\r\n    }\r\n  },\r\n  computed: {\r\n    taskCancelable() {\r\n      return userStore.getters.IsLogin;\r\n    },\r\n    MapPoints() {\r\n      return Object.values(MapStore.getters.MapData.Points)\r\n    }\r\n  },\r\n  methods: {\r\n    CancelTaskHandler(task_name) {\r\n      this.cancelTaskName = task_name;\r\n      var isHotRunTask = task_name.includes('HR')\r\n      this.$swal.fire(\r\n        {\r\n          title: '確定要取消任務?',\r\n          text: '任務ID ' + task_name,\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(res => {\r\n          if (res.isConfirmed) {\r\n            this.SendCancelTaskRequest()\r\n          }\r\n        })\r\n    },\r\n    async SendCancelTaskRequest() {\r\n      try {\r\n        await TaskAllocation.Cancel(this.cancelTaskName);\r\n      } catch (error) {\r\n        if (error.response.status == 401) {\r\n          bus.emit('/show-login-view-invoke')\r\n\r\n          // this.$swal.fire(\r\n          //   {\r\n          //     text: '',\r\n          //     title: '請先進行登入',\r\n          //     icon: 'warning',\r\n          //     showCancelButton: false,\r\n          //     confirmButtonText: 'OK',\r\n          //     customClass: 'my-sweetalert'\r\n          //   }).then(() => {\r\n\r\n          //     bus.emit('/show-login-view-invoke')\r\n          //   })\r\n        }\r\n      }\r\n    },\r\n    GetTaskStateType(State) {\r\n      return GetTaskStateType(State);\r\n    },\r\n    GetStationName(tag) {\r\n      var station = this.MapPoints.find(station => station.TagNumber + '' == tag)\r\n      if (station)\r\n        return station.Graph.Display\r\n      return tag\r\n    },\r\n    row_class_name({ row, rowIndex }) {\r\n      if (row.DispatcherName.toUpperCase() == 'TRAFFIC')\r\n        return 'traffic-task-row'\r\n      if (row.Action == 8 || row.Action == 14)\r\n        return 'charge-task-row'\r\n      return ''\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.running-task-table {\r\n  .el-table .traffic-task-row {\r\n    background-color: rgb(169, 223, 238);\r\n    /* --el-table-tr-bg-color: var(--el-color-warning-light-9); */\r\n  }\r\n\r\n  .el-table .charge-task-row {\r\n    background-color: rgb(252, 244, 179);\r\n  }\r\n}\r\n</style>","export function GetTaskStateType(state_code) {\r\n    //success\",\", \"info\", \"warning\", \"danger\", \"\"],\r\n    if (state_code == 1 || state_code == 2 || state_code == 3 || state_code == 4) //Running\r\n        return 'success'\r\n    else if (state_code == 6) //FAILURE\r\n        return 'danger'\r\n    else if (state_code == 7) //Cancel\r\n        return 'warning'\r\n    else\r\n        return 'info'         //Failure\r\n}","import { render } from \"./RunningTaskTable.vue?vue&type=template&id=fe629662\"\nimport script from \"./RunningTaskTable.vue?vue&type=script&lang=js\"\nexport * from \"./RunningTaskTable.vue?vue&type=script&lang=js\"\n\nimport \"./RunningTaskTable.vue?vue&type=style&index=0&id=fe629662&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"completed-task-table\">\r\n    <el-table\r\n      :header-cell-style=\"{ color: 'black', backgroundColor: 'rgb(241, 241, 241)' }\"\r\n      :data=\"CompletedTaskList\"\r\n      row-key=\"TaskName\"\r\n      size=\"small\"\r\n      border\r\n      :height=\"height\"\r\n      :row-class-name=\"row_class_name\"\r\n      empty-text=\"沒有任務\">\r\n      <el-table-column label=\"任務名稱\" prop=\"TaskName\" width=\"180\"></el-table-column>\r\n      <el-table-column label=\"執行AGV\" prop=\"DesignatedAGVName\"> </el-table-column>\r\n      <el-table-column label=\"接收時間\" prop=\"RecieveTime_Formated\" width=\"80\"></el-table-column>\r\n      <el-table-column label=\"結束時間\" prop=\"FinishTime_Formated\" width=\"80\"></el-table-column>\r\n      <el-table-column label=\"任務狀態\" prop=\"StateName\" width=\"80\">\r\n        <template #default=\"scope\">\r\n          <el-tag effect=\"dark\" :type=\"GetTaskStateType(scope.row.State)\">{{ scope.row.StateName }}</el-tag>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"動作\" prop=\"ActionName\" width=\"60\">\r\n        <template #default=\"scope\">\r\n          <b>{{ scope.row.ActionName }}</b>\r\n        </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"卡匣ID\" prop=\"Carrier_ID\">\r\n        <template #default=\"scope\"> {{ scope.row.Carrier_ID == \"-1\" ? \"\" : scope.row.Carrier_ID }} </template>\r\n      </el-table-column>\r\n      <el-table-column label=\"起點\">\r\n        <template #default=\"scope\">{{ GetStationName(scope.row.From_Station) }}</template>\r\n        <!-- <el-table-column label=\"站點\" prop=\"From_Station\"></el-table-column>\r\n        <el-table-column label=\"Port\" prop=\"From_Slot\" width=\"50\"></el-table-column>-->\r\n      </el-table-column>\r\n      <el-table-column label=\"終點\">\r\n        <template #default=\"scope\">{{ GetStationName(scope.row.To_Station) }}</template>\r\n        <!-- <el-table-column label=\"站點\" prop=\"To_Station\"></el-table-column>\r\n        <el-table-column label=\"Port\" prop=\"To_Slot\" width=\"50\"></el-table-column>-->\r\n      </el-table-column>\r\n      <el-table-column label=\"派工人員\" prop=\"DispatcherName\"></el-table-column>\r\n    </el-table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GetTaskStateType } from './TaskStatus'\r\nimport { MapStore } from '@/components/Map/store'\r\n\r\nexport default {\r\n  props: {\r\n    CompletedTaskList: {\r\n      type: Array,\r\n      default() {\r\n        return []\r\n      }\r\n    },\r\n    height: {\r\n      type: String,\r\n      default() {\r\n        return '260px'\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    MapPoints() {\r\n      return Object.values(MapStore.getters.MapData.Points)\r\n    }\r\n  },\r\n  methods: {\r\n    GetTaskStateType(State) {\r\n      return GetTaskStateType(State);\r\n    }\r\n    ,\r\n    GetStationName(tag) {\r\n      var station = this.MapPoints.find(station => station.TagNumber + '' == tag)\r\n      if (station)\r\n        return station.Graph.Display\r\n      return tag\r\n    },\r\n    row_class_name({ row, rowIndex }) {\r\n      if (row.DispatcherName.toUpperCase() == 'TRAFFIC')\r\n        return 'traffic-task-row'\r\n      if (row.Action == 8 || row.Action == 14)\r\n        return 'charge-task-row'\r\n      return ''\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.completed-task-table {\r\n\r\n  .el-table .traffic-task-row {\r\n    background-color: rgb(169, 223, 238);\r\n    /* --el-table-tr-bg-color: var(--el-color-warning-light-9); */\r\n  }\r\n\r\n  .el-table .charge-task-row {\r\n    background-color: rgb(252, 244, 179);\r\n  }\r\n}\r\n</style>","import { render } from \"./CompletedTaskTable.vue?vue&type=template&id=db13fc9e\"\nimport script from \"./CompletedTaskTable.vue?vue&type=script&lang=js\"\nexport * from \"./CompletedTaskTable.vue?vue&type=script&lang=js\"\n\nimport \"./CompletedTaskTable.vue?vue&type=style&index=0&id=db13fc9e&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./TaskStatus.vue?vue&type=template&id=1ce47aed&scoped=true\"\nimport script from \"./TaskStatus.vue?vue&type=script&lang=js\"\nexport * from \"./TaskStatus.vue?vue&type=script&lang=js\"\n\nimport \"./TaskStatus.vue?vue&type=style&index=0&id=1ce47aed&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1ce47aed\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"map-point-setting-drawer\">\r\n    <el-drawer\r\n      v-model=\"show\"\r\n      size=\"35%\"\r\n      :close-on-press-escape=\"true\"\r\n      :close-on-click-modal=\"true\"\r\n      :show-close=\"false\"\r\n      :modal=\"true\"\r\n      modal-class=\"modal-style\"\r\n      :before-close=\"CancelBtnClickHandle\">\r\n      <template #header>\r\n        <div class=\"header border-bottom\">\r\n          <h3>點位設定-{{ index }}</h3>\r\n        </div>\r\n      </template>\r\n      <div class=\"draw-content w-100 px-2\">\r\n        <div class=\"text-start py-2  d-flex\">\r\n          <!-- <b-button variant=\"danger\" @click=\"CancelBtnClickHandle\">離開</b-button> -->\r\n          <b-button variant=\"danger\" @click=\"CancelBtnClickHandle\">離開</b-button>\r\n          <b-button variant=\"primary\" @click=\"SaveBtnClickHandle\">儲存</b-button>\r\n          <div v-show=\"true\" class=\"text-start d-flex\">\r\n            <b-button size=\"sm\" variant=\"primary\" @click=\"Regist\">註冊</b-button>\r\n            <b-button size=\"sm\" variant=\"danger\" @click=\"Unregist\">解註冊</b-button>\r\n          </div>\r\n        </div>\r\n        <div class=\"settings px-2\">\r\n          <el-collapse v-model=\"activeNames\">\r\n            <el-collapse-item title=\"基本設定\" name=\"1\">\r\n              <el-form label-width=\"120px\" label-position=\"left\">\r\n                <el-form-item label=\"Point Index\">\r\n                  <el-input v-model=\"index\" disabled></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"顯示名稱\">\r\n                  <div>\r\n                    <el-input v-model=\"pointData_editing.Graph.Display\"></el-input>\r\n                  </div>\r\n                  <div>\r\n                    <el-button\r\n                      v-show=\"IsEQPoint\"\r\n                      @click=\"pointData_editing.Graph.Display = BindingEQInfo.Name\">使用繫連的EQ名稱</el-button>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item v-if=\"IsEQPoint\" label=\"顯示圖示\">\r\n                  <div class=\"d-flex mx-1 bg-light\" style=\"flex-wrap:wrap\">\r\n                    <div class=\"icon-container\" style=\"width:64px;height:84px\" v-for=\"path in EqIcons\" :key=\"path\">\r\n                      <el-image\r\n                        v-bind:style=\"{\r\n                          border: path == pointData_editing.Graph.ImageName ? '3px solid rgb(49, 132, 253)' : ''\r\n                        }\"\r\n                        style=\"width: 64px; height: 64px;padding:3px;border-radius:8px;cursor:pointer\"\r\n                        :src=\"path\"\r\n                        :zoom-rate=\"1.2\"\r\n                        :max-scale=\"7\"\r\n                        :min-scale=\"0.2\"\r\n                        fit=\"cover\"\r\n                        @click=\"HandleImageClick(path)\">\r\n                        <template #error>\r\n                          <div class=\"image-slot\"> 錯誤 </div>\r\n                        </template>\r\n                      </el-image>\r\n                      <b-button squared class=\"delete-btn\" style=\"position:relative;bottom:26px;width:100%;\" variant=\"danger\" size=\"sm\"\r\n                        @click=\"HandleIconDelete(path)\">刪除</b-button>\r\n                    </div>\r\n                    <!-- Upload images preview2-->\r\n                    <el-image\r\n                      v-for=\"path in fileList\" :key=\"path\"\r\n                      v-bind:style=\"{\r\n                        border: path.url == pointData_editing.Graph.ImageName ? '3px solid rgb(49, 132, 253)' : ''\r\n                      }\"\r\n                      style=\"width: 64px; height: 64px;padding:3px;border-radius:8px;cursor:pointer;border:1px dashed red\"\r\n                      :src=\"path.url\"\r\n                      :zoom-rate=\"1.2\"\r\n                      :max-scale=\"7\"\r\n                      :min-scale=\"0.2\"\r\n                      fit=\"cover\"\r\n                      @click=\"HandleImageClick(path)\" />\r\n                    <el-upload v-model:file-list=\"fileList\" :action=\"icon_upload_url\" list-type=\"picture-card\" :auto-upload=\"true\" :on-success=\"OnIconUploadSuccess\" :show-file-list=\"false\"> 上傳圖示 </el-upload>\r\n                    <!-- <div v-for=\"path in IconGroup.EqIcons\" :key=\"path\">{{ path }}</div> -->\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"Tag\">\r\n                  <div class=\"tag\">\r\n                    <div>\r\n                      <span>ID</span>\r\n                      <el-input v-model.number=\"pointData_editing.TagNumber\"></el-input>\r\n                    </div>\r\n                    <div>\r\n                      <span>X</span>\r\n                      <el-input v-model=\"pointData_editing.X\"></el-input>\r\n                    </div>\r\n                    <div>\r\n                      <span>Y</span>\r\n                      <el-input v-model=\"pointData_editing.Y\"></el-input>\r\n                    </div>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"站點類型\">\r\n                  <el-select v-model=\"pointData_editing.StationType\" @change=\"StationTypeOnChange\">\r\n                    <el-option\r\n                      v-for=\"pt_type in stationTypes\"\r\n                      :key=\"pt_type.value\"\r\n                      :label=\"pt_type.label\"\r\n                      :value=\"pt_type.value\"></el-option>\r\n                  </el-select>\r\n                  <div v-show=\"IsEQPoint\">\r\n                    <el-input disabled v-model=\"BindingEQInfo.Name\"></el-input>\r\n                  </div>\r\n                </el-form-item>\r\n                <el-form-item label=\"角度\">\r\n                  <el-input-number v-model=\"pointData_editing.Direction\"></el-input-number>\r\n                </el-form-item>\r\n                <el-form-item v-if=\"pointData_editing.StationType != 0\" label=\"二次定位點角度\">\r\n                  <el-input-number v-model=\"pointData_editing.Direction_Secondary_Point\"></el-input-number>\r\n                </el-form-item>\r\n                <el-form-item label=\"雷射模式\">\r\n                  <el-input-number v-model=\"pointData_editing.LsrMode\" :step=\"1\"></el-input-number>\r\n                  <i\r\n                    class=\"bi bi-question-circle information\"\r\n                    @click=\"HandleLaserModeInfoIconClick\"></i>\r\n                </el-form-item>\r\n                <el-form-item label=\"速度\">\r\n                  <el-input-number v-model=\"pointData_editing.Speed\" :step=\"0.1\" :precision=\"1\"></el-input-number>\r\n                </el-form-item>\r\n                <el-form-item label=\"AGV閃避模式\">\r\n                  <el-input-number v-model=\"pointData_editing.DodgeMode\" :step=\"1\"></el-input-number>\r\n                  <i\r\n                    class=\"bi bi-question-circle information\"\r\n                    @click=\"HandleDodgeModeInfoIconClick\"></i>\r\n                </el-form-item>\r\n              </el-form>\r\n            </el-collapse-item>\r\n            <el-collapse-item title=\"功能設定\" name=\"2\">\r\n              <div class=\"d-flex flex-column\">\r\n                <el-checkbox v-model=\"pointData_editing.Enable\" label=\"啟用\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsStandbyPoint\" label=\"停駐點\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsSegment\" label=\"二次定位點\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsParking\" label=\"可停車點\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsAvoid\" label=\"避車點\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsVirtualPoint\" label=\"虛擬點\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsAutoDoor\" label=\"自動門\"></el-checkbox>\r\n                <el-checkbox v-model=\"pointData_editing.IsExtinguishing\" label=\"消防設備\"></el-checkbox>\r\n              </div>\r\n            </el-collapse-item>\r\n            <el-collapse-item title=\"註冊點\" name=\"3\">\r\n              <div class=\"text-start\">\r\n                <el-button\r\n                  @click=\"() => {\r\n                    RegistersTable.push({\r\n                      index: undefined,\r\n                      tag: undefined,\r\n                      name: undefined\r\n                    })\r\n                  }\">新增</el-button>\r\n              </div>\r\n              <el-table row-key=\"index\" height=\"320px\" border :data=\"RegistersTable\">\r\n                <el-table-column label=\"Index\" prop=\"index\">\r\n                  <template #default=\"scope\">\r\n                    <div>\r\n                      <el-select @change=\"HandleIndexSelected(scope.row)\" v-model=\"scope.row.index\">\r\n                        <el-option\r\n                          v-for=\"pt in pointsOptions\"\r\n                          :key=\"pt.index\"\r\n                          :label=\"pt.index\"\r\n                          :value=\"pt.index\"></el-option>\r\n                      </el-select>\r\n                    </div>\r\n                  </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"Tag\" prop=\"tag\"></el-table-column>\r\n                <el-table-column label=\"Name\" prop=\"name\"></el-table-column>\r\n                <el-table-column label=\"Name\">\r\n                  <template #default=\"scope\">\r\n                    <el-button\r\n                      @click=\"() => {\r\n                        RegistersTable.splice(RegistersTable.indexOf(scope.row), 1)\r\n                      }\"\r\n                      type=\"danger\"\r\n                      size=\"small\">移除</el-button>\r\n                  </template>\r\n                </el-table-column>\r\n              </el-table>\r\n            </el-collapse-item>\r\n            <el-collapse-item title=\"分區設定\" name=\"4\">\r\n              <el-form>\r\n                <el-form-item label=\"所屬區域\">\r\n                  <RegionsSelector v-model=\"pointData_editing.Region\"></RegionsSelector>\r\n                </el-form-item>\r\n              </el-form>\r\n            </el-collapse-item>\r\n          </el-collapse>\r\n        </div>\r\n      </div>\r\n    </el-drawer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { GetEQInfoByTag } from '@/api/EquipmentAPI.js';\r\nimport { pointTypes } from '@/api/MapAPI.js'\r\nimport { MapStore } from './Map/store';\r\nimport RegionsSelector from '@/components/RegionsSelector.vue'\r\nimport MapAPI from '@/api/MapAPI'\r\nimport { ElNotification } from 'element-plus'\r\n\r\nexport default {\r\n  components: {\r\n    RegionsSelector\r\n  },\r\n  data() {\r\n    return {\r\n      show: false,\r\n      index: -1,\r\n      pointData: {},\r\n      pointData_editing: {},\r\n      RegistersTable: [\r\n        {\r\n          index: 0,\r\n          tag: 1,\r\n          name: '1'\r\n\r\n        }\r\n      ],\r\n      activeNames: ['1'],\r\n      BindingEQInfo: {\r\n        ConnOptions: {\r\n          ConnMethod: 0,\r\n          IP: \"127.0.0.1\",\r\n          Port: 503,\r\n          ComPort: \"COM1\"\r\n        },\r\n        Name: \"LDULD#2\",\r\n        TagID: 2\r\n      },\r\n      fileList: []\r\n    }\r\n  },\r\n  mounted() {\r\n  },\r\n  computed: {\r\n    hasAnyChange() {\r\n      var ori_ = JSON.stringify(this.pointData)\r\n      var current_ = JSON.stringify(this.pointData_editing)\r\n      return ori_ != current_;\r\n    },\r\n    IsEQPoint() {\r\n      return this.pointData_editing.StationType == 1;\r\n    },\r\n    stationTypes() {\r\n      return pointTypes;\r\n    },\r\n    potinFullName() {\r\n      return `[${this.index}] ${this.pointData.Name}`\r\n    },\r\n    pointsOptions() {\r\n      return MapStore.getters.AllPointsOptions;\r\n    },\r\n    icon_upload_url() {\r\n      return 'http://localhost:5216/api/map/IconUpload'\r\n    },\r\n    EqIcons() {\r\n      return MapStore.getters.EqIcons;\r\n    },\r\n\r\n  },\r\n  methods: {\r\n    async Show(ptObj) {\r\n      if (!ptObj.point)\r\n        return;\r\n      this.index = ptObj.index\r\n      this.pointData = ptObj.point\r\n      this.pointData_editing = JSON.parse(JSON.stringify(ptObj.point))\r\n      this.InitRegisterTableData();\r\n\r\n      if (this.IsEQPoint)//EQ\r\n      {\r\n        this.BindingEQInfo = await GetEQInfoByTag(this.pointData.TagNumber);\r\n      }\r\n      this.show = true;\r\n    },\r\n    InitRegisterTableData() {\r\n      this.RegistersTable = []\r\n      var registersIndexes = this.pointData_editing.RegistsPointIndexs //點位的INDEX列表\r\n      if (registersIndexes) {\r\n        registersIndexes.forEach(async (index) => {\r\n          var registedPointData = await MapStore.dispatch('GetMapPointByIndex', index);\r\n          if (registedPointData) {\r\n            this.RegistersTable.push({\r\n              index: index,\r\n              tag: registedPointData.TagNumber,\r\n              name: registedPointData.Name\r\n            })\r\n          }\r\n        });\r\n      }\r\n\r\n    },\r\n    ResetRegistPointIndexData() {\r\n      this.pointData_editing.RegistsPointIndexs = this.RegistersTable.map(dat => dat.index)\r\n    },\r\n    async StationTypeOnChange(e) {\r\n      if (e == 1) {\r\n        this.BindingEQInfo = await GetEQInfoByTag(this.pointData.TagNumber);\r\n      }\r\n    },\r\n\r\n    SaveBtnClickHandle() {\r\n      // if (this.CheckTagRepeat()) {\r\n      //   this.$swal.fire(\r\n      //     {\r\n      //       text: '',\r\n      //       title: `$Tag {this.pointData_editing.TagNumber}已被其他暫ㄉ點設置`,\r\n      //       icon: 'warning',\r\n      //       showCancelButton: false,\r\n      //       confirmButtonText: 'OK',\r\n      //       customClass: 'my-sweetalert'\r\n      //     })\r\n      //   return;\r\n      // }\r\n      this.ResetRegistPointIndexData();\r\n      this.$emit('OnPointSettingChanged', { index: this.index, pointData: this.pointData_editing })\r\n      ElNotification({\r\n        title: 'Success',\r\n        message: `${this.potinFullName} 站點設定已暫存，請記得儲存圖資`,\r\n        duration: 1000\r\n      })\r\n      this.pointData = this.pointData_editing;\r\n    },\r\n    CheckTagRepeat() {\r\n      if (this.pointData_editing.TagNumber == this.pointData.TagNumber) {\r\n        return false;\r\n      }\r\n      var _sameTagCount = this.pointsOptions.filter(pt => pt.tag + '' == this.pointData_editing.TagNumber + '')\r\n      alert(JSON.stringify(_sameTagCount))\r\n      return _sameTagCount.length == 1;\r\n    },\r\n    CancelBtnClickHandle() {\r\n      if (this.hasAnyChange) {\r\n        this.show = false;\r\n        this.$swal.fire({\r\n          title: '點位尚未儲存',\r\n          text: `點位-${this.potinFullName} 設定值變更但尚未儲存，確定要離開?`,\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: '確定',\r\n          customClass: 'my-sweetalert'\r\n        }).then((result) => {\r\n          this.show = !result.isConfirmed;\r\n          if (!this.show)\r\n            this.$emit('OnLeve')\r\n        })\r\n\r\n      } else {\r\n        this.show = false;\r\n        this.$emit('OnLeve')\r\n      }\r\n    },\r\n    async Regist() {\r\n      var response = await MapAPI.Regist(this.pointData_editing.TagNumber);\r\n      var success = response.result;\r\n      //            return Ok(new { result = result, message = err_msg });\r\n      this.show = false;\r\n      this.$swal.fire(\r\n        {\r\n          text: '',\r\n          title: `${this.pointData_editing.TagNumber} ${success ? '註冊成功' : '註冊失敗'}`,\r\n          icon: success ? 'success' : 'error',\r\n          showCancelButton: false,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(res => {\r\n          this.show = true;\r\n        })\r\n    },\r\n    async Unregist() {\r\n      var response = await MapAPI.Unregist(this.pointData_editing.TagNumber)\r\n      var success = response.result;\r\n\r\n      this.show = false;\r\n      //            return Ok(new { result = result, message = err_msg });\r\n      this.$swal.fire(\r\n        {\r\n          text: '',\r\n          title: `${this.pointData_editing.TagNumber} ${success ? '解除註冊成功' : '解除註冊失敗'}`,\r\n          icon: success ? 'success' : 'error',\r\n          showCancelButton: false,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(res => {\r\n          this.show = true;\r\n        })\r\n    },\r\n    HandleIndexSelected(pt) {\r\n      var index = pt.index\r\n      MapStore.dispatch('GetMapPointByIndex', index).then(point_Selected => {\r\n        pt.tag = point_Selected.TagNumber;\r\n        pt.name = point_Selected.Name;\r\n      })\r\n\r\n    },\r\n    HandleDodgeModeInfoIconClick() {\r\n      this.show = false;\r\n      this.$swal.fire(\r\n        {\r\n          html: '<div class=\"text-start\">10:取消任務時Pass站點(用於避免與WIP內AGV旋轉干涉)<br>11:地標輔助修正(用於轉角或長走道起點，AGV會追Tag中心)<br>12:里程計輔助定位(用於窄道)<br>14:里程計輔助定位、偵測色帶(用於窄道、脫離色帶會上報異常)</div>',\r\n          title: 'Dodge Mode',\r\n          icon: 'information',\r\n          showCancelButton: false,\r\n          customClass: 'my-sweetalert'\r\n        }).then(() => {\r\n          this.show = true\r\n        })\r\n    },\r\n    HandleLaserModeInfoIconClick() {\r\n      this.show = false;\r\n      this.$swal.fire(\r\n        {\r\n          html: '<div class=\"text-start\">0:Bypass<br>1:Normal<br>2:二次定位<br>3:Normal_Short<br>5:Turning<br>7:Loading<br>10:Special<br>12:Narrow(窄道)<br>13:Norrow_Long</div>',\r\n          title: 'Laser Mode',\r\n          icon: 'information',\r\n          showCancelButton: false,\r\n          customClass: 'my-sweetalert'\r\n        }).then(() => {\r\n          this.show = true\r\n        })\r\n    },\r\n    HandleImageClick(path) {\r\n      this.pointData_editing.Graph.ImageName = path;\r\n    },\r\n    HandleUploadIconBtnClick() {\r\n\r\n    },\r\n    OnIconUploadPreview(file) {\r\n      console.info(file)\r\n    },\r\n    OnIconUploadSuccess(response, uploadFile, uploadFiles) {\r\n      console.info(response);\r\n      this.fileList = [];\r\n      MapStore.dispatch('DownloadMapData')\r\n    },\r\n    HandleIconDelete(path) {\r\n      MapStore.dispatch('DeleteIcon', path);\r\n      MapStore.dispatch('DownloadMapData')\r\n    }\r\n\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped >\r\n.map-point-setting-drawer {\r\n  .modal-style {\r\n    opacity: 0.3;\r\n  }\r\n\r\n  z-index: 2;\r\n\r\n\r\n\r\n  .icon-container {\r\n    .delete-btn {\r\n      opacity: 0;\r\n    }\r\n  }\r\n\r\n  .icon-container:hover {\r\n    border: 1px solid blue;\r\n    border-radius: 5px;\r\n\r\n    .delete-btn {\r\n      opacity: 0.8;\r\n    }\r\n  }\r\n\r\n  .draw-content {\r\n    top: 67px;\r\n    position: absolute;\r\n    height: 100%;\r\n\r\n    .settings {\r\n      height: 800px;\r\n      overflow-y: scroll;\r\n    }\r\n\r\n    button {\r\n      width: 120px;\r\n      margin-right: 3px;\r\n    }\r\n  }\r\n\r\n  .tag {\r\n    display: flex;\r\n    flex-direction: row;\r\n\r\n    div {\r\n      display: flex;\r\n      flex-direction: row;\r\n      margin: 3px;\r\n    }\r\n  }\r\n\r\n  .information {\r\n    font-size: 16px;\r\n    margin: auto 10px;\r\n    cursor: pointer;\r\n  }\r\n}\r\n</style>","import { render } from \"./MapPointSettingDrawer.vue?vue&type=template&id=ac54b1ae&scoped=true\"\nimport script from \"./MapPointSettingDrawer.vue?vue&type=script&lang=js\"\nexport * from \"./MapPointSettingDrawer.vue?vue&type=script&lang=js\"\n\nimport \"./MapPointSettingDrawer.vue?vue&type=style&index=0&id=ac54b1ae&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ac54b1ae\"]])\n\nexport default __exports__","<template>\r\n  <div id=\"map\" class=\"map-component\">\r\n    <el-alert v-if=\"map_name == 'Unkown'\" title=\"載入中\" type=\"warning\" effect=\"dark\" />\r\n    <div class=\"d-flex h-100\">\r\n      <div class=\"flex-fill d-flex flex-column\">\r\n        <div class=\"w-100 bg-primary text-light rounded p-2 select-mode\" v-if=\"IsSelectAGVMode\">選擇 AGV</div>\r\n        <div class=\"w-100 text-light rounded p-2 select-mode\"\r\n          v-if=\"IsSelectEQStationMode\"\r\n          v-bind:class=\"TaskDispatchOptions.action_type == 'charge' ? 'bg-warning' : 'bg-primary'\">{{ TaskDispatchOptions.action_type == 'charge' ? '選擇[充電站]' : `${TaskDispatchOptions.direction == 'source' ? '選擇[來源]設備' : '選擇[終點]設備'}` }}</div>\r\n        <!-- 編輯選項 -->\r\n        <div\r\n          v-if=\"editable\"\r\n          class=\"editor-option fixed-top bg-light\"\r\n          style=\"margin-top:49px;margin-left:70px\">\r\n          <div class=\"edit-block action-buttons\">\r\n            <b-button variant=\"primary\" @click=\"HandlerSaveBtnClick\">儲存</b-button>\r\n            <b-button variant=\"danger\" @click=\"ReloadMap\">重新載入</b-button>\r\n            <b-button variant=\"danger\" @click=\"ClearMap\">清除資料</b-button>\r\n          </div>\r\n          <div class=\"d-flex\">\r\n            <div class=\"edit-block\">\r\n              <span>\r\n                <i class=\"bi bi-three-dots-vertical\"></i>模式 </span>\r\n              <el-radio-group\r\n                v-bind:style=\"radio_group_style\"\r\n                v-model=\"EditorOption.EditMode\"\r\n                @change=\"(opt) => { RestoreOriginalPathStyle(this.selected_path_feature) }\"\r\n                size=\"large\">\r\n                <el-radio-button size=\"small\" label=\"view\">檢視[V]</el-radio-button>\r\n                <el-radio-button size=\"small\" label=\"edit\">編輯[E]</el-radio-button>\r\n              </el-radio-group>\r\n            </div>\r\n            <div class=\"edit-block d-flex\">\r\n              <span>\r\n                <i class=\"bi bi-three-dots-vertical\"></i>編輯動作 </span>\r\n              <el-radio-group\r\n                v-bind:style=\"radio_group_style\"\r\n                :disabled=\"EditorOption.EditMode != 'edit'\"\r\n                v-model=\"EditorOption.EditAction\"\r\n                @change=\"() => { ; RemoveInteraction(draw_forbid_regions_interaction); AddEditMapInteraction() }\"\r\n                size=\"large\">\r\n                <el-radio-button size=\"small\" label=\"none\">無</el-radio-button>\r\n                <el-radio-button size=\"small\" label=\"add-station\">新增點位[1]</el-radio-button>\r\n                <el-radio-button size=\"small\" label=\"edit-station\">編輯點位[2]</el-radio-button>\r\n                <el-radio-button size=\"small\" label=\"remove-station\">移除點位[3]</el-radio-button>\r\n              </el-radio-group>\r\n              <div class=\"d-flex flex-column\">\r\n                <el-radio-group\r\n                  class=\"mx-1\"\r\n                  :disabled=\"EditorOption.EditMode != 'edit'\"\r\n                  v-model=\"EditorOption.EditAction\"\r\n                  @change=\"() => { PathEditTempStore = []; RemoveInteraction(draw_forbid_regions_interaction); AddEditMapInteraction(); }\"\r\n                  size=\"large\">\r\n                  <el-radio-button size=\"small\" label=\"add-path\">新增路徑[4]</el-radio-button>\r\n                  <el-radio-button size=\"small\" label=\"edit-path\">編輯路徑[5]</el-radio-button>\r\n                  <el-radio-button size=\"small\" label=\"remove-path\">移除路徑[6]</el-radio-button>\r\n                </el-radio-group>\r\n                <el-radio-group\r\n                  v-show=\"EditorOption.EditAction == 'add-path'\"\r\n                  class=\"mx-1 my-1\"\r\n                  v-model=\"EditorOption.AddPathMode.Direction\"\r\n                  @change=\"() => { RemoveInteraction(draw_forbid_regions_interaction); }\"\r\n                  size=\"large\">\r\n                  <el-radio-button size=\"small\" label=\"one-direction\">單向</el-radio-button>\r\n                  <el-radio-button size=\"small\" label=\"bi-direction\">雙向</el-radio-button>\r\n                </el-radio-group>\r\n              </div>\r\n              <div class=\"d-flex flex-column\">\r\n                <el-radio-group\r\n                  class=\"mx-1\"\r\n                  :disabled=\"EditorOption.EditMode != 'edit'\"\r\n                  v-model=\"EditorOption.EditAction\"\r\n                  size=\"large\">\r\n                  <el-radio-button @click=\"HandleAddForbidRegionClicked(EditorOption.AddRegionMode.Mode)\" size=\"small\" label=\"add-forbid-region\">新增管制區[7]</el-radio-button>\r\n                  <el-radio-button @click=\"HandleEditForbidRegionClicked\" size=\"small\" label=\"edit-forbid-region\">編輯管制區[8]</el-radio-button>\r\n                  <el-radio-button @click=\"HandleDeleteForbidRegionClicked\" size=\"small\" label=\"remove-forbid-region\">移除管制區[9]</el-radio-button>\r\n                </el-radio-group>\r\n                <el-radio-group\r\n                  v-show=\"EditorOption.EditAction == 'add-forbid-region'\"\r\n                  class=\"mx-1 my-1\"\r\n                  v-model=\"EditorOption.AddRegionMode.Mode\"\r\n                  size=\"large\">\r\n                  <el-radio-button @click=\"HandleAddForbidRegionClicked('forbid')\" size=\"small\" label=\"forbid\">禁制區</el-radio-button>\r\n                  <el-radio-button @click=\"HandleAddForbidRegionClicked('passible')\" size=\"small\" label=\"passible\">通行區</el-radio-button>\r\n                </el-radio-group>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- <div\r\n            v-show=\"ShowWarningNotify\"\r\n          class=\"bg-warning text-light border rounded p-1\">目前為Slam座標模式，點位位置即為AGV真實走行座標，請小心操作 </div>-->\r\n        </div>\r\n        <div class=\"d-flex flex-row\" style=\"overflow-y: hidden;\">\r\n          <!-- settings tabcontrol -->\r\n          <div\r\n            v-if=\"EditorOption.EditMode == 'edit' && editable\"\r\n            v-bind:class=\"left_tab_class_name\"\r\n            class=\"border bg-light\"\r\n            v-bind:style=\"path_view_style\">\r\n            <div class=\"p-0 m-0 w-100\" v-if=\"left_tab_class_name == 'tab-close'\">\r\n              <i\r\n                @click=\"() => {\r\n                  left_tab_class_name = left_tab_class_name == 'tab-open' ? 'tab-close' : 'tab-open'\r\n                }\"\r\n                class=\"bi bi-chevron-double-right\"></i>\r\n            </div>\r\n            <div v-else class=\"tab-open\">\r\n              <i\r\n                @click=\"() => {\r\n                  left_tab_class_name = left_tab_class_name == 'tab-open' ? 'tab-close' : 'tab-open'\r\n                }\"\r\n                class=\"bi bi-chevron-double-left\"></i>\r\n              <b-tabs class=\"p-1\">\r\n                <b-tab title=\"點位\">\r\n                  <div class=\"border\">123</div>\r\n                </b-tab>\r\n                <b-tab title=\"路徑\" active>\r\n                  <div class=\"border\">\r\n                    <!-- <div class=\"d-flex\">\r\n                    <div style=\"width:70px\">搜尋</div> <el-input></el-input>\r\n                    </div>-->\r\n                    <el-table\r\n                      :data=\"PathesSegmentsForEdit\"\r\n                      highlight-current-row\r\n                      row-key=\"StartPtIndex\"\r\n                      @row-click=\"HandlePathTbRowClick\"\r\n                      border\r\n                      style=\"height: 650px;\"\r\n                      size=\"small\">\r\n                      <el-table-column label=\"起點\" prop=\"StartPtIndex\" width=\"120\">\r\n                        <template #default=\"scope\">\r\n                          <b>{{ GetPointName(scope.row.StartPtIndex) }}</b>\r\n                        </template>\r\n                      </el-table-column>\r\n                      <el-table-column label=\"終點\" prop=\"EndPtIndex\" width=\"120\">\r\n                        <template #default=\"scope\">\r\n                          <b>{{ GetPointName(scope.row.EndPtIndex) }}</b>\r\n                        </template>\r\n                      </el-table-column>\r\n                      <el-table-column label=\"操作\">\r\n                        <template #default=\"scope\">\r\n                          <div class=\"d-flex flex-row\">\r\n                            <b-button size=\"sm\" variant=\"primary\">編輯</b-button>\r\n                            <b-button\r\n                              class=\"mx-1\"\r\n                              size=\"sm\"\r\n                              variant=\"danger\"\r\n                              @click=\"HandlePathRemoveBtnClick(scope.row)\">移除</b-button>\r\n                          </div>\r\n                        </template>\r\n                      </el-table-column>\r\n                      <!-- <el-table-column label=\"是否為工位路線\" prop=\"IsEQLink\"></el-table-column> -->\r\n                    </el-table>\r\n                  </div>\r\n                </b-tab>\r\n              </b-tabs>\r\n            </div>\r\n          </div>\r\n          <!-- map render -->\r\n          <div\r\n            :id=\"id\"\r\n            v-bind:style=\"{ height: canva_height, marginTop: editable ? marginTop : '0px' }\"\r\n            class=\"agv_map flex-fll\"\r\n            @contextmenu=\"showContextMenu($event)\">\r\n            <!--提示-->\r\n            <el-alert class=\"notify-text\" v-if=\"editable && EditorOption.EditAction == 'add-station'\" title=\"使用滑鼠[右鍵]點擊地圖新增點位\" type=\"success\" />\r\n            <el-alert class=\"notify-text\" v-if=\"editable && EditorOption.EditAction == 'edit-station'\" title=\"使用滑鼠[右鍵]選擇欲編輯之點位\" type=\"success\" />\r\n            <el-alert class=\"notify-text\" v-if=\"editable && EditorOption.EditAction == 'remove-station'\" title=\"使用滑鼠[左鍵]選擇欲刪除之點位\" type=\"error\" />\r\n            <el-alert class=\"notify-text\" v-if=\"editable && EditorOption.EditAction == 'add-path' && EditorOption.AddPathMode.Direction == 'one-direction'\" title=\"使用滑鼠[左鍵]點擊地圖上任意兩個點位以新增一條單行道\" type=\"success\" />\r\n            <el-alert class=\"notify-text\" v-if=\"editable && EditorOption.EditAction == 'add-path' && EditorOption.AddPathMode.Direction == 'bi-direction'\" title=\"使用滑鼠[左鍵]點擊地圖上任意兩個點位以新增一條雙向道\" type=\"success\" />\r\n            <el-alert class=\"notify-text\" v-if=\"editable && EditorOption.EditAction == 'edit-path'\" title=\"使用滑鼠[右鍵]選擇欲編輯之路徑\" type=\"success\" />\r\n            <el-alert class=\"notify-text\" v-if=\"editable && EditorOption.EditAction == 'remove-path'\" title=\"使用滑鼠[左鍵]選擇欲刪除之路徑\" type=\"error\" />\r\n            <el-alert class=\"notify-text\" v-if=\"editable && EditorOption.EditAction == 'add-forbid-region'\" :title=\"`使用滑鼠[左鍵/右鍵]在地圖上繪製[${EditorOption.AddRegionMode.Mode == 'forbid' ? '禁制' : '通行'}]區(按下[ESC]可取消繪製)`\" type=\"success\" />\r\n            <el-alert class=\"notify-text\" v-if=\"editable && EditorOption.EditAction == 'edit-forbid-region'\" title=\"使用滑鼠[左鍵]在地圖上選取欲編輯之管制區)\" type=\"success\" />\r\n            <el-alert class=\"notify-text\" v-if=\"editable && EditorOption.EditAction == 'remove-forbid-region'\" title=\"使用滑鼠[左鍵]在地圖上點擊欲刪除之管制區\" type=\"error\" />\r\n            <!--  -->\r\n            <div v-if=\"true\" class=\"ol-control custom-buttons\">\r\n              <button @click=\"HandleSettingBtnClick\">\r\n                <i class=\"bi bi-sliders\"></i>\r\n              </button>\r\n              <button @click=\"HandleSettingBtnClick\">?</button>\r\n              <!-- <button>2</button> -->\r\n            </div>\r\n            <div class=\"ol-control cursour-coordination-show\">\r\n              <span style=\"color:rgb(24, 24, 24)\">{{ MouseCoordinationDisplay }}</span>\r\n            </div>\r\n            <!-- <QuicklyAction></QuicklyAction> -->\r\n          </div>\r\n        </div>\r\n        <MapSettingsDialog ref=\"settings\"></MapSettingsDialog>\r\n      </div>\r\n      <!-- 設定 -->\r\n      <div\r\n        class=\"options bg-light border-start text-start px-1 py-3\"\r\n        v-bind:style=\"{ marginTop: editable ? marginTop : '0px' }\">\r\n        <div v-if=\"station_show\" class=\"rounded d-flex flex-column\">\r\n          <span class=\"border-bottom\">顯示名稱</span>\r\n          <el-radio-group\r\n            v-model=\"station_name_display_mode\"\r\n            @change=\"StationNameDisplayOptHandler\">\r\n            <el-radio label=\"index\" size=\"large\">Index</el-radio>\r\n            <el-radio label=\"name\" size=\"large\">Name</el-radio>\r\n            <el-radio label=\"tag\" size=\"large\">Tag</el-radio>\r\n          </el-radio-group>\r\n        </div>\r\n        <div>\r\n          <span class=\"mx-1\">地圖模式</span>\r\n          <el-switch\r\n            @change=\"MapDisplayModeOptHandler\"\r\n            inactive-value=\"router\"\r\n            active-value=\"coordination\"\r\n            width=\"70\"\r\n            v-model=\"map_display_mode\"\r\n            inline-prompt\r\n            inactive-text=\"路網\"\r\n            active-text=\"Slam\"\r\n            inactive-color=\"seagreen\"></el-switch>\r\n        </div>\r\n        <div v-if=\"agv_show\">\r\n          <span class=\"mx-1\">AGV 顯示</span>\r\n          <el-switch\r\n            @change=\"AgvDisplayOptHandler\"\r\n            inactive-value=\"none\"\r\n            active-value=\"visible\"\r\n            width=\"70\"\r\n            v-model=\"agv_display\"\r\n            inline-prompt\r\n            inactive-text=\"隱藏\"\r\n            active-text=\"顯示\"\r\n            inactive-color=\"rgb(146, 148, 153)\"></el-switch>\r\n        </div>\r\n        <div>\r\n          <span class=\"mx-1\">地圖背景</span>\r\n          <el-switch\r\n            v-model=\"map_image_display\"\r\n            inactive-value=\"none\"\r\n            inactive-text=\"隱藏\"\r\n            active-value=\"visible\"\r\n            active-text=\"顯示\"\r\n            inactive-color=\"rgb(146, 148, 153)\"\r\n            inline-prompt\r\n            width=\"70\"\r\n            @change=\"SlamImageDisplayOptHandler\"></el-switch>\r\n        </div>\r\n        <div>\r\n          <span class=\"mx-1\">路網顯示</span>\r\n          <el-switch\r\n            v-model=\"routePathsVisible\"\r\n            inactive-text=\"隱藏\"\r\n            active-text=\"顯示\"\r\n            inline-prompt\r\n            inactive-color=\"rgb(146, 148, 153)\"\r\n            width=\"70\"\r\n            @change=\"(visible) => {\r\n              if (visible) {\r\n                if (map_display_mode == 'router') {\r\n                  PathLayerForCoordination.setVisible(false);\r\n                  PathLayerForRouter.setVisible(true);\r\n                } else {\r\n                  PathLayerForCoordination.setVisible(true);\r\n                  PathLayerForRouter.setVisible(false);\r\n                }\r\n              } else {\r\n                PathLayerForCoordination.setVisible(false);\r\n                PathLayerForRouter.setVisible(false);\r\n              }\r\n              HideNormalStations(!visible);\r\n            }\"></el-switch>\r\n        </div>\r\n        <div>\r\n          <span class=\"mx-1\">管制區顯示</span>\r\n          <el-switch\r\n            :disabled=\"map_display_mode != 'coordination'\"\r\n            v-model=\"regionsVisible\"\r\n            inactive-text=\"隱藏\"\r\n            active-text=\"顯示\"\r\n            inline-prompt\r\n            inactive-color=\"rgb(146, 148, 153)\"\r\n            width=\"70\"\r\n            @change=\"(visible) => {\r\n              RegionLayer.setVisible(visible && map_display_mode == 'coordination');\r\n            }\"></el-switch>\r\n        </div>\r\n        <div v-if=\"editable\" class=\"rounded\">\r\n          <el-tooltip content=\"開啟後於車載畫面上傳座標資訊後將會自動新增點位至地圖上\">\r\n            <span class=\"mx-1\">AGV上報點位模式</span>\r\n          </el-tooltip>\r\n          <el-switch\r\n            class=\"my-2\"\r\n            inactive-text=\"OFF\"\r\n            active-text=\"ON\"\r\n            inline-prompt\r\n            width=\"70\"\r\n            v-model=\"agv_upload_coordination_mode\"\r\n            @change=\"HandleAGVUploadCorrdinationChanged\"></el-switch>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <PointContextMenu\r\n      ref=\"EditModeContextMenu\"\r\n      v-show=\"editModeContextMenuVisible\"\r\n      :mouse_click_position=\"[contextMenuTop, contextMenuLeft]\"\r\n      :options=\"contextMenuOptions\"\r\n      @OnTaskBtnClick=\"HandleMenuTaskBtnClick\"\r\n      @OnPtSettingBtnClick=\"HandlePtSettingBtnClick\"></PointContextMenu>\r\n    <MapPointSettingDrawer\r\n      ref=\"ptsetting\"\r\n      @OnLeve=\"HandlePtSettingDrawerLeaved\"\r\n      @OnPointSettingChanged=\"PointSettingChangedHandle\"></MapPointSettingDrawer>\r\n    <MapPathSettingDrawer :SettingsChangedHandler=\"() => {\r\n      UpdateStationPathLayer();\r\n      HandlePathTbRowClick(SelectedPathData);\r\n\r\n    }\" @closed=\"HandlePathSetingDrawerClosed\" ref=\"path_editor\"></MapPathSettingDrawer>\r\n    <MapRegionEditDrawer @closed=\"HandleForbidRegionEditDrawerClosed\" ref=\"forbid_region_editor\"\r\n      :SettingsChangedHandler=\"() => {\r\n\r\n      }\"></MapRegionEditDrawer>\r\n    <el-dialog @closed=\"() => {\r\n      if (selected_path_feature) {\r\n        RestoreOriginalPathStyle(selected_path_feature)\r\n      }\r\n    }\" draggable width=\"600\" title=\"路徑選取\" v-model=\"ShowPathSelectDialog\">\r\n      <div class=\"bg-light text-start d-flex py-2\">\r\n        <b-button size=\"sm\" variant=\"success\" @click=\"() => {\r\n          PathesCandicats.forEach(path_setting => {\r\n            path_setting.IsPassable = true\r\n          });\r\n          UpdateStationPathLayer();\r\n          HandlePathTbRowClick(SelectedPathData);\r\n        }\">開放所有道路</b-button>\r\n        <b-button class=\"mx-2\" variant=\"danger\" size=\"sm\" @click=\"() => {\r\n          PathesCandicats.forEach(path_setting => {\r\n            path_setting.IsPassable = false\r\n          });\r\n          UpdateStationPathLayer();\r\n          HandlePathTbRowClick(SelectedPathData);\r\n        }\">關閉所有道路</b-button>\r\n      </div>\r\n      <el-table :data=\"PathesCandicats\" border>\r\n        <el-table-column label=\"ID\" prop=\"PathID\">\r\n          <template #default=\"scope\">\r\n            <el-tag effect=\"dark\">{{ scope.row.PathID }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"起點Index\" prop=\"StartPtIndex\"></el-table-column>\r\n        <el-table-column label=\"終點Index\" prop=\"EndPtIndex\"></el-table-column>\r\n        <el-table-column label=\"狀態\" prop=\"IsPassable\">\r\n          <template #default=\"scope\">\r\n            <el-tag effect=\"dark\" :type=\"scope.row.IsPassable ? 'success' : 'danger'\">{{ scope.row.IsPassable ? '開放' : '封閉' }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column>\r\n          <template #default=\"scope\">\r\n            <b-button variant=\"primary\" @click=\"HandlePathSelected(scope.row)\">選取</b-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Feature from 'ol/Feature.js';\r\nimport Map from 'ol/Map.js';\r\nimport Point from 'ol/geom/Point.js';\r\nimport VectorSource from 'ol/source/Vector.js';\r\nimport LineString from 'ol/geom/LineString';\r\nimport { Pointer } from 'ol/interaction'\r\nimport Draw from 'ol/interaction/Draw.js';\r\nimport Projection from 'ol/proj/Projection.js';\r\nimport Static from 'ol/source/ImageStatic.js';\r\nimport { getCenter } from 'ol/extent.js';\r\nimport View from 'ol/View.js';\r\nimport ImageLayer from 'ol/layer/Image.js';\r\nimport { Vector as VectorLayer } from 'ol/layer.js';\r\nimport { watch } from 'vue'\r\nimport bus from '@/event-bus.js'\r\nimport { clsMapStation, MapPointModel, clsAGVDisplay, MapRegion } from './mapjs';\r\nimport { GetStationStyle, CreateStationPathStyles, CreateEQLDULDFeature, CreateLocusPathStyles, AGVPointStyle, AGVCargoIconStyle, MapContextMenuOptions, MenuUseTaskOption, ChangeCargoIcon, createBezierCurvePoints, CreateNewStationPointFeature, CreateStationFeature, GetPointByIndex, CreateLocIcon, CreateTransTaskMark, CreateRegionPolygon } from './mapjs';\r\nimport { MapStore } from './store'\r\nimport { EqStore } from '@/store'\r\nimport { Fill, Stroke, Style, Circle, Text } from 'ol/style';\r\nimport MapSettingsDialog from './MapSettingsDialog.vue';\r\nimport PointContextMenu from './MapContextMenu.vue';\r\nimport MapPointSettingDrawer from '../MapPointSettingDrawer.vue';\r\nimport MapPathSettingDrawer from './MapPathSettingDrawer.vue'\r\nimport MapRegionEditDrawer from './MapRegionEditDrawer.vue';\r\nimport QuicklyAction from './QuicklyActionMenu.vue'\r\nimport { noModifierKeys } from 'ol/events/condition';\r\nimport { ElNotification } from 'element-plus'\r\n\r\n\r\n\r\nexport default {\r\n  components: {\r\n    QuicklyAction, MapSettingsDialog, PointContextMenu, MapPointSettingDrawer, MapPathSettingDrawer, MapRegionEditDrawer\r\n  },\r\n  props: {\r\n    editable: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    agv_show: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    station_show: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    eq_lduld_status_show: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    agv_upload_coordi_data: {\r\n      type: Object,\r\n      default() {\r\n        return {}\r\n      }\r\n    },\r\n    task_dispatch_menu_show: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    id: {\r\n      type: String,\r\n      default() {\r\n        return 'map'\r\n      }\r\n    },\r\n    canva_height: {\r\n      type: String,\r\n      default: '670px'\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      map: new Map(),\r\n      map_name: 'Unkown',\r\n      zoom: 2,\r\n      zoom_route: 2,\r\n      center: [0, 0],\r\n      center_route: [0, 0],\r\n      loading: false,\r\n      ShowPathSelectDialog: false,\r\n      IsPathEditing: false,\r\n      SelectedPathData: {},\r\n      PathesCandicats: [],\r\n      _map_stations: [],\r\n      ImageLayer: new ImageLayer(),\r\n      /**Slam座標圖層 */\r\n      PointLayer: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 2\r\n      }),\r\n      /**路網圖層 */\r\n      PointRouteLayer: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 2\r\n      }),\r\n      /**路網圖層 */\r\n      EQLDULDStatusLayer: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 2\r\n      }),\r\n      PathLayerForCoordination: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 0\r\n      }),\r\n      PathLayerForRouter: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 0\r\n      }),\r\n      //路網(路線)\r\n      AGVLocLayer: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 4\r\n      }),\r\n      AGVLocusLayer: new VectorLayer({\r\n        source: new VectorSource({\r\n          features: [],\r\n        }),\r\n        zIndex: 3\r\n      }), //軌跡圖顯示圖層\r\n      CustomLayer: new VectorLayer({\r\n        source: new VectorSource(\r\n          {\r\n            features: []\r\n          }\r\n        )\r\n      }),\r\n      TransferTaskIconLayer: new VectorLayer({\r\n        source: new VectorSource(\r\n          {\r\n            features: []\r\n          }\r\n        ),\r\n        zIndex: 22\r\n      }),\r\n      RegionLayer: new VectorLayer({\r\n        source: new VectorSource(\r\n          {\r\n            features: []\r\n          }\r\n        ),\r\n        zIndex: 22\r\n      }),\r\n      AGVFeatures: {},\r\n      MouseCoordination: undefined,\r\n      FeatureKeys: {\r\n        Station: 'station',\r\n        path: 'path',\r\n        nav_path: 'nav_path',\r\n        agv: 'agv'\r\n      },\r\n      IsDragging: false,\r\n      IsAddPathMode: true,\r\n      PathEditTempStore: [],\r\n      EditorOption: {\r\n        // EditMode: 'view',\r\n        EditMode: 'edit',\r\n        EditAction: 'none',\r\n        AddPathMode: {\r\n          Direction: 'one-direction'\r\n        },\r\n        AddRegionMode: {\r\n          Mode: 'forbid' //forbid;passible\r\n        }\r\n      },\r\n      /**顯示模式 : coordination 實際座標 ; router 整齊的路網*/\r\n      map_display_mode: 'router',\r\n      station_name_display_mode: 'name',\r\n      agv_display: 'visible',\r\n      map_image_display: 'visible',\r\n      left_tab_class_name: 'tab-close',\r\n      previousSelectedFeatures: [],\r\n      agv_upload_coordination_mode: false,\r\n      editModeContextMenuVisible: false,\r\n      taskDispatchContextMenuVisible: false,\r\n      routePathsVisible: true,\r\n      regionsVisible: true,\r\n      contextMenuTop: 0,\r\n      contextMenuLeft: 0,\r\n      contextMenuOptions: new MapContextMenuOptions(),\r\n      firstUseFlag: true,\r\n      selected_path_feature: undefined,\r\n      path_highlight_style: new Style({\r\n        stroke: new Stroke({\r\n          color: 'blue',\r\n          width: 8\r\n        })\r\n      }),\r\n      PathesSegmentsForEdit: [],\r\n      IsSelectAGVMode: false,\r\n      IsSelectEQStationMode: false,\r\n      TaskDispatchOptions: {\r\n        action_type: '',\r\n        direction: '',\r\n        stations_to_show: []\r\n      },\r\n      draw_forbid_regions_interaction: undefined,\r\n      delete_forbid_regions_interaction: undefined,\r\n      edit_forbid_regions_interaction: undefined,\r\n      mapEditsInteraction: undefined\r\n    }\r\n  },\r\n  computed: {\r\n    MapServerUrl() {\r\n      return MapStore.getters.MapServerUrl;\r\n    },\r\n    map_img_extent() {\r\n      return MapStore.getters.Map_Image_Boundary;\r\n    },\r\n    map_img_size() {\r\n      return MapStore.getters.Map_Image_Size;\r\n    },\r\n    PathesSegments() {\r\n      return MapStore.getters.Pathes;\r\n    },\r\n    previousSelectedFeature() {\r\n      return this.previousSelectedFeatures[0]\r\n    },\r\n    MouseCoordinationDisplay() {\r\n      if (!this.MouseCoordination) {\r\n        return '(-1,-1)'\r\n      }\r\n      return `(${this.MouseCoordination[0].toFixed(2)},${this.MouseCoordination[1].toFixed(2)})`\r\n    },\r\n    /**點位Feature集合 */\r\n    StationPointsFeatures() {\r\n      if (this.map_display_mode == \"coordination\") {\r\n        return this.PointLayer.getSource().getFeatures();\r\n      } else {\r\n        return this.PointRouteLayer.getSource().getFeatures();\r\n      }\r\n    },\r\n    AGVMapFeatures() {\r\n      return this.AGVLocLayer.getSource().getFeatures();\r\n    },\r\n    ShowWarningNotify() {\r\n      return this.EditorOption.EditMode != \"view\" && this.map_display_mode == \"coordination\";\r\n    },\r\n    map_station_data() {\r\n      return MapStore.getters.MapStations\r\n    },\r\n    BezierCurves() {\r\n      return MapStore.getters.BezierCurves\r\n    },\r\n    agvs_info() {\r\n      return MapStore.getters.AGVNavInfo;\r\n    },\r\n    eq_data() {\r\n      return EqStore.getters.EQData\r\n    },\r\n    /**dictionary<string:path_id,MapPath> */\r\n    ControledPathesBySystem() {\r\n      return MapStore.getters.ControledPathesBySystem;\r\n    },\r\n    radio_group_style() {\r\n      //position: relative;top: -11px;\r\n      if (this.EditorOption.EditAction == 'add-path' || this.EditorOption.EditAction == 'add-forbid-region')\r\n        return {\r\n          position: 'relative',\r\n          top: '-15px'\r\n        }\r\n      return {}\r\n    },\r\n    marginTop() {\r\n      if (this.EditorOption.EditAction == 'add-path' || this.EditorOption.EditAction == 'add-forbid-region')\r\n        return '106px'\r\n      return '86px';\r\n    },\r\n    path_view_style() {\r\n      if (this.EditorOption.EditAction == 'add-path' || this.EditorOption.EditAction == 'add-forbid-region')\r\n        return {\r\n          paddingTop: '116px'\r\n        }\r\n      return {\r\n        paddingTop: '86px'\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    GetPointName(index) {\r\n      var pt = GetPointByIndex(index)\r\n      if (pt) {\r\n        return pt.Name;\r\n      }\r\n    },\r\n    ClearMap() {\r\n      this.PathesSegmentsForEdit = [];\r\n      this.PathLayerForCoordination.getSource().clear();\r\n      this.PathLayerForRouter.getSource().clear();\r\n      this.PointRouteLayer.getSource().clear();\r\n      this.PointLayer.getSource().clear();\r\n      this.TransferTaskIconLayer.getSource().clear();\r\n    },\r\n    HandlePathRemoveBtnClick(path_data) {\r\n      var index = this.PathesSegmentsForEdit.indexOf(path_data);\r\n      this.PathesSegmentsForEdit.splice(index, 1);\r\n      this.UpdateStationPathLayer();\r\n    },\r\n    HandlePathTbRowClick(row, column, event) {\r\n      if (this.selected_path_feature) {\r\n        this.RestoreOriginalPathStyle(this.selected_path_feature)\r\n      }\r\n      //alert(JSON.stringify(row))\r\n      var path_source = this.PathLayerForCoordination.getSource();\r\n      var path_feature = path_source.getFeatures().find(ft => ft.get('path_id') == row.PathID)\r\n      if (path_feature) {\r\n        var oriStyles = path_feature.getStyle();\r\n        oriStyles[0] = this.path_highlight_style\r\n        path_feature.setStyle(oriStyles)\r\n        this.selected_path_feature = path_feature\r\n        if (!this.IsPathEditing) {\r\n          var path_coor = path_feature.getGeometry().getCoordinates()[0];\r\n          this.map.getView().setCenter(path_coor);\r\n        }\r\n      }\r\n    },\r\n    RestoreOriginalPathStyle(path_feature) {\r\n      if (!path_feature)\r\n        return;\r\n      var ori_style = path_feature.get('ori_stroke_style')\r\n      var styles = path_feature.getStyle();\r\n      styles[0] = ori_style\r\n      path_feature.setStyle(styles)\r\n    },\r\n    UpdateStationPointLayer() {\r\n      var stationPointFeatures = []\r\n      var stationPointFeatures_ForRouteShow = []//路網顯示用\r\n      for (let index = 0; index < this._map_stations.length; index++) {\r\n        var station = this._map_stations[index];\r\n        var iconFeature = CreateStationFeature(station)\r\n\r\n        stationPointFeatures.push(iconFeature)\r\n        var routeUseFeature = iconFeature.get('routeModeFeature')\r\n        if (routeUseFeature) {\r\n          stationPointFeatures_ForRouteShow.push(routeUseFeature)\r\n        }\r\n      }\r\n      var ptlayerSource = this.PointLayer.getSource();\r\n      ptlayerSource.clear();\r\n      ptlayerSource.addFeatures(stationPointFeatures);\r\n\r\n\r\n      var ptRouteLayerSource = this.PointRouteLayer.getSource();\r\n      ptRouteLayerSource.clear();\r\n      ptRouteLayerSource.addFeatures(stationPointFeatures_ForRouteShow);\r\n      this.UpdateEQLDULDFeature();\r\n    },\r\n    UpdateStationPathLayer() {\r\n      var source_coordination_mode = this.PathLayerForCoordination.getSource();\r\n      var source_router_mode = this.PathLayerForRouter.getSource();\r\n\r\n      source_coordination_mode.clear();\r\n      source_router_mode.clear();\r\n\r\n      var path_feature_collection_coordinatino_mode = [];\r\n      var path_feature_collection_router_mode = [];\r\n      var pathSegments = this.PathesSegmentsForEdit\r\n\r\n      var setPathFeatureProperties = function (feature, pathData) {\r\n        feature.set('start_pt_index', pathData.StartPtIndex)\r\n        feature.set('end_pt_index', pathData.EndPtIndex)\r\n        feature.set('path_id', pathData.PathID)\r\n        feature.set('isEqLink', pathData.IsEQLink)\r\n        feature.set('feature_type', 'path')\r\n        feature.set('isClose', !pathData.IsPassable)\r\n        var styles = CreateStationPathStyles(feature);\r\n        feature.setStyle(styles)\r\n        feature.set('ori_stroke_style', styles[0])\r\n\r\n      }\r\n\r\n      pathSegments.forEach(path => {\r\n        let path_Feature_coordination_mode = new Feature(\r\n          {\r\n            geometry: new LineString([path.StartCoordination, path.EndCoordination]),\r\n          },\r\n        );\r\n\r\n        var startPt = this._map_stations.find(pt => pt.index == path.StartPtIndex);\r\n        var endPt = this._map_stations.find(pt => pt.index == path.EndPtIndex);\r\n        let path_feature_route_mode = new Feature({\r\n          geometry: new LineString([[startPt.data.Graph.X, startPt.data.Graph.Y], [endPt.data.Graph.X, endPt.data.Graph.Y]]),\r\n\r\n        })\r\n        setPathFeatureProperties(path_Feature_coordination_mode, path);\r\n        setPathFeatureProperties(path_feature_route_mode, path);\r\n        path_feature_collection_coordinatino_mode.push(path_Feature_coordination_mode)\r\n        path_feature_collection_router_mode.push(path_feature_route_mode)\r\n      })\r\n\r\n      source_coordination_mode.addFeatures(path_feature_collection_coordinatino_mode);\r\n      source_router_mode.addFeatures(path_feature_collection_router_mode);\r\n      return;\r\n\r\n    },\r\n    UpdateEQLDULDFeature() {\r\n\r\n      if (this.editable) //編輯地圖模式下不更新\r\n        return;\r\n\r\n      var eqLDULDFeatures = []\r\n\r\n      for (let index = 0; index < this._map_stations.length; index++) {\r\n        var station = this._map_stations[index];\r\n        var lduldFeature = CreateEQLDULDFeature(station, this.map_display_mode)\r\n        eqLDULDFeatures.push(lduldFeature);\r\n\r\n      }\r\n      var EQLDULDStatusLayerSource = this.EQLDULDStatusLayer.getSource();\r\n      EQLDULDStatusLayerSource.clear();\r\n      EQLDULDStatusLayerSource.addFeatures(eqLDULDFeatures);\r\n    },\r\n    UpdateForbidPointLayer() {\r\n      this.RegionLayer.getSource().clear();\r\n      var _regions = MapStore.getters.Regions;\r\n      _regions.forEach(element => {\r\n        var _RegionObj = CreateRegionPolygon(element.Name, element.PolygonCoordinations, element.RegionType);\r\n        this.RegionLayer.getSource().addFeatures([_RegionObj.region_feature, _RegionObj.text_feature])\r\n      });\r\n    },\r\n    UpdateAGVLayer() {\r\n      if (this.agv_display != 'visible')\r\n        return;\r\n      this.agvs_info.AGVDisplays.forEach(agv_information => {\r\n\r\n        var agvfeatures = this.AGVFeatures[agv_information.AgvName]\r\n        if (agvfeatures) {  //以新增\r\n          var coordination = agv_information.Coordination;\r\n          var path_coordinations = agv_information.NavPathCoordinationList\r\n          if (this.map_display_mode == 'router') {\r\n            path_coordinations = [];\r\n\r\n            var ft = this.StationPointsFeatures.find(ft => ft.get('data').TagNumber == agv_information.Tag)\r\n            if (ft) {\r\n              coordination = ft.getGeometry().getCoordinates()\r\n            }\r\n            var pts = this.PointLayer.getSource().getFeatures();\r\n            for (let index = 0; index < agv_information.NavPathCoordinationList.length; index++) {\r\n              const coor = agv_information.NavPathCoordinationList[index];\r\n              var ft = pts.find(feature => feature.getGeometry().getCoordinates()[0] == coor[0] &&\r\n                feature.getGeometry().getCoordinates()[1] == coor[1])\r\n\r\n              var feature_ = this.StationPointsFeatures.find(feature => feature.get('index') == ft.get('index'))\r\n              path_coordinations.push(feature_.getGeometry().getCoordinates())\r\n            }\r\n\r\n          }\r\n          agvfeatures.agv_feature.setGeometry(new Point(coordination))\r\n          agvfeatures.cargo_icon_feature.setGeometry(new Point(coordination))\r\n          var style = agvfeatures.agv_feature.getStyle();\r\n          var image = style.getImage()\r\n\r\n          if (this.map_display_mode != 'router') {\r\n            image.setRotation((agv_information.Theta - 90) * -1 * Math.PI / 180.0)\r\n            style.setImage(image)\r\n          }\r\n\r\n          var actionString = agv_information.CurrentAction\r\n          var text = style.getText();\r\n          var agvText = agv_information.AgvName + (actionString == '' ? '' : `(${actionString})`);\r\n          agvText += agv_information.WaitingInfo.IsWaiting ? '\\r\\n' + agv_information.WaitingInfo.Descrption : '';\r\n          text.setText(agvText);\r\n\r\n          var fill = text.getBackgroundFill()\r\n          fill.setColor(!agv_information.AgvStates.is_online ? 'rgb(147, 147, 147)' : (agv_information.WaitingInfo.IsWaiting ? 'orange' : agv_information.TextColor))\r\n          text.setBackgroundFill(fill);\r\n          agvfeatures.agv_feature.setStyle(style)\r\n          agvfeatures.path_feature.setGeometry(new LineString(path_coordinations))\r\n          ChangeCargoIcon(agvfeatures.cargo_icon_feature, agv_information.CargoStatus)\r\n\r\n          //this.UpdateAGVLocByMapMode(this.map_display_mode, agv_information);\r\n        }\r\n        else {//動態新增AGV Feature\r\n\r\n          var _agvfeature = new Feature({\r\n            geometry: new Point(agv_information.Coordination)\r\n          })\r\n          _agvfeature.setStyle(AGVPointStyle(agv_information.AgvName, agv_information.TextColor))\r\n          _agvfeature.set('agvname', agv_information.AgvName)\r\n          _agvfeature.set(\"feature_type\", this.FeatureKeys.agv)\r\n\r\n          //\r\n          var nav_path_feature = new Feature({\r\n            geometry: new LineString([])\r\n          })\r\n          nav_path_feature.setStyle(CreateLocusPathStyles(agv_information.TextColor, 5))\r\n\r\n\r\n          var _cargo_icon_feature = _agvfeature.clone()\r\n          _cargo_icon_feature.setStyle(AGVCargoIconStyle())\r\n\r\n          this.AGVFeatures[agv_information.AgvName] = {\r\n            agv_feature: _agvfeature,\r\n            path_feature: nav_path_feature,\r\n            cargo_icon_feature: _cargo_icon_feature\r\n          };\r\n\r\n          var source = this.AGVLocLayer.getSource();\r\n\r\n          source.addFeature(_cargo_icon_feature);\r\n          source.addFeature(_agvfeature);\r\n          source.addFeature(nav_path_feature);\r\n\r\n        }\r\n      });\r\n    },\r\n    /**根據地圖顯示模式變更現有Agv的顯示位置 */\r\n    UpdateAGVLocByMapMode(mode = 'router' || 'coordination', agv_information = new clsAGVDisplay()) {\r\n\r\n      var agvfeature = this.AGVFeatures[agv_information.AgvName]\r\n      if (!agvfeature)\r\n        return;\r\n      var currentStationFeature = this.StationPointsFeatures.find(ft => ft.get('data').TagNumber == agv_information.Tag)\r\n      var coordination = currentStationFeature.getGeometry().getCoordinates()\r\n      agvfeature.agv_feature.setGeometry(new Point(coordination))\r\n\r\n    },\r\n    /**事件處理 */\r\n    InitMapEventHandler() {\r\n      var this_vue = this;\r\n\r\n      this.map.on('pointermove', (event) => {\r\n        this.MouseCoordination = event.coordinate\r\n\r\n        var feature = this.map.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\r\n          return feature;\r\n        });\r\n\r\n        if (feature) {\r\n          this.map.getTargetElement().style.cursor = 'pointer';\r\n        } else\r\n          this.map.getTargetElement().style.cursor = '';\r\n\r\n      })\r\n      this.map.on('pointerup', (e) => {\r\n        if (this.EditorOption.EditAction == 'add-station')\r\n          this.map.getTargetElement().style.cursor = 'crosshair';\r\n        else\r\n          this.map.getTargetElement().style.cursor = 'default';\r\n      })\r\n      this.map.on('pointerdown', (e) => {\r\n        this.map.getTargetElement().style.cursor = 'grabbing';\r\n      })\r\n      this.map.on('moveend', event => {\r\n        this.SaveSettingsToLocalStorage();\r\n\r\n      })\r\n\r\n\r\n    },\r\n    /**切換為刪除禁制區模式 */\r\n    HandleDeleteForbidRegionClicked() {\r\n      var _RemoveInteractions = () => {\r\n        this.RemoveInteraction(this.draw_forbid_regions_interaction);\r\n        this.RemoveInteraction(this.mapEditsInteraction);\r\n        this.RemoveInteraction(this.edit_forbid_regions_interaction);\r\n      }\r\n      //移除事件\r\n      _RemoveInteractions();\r\n\r\n      var _displayModeChanged = this.map_display_mode != 'coordination'\r\n      this.map_display_mode = 'coordination'\r\n      this.MapDisplayModeOptHandler(_displayModeChanged);\r\n      this.AddRemoveForbidRegionInteraction();\r\n\r\n    },\r\n    /**切換為編輯禁制區模式 */\r\n    HandleEditForbidRegionClicked() {\r\n      var _RemoveInteractions = () => {\r\n        this.RemoveInteraction(this.draw_forbid_regions_interaction);\r\n        this.RemoveInteraction(this.delete_forbid_regions_interaction);\r\n        this.RemoveInteraction(this.mapEditsInteraction);\r\n      }\r\n\r\n      _RemoveInteractions();\r\n      var _displayModeChanged = this.map_display_mode != 'coordination'\r\n      this.map_display_mode = 'coordination'\r\n      this.MapDisplayModeOptHandler(_displayModeChanged);\r\n      this.AddEditForbidRegionInteraction();\r\n    },\r\n    /**切換為繪製禁制區模式 */\r\n    HandleAddForbidRegionClicked(type) {\r\n      var _RemoveInteractions = () => {\r\n        this.RemoveInteraction(this.mapEditsInteraction);\r\n        this.RemoveInteraction(this.delete_forbid_regions_interaction);\r\n        this.RemoveInteraction(this.edit_forbid_regions_interaction);\r\n      }\r\n      _RemoveInteractions();\r\n      var _displayModeChanged = this.map_display_mode != 'coordination'\r\n      this.map_display_mode = 'coordination'\r\n      this.MapDisplayModeOptHandler(_displayModeChanged);\r\n      this.AddDrawForbidActionInteraction(type)\r\n\r\n    },\r\n    AddEditMapInteraction() {\r\n      this.RemoveForbidRegionOperationInteractions();\r\n      var this_vue = this;\r\n      this.mapEditsInteraction = new Pointer({\r\n        /**滑鼠點下事件 */\r\n        handleDownEvent: function (event) {\r\n          const isRightClick = event.originalEvent.button == 2\r\n          this_vue.editModeContextMenuVisible = false;\r\n\r\n          this_vue.ClearSelectedFeature();\r\n          var map = event.map;\r\n          var feature = map.forEachFeatureAtPixel(event.pixel, function (feature) {\r\n            return feature;\r\n          });\r\n\r\n          this.coordinate_ = event.coordinate;\r\n          var currentAction = this_vue.EditorOption.EditAction;\r\n\r\n\r\n          if (isRightClick && feature && feature.get('feature_type') == 'path' && currentAction == 'add-station') {\r\n            this_vue.InsertPointAtPathes(feature, event.coordinate);\r\n            return;\r\n          }\r\n\r\n          if (!feature) {\r\n\r\n            this_vue.IsDragging = false;\r\n            if (currentAction == 'add-station' && isRightClick) {\r\n\r\n              feature = CreateNewStationPointFeature(event.coordinate, this_vue.GenNewIndexOfStation());\r\n              //this_vue.map_stations.push(station)\r\n            } else\r\n              return false;\r\n          } else {\r\n\r\n            if (feature.get('type') == 'polygon' || feature.get('type') == 'text')\r\n              return false;\r\n            var _featureType = feature.get('feature_type')\r\n\r\n            var _isAGVSelected = () => this_vue.IsSelectAGVMode && _featureType == 'agv';\r\n            var _isEquipmentSelected = () => this_vue.IsSelectEQStationMode && _featureType == 'station';\r\n\r\n\r\n            if (_isAGVSelected()) {\r\n              var _agvname = feature.get('agvname');\r\n              bus.emit('/map/agv_selected', _agvname)\r\n            }\r\n\r\n            if (_isEquipmentSelected()) {\r\n              var _station_data = feature.get('data');\r\n              bus.emit('/map/station_selected', _station_data)\r\n            }\r\n\r\n          }\r\n\r\n\r\n          if (feature.get('feature_type') == 'lduld') {\r\n            var action = feature.get('action')\r\n            this_vue.HandleLDULDLabelClick(feature.get('data'), action);\r\n            return false;\r\n          }\r\n\r\n\r\n          this_vue.HighLightFeatureSelected([feature])\r\n          if (this_vue.EditorOption.EditMode == 'view') {\r\n            return false;\r\n          }\r\n\r\n          var featureType = feature.get('feature_type');\r\n          this.feature_ = feature;\r\n          this_vue.IsDragging = true;\r\n\r\n          if (currentAction == \"none\" && featureType != this_vue.FeatureKeys.Station)\r\n            return false;\r\n\r\n          if (event.originalEvent.button == 0) {//左鍵\r\n\r\n            if (featureType == this_vue.FeatureKeys.Station && currentAction == 'remove-station')\r\n              this_vue.RemoveStation(feature);\r\n            else if (featureType == this_vue.FeatureKeys.path && currentAction == 'remove-path')\r\n              this_vue.RemovePath(feature);\r\n            else if (currentAction == 'add-path')\r\n              this_vue.PushPathEndPointData(feature)\r\n          }\r\n          else if (event.originalEvent.button == 2) { //右鍵\r\n            if (featureType == this_vue.FeatureKeys.path && currentAction == 'edit-path') {\r\n              this_vue.OpenPath_editor(feature);\r\n            }\r\n          }\r\n          return true;\r\n        },\r\n        /**滑鼠拖曳事件 */\r\n        handleDragEvent: function (event) {\r\n          var is_editable = this_vue.editable;\r\n          var edit_mode = this_vue.EditorOption.EditMode;\r\n          var edit_action = this_vue.EditorOption.EditAction;\r\n\r\n          if (!is_editable || edit_mode != 'edit')\r\n            return;\r\n\r\n          if (edit_action == 'add-path' || edit_action == 'edit-path' || edit_action == 'remove-path')\r\n            return;\r\n\r\n          var deltaX = event.coordinate[0] - this.coordinate_[0];\r\n          var deltaY = event.coordinate[1] - this.coordinate_[1];\r\n          var geometry = this.feature_.getGeometry();\r\n          geometry.translate(deltaX, deltaY);\r\n          this_vue.MouseCoordination = this.coordinate_ = event.coordinate;\r\n\r\n          geometry = this.feature_.getGeometry();\r\n          var oriData = this.feature_.get('data')\r\n\r\n          if (!oriData)\r\n            return;\r\n          var newCoordinates = geometry.getCoordinates();\r\n\r\n          if (this_vue.map_display_mode == \"coordination\") {\r\n            oriData.X = newCoordinates[0];\r\n            oriData.Y = newCoordinates[1];\r\n          }\r\n          else {\r\n            oriData.Graph.X = newCoordinates[0];\r\n            oriData.Graph.Y = newCoordinates[1];\r\n          }\r\n\r\n          this.feature_.set('data', oriData)\r\n        },\r\n\r\n        /**滑鼠點擊後放開事件 */\r\n        handleUpEvent: function (ev) {\r\n\r\n          if (this_vue.EditorOption.EditMode == 'view') {\r\n\r\n            return;\r\n          }\r\n          var currentAction = this_vue.EditorOption.EditAction;\r\n          if (currentAction != 'add-path' && currentAction != 'remove-path') {\r\n            if (ev.originalEvent.button == 2) {//滑鼠右鍵\r\n              if (currentAction == 'edit-station') {\r\n                this_vue.HandlePtSettingBtnClick();\r\n              }\r\n              else if (currentAction == 'add-station') {\r\n                try {\r\n                  this_vue.AddFeatureToMapLayers(this.feature_);\r\n                }\r\n                catch (error) {//若該座標已經有新增feature會跳錯=>變成顯示設定面板\r\n                  console.error(error);\r\n                  this_vue.HandlePtSettingBtnClick();\r\n                }\r\n              }\r\n            }\r\n            this_vue.IsDragging = false;\r\n            try {\r\n              var index = this.feature_.get('index')\r\n              this_vue.ResetPathLinkOfRouteMode(index);\r\n              this_vue.ResetPathLinkOfCoordinationMode(index);\r\n            } catch (error) {\r\n            }\r\n          }\r\n          this.feature_ = null;\r\n          this.coordinate_ = null;\r\n        },\r\n\r\n        /**滑鼠移動事件 */\r\n        handleMoveEvent: function (event) {\r\n          var currentAction = this_vue.EditorOption.EditAction;\r\n          if (this_vue.EditorOption.EditMode == 'view')\r\n            return;\r\n          this_vue.MouseCoordination = event.coordinate\r\n          var map = event.map;\r\n          var feature = map.forEachFeatureAtPixel(event.pixel, function (feature, layer) {\r\n            return feature;\r\n          });\r\n          var cursor = ''\r\n          if (feature) {\r\n            var featureType = feature.get('feature_type');\r\n            if (currentAction == \"add-path\" && featureType != this_vue.FeatureKeys.Station) {\r\n              cursor = 'not-allowed'\r\n            }\r\n            else if (currentAction == \"remove-station\" && featureType != this_vue.FeatureKeys.Station)\r\n              cursor = 'not-allowed'\r\n\r\n            else if (currentAction == \"remove-path\" && featureType != this_vue.FeatureKeys.path)\r\n              cursor = 'not-allowed'\r\n            else\r\n              cursor = 'pointer'\r\n\r\n          }\r\n          else {\r\n            if (currentAction == \"add-station\") {\r\n              cursor = 'crosshair';\r\n            }\r\n            this.feature_ = undefined;\r\n          }\r\n          map.getTargetElement().style.cursor = cursor;\r\n\r\n        }\r\n      });\r\n      this.map.addInteraction(this.mapEditsInteraction);\r\n    },\r\n    AddDrawForbidActionInteraction(region_type = \"forbid|passible\") {\r\n      this.RemoveInteraction(this.draw_forbid_regions_interaction);\r\n      const value = 'Polygon';\r\n      var that = this;\r\n      var _isForbidRegion = region_type == 'forbid';\r\n      var _fillColor = _isForbidRegion ? 'rgba(255, 0, 0,0.5)' : 'rgba(116, 249, 42,0.5)';\r\n      var _strokeColor = _isForbidRegion ? 'red' : 'seagreen';\r\n      if (value !== 'None') {\r\n        this.draw_forbid_regions_interaction = new Draw({\r\n          source: this.RegionLayer.getSource(),\r\n          type: value,\r\n          condition: noModifierKeys,\r\n          style: new Style({\r\n            fill: new Fill({\r\n              color: _fillColor\r\n            }),\r\n            stroke: new Stroke({\r\n              color: 'blue',\r\n              width: 1\r\n            })\r\n          })\r\n        });\r\n        ///繪製完成後的事件觸發\r\n        this.draw_forbid_regions_interaction.on('drawend', (event) => {\r\n          var currnetForbidRegionCount = _isForbidRegion ? that.GetForbidRegionCount() : that.GetPassibleRegionCount();\r\n\r\n          var _name = _isForbidRegion ? `禁制區-${currnetForbidRegionCount + 1}` : `通行區-${currnetForbidRegionCount + 1}`;\r\n          const feature = event.feature; // 獲取繪製的多邊形要素\r\n          feature.set('type', 'polygon')\r\n          feature.set('name', _name)\r\n          feature.set('region_type', region_type)\r\n          const center = feature.getGeometry().getInteriorPoint().getCoordinates();\r\n          console.info(center)\r\n          feature.setStyle(new Style({\r\n            fill: new Fill({\r\n              color: _fillColor\r\n            }),\r\n            stroke: new Stroke({\r\n              color: _strokeColor,\r\n              width: 1 // 邊框寬度,\r\n            })\r\n          }));\r\n\r\n          // 新增文字要素\r\n          const textFeature = new Feature({\r\n            geometry: new Point(center), // 文字的位置為多邊形中心點\r\n          });\r\n          textFeature.set('type', 'text')\r\n          textFeature.set('name', _name)\r\n          textFeature.set('region_type', region_type)\r\n\r\n          // 定義文字樣式\r\n          textFeature.setStyle(new Style({\r\n            text: new Text({\r\n              text: _name, // 使用文字內容\r\n              scale: 1.2, // 文字標籤的縮放比例\r\n              fill: new Fill({\r\n                color: 'black' // 文字顏色\r\n              })\r\n            })\r\n          }));\r\n          that.RegionLayer.getSource().addFeature(textFeature);\r\n\r\n\r\n        })\r\n        this.map.addInteraction(this.draw_forbid_regions_interaction);\r\n      }\r\n    },\r\n    AddRemoveForbidRegionInteraction() {\r\n      this.RemoveInteraction(this.delete_forbid_regions_interaction);\r\n      var _forbidRegion_source = this.RegionLayer.getSource();\r\n      this.delete_forbid_regions_interaction = new Pointer({\r\n        handleDownEvent: function (event) {\r\n          var _map = event.map;\r\n          var feature = _map.forEachFeatureAtPixel(event.pixel, function (feature) {\r\n            return feature;\r\n          });\r\n\r\n          if (!feature)\r\n            return;\r\n          var _forbidRegionName = feature.get('name');\r\n          _forbidRegion_source.removeFeature(feature);\r\n          var _textFeature = _forbidRegion_source.getFeatures().find(f => f.get('name') == _forbidRegionName);\r\n          _forbidRegion_source.removeFeature(_textFeature);\r\n          //alert(_forbidRegionName)\r\n          ElNotification({\r\n            title: '管制區修改',\r\n            message: `管制區-${_forbidRegionName} 已刪除`,\r\n            position: 'bottom-right',\r\n            duration: 1000,\r\n          })\r\n        }\r\n      })\r\n      this.map.addInteraction(this.delete_forbid_regions_interaction)\r\n    },\r\n\r\n    AddEditForbidRegionInteraction() {\r\n      this.RemoveInteraction(this.edit_forbid_regions_interaction);\r\n      var _forbid_region_editor = this.$refs['forbid_region_editor'];\r\n      var _remove_keyboard_press_event_listner = this.RemoveKeyboardPressEventListener;\r\n      this.edit_forbid_regions_interaction = new Pointer({\r\n        handleDownEvent: function (event) {\r\n          var _map = event.map;\r\n          var feature = _map.forEachFeatureAtPixel(event.pixel, function (feature) {\r\n            return feature;\r\n          });\r\n          if (!feature || feature.get('type') != 'polygon')\r\n            return;\r\n\r\n          var _forbidRegionName = feature.get('name');\r\n          _remove_keyboard_press_event_listner();\r\n          _forbid_region_editor.Show(_forbidRegionName);\r\n        }\r\n      })\r\n      this.map.addInteraction(this.edit_forbid_regions_interaction)\r\n    },\r\n    /**移除指定的滑鼠事件 */\r\n    RemoveInteraction(interaction) {\r\n      if (interaction)\r\n        this.map.removeInteraction(interaction);\r\n    },\r\n    RemoveKeyboardPressEventListener() {\r\n      document.removeEventListener('keydown', this.EditModeKeybordEvents)\r\n    },\r\n    HideNormalStations(hide) {\r\n      var normalPtFeatures = this.StationPointsFeatures.filter(feature => feature.get('station_type') == 0)\r\n      normalPtFeatures.forEach(feature => {\r\n        if (hide) {\r\n          var invisibleStyle = new Style({\r\n            fill: new Fill({\r\n              color: 'rgba(0, 0, 0, 0)' // 透明填充颜色\r\n            }),\r\n            stroke: new Stroke({\r\n              color: 'rgba(0, 0, 0, 0)' // 透明边界颜色\r\n            }),\r\n            image: new Circle({\r\n              radius: 0 // 半径为0，不显示 \r\n            })\r\n          });\r\n          var oriStyle = feature.getStyle().clone()\r\n          feature.set('visible-style', oriStyle)\r\n          feature.setStyle(invisibleStyle)\r\n        } else {\r\n          var _oriStyle = feature.get('visible-style')\r\n          feature.setStyle(_oriStyle)\r\n        }\r\n      })\r\n    },\r\n    SaveSettingsToLocalStorage() {\r\n      var zoom = this.map.getView().getZoom()\r\n      var center = this.map.getView().getCenter()\r\n\r\n      if (this.map_display_mode == 'coordination') {\r\n        this.zoom = zoom;\r\n        this.center = center\r\n      } else {\r\n        this.zoom_route = zoom;\r\n        this.center_route = center\r\n      }\r\n      //儲存目前的地圖設定\r\n      localStorage.setItem(`map-${this.$route.name}`, JSON.stringify({\r\n        zoom: this.zoom,\r\n        zoom_route: this.zoom_route,\r\n        mode: this.map_display_mode,\r\n        center: this.center,\r\n        center_route: this.center_route,\r\n        station_name_display_mode: this.station_name_display_mode\r\n      }))\r\n\r\n    },\r\n    RestoreSettingsFromLocalStorage() {\r\n      var settings_json = localStorage.getItem(`map-${this.$route.name}`)\r\n      if (settings_json) {\r\n        var settings = JSON.parse(settings_json)\r\n        this.station_name_display_mode = settings.station_name_display_mode\r\n        this.map_display_mode = this.editable ? 'router' : settings.mode\r\n        this.zoom = settings.zoom;\r\n        //this.center = settings.center\r\n        //this.zoom_route = settings.zoom_route;\r\n        //this.center_route = settings.center_route\r\n      }\r\n    },\r\n\r\n    /**移除一個站點，並會把相關的路徑移除 */\r\n    RemoveStation(feature = new Feature()) {\r\n      var RemoveFeatureFromSource = function (source, _ptIndex) {\r\n        var _feature = source.getFeatures().find(f => f.get('index') == _ptIndex)\r\n        source.removeFeature(_feature)\r\n\r\n      }\r\n      var RemovePath = function (soure, path_data_reference, _feature) {\r\n        var ptIndex = _feature.get('index')\r\n        var paths_to_remove = path_data_reference.filter(path => path.StartPtIndex == ptIndex || path.EndPtIndex == ptIndex);\r\n        paths_to_remove.forEach(path => {\r\n          var path_id = path.PathID;\r\n          var feature_to_remove = soure.getFeatures().find(ft => ft.get('path_id') == path_id);\r\n          soure.removeFeature(feature_to_remove);\r\n          var index = path_data_reference.indexOf(path);\r\n          if (index != -1) {\r\n            path_data_reference.splice(index, 1);\r\n          }\r\n        })\r\n      }\r\n      var ptIndex = feature.get('index')\r\n      RemoveFeatureFromSource(this.PointLayer.getSource(), ptIndex);\r\n      RemoveFeatureFromSource(this.PointRouteLayer.getSource(), ptIndex);\r\n\r\n      RemovePath(this.PointLayer.getSource(), this.PathesSegmentsForEdit, feature);\r\n      this.UpdateStationPathLayer();\r\n    },\r\n    AddFeatureToMapLayers(feature) {\r\n      this.PointLayer.getSource().addFeature(feature)\r\n      this.PointRouteLayer.getSource().addFeature(feature)\r\n      var ptStation = new clsMapStation()\r\n      ptStation.index = ptStation.name = feature.get('index')\r\n      ptStation.tag = feature.get('tag')\r\n      ptStation.station_type = feature.get('station_type')\r\n      ptStation.targets = feature.get('targets')\r\n      ptStation.coordination = feature.get('coordination')\r\n      ptStation.graph = feature.get('graph')\r\n      ptStation.data = feature.get('data')\r\n      debugger\r\n      this._map_stations.push(ptStation);\r\n\r\n    },\r\n    /** bi_direction_remove => 自動將雙向路徑移除 */\r\n    RemovePath(path_feature, bi_direction_remove = false) {\r\n      debugger\r\n      var removed_path = []\r\n      var pathID = path_feature.get('path_id')\r\n      var pathIDSplited = pathID.split('_')\r\n      var startPtIndex = parseInt(pathIDSplited[0])\r\n      var endPtIndex = parseInt(pathIDSplited[1])\r\n      var startFeature = this.PointLayer.getSource().getFeatures().find(ft => ft.get('index') == startPtIndex)\r\n      var mapPointModel = startFeature.get('data')\r\n      delete mapPointModel.Target[endPtIndex]\r\n      var mapPointModel = startFeature.set('data', mapPointModel)\r\n      this.PathLayerForCoordination.getSource().removeFeature(path_feature);\r\n      var path = this.PathesSegmentsForEdit.find(path => path.PathID == pathID);\r\n      if (path) {\r\n        var index = this.PathesSegmentsForEdit.indexOf(path);\r\n        if (index != -1) {\r\n          this.PathesSegmentsForEdit.splice(index, 1);\r\n          this.UpdateStationPathLayer();\r\n\r\n          removed_path.push(path);\r\n        }\r\n\r\n        if (bi_direction_remove) {\r\n          var _reverse_path_id = `${endPtIndex}_${startPtIndex}`;\r\n          var _reverd_path_feature = this.PathLayerForCoordination.getSource().getFeatures().find(ft => ft.get('path_id') == _reverse_path_id);\r\n          if (_reverd_path_feature) {\r\n            var _removed_pathes = this.RemovePath(_reverd_path_feature, false);\r\n\r\n            _removed_pathes.forEach(p => {\r\n              removed_path.push(p);\r\n            })\r\n          }\r\n        }\r\n      }\r\n\r\n      return removed_path;\r\n      //this.PointLinksLayer.getSource().removeFeature(path_feature)\r\n    },\r\n    InsertPointAtPathes(removePathFeature, new_pt_coordinate) {\r\n      var new_pt_feature = CreateNewStationPointFeature(new_pt_coordinate, this.GenNewIndexOfStation());\r\n      //新增點位而且新增的位置是在既有的路徑線段上\r\n      var _removedPathes = this.RemovePath(removePathFeature, true); //移除現有路徑\r\n      this.AddFeatureToMapLayers(new_pt_feature)\r\n      //產生多組路徑\r\n      var stationFeatures = this.map_display_mode == 'router' ? this.PointRouteLayer.getSource().getFeatures() : this.PointLayer.getSource().getFeatures();\r\n\r\n      _removedPathes.forEach(path => {\r\n        var _startPtFeature1 = stationFeatures.find(ft => ft.get('index') == path.StartPtIndex);\r\n        var _endPtFeature1 = new_pt_feature\r\n        var _startPtFeature2 = new_pt_feature;\r\n        var _endPtFeature2 = stationFeatures.find(ft => ft.get('index') == path.EndPtIndex);\r\n        this.GenPath([_startPtFeature1, _endPtFeature1])\r\n        this.GenPath([_startPtFeature2, _endPtFeature2])\r\n      })\r\n      var ratio_from_start = this.CalculateNewPointRatioOfPathStart(_removedPathes[0], new_pt_feature);\r\n      //alert(ratio_from_start)\r\n      //this.ResetNewPointCoordination(ratio_from_start, new_pt_feature);\r\n    },\r\n    CalculateNewPointRatioOfPathStart(_path, new_pt_feature) {\r\n      var stationFeatures = this.map_display_mode == 'router' ? this.PointRouteLayer.getSource().getFeatures() : this.PointLayer.getSource().getFeatures();\r\n      //計算新增的點其位置在路徑上的比例\r\n      var _startPt = stationFeatures.find(ft => ft.get('index') == _path.StartPtIndex)\r\n      var _endPt = stationFeatures.find(ft => ft.get('index') == _path.EndPtIndex)\r\n\r\n      var _start_coordination = _startPt.getGeometry().getCoordinates();\r\n      var _end_coordination = _endPt.getGeometry().getCoordinates();\r\n      var _new_coordination = new_pt_feature.getGeometry().getCoordinates();\r\n\r\n      var totalDistance = Math.sqrt(Math.pow(_start_coordination[0] - _end_coordination[0], 2) + Math.pow(_start_coordination[1] - _end_coordination[1], 2));\r\n      var distanceFromStart = Math.sqrt(Math.pow(_start_coordination[0] - _new_coordination[0], 2) + Math.pow(_start_coordination[1] - _new_coordination[1], 2));\r\n      var _ratio = distanceFromStart / totalDistance;\r\n\r\n\r\n      return _ratio;\r\n    },\r\n    ResetNewPointCoordination(ratio, new_pt_feature) {\r\n      var stationFeaturesOfRouteMode = this.PointRouteLayer.getSource().getFeatures();\r\n      var stationFeaturesOfCoordinationMode = this.PointLayer.getSource().getFeatures();\r\n\r\n      var pt_index = new_pt_feature.get('index');\r\n\r\n      // var _start_from = stationFeaturesOfRouteMode.find(ft => ft.get('targets').includes(pt_index));\r\n      // var _end_to = stationFeaturesOfRouteMode.find(ft => ft.get('index') == new_pt_feature.get('targets')[0]);\r\n\r\n      // var _start_coord = _start_from.getGeometry().getCoordinates();\r\n      // var _end_coord = _end_to.getGeometry().getCoordinates();\r\n\r\n      // var newX = _start_coord[0] + (_end_coord[0] - _start_coord[0]) * ratio\r\n      // var newY = _start_coord[1] + (_end_coord[1] - _start_coord[1]) * ratio\r\n\r\n\r\n\r\n      var _start_from = stationFeaturesOfCoordinationMode.find(ft => ft.get('targets').includes(pt_index));\r\n      var _end_to = stationFeaturesOfCoordinationMode.find(ft => ft.get('index') == new_pt_feature.get('targets')[0]);\r\n\r\n      var _start_coord = _start_from.getGeometry().getCoordinates();\r\n      var _end_coord = _end_to.getGeometry().getCoordinates();\r\n\r\n      var newX = _start_coord[0] + (_end_coord[0] - _start_coord[0]) * ratio\r\n      var newY = _start_coord[1] + (_end_coord[1] - _start_coord[1]) * ratio\r\n\r\n      //更新slam模式的新座標位置\r\n      var feature_ = stationFeaturesOfCoordinationMode.find(pt => pt.get('index') == pt_index)\r\n      var oriData = feature_.get('data')\r\n      var newCoordinates = [newX, newY];\r\n      oriData.X = newCoordinates[0];\r\n      oriData.Y = newCoordinates[1];\r\n      feature_.set('data', oriData)\r\n      // alert(JSON.stringify([newX, newY]))\r\n\r\n\r\n\r\n      this.ResetPathLinkOfRouteMode(pt_index);\r\n      this.ResetPathLinkOfCoordinationMode(pt_index);\r\n\r\n    },\r\n    ResetPathLinkOfCoordinationMode(pt_index, remove = false) {\r\n      var feature = this.PointLayer.getSource().getFeatures().find(f => f.get('index') == pt_index);\r\n      var path_features = this.PathLayerForCoordination.getSource().getFeatures();\r\n      try {\r\n        //起點是自己\r\n        var pathes = path_features.filter(path_feat => path_feat.get('start_pt_index') == pt_index);\r\n        for (var i = 0; i < pathes.length; i++) {\r\n          var path_featureFound = pathes[i];\r\n          var path_id = path_featureFound.get('path_id')\r\n          var path_seq_data = this.PathesSegmentsForEdit.find(path => path.PathID == path_id);\r\n          if (path_featureFound) {\r\n            if (remove) {\r\n              source.removeFeature(path_featureFound);\r\n              this.PathesSegmentsForEdit.remove(path_seq_data);\r\n            }\r\n            else {\r\n              var ori_geo = path_featureFound.getGeometry()\r\n              var ori_endCoord = ori_geo.getCoordinates()[1]\r\n              var newStartCoordinates = feature.getGeometry().getCoordinates();\r\n              var geometry = new LineString([newStartCoordinates, ori_endCoord])\r\n              path_featureFound.setGeometry(geometry)\r\n              path_featureFound.setStyle(CreateStationPathStyles(path_featureFound))\r\n              path_seq_data.StartCoordination = newStartCoordinates;\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n      }\r\n      try {\r\n        //終點是自己\r\n        var pathes = path_features.filter(feat => feat.get('end_pt_index') == pt_index)\r\n        for (var i = 0; i < pathes.length; i++) {\r\n          var path_feature = pathes[i]\r\n          var pathSeqmentData = this.PathesSegmentsForEdit.find(path => path.PathID == path_feature.get('path_id'));\r\n          if (remove) {\r\n            source.removeFeature(path_feature)\r\n            this.PathesSegmentsForEdit.remove(pathSeqmentData);\r\n          }\r\n          else {\r\n            var ori_geo = path_feature.getGeometry()\r\n            var ori_startCoord = ori_geo.getCoordinates()[0]\r\n            var newEndCoordinates = feature.getGeometry().getCoordinates();\r\n            var geometry = new LineString([ori_startCoord, newEndCoordinates])\r\n            path_feature.setGeometry(geometry)\r\n            path_feature.setStyle(CreateStationPathStyles(path_feature))\r\n            pathSeqmentData.EndCoordination = newEndCoordinates;\r\n\r\n          }\r\n        }\r\n      } catch (error) {\r\n\r\n      }\r\n    },\r\n    ResetPathLinkOfRouteMode(pt_index, remove = false) {\r\n      var feature = this.PointRouteLayer.getSource().getFeatures().find(f => f.get('index') == pt_index);\r\n      var path_features = this.PathLayerForRouter.getSource().getFeatures();\r\n      try {\r\n        //起點是自己\r\n        var pathes = path_features.filter(path_feat => path_feat.get('start_pt_index') == pt_index);\r\n        for (var i = 0; i < pathes.length; i++) {\r\n          var path_featureFound = pathes[i];\r\n          var path_id = path_featureFound.get('path_id')\r\n          var path_seq_data = this.PathesSegmentsForEdit.find(path => path.PathID == path_id);\r\n          if (path_featureFound) {\r\n            if (remove) {\r\n              source.removeFeature(path_featureFound);\r\n              this.PathesSegmentsForEdit.remove(path_seq_data);\r\n            }\r\n            else {\r\n              var ori_geo = path_featureFound.getGeometry()\r\n              var ori_endCoord = ori_geo.getCoordinates()[1]\r\n              var newStartCoordinates = feature.getGeometry().getCoordinates();\r\n              var geometry = new LineString([newStartCoordinates, ori_endCoord])\r\n              path_featureFound.setGeometry(geometry)\r\n              path_featureFound.setStyle(CreateStationPathStyles(path_featureFound))\r\n              //path_seq_data.StartCoordination = newStartCoordinates;\r\n            }\r\n          }\r\n        }\r\n      } catch (error) {\r\n      }\r\n      try {\r\n        //終點是自己\r\n        var pathes = path_features.filter(feat => feat.get('end_pt_index') == pt_index)\r\n        for (var i = 0; i < pathes.length; i++) {\r\n          var path_feature = pathes[i]\r\n          var pathSeqmentData = this.PathesSegmentsForEdit.find(path => path.PathID == path_feature.get('path_id'));\r\n          if (remove) {\r\n            source.removeFeature(path_feature)\r\n            this.PathesSegmentsForEdit.remove(pathSeqmentData);\r\n          }\r\n          else {\r\n            var ori_geo = path_feature.getGeometry()\r\n            var ori_startCoord = ori_geo.getCoordinates()[0]\r\n            var newEndCoordinates = feature.getGeometry().getCoordinates();\r\n            var geometry = new LineString([ori_startCoord, newEndCoordinates])\r\n            path_feature.setGeometry(geometry)\r\n            path_feature.setStyle(CreateStationPathStyles(path_feature))\r\n          }\r\n        }\r\n      } catch (error) {\r\n\r\n      }\r\n    },\r\n    ResetPathLink(path_layer, pt_index, remove = false) {\r\n      var source = path_layer.getSource();\r\n      var path_features = source.getFeatures();\r\n      var feature = path_features.find(ft => ft.get('index') == pt_index)\r\n      debugger\r\n      try {\r\n        //起點是自己\r\n        var pathes = path_features.filter(path_feat => path_feat.get('start_pt_index') == pt_index)\r\n        pathes.forEach(path_featureFound => {\r\n          var path_id = path_featureFound.get('path_id')\r\n          var path_seq_data = this.PathesSegmentsForEdit.find(path => path.PathID == path_id);\r\n          if (path_featureFound) {\r\n            if (remove) {\r\n              source.removeFeature(path_featureFound)\r\n              this.PathesSegmentsForEdit.remove(path_seq_data);\r\n            } else {\r\n              var ori_geo = path_featureFound.getGeometry()\r\n              var ori_endCoord = ori_geo.getCoordinates()[1]\r\n              var newStartCoordinates = feature.getGeometry().getCoordinates();\r\n              var geometry = new LineString([newStartCoordinates, ori_endCoord])\r\n              path_featureFound.setGeometry(geometry)\r\n              path_featureFound.setStyle(CreateStationPathStyles(path_featureFound))\r\n              path_seq_data.StartCoordination = newStartCoordinates;\r\n            }\r\n          }\r\n        })\r\n\r\n      } catch (error) {\r\n      }\r\n\r\n      try {\r\n        //終點是自己\r\n        debugger\r\n        var lineStrings = path_features.filter(feat => feat.get('end_pt_index') == pt_index)\r\n        lineStrings.forEach(path_feature => {\r\n          var pathSeqmentData = this.PathesSegmentsForEdit.find(path => path.PathID == path_feature.get('path_id'));\r\n          if (remove) {\r\n            source.removeFeature(path_feature)\r\n            this.PathesSegmentsForEdit.remove(pathSeqmentData);\r\n          }\r\n          else {\r\n            var ori_geo = path_feature.getGeometry()\r\n            var ori_startCoord = ori_geo.getCoordinates()[0]\r\n            var newEndCoordinates = feature.getGeometry().getCoordinates();\r\n            var geometry = new LineString([ori_startCoord, newEndCoordinates])\r\n            path_feature.setGeometry(geometry)\r\n            path_feature.setStyle(CreateStationPathStyles(path_feature))\r\n            pathSeqmentData.EndCoordination = newEndCoordinates;\r\n          }\r\n\r\n        });\r\n\r\n      } catch (error) {\r\n\r\n      }\r\n\r\n    },\r\n    PushPathEndPointData(feature = new Feature()) {\r\n\r\n      if (feature.get(\"feature_type\") != this.FeatureKeys.Station)\r\n        return;\r\n\r\n      if (this.PathEditTempStore.length == 2) {\r\n        this.PathEditTempStore = []\r\n      }\r\n      else if (this.PathEditTempStore.length == 1) {\r\n        if (this.PathEditTempStore[0].get('index') == feature.get('index')) {\r\n          return\r\n        }\r\n      }\r\n      this.PathEditTempStore.push(feature)\r\n      if (this.PathEditTempStore.length == 2) {\r\n        this.GenPath(this.PathEditTempStore);\r\n\r\n        if (this.EditorOption.AddPathMode.Direction == 'bi-direction') {\r\n          var reverse = [this.PathEditTempStore[1], this.PathEditTempStore[0]]\r\n          this.GenPath(reverse);\r\n        }\r\n      }\r\n    },\r\n    GenPath(start_end_features = []) {\r\n      var startPointFeature = start_end_features[0];\r\n      var endPointFeature = start_end_features[1];\r\n      var startPtIndex = startPointFeature.get('index');\r\n      var endPtIndex = endPointFeature.get('index');\r\n\r\n      var startPtTagX = startPointFeature.get('data').X;\r\n      var startPtTagY = startPointFeature.get('data').Y;\r\n\r\n      var endPtTagX = endPointFeature.get('data').X;\r\n      var endPtTagY = endPointFeature.get('data').Y;\r\n\r\n      var startPointCoordinate = startPointFeature.getGeometry().getCoordinates();\r\n      var endPointCoordinate = endPointFeature.getGeometry().getCoordinates();\r\n      var midPoint = [(startPointCoordinate[0] + endPointCoordinate[0]) / 2, (startPointCoordinate[1] + endPointCoordinate[1]) / 2]\r\n      var mindfeature = CreateNewStationPointFeature(midPoint, this.GenNewIndexOfStation());\r\n      //this.PointLayer.getSource().addFeature(mindfeature)\r\n      var isEqLink = endPointFeature.get('station_type') != 0 || startPointFeature.get('station_type') != 0;\r\n      var path_id = `${startPtIndex}_${endPtIndex}`\r\n\r\n      if (this.PathLayerForCoordination.getSource().getFeatures().find(f => f.get('path_id') == path_id))\r\n        return;\r\n\r\n      var New_MapPath_V2 = {\r\n        PathID: path_id,\r\n        StartPtIndex: startPtIndex,\r\n        EndPtIndex: endPtIndex,\r\n        StartCoordination: [startPtTagX, startPtTagY],\r\n        EndCoordination: [endPtTagX, endPtTagY],\r\n        IsEQLink: isEqLink,\r\n        IsSingleCar: false,\r\n        IsPassable: true,\r\n        IsExtinguishingPath: false,\r\n        Speed: 1,\r\n        LsrMode: 0,\r\n        DodgeMode: 0,\r\n        SpinMode: 0,\r\n      }\r\n      this.PathesSegmentsForEdit.push(New_MapPath_V2);\r\n\r\n      var oritargets = startPointFeature.get('targets');\r\n      if (!oritargets)\r\n        oritargets = []\r\n      var startPtMapData = startPointFeature.get('data')\r\n      startPtMapData.Target[endPtIndex] = 1//\r\n      startPointFeature.set('data', startPtMapData)\r\n      oritargets.push(endPtIndex)\r\n      startPointFeature.set('targets', oritargets)\r\n\r\n      this.UpdateStationPathLayer();\r\n    },\r\n    GenNewIndexOfStation() {\r\n\r\n      var currentIndexes = this.PointLayer.getSource().getFeatures().map(fea => fea.get('index'))\r\n      var sorted = currentIndexes.filter(a => a != undefined).sort((a, b) => a - b)\r\n      var index = sorted.length == 0 ? 0 : sorted[sorted.length - 1] + 1;\r\n\r\n      return index;\r\n    },\r\n    AgvDisplayOptHandler() {\r\n      this.AGVLocLayer.setVisible(this.agv_display == 'visible')\r\n    },\r\n    SlamImageDisplayOptHandler() {\r\n      if (this.map_display_mode != 'coordination') {\r\n        this.UpdateStationPathLayer()\r\n      }\r\n      this.ImageLayer.setVisible(this.map_image_display == 'visible')\r\n    },\r\n    MapDisplayModeOptHandler(setViewCenter = true) {\r\n      var isShowSlamCoordi = this.map_display_mode == \"coordination\";\r\n      this.UpdateStationPathLayer()\r\n      this.StationNameDisplayOptHandler();\r\n      this.PointLayer.setVisible(isShowSlamCoordi);\r\n      this.PointRouteLayer.setVisible(!isShowSlamCoordi);\r\n      this.PathLayerForCoordination.setVisible(isShowSlamCoordi);\r\n      this.PathLayerForRouter.setVisible(!isShowSlamCoordi);\r\n      this.RegionLayer.setVisible(isShowSlamCoordi);\r\n\r\n      this.UpdateEQLDULDFeature();\r\n      this.UpdateAGVLocLocation();\r\n\r\n      if (setViewCenter)\r\n        this.map.getView().setCenter(isShowSlamCoordi ? this.GetMidPointOfCoordinationMode() : this.GetMidPointOfRouterMode());\r\n\r\n    },\r\n    UpdateAGVLocLocation() {\r\n\r\n      this.agvs_info.AGVDisplays.forEach(agv_information => {\r\n        this.UpdateAGVLocByMapMode(this.map_display_mode, agv_information);\r\n      })\r\n    },\r\n    GetMidPointOfRouterMode() {\r\n      var map_stations_copy = [...this._map_stations]\r\n      map_stations_copy.sort((a, b) => a.graph[0] - b.graph[0]);\r\n      var first = map_stations_copy[0]\r\n      var last = map_stations_copy[map_stations_copy.length - 1]\r\n      var mid_x = (last.graph[0] + first.graph[0]) / 2\r\n\r\n      map_stations_copy.sort((a, b) => a.graph[1] - b.graph[1]);\r\n      first = map_stations_copy[0]\r\n      last = map_stations_copy[map_stations_copy.length - 1]\r\n      var mid_y = (last.graph[1] + first.graph[1]) / 2\r\n      return [mid_x, mid_y]\r\n    },\r\n    GetMidPointOfCoordinationMode() {\r\n      var map_stations_copy = [...this._map_stations]\r\n      map_stations_copy.sort((a, b) => a.coordination[0] - b.coordination[0]);\r\n      var first = map_stations_copy[0]\r\n      var last = map_stations_copy[map_stations_copy.length - 1]\r\n      var mid_x = (last.coordination[0] + first.coordination[0]) / 2\r\n\r\n      map_stations_copy.sort((a, b) => a.coordination[1] - b.coordination[1]);\r\n      first = map_stations_copy[0]\r\n      last = map_stations_copy[map_stations_copy.length - 1]\r\n      var mid_y = (last.coordination[1] + first.coordination[1]) / 2\r\n      console.log(mid_x, mid_y)\r\n      return [mid_x, mid_y]\r\n    },\r\n    StationNameDisplayOptHandler() {\r\n\r\n      this.StationPointsFeatures.forEach(ft => {\r\n        var index = ft.get('index');\r\n        var mapdata = ft.get('data')\r\n        var displayName = ''\r\n        if (this.station_name_display_mode == 'index')\r\n          displayName = index + '';\r\n        if (this.station_name_display_mode == 'name')\r\n          displayName = mapdata.Graph.Display;\r\n        if (this.station_name_display_mode == 'tag')\r\n          displayName = mapdata.TagNumber + '';\r\n        var station_type = mapdata.StationType;\r\n        ft.setStyle(GetStationStyle(displayName, station_type, mapdata));\r\n      })\r\n      this.SaveSettingsToLocalStorage();\r\n    },\r\n    /**顯示軌跡 */\r\n    ShowLocus(coordinate_list = [], color = 'red', width = 1) {\r\n      var source = this.AGVLocusLayer.getSource()\r\n      if (source) {\r\n        var features = []\r\n        source.clear()\r\n        //創建起終點圖標\r\n        let iconFeature_end = CreateLocIcon(coordinate_list[coordinate_list.length - 1], false);\r\n        //features.push(iconFeature_start);\r\n        //創建軌跡 LineString\r\n        let lineFeature = new Feature(\r\n          {\r\n            geometry: new LineString(coordinate_list),\r\n          },\r\n        );\r\n        lineFeature.setStyle(CreateLocusPathStyles(color, width))\r\n        features.push(lineFeature)\r\n        features.push(iconFeature_end);\r\n\r\n        source.addFeatures(features)\r\n      }\r\n    },\r\n    /**儲存按鈕處理 */\r\n    HandlerSaveBtnClick() {\r\n      //把feature中的 'data' 物件資料取出\r\n      var Points = {}\r\n      this.PointLayer.getSource().getFeatures().forEach(ft => {\r\n        var index = ft.get('index')\r\n        var data = ft.get('data')\r\n        Points[index] = data;\r\n      })\r\n      var mapDataSave = {\r\n        Points: Points,\r\n        Pathes: this.PathesSegmentsForEdit,\r\n        Regions: this.GetRegionsDataFromLayer()\r\n      }\r\n      this.$emit('save', mapDataSave)\r\n    },\r\n\r\n    HandlePtSettingBtnClick() {\r\n      this.RemoveKeyboardPressEventListener();\r\n      this.editModeContextMenuVisible = false;\r\n      this.$refs.ptsetting.Show({\r\n        index: this.previousSelectedFeature.get('index'),\r\n        point: this.previousSelectedFeature.get('data')\r\n      })\r\n    },\r\n    ReloadMap(confirm = true) {\r\n      this.$swal.fire(\r\n        {\r\n          text: '確定要重新載入圖資?',\r\n          title: '',\r\n          icon: 'warning',\r\n          showCancelButton: true,\r\n          confirmButtonText: '確定',\r\n          cancelButtonText: '取消',\r\n          customClass: 'my-sweetalert'\r\n        }).then(async (res) => {\r\n          if (res.isConfirmed) {\r\n            this.loading = true;\r\n            await MapStore.dispatch('DownloadMapData', '');\r\n            console.log('re-done');\r\n            this.RefreshMap();\r\n            this.loading = false;\r\n          }\r\n        })\r\n    },\r\n    DeepClonePathSegmentData() {\r\n      this.PathesSegmentsForEdit = JSON.parse(JSON.stringify(this.PathesSegments))\r\n    },\r\n    InitMap() {\r\n      const extent = this.map_img_extent;\r\n      const projection = new Projection({\r\n        code: 'xkcd-image',\r\n        units: 'pixels',\r\n        extent: extent,\r\n      });\r\n      this.map_name = MapStore.getters.MapName\r\n      this.ImageLayer = new ImageLayer({\r\n        source: new Static({\r\n          // url: 'Map.png',\r\n          url: `${this.MapServerUrl}/MapFiles/${this.map_name}.png`,\r\n          projection: projection,\r\n          imageExtent: extent,\r\n          imageSize: this.map_img_size,\r\n\r\n        }),\r\n        visible: this.map_image_display == 'visible'\r\n      })\r\n\r\n      const vectorSource = new VectorSource({\r\n        features: [],\r\n      });\r\n      this.AGVLocusLayer = new VectorLayer({\r\n        source: vectorSource,\r\n      })\r\n      this.map = new Map({\r\n        layers: [this.ImageLayer, this.TransferTaskIconLayer, this.EQLDULDStatusLayer, this.PathLayerForCoordination, this.PathLayerForRouter, this.PointLayer, this.PointRouteLayer, this.AGVLocLayer, this.AGVLocusLayer, this.RegionLayer],\r\n        target: this.id,\r\n        view: new View({\r\n          projection: projection,\r\n          center: [0, 0],\r\n          zoom: 1,\r\n          maxZoom: 20\r\n        })\r\n      })\r\n      this.AGVLocLayer.setVisible(this.agv_show)\r\n      if (this.editable) {\r\n        this.PointLayer.setVisible(false);\r\n        this.PathLayerForCoordination.setVisible(false);\r\n        this.PointRouteLayer.setVisible(true);\r\n        this.PathLayerForRouter.setVisible(true);\r\n      } else {\r\n        // this.PathLayerForCoordination.setVisible(this.map_display_mode == 'coordination');\r\n        // this.PathLayerForRouter.setVisible(this.map_display_mode == 'router');\r\n      }\r\n      this.EQLDULDStatusLayer.setVisible(!this.editable)\r\n      this.InitMapEventHandler();\r\n\r\n    },\r\n    GetForbidRegionCount() {\r\n      var _features = this.RegionLayer.getSource().getFeatures()\r\n      var _polygons = _features.filter(f => f.get('type') == 'polygon' && f.get('region_type') == 'forbid')\r\n      return _polygons.length;\r\n    },\r\n    GetPassibleRegionCount() {\r\n      var _features = this.RegionLayer.getSource().getFeatures()\r\n      var _polygons = _features.filter(f => f.get('type') == 'polygon' && f.get('region_type') == 'passible')\r\n      return _polygons.length;\r\n    },\r\n    GetRegionsDataFromLayer() {\r\n      let output = [];\r\n      var _features = this.RegionLayer.getSource().getFeatures()\r\n\r\n      var _polygons = _features.filter(f => f.get('type') == 'polygon')\r\n\r\n      _polygons.forEach(polygon_feature => {\r\n        var _name = polygon_feature.get('name')\r\n        var _regionType = polygon_feature.get('region_type')\r\n        var flatCoordinates = polygon_feature.getGeometry().flatCoordinates;\r\n\r\n        function createPolygons(coordinates) {\r\n          const polygons = [];\r\n          let currentPolygon = [];\r\n          for (let i = 0; i < coordinates.length; i++) {\r\n            currentPolygon.push(coordinates[i]);\r\n            if (i % 2 === 1) {\r\n              // 當經過每一個頂點時，將當前多邊形的頂點數組存入多邊形陣列\r\n              polygons.push(currentPolygon);\r\n              currentPolygon = [];\r\n            }\r\n          }\r\n          return polygons;\r\n        }\r\n        let coordinate_list = createPolygons(flatCoordinates);\r\n        output.push(new MapRegion(_name ? _name : `禁制區-${GetForbidRegionCount() + 1}`, coordinate_list, _regionType == 'forbid' ? 0 : 1))\r\n      })\r\n      console.log(output)\r\n      return output;\r\n    },\r\n\r\n    ResetMapCenterViaAGVLoc(agv_name) {\r\n      //Get AGV Coordination\r\n      var agvfeatures = this.AGVFeatures[agv_name]\r\n      if (agvfeatures) {\r\n        var coordination = agvfeatures.agv_feature.getGeometry().getCoordinates()\r\n        this.map.getView().setCenter(coordination)\r\n        //this.map.getView().setZoom(4)\r\n      }\r\n    },\r\n    HandleSettingBtnClick() {\r\n      this.$refs.settings.show = true;\r\n    },\r\n    ClearSelectedFeature() {\r\n      if (this.editable)\r\n        return;\r\n\r\n      try {\r\n        this.previousSelectedFeatures.forEach(feature => {\r\n          var oriStyle = feature.get('oristyle')\r\n          feature.setStyle(oriStyle);\r\n        })\r\n        var oriStyle = this.previousSelectedFeature.get('oristyle')\r\n        this.previousSelectedFeature.setStyle(oriStyle);\r\n      } catch {\r\n\r\n      }\r\n      this.previousSelectedFeatures = []\r\n    },\r\n    HighLightFeatureSelected(features = [new Feature()], color = 'red') {\r\n      if (this.editable) {\r\n        this.previousSelectedFeatures = [];\r\n        this.previousSelectedFeatures.push(features[0])\r\n\r\n        return;\r\n      }\r\n      try {\r\n        this.ClearSelectedFeature();\r\n        features.forEach(feature => {\r\n          var style = feature.getStyle()\r\n          if (style) {\r\n            feature.set(\"oristyle\", style.clone())\r\n            var newStyle = style.clone()\r\n            var text = newStyle.getText();\r\n            if (text) {\r\n              var stroke = text.getStroke()\r\n              if (stroke) {\r\n                var newStroke = stroke.clone();\r\n                newStroke.setColor(color)\r\n                text.setStroke(newStroke)\r\n                feature.setStyle(newStyle)\r\n              }\r\n            }\r\n          }\r\n          this.previousSelectedFeatures.push(feature)\r\n        })\r\n      } catch (error) {\r\n\r\n      }\r\n    },\r\n    HighLightFeaturesByStationType(station_type = 0, color = 'red') {\r\n      // feature.set('station_type', ptdata.StationType)\r\n\r\n      var features = this.StationPointsFeatures.filter(ft => ft.get('station_type') == station_type)\r\n      this.HighLightFeatureSelected(features, color)\r\n\r\n    },\r\n    HandleAGVUploadData(coordinates = [{ TagNumber: 0, X: 0, Y: 0, Theta: 0 }]) {\r\n\r\n      var currentPtFeatures = this.PointLayer.getSource().getFeatures();\r\n\r\n      Object.values(coordinates).forEach(coorInfo => {\r\n        var existFeature = currentPtFeatures.find(pt => pt.get('data').TagNumber == coorInfo.TagNumber)\r\n        if (existFeature) {\r\n          existFeature.setGeometry(new Point([coorInfo.X, coorInfo.Y]))\r\n          var oriData = existFeature.get('data');\r\n          oriData.Direction = parseInt(Math.round(coorInfo.Theta));\r\n          existFeature.set('data', oriData)\r\n        } else {\r\n\r\n          var station = new clsMapStation()\r\n          station.coordination = [coorInfo.X, coorInfo.Y];\r\n          station.index = this.GenNewIndexOfStation();\r\n          station.station_type = 0;\r\n          station.name = coorInfo.TagNumber + ''\r\n          station.tag = coorInfo.TagNumber\r\n\r\n          var mapPtModel = new MapPointModel()\r\n          mapPtModel.StationType = 0\r\n          mapPtModel.X = coorInfo.X\r\n          mapPtModel.Y = coorInfo.Y\r\n          mapPtModel.Graph.X = parseInt(Math.round(coorInfo.X));\r\n          mapPtModel.Graph.Y = parseInt(Math.round(coorInfo.Y));\r\n          mapPtModel.Name = coorInfo.TagNumber + ''\r\n          mapPtModel.TagNumber = coorInfo.TagNumber\r\n          mapPtModel.Direction = parseInt(Math.round(coorInfo.Theta));\r\n          station.data = mapPtModel\r\n          var feature = CreateStationFeature(station)\r\n          this.PointLayer.getSource().addFeature(feature)\r\n        }\r\n      })\r\n    },\r\n    showContextMenu(event) {\r\n      event.preventDefault();\r\n      if (this.editable)\r\n        return;\r\n      if (this.EditorOption.EditAction == 'add-station')\r\n        return;\r\n      if (this.previousSelectedFeature) {\r\n        this.contextMenuTop = event.clientY;\r\n        this.contextMenuLeft = event.clientX;\r\n        var feature_type = this.previousSelectedFeature.get('feature_type');\r\n        this.contextMenuOptions.feature_type = feature_type;\r\n        var data = this.previousSelectedFeature.get('data');\r\n        if (data) {\r\n          this.contextMenuOptions.title = data.Name\r\n          this.contextMenuOptions.point_data = data\r\n          this.contextMenuOptions.task_options = new MenuUseTaskOption(data.StationType)\r\n          this.contextMenuOptions.show_task_dispatch = this.task_dispatch_menu_show\r\n        }\r\n        this.editModeContextMenuVisible = true;\r\n      }\r\n    },\r\n    HandlePtSettingDrawerLeaved() {\r\n      this.RemoveKeyboardPressEventListener();\r\n      document.addEventListener('keydown', this.EditModeKeybordEvents)\r\n    },\r\n    PointSettingChangedHandle(data_dto) {\r\n      var index = data_dto.index;\r\n      var ptdata = data_dto.pointData;\r\n\r\n      var SettingPoints = function (source, _index, _ptdata) {\r\n        //reset ptinformation\r\n        var feature = source.getFeatures().find(ft => ft.get('index') == _index);\r\n        feature.set('data', _ptdata)\r\n        feature.set('station_type', _ptdata.StationType)\r\n        feature.setStyle(GetStationStyle(_ptdata.Name, _ptdata.StationType, _ptdata));\r\n\r\n        //rename display\r\n        var style = feature.getStyle()\r\n        var newStyle = style.clone()\r\n        var text = newStyle.getText();\r\n        text.setText(_ptdata.Graph.Display);\r\n\r\n        var stroke = text.getStroke()\r\n        if (stroke) {\r\n          var newStroke = stroke.clone();\r\n          newStroke.setColor('blue')\r\n          text.setStroke(newStroke)\r\n        }\r\n\r\n        feature.setStyle(newStyle)\r\n      };\r\n\r\n      SettingPoints(this.PointLayer.getSource(), index, ptdata);\r\n      SettingPoints(this.PointRouteLayer.getSource(), index, ptdata);\r\n      var _is_eq_link = ptdata.StationType != 0;\r\n      var pathes_with_start = this.PathesSegmentsForEdit.filter(pt => pt.StartPtIndex == index);\r\n      var pathes_with_end = this.PathesSegmentsForEdit.filter(pt => pt.EndPtIndex == index);\r\n\r\n      for (var i = 0; i < pathes_with_start.length; i++) {\r\n        pathes_with_start[i].IsEQLink = _is_eq_link;\r\n        pathes_with_start[i].StartCoordination = [ptdata.X, ptdata.Y];\r\n      }\r\n\r\n      for (var i = 0; i < pathes_with_end.length; i++) {\r\n        pathes_with_end[i].IsEQLink = _is_eq_link;\r\n        pathes_with_end[i].EndCoordination = [ptdata.X, ptdata.Y];\r\n      }\r\n\r\n    },\r\n    HandleMenuTaskBtnClick(data = { action: '', station_data: {} }) {\r\n      this.editModeContextMenuVisible = false;\r\n      var highlight_station_type = 0;\r\n      if (data.action == 'move') {\r\n        highlight_station_type = 0;\r\n      }\r\n      else if (data.action == 'load' | data.action == 'unload' | data.action == 'carry') {\r\n        highlight_station_type = 1;\r\n      }\r\n      else if (data.action == 'charge') {\r\n        highlight_station_type = 3;\r\n      }\r\n      this.HighLightFeaturesByStationType(highlight_station_type, 'blue')\r\n      bus.emit('bus-show-task-allocation', data);\r\n    },\r\n    HandleAGVUploadCorrdinationChanged(enabled) {\r\n      MapStore.dispatch('UploadCoorFunctionSwitch', enabled)\r\n    },\r\n    HandleLDULDLabelClick(station_data, action) {\r\n      //alert(JSON.stringify(station_data))\r\n      this.$emit('onTransferRequst', { station_data: station_data, action: action })\r\n    },\r\n    ChangeLDULDStatus(tagNumber, status) {\r\n      try {\r\n        var ld_uld_state = status == 1 ? 'load' : 'unload'\r\n        var features = this.EQLDULDStatusLayer.getSource().getFeatures();\r\n        var _feature = features.find(ft => ft.get('data').TagNumber == tagNumber);\r\n        if (!_feature)\r\n          return\r\n        var style = _feature.getStyle();\r\n        if (!style)\r\n          return;\r\n        var text = style.getText()\r\n        if (!text)\r\n          return;\r\n\r\n        var status_text = ''\r\n        if (status == 1 || status == 2) {\r\n          status_text = status == 1 ? ' 入料請求' : '出料請求'\r\n        }\r\n        text.setText(status_text);\r\n\r\n        text.setBackgroundFill(new Fill({\r\n          color: status == 1 ? 'orange' : 'blue'\r\n        }))\r\n        // text.setFill(new Fill({\r\n        //   color: status == 3 ? 'black' : 'white'\r\n        // }))\r\n\r\n        if (_feature.get('action') == ld_uld_state)\r\n          return;\r\n        _feature.set('action', ld_uld_state)\r\n        _feature.setStyle(style)\r\n      } catch (err) {\r\n\r\n        console.error(err)\r\n      }\r\n\r\n    },\r\n    RenderEQLDULDStatus() {\r\n      this.eq_data.forEach(eq_states => {\r\n        setTimeout(() => {\r\n          this.ChangeLDULDStatus(eq_states.Tag, eq_states.TransferStatus)\r\n        }, 100)\r\n      });\r\n    },\r\n    watch_eq_data_changed() {\r\n      setInterval(() => {\r\n        this.RenderEQLDULDStatus();\r\n      }, 100);\r\n    },\r\n    RefreshMap() {\r\n      debugger\r\n      this._map_stations = JSON.parse(JSON.stringify(this.map_station_data));\r\n      this.DeepClonePathSegmentData();\r\n      this.UpdateStationPointLayer();\r\n      this.UpdateStationPathLayer();\r\n      this.MapDisplayModeOptHandler(false);\r\n      this.UpdateForbidPointLayer();\r\n    },\r\n    /**移除有關禁制區編輯的地圖交互事件們 */\r\n    RemoveForbidRegionOperationInteractions() {\r\n\r\n      this.RemoveInteraction(this.draw_forbid_regions_interaction);\r\n      this.RemoveInteraction(this.edit_forbid_regions_interaction);\r\n      this.RemoveInteraction(this.delete_forbid_regions_interaction);\r\n    },\r\n    EditModeKeybordEvents(event) {\r\n\r\n      var name = event.key.toLowerCase();\r\n      console.info(name)\r\n      if (name == 'e') {\r\n        this.EditorOption.EditMode = 'edit'\r\n      } if (name == 'v') {\r\n        this.EditorOption.EditMode = 'view'\r\n      }\r\n      if (this.EditorOption.EditMode != 'edit')\r\n        return;\r\n      if (name == 'escape') {\r\n\r\n        if (this.draw_forbid_regions_interaction)\r\n          this.draw_forbid_regions_interaction.abortDrawing();\r\n\r\n      }\r\n      if (name == '1') {\r\n        this.RemoveForbidRegionOperationInteractions();\r\n        this.EditorOption.EditAction = 'add-station'\r\n        this.AddEditMapInteraction();\r\n      }\r\n      if (name == '2') {\r\n        this.RemoveForbidRegionOperationInteractions();\r\n        this.EditorOption.EditAction = 'edit-station'\r\n        this.AddEditMapInteraction();\r\n      }\r\n      if (name == '3') {\r\n        this.RemoveForbidRegionOperationInteractions();\r\n        this.EditorOption.EditAction = 'remove-station'\r\n        this.AddEditMapInteraction();\r\n      }\r\n      if (name == '4') {\r\n        this.RemoveForbidRegionOperationInteractions();\r\n        this.EditorOption.EditAction = 'add-path'\r\n        this.AddEditMapInteraction();\r\n      }\r\n      if (name == '5') {\r\n        this.RemoveForbidRegionOperationInteractions();\r\n        this.EditorOption.EditAction = 'edit-path'\r\n        this.AddEditMapInteraction();\r\n      }\r\n      if (name == '6') {\r\n        this.RemoveForbidRegionOperationInteractions();\r\n        this.EditorOption.EditAction = 'remove-path'\r\n        this.AddEditMapInteraction();\r\n      }\r\n      if (name == '7') {\r\n        this.EditorOption.EditAction = 'add-forbid-region'\r\n        this.RemoveInteraction(this.mapEditsInteraction);\r\n        this.AddDrawForbidActionInteraction(this.EditorOption.AddRegionMode.Mode);\r\n      }\r\n    },\r\n    OpenPath_editor(feature = new Feature()) {\r\n      var pathid = feature.get('path_id')\r\n      if (pathid) {\r\n        var path_data = this.PathesSegmentsForEdit.find(path => path.PathID == pathid)\r\n        var reverse_pathid = path_data.EndPtIndex + '_' + path_data.StartPtIndex;\r\n        var reverse_path_data = this.PathesSegmentsForEdit.find(path => path.PathID == reverse_pathid)\r\n        this.IsPathEditing = true;\r\n        this.SelectedPathData = path_data;\r\n        this.HandlePathTbRowClick(path_data);\r\n        if (reverse_path_data) {\r\n          this.ShowPathSelectDialog = true;\r\n          this.PathesCandicats = [path_data, reverse_path_data];\r\n        } else {\r\n          this.HandlePathTbRowClick(path_data);\r\n          this.$refs['path_editor'].Show(path_data);\r\n        }\r\n      }\r\n    },\r\n    HandlePathSelected(path_data) {\r\n      this.IsPathEditing = true;\r\n      this.ShowPathSelectDialog = false;\r\n      this.SelectedPathData = path_data;\r\n      setTimeout(() => {\r\n        this.HandlePathTbRowClick(path_data);\r\n      }, 1000);\r\n      this.$refs['path_editor'].Show(path_data);\r\n    },\r\n    HandlePathSetingDrawerClosed(edited_path_settings) {\r\n      this.IsPathEditing = false;\r\n      if (this.selected_path_feature) {\r\n        this.RestoreOriginalPathStyle(this.selected_path_feature)\r\n      }\r\n    },\r\n    HandleForbidRegionEditDrawerClosed() {\r\n      document.addEventListener('keydown', this.EditModeKeybordEvents)\r\n\r\n    },\r\n    SetPathesAsBeControledStyle() {\r\n      var path_ids = Object.keys(this.ControledPathesBySystem)\r\n      if (path_ids.length == 0)\r\n        return;\r\n\r\n      var source = this.PathLayerForCoordination.getSource();\r\n      path_ids.forEach(path_id => {\r\n        var pathFeature = source.getFeatures().find(p => p.get('path_id') == path_id)\r\n        if (pathFeature) {\r\n          debugger\r\n          var _style = pathFeature.getStyle()\r\n          var stroke = _style[0].getStroke();\r\n          if (stroke) {\r\n            stroke.setColor('orange')\r\n            _style[0].setStroke(stroke)\r\n            pathFeature.setStyle(_style)\r\n          }\r\n        }\r\n      });\r\n      this.map.render();\r\n\r\n\r\n    },\r\n    /**地圖變更為選擇AGV模式 */\r\n    ChangeToSelectAGVMode() {\r\n      this.RestoredFillColorOfChangedFeature();\r\n      //把設備圖層Feature變為不明顯\r\n      this.ChangeFeaturesAsIgnoreStyle(this.StationPointsFeatures, 'rgb(222, 222, 222)');\r\n      this.IsSelectAGVMode = true;\r\n      this.IsSelectEQStationMode = false;\r\n      this.AGVLocLayer.setVisible(true);\r\n\r\n    },\r\n    /**地圖變更為選擇設備站點模式 */\r\n    ChangeToSelectEQStationMode() {\r\n\r\n      if (this.TaskDispatchOptions.direction == 'source') {\r\n        this.RestoredFillColorOfChangedFeature();\r\n        this.TransferTaskIconLayer.getSource().clear();\r\n      }\r\n      var charge_features = this.StationPointsFeatures.filter(ft => ft.get('data').IsCharge)\r\n      var non_charge_features = this.StationPointsFeatures.filter(ft => !ft.get('data').IsCharge);\r\n      var eq_features = this.StationPointsFeatures.filter(ft => !ft.get('data').IsCharge && ft.get('data').StationType != 0);\r\n      var normal_pt_features = this.StationPointsFeatures.filter(ft => ft.get('data').StationType == 0);\r\n\r\n      this.AGVLocLayer.setVisible(false);\r\n      this.RestoredFillColorOfChangedFeature();\r\n      //把AGV圖層Feature變為不明顯\r\n      this.ChangeFeaturesAsIgnoreStyle(this.AGVMapFeatures);\r\n      if (this.TaskDispatchOptions.action_type == 'charge') {\r\n        //再把非充電站的Feature變為不明顯\r\n        this.ChangeFeaturesAsIgnoreStyle(non_charge_features);\r\n        console.info(charge_features);\r\n        this.ChangeFeaturesAsCandicatingStyle(charge_features);\r\n      }\r\n      else {\r\n        //把充電站的Feature變為不明顯\r\n        this.ChangeFeaturesAsIgnoreStyle(charge_features);\r\n        var _isMoveOrder = this.TaskDispatchOptions.action_type == 'move';\r\n        var _isOnlyLoadOrder = this.TaskDispatchOptions.action_type == 'load';\r\n        var _isOnlyUnloadOrder = this.TaskDispatchOptions.action_type == 'unload';\r\n        var _isChargeOrder = this.TaskDispatchOptions.action_type == 'charge';\r\n        var _isCarryOrder = this.TaskDispatchOptions.action_type == 'carry';\r\n        var _isChoiseDestine = this.TaskDispatchOptions.direction == 'destine';\r\n\r\n        if (this.TaskDispatchOptions.stations_to_show && this.TaskDispatchOptions.stations_to_show.length != 0) {\r\n          var tags_to_show = this.TaskDispatchOptions.stations_to_show.map((st) => st.tag);\r\n          var _hidden_stations_features = this.StationPointsFeatures.filter(ft => !tags_to_show.includes(ft.get('data').TagNumber));\r\n          var _show_stations_features = this.StationPointsFeatures.filter(ft => tags_to_show.includes(ft.get('data').TagNumber));\r\n          this.ChangeFeaturesAsIgnoreStyle(_hidden_stations_features);\r\n          this.ChangeFeaturesAsCandicatingStyle(_show_stations_features);\r\n        } else if (_isChoiseDestine) {\r\n          if (_isMoveOrder) {\r\n            this.ChangeFeaturesAsIgnoreStyle(eq_features);\r\n          } else if (_isOnlyUnloadOrder || _isOnlyLoadOrder) {\r\n            this.ChangeFeaturesAsIgnoreStyle(charge_features);\r\n            this.ChangeFeaturesAsIgnoreStyle(normal_pt_features);\r\n          } else if (_isChargeOrder) {\r\n            this.ChangeFeaturesAsIgnoreStyle(eq_features);\r\n            this.ChangeFeaturesAsIgnoreStyle(normal_pt_features);\r\n          } else {\r\n\r\n            this.ChangeFeaturesAsIgnoreStyle(this.StationPointsFeatures);\r\n          }\r\n        }\r\n      }\r\n      this.IsSelectAGVMode = false;\r\n      this.IsSelectEQStationMode = true;\r\n    },\r\n    ChangeToNormalViewMode() {\r\n      this.AGVLocLayer.setVisible(true);\r\n      this.RestoredFillColorOfChangedFeature();\r\n      this.IsSelectAGVMode = this.IsSelectEQStationMode = false;\r\n      this.TransferTaskIconLayer.getSource().clear();\r\n\r\n    },\r\n    RestoredFillColorOfChangedFeature() {\r\n      this.StationPointsFeatures.forEach(feature => {\r\n        if (feature.get('oriStyle')) {\r\n          feature.setStyle(feature.get('oriStyle'))\r\n        }\r\n      })\r\n      this.AGVLocLayer.getSource().getFeatures().forEach(feature => {\r\n        if (feature.get('oriStyle')) {\r\n          feature.setStyle(feature.get('oriStyle'))\r\n        }\r\n      })\r\n    },\r\n    ChangeFeaturesAsIgnoreStyle(features, color = 'rgb(222, 222, 222)') {\r\n      features.forEach(feature => {\r\n        feature.set('isSelectable', false)\r\n        var style = feature.getStyle()\r\n        if (style) {\r\n          feature.set('oriStyle', style)\r\n          try {\r\n            var newStyle = style.clone()\r\n            var oriImage = newStyle.getImage();\r\n            if (oriImage) {\r\n              var newImage = oriImage.clone();\r\n              newImage.setOpacity(.5)\r\n              newStyle.setImage(newImage);\r\n            }\r\n            var text = newStyle.getText();\r\n            if (text) {\r\n              var fill = text.getFill()\r\n              if (fill) {\r\n                var newfill = fill.clone();\r\n                newfill.setColor(color)\r\n                text.setFill(newfill)\r\n                feature.setStyle(newStyle)\r\n              }\r\n            }\r\n          } catch {\r\n\r\n          }\r\n        }\r\n      });\r\n\r\n    },\r\n    ChangeFeaturesAsCandicatingStyle(features, color = 'rgb(222,180,9)') {\r\n      features.forEach(feature => {\r\n        var style = feature.getStyle()\r\n        if (style) {\r\n          feature.set('oriStyle', style)\r\n          try {\r\n            var newStyle = style.clone()\r\n            var oriImage = newStyle.getImage();\r\n            if (oriImage) {\r\n              var newImage = oriImage.clone();\r\n              newImage.setScale(0.7)\r\n              newStyle.setImage(newImage);\r\n            }\r\n            var text = newStyle.getText();\r\n            if (text) {\r\n              text.setFont('bold 18px Calibri,sans-serif')\r\n              var fill = text.getFill()\r\n              if (fill) {\r\n                var newfill = fill.clone();\r\n                newfill.setColor(color)\r\n                text.setFill(newfill)\r\n                feature.setStyle(newStyle)\r\n              }\r\n            }\r\n          } catch (exception) {\r\n            console.info(exception);\r\n          }\r\n        }\r\n      });\r\n\r\n    },\r\n    CreateDestineMarkIcon(tagNumber) {\r\n      if (this.editable)\r\n        return;\r\n\r\n\r\n      var _displayText = () => {\r\n        var _map = {\r\n          'move': '目的地',\r\n          'carry': '搬運終點',\r\n          'load': '目標放貨設備',\r\n          'unload': '目標取貨設備',\r\n          'charge': '目標充電站',\r\n\r\n        }\r\n        return _map[this.TaskDispatchOptions.action_type];\r\n      }\r\n\r\n      if (this.TaskDispatchOptions.action_type != 'carry') {\r\n        this.TransferTaskIconLayer.getSource().clear();\r\n      } else {\r\n        var features = this.TransferTaskIconLayer.getSource().getFeatures();\r\n        this.TransferTaskIconLayer.getSource().removeFeature(features[1])\r\n      }\r\n      this.AddMarkIconWithText(tagNumber, _displayText());\r\n    },\r\n    AddMarkIconWithText(tagNumber, text) {\r\n      var station_feature = this.StationPointsFeatures.find(ft => ft.get('data').TagNumber == tagNumber);\r\n      if (!station_feature)\r\n        return;\r\n      var coordination = station_feature.getGeometry().getCoordinates()\r\n      var layerSource = this.TransferTaskIconLayer.getSource();\r\n      var _newFeature = CreateTransTaskMark(coordination, text);\r\n      layerSource.addFeature(_newFeature);\r\n\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    if (this.editable) {\r\n      this.RemoveKeyboardPressEventListener();\r\n      document.addEventListener('keydown', this.EditModeKeybordEvents)\r\n    }\r\n\r\n    this.loading = true;\r\n    setTimeout(() => {\r\n      var element = document.getElementById(\"map\"); // 替换为你要禁用右键菜单的元素的ID\r\n      if (element)\r\n        element.addEventListener('contextmenu', function (event) {\r\n          event.preventDefault();\r\n        });\r\n      MapStore.dispatch('DownloadMapData').then(() => {\r\n        this.RestoreSettingsFromLocalStorage();\r\n        this.DeepClonePathSegmentData();\r\n        this.InitMap();\r\n        this.AddEditMapInteraction();\r\n        watch(\r\n          () => this.map_station_data, (newval, oldval) => {\r\n            if (!newval)\r\n              return;\r\n            this.RefreshMap();\r\n          }, { deep: true, immediate: true }\r\n        )\r\n        if (this.eq_lduld_status_show) {\r\n          this.watch_eq_data_changed();\r\n        }\r\n        watch(() => this.agvs_info, (newval, oldval) => {\r\n          if (!newval)\r\n            return\r\n          this.UpdateAGVLayer()\r\n        }, { deep: true, immediate: true })\r\n        bus.on('/show_agv_at_center', agv_name => {\r\n          // alert(agv_name)\r\n          this.ResetMapCenterViaAGVLoc(agv_name)\r\n        })\r\n\r\n        watch(\r\n          () => this.agv_upload_coordi_data, (newval = {}, oldval) => {\r\n            if (this.agv_upload_coordination_mode) {\r\n              this.HandleAGVUploadData(newval)\r\n            }\r\n          }, { deep: true, immediate: true }\r\n        )\r\n        bus.on('change_to_select_agv_mode', () => {\r\n          if (this.editable)\r\n            return;\r\n          this.ChangeToSelectAGVMode();\r\n        })\r\n        bus.on('change_to_select_eq_station_mode', (option) => {\r\n          if (this.editable)\r\n            return;\r\n          this.TaskDispatchOptions = JSON.parse(JSON.stringify(option))\r\n          console.info('TaskDispatchOptions:', this.TaskDispatchOptions)\r\n          this.ChangeToSelectEQStationMode();\r\n        })\r\n        bus.on('change_to_normal_view_mode', () => {\r\n          if (this.editable)\r\n            return;\r\n          this.ChangeToNormalViewMode();\r\n        })\r\n        bus.on('mark_as_start_station', (tagNumber) => {\r\n          if (this.editable)\r\n            return;\r\n          this.TransferTaskIconLayer.getSource().clear();\r\n          this.AddMarkIconWithText(tagNumber, '搬運起點');\r\n        })\r\n        bus.on('mark_as_destine_station', (tagNumber) => {\r\n          this.CreateDestineMarkIcon(tagNumber);\r\n        })\r\n        document.getElementById(this.id).addEventListener('contextmenu', (ev) => {\r\n          ev.preventDefault()\r\n        })\r\n        setTimeout(() => {\r\n          this.UpdateAGVLocLocation();\r\n        }, 500);\r\n        this.loading = false;\r\n      })\r\n    }, 1000)\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.map-component {\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  .notify-text {\r\n    .el-alert__title {\r\n      font-size: 20px;\r\n    }\r\n  }\r\n\r\n  .select-mode {\r\n    //animation: mode_flick 1s infinite;\r\n  }\r\n\r\n  @keyframes mode_flick {\r\n\r\n    0%,\r\n    100% {\r\n      background-color: rgb(13, 110, 253);\r\n      color: white\r\n    }\r\n\r\n    50% {\r\n      background-color: rgb(235, 235, 235);\r\n      color: rgb(13, 110, 253);\r\n    }\r\n  }\r\n\r\n  .tab-open {\r\n    width: 500px;\r\n\r\n    i {\r\n      cursor: pointer;\r\n      position: absolute;\r\n      left: 479px;\r\n      top: 100px;\r\n    }\r\n\r\n    i:hover {\r\n      background-color: rgb(245, 155, 155);\r\n      color: white;\r\n    }\r\n  }\r\n\r\n  .tab-close {\r\n    width: 30px;\r\n\r\n    i {\r\n      cursor: pointer;\r\n    }\r\n\r\n    i:hover {\r\n      background-color: gray;\r\n      color: white;\r\n    }\r\n  }\r\n}\r\n\r\n.custom-buttons {\r\n  // top: 133px;\r\n  text-align: right;\r\n  z-index: 1;\r\n  flex-direction: column;\r\n  margin-top: 55px;\r\n  padding-left: 7px;\r\n  height: 300px;\r\n\r\n  button {\r\n    border: 1px solid #d5d5d5;\r\n    border-radius: 3px;\r\n    height: 22px;\r\n    width: 24px;\r\n  }\r\n\r\n  button:hover {\r\n    cursor: pointer;\r\n    border: 0.01rem solid black;\r\n  }\r\n}\r\n\r\n.cursour-coordination-show {\r\n  z-index: 0;\r\n  padding-left: 37px;\r\n  margin-top: 10px;\r\n  width: 120px;\r\n\r\n  span {\r\n    font-weight: bold;\r\n  }\r\n}\r\n\r\n.cursour-coordination-show,\r\n.custom-buttons {\r\n  position: absolute;\r\n  background-color: transparent;\r\n  display: flex;\r\n}\r\n\r\n.options {\r\n  text-align: left;\r\n  width: 108px;\r\n\r\n  label {\r\n    width: 100%;\r\n    margin-right: auto;\r\n    height: 25px;\r\n  }\r\n\r\n  div {\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-bottom: 6px;\r\n    padding: 3px;\r\n\r\n    span {\r\n      border-bottom: 1px solid gainsboro;\r\n      font-weight: bold;\r\n    }\r\n  }\r\n\r\n  .el-switch {\r\n    position: relative;\r\n    top: 6px;\r\n  }\r\n}\r\n\r\n.editor-option {\r\n  width: 100%;\r\n  border-radius: 3px;\r\n  border: 1px solid rgb(218, 218, 218);\r\n  padding: 3px;\r\n  margin-inline: 2px;\r\n\r\n  .action-buttons {\r\n    button {\r\n      width: 120px;\r\n      margin-right: 5px;\r\n    }\r\n  }\r\n\r\n  .edit-block {\r\n    font-size: 15px;\r\n    font-weight: bold;\r\n    display: flex;\r\n    flex-direction: row;\r\n    padding: 5px;\r\n\r\n    span {\r\n      text-align: left;\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n}\r\n\r\n.agv_map {\r\n  width: 100%;\r\n}\r\n</style>","<template>\r\n  <el-dialog draggable :modal=\"false\" title=\"地圖設置\" v-model=\"show\">\r\n    <div> ??? </div>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { MapStore } from '@/components/Map/store'\r\nexport default {\r\n  data() {\r\n    return {\r\n      show: false\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped></style>","import { render } from \"./MapSettingsDialog.vue?vue&type=template&id=6916e811\"\nimport script from \"./MapSettingsDialog.vue?vue&type=script&lang=js\"\nexport * from \"./MapSettingsDialog.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"map-menu border\" v-bind:style=\"menu_style\">\r\n    <div\r\n      class=\"title border-bottom\"\r\n      v-bind:class=\"station_data.Enable?'text-primary':'text-danger'\"\r\n    >{{ options.title + (station_data.Enable?'':'(已禁用)')}}</div>\r\n\r\n    <div v-if=\"options.show_task_dispatch\" class=\"menu task\">\r\n      <span>站點類型 : {{ station_data.IsVirtualPoint?'虛擬點': options.task_options.StationType }}</span>\r\n      <div v-if=\"station_type==0 &&!station_data.IsVirtualPoint\">\r\n        <!-- 一般點位可指派之任務 -->\r\n        <b-button\r\n          variant=\"primary\"\r\n          @click=\"()=>{$emit('OnTaskBtnClick',{action:'move',station_data:station_data})}\"\r\n        >移動</b-button>\r\n      </div>\r\n      <div v-if=\"station_type==1|station_type==2\" class=\"d-flex flex-column\">\r\n        <!-- EQ可指派之任務 -->\r\n        <b-button\r\n          variant=\"primary\"\r\n          @click=\"()=>{$emit('OnTaskBtnClick',{action:'unload',station_data:station_data})}\"\r\n        >取貨</b-button>\r\n        <b-button\r\n          variant=\"primary\"\r\n          @click=\"()=>{$emit('OnTaskBtnClick',{action:'load',station_data:station_data})}\"\r\n        >放貨</b-button>\r\n        <b-button\r\n          variant=\"primary\"\r\n          @click=\"()=>{$emit('OnTaskBtnClick',{action:'carry',station_data:station_data})}\"\r\n        >搬運</b-button>\r\n      </div>\r\n      <div v-if=\"station_type==3\">\r\n        <b-button\r\n          variant=\"primary\"\r\n          @click=\"()=>{$emit('OnTaskBtnClick',{action:'charge',station_data:station_data})}\"\r\n        >充電</b-button>\r\n      </div>\r\n      <div v-if=\"station_data.IsParking&&!station_data.IsVirtualPoint\">\r\n        <b-button\r\n          variant=\"primary\"\r\n          @click=\"()=>{$emit('OnTaskBtnClick',{action:'park',station_data:station_data})}\"\r\n        >停車</b-button>\r\n      </div>\r\n    </div>\r\n    <div v-else class=\"menu edit\">\r\n      <b-button variant=\"primary\" @click=\"()=>{$emit('OnPtSettingBtnClick','')}\">設定點位</b-button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { MapContextMenuOptions, MenuUseTaskOption } from './mapjs'\r\nexport default {\r\n  components: {\r\n  },\r\n  props: {\r\n    mouse_click_position: {\r\n      type: Array,\r\n      default() {\r\n        return [0, 0]\r\n      }\r\n    },\r\n    options: {\r\n      type: MapContextMenuOptions,\r\n      default() {\r\n        return new MapContextMenuOptions()\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    menu_style() {\r\n      return {\r\n        top: this.mouse_click_position[0] + 'px',\r\n        left: this.mouse_click_position[1] + 'px',\r\n        backgroundColor: this.options.backgroundColor\r\n      }\r\n    },\r\n    station_type() {\r\n      return this.options.task_options.StationType;\r\n    },\r\n    station_data() {\r\n      return this.options.point_data;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.map-menu {\r\n  position: fixed;\r\n  z-index: 4000;\r\n  padding: 5px;\r\n  border-radius: 8px;\r\n  text-align: left;\r\n\r\n  .title {\r\n    font-size: larger;\r\n    font-weight: bolder;\r\n  }\r\n\r\n  .menu {\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    button {\r\n      padding: 6px;\r\n      border: 1px solid rgb(168, 168, 168);\r\n      border-radius: 5px;\r\n      margin: 2px auto;\r\n      width: 130px;\r\n    }\r\n    button:hover {\r\n      background-color: limegreen;\r\n      color: white;\r\n    }\r\n  }\r\n  .task {\r\n    span {\r\n      font-size: 10px;\r\n      color: grey;\r\n    }\r\n  }\r\n}\r\n</style>","import { render } from \"./MapContextMenu.vue?vue&type=template&id=16c3ee72&scoped=true\"\nimport script from \"./MapContextMenu.vue?vue&type=script&lang=js\"\nexport * from \"./MapContextMenu.vue?vue&type=script&lang=js\"\n\nimport \"./MapContextMenu.vue?vue&type=style&index=0&id=16c3ee72&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-16c3ee72\"]])\n\nexport default __exports__","<template>\r\n    <div class=\"map-path-editor\">\r\n        <el-drawer v-model=\"show\" size=\"35%\"\r\n            :close-on-press-escape=\"true\"\r\n            :close-on-click-modal=\"true\"\r\n            @closed=\"$emit('closed', PathDataEdit)\"\r\n            :show-close=\"false\"\r\n            :modal=\"true\"\r\n            modal-class=\"modal-style\">\r\n            <template #header>\r\n                <div class=\"header border-bottom\">\r\n                    <h3>路徑設定:{{ PathDataEdit.StartPtIndex }}->{{ PathDataEdit.EndPtIndex }}</h3>\r\n                </div>\r\n            </template>\r\n            <div class=\"draw-content\">\r\n                <el-form label-width=\"140\" label-position=\"left\">\r\n                    <el-form-item label=\"Path ID\">\r\n                        <el-input disabled v-model=\"PathDataEdit.PathID\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"起點(Index)\">\r\n                        <el-input disabled v-model=\"PathDataEdit.StartPtIndex\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"終點(Index)\">\r\n                        <el-input disabled v-model=\"PathDataEdit.EndPtIndex\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"工位路徑\">\r\n                        <el-checkbox disabled v-model=\"PathDataEdit.IsEQLink\"></el-checkbox>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"道路開放\">\r\n                        <el-checkbox @change=\"SettingsChangedHandler\" v-model=\"PathDataEdit.IsPassable\"></el-checkbox>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"僅允許一台車通行\">\r\n                        <el-checkbox v-model=\"PathDataEdit.IsSingleCar\"></el-checkbox>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"是否可旋轉\">\r\n                        <el-checkbox v-model=\"PathDataEdit.IsRotationable\"></el-checkbox>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"消防通道\">\r\n                        <el-checkbox v-model=\"PathDataEdit.IsExtinguishingPath\"></el-checkbox>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"雷射模式\">\r\n                        <el-input-number v-model=\"PathDataEdit.LsrMode\" :step=\"1\"></el-input-number>\r\n                        <i\r\n                            class=\"bi bi-question-circle information\"\r\n                            @click=\"HandleLaserModeInfoIconClick\"></i>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"限速\">\r\n                        <el-input-number v-model=\"PathDataEdit.Speed\" :step=\"0.1\" :precision=\"1\"></el-input-number>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </el-drawer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            show: false,\r\n            /** { \"StartPtIndex\": 5, \"EndPtIndex\": 0, \"StartCoordination\": [ 2.653, 6.213 ], \"EndCoordination\": [ 0.531, 6.217 ], \"PathID\": \"5_0\", \"IsEQLink\": false, \"IsSingleCar\": false, \"IsPassable\": false, \"IsExtinguishingPath\": false, \"Speed\": 1, \"LsrMode\": 0, \"DodgeMode\": 0, \"SpinMode\": 0 }*/\r\n            PathDataEdit: {\r\n                StartPtIndex: 5,\r\n                EndPtIndex: 0,\r\n                StartCoordination: [2.653, 6.213],\r\n                EndCoordination: [0.531, 6.217],\r\n                PathID: \"5_0\",\r\n                IsEQLink: false,\r\n                IsSingleCar: false,\r\n                IsRotationable: false,\r\n                IsPassable: false,\r\n                IsExtinguishingPath: false,\r\n                Speed: 1,\r\n                LsrMode: 0,\r\n                DodgeMode: 0,\r\n                SpinMode: 0\r\n            }\r\n        }\r\n    },\r\n    props: {\r\n        SettingsChangedHandler: {\r\n            type: Function,\r\n            default() {\r\n                return () => {\r\n\r\n                }\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        Show(PathData) {\r\n            if (PathData) {\r\n                this.PathDataEdit = PathData;\r\n                this.show = true\r\n            }\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.draw-content {\r\n    top: 67px;\r\n    position: absolute;\r\n    height: 100%;\r\n\r\n    .settings {\r\n        height: 800px;\r\n        overflow-y: scroll;\r\n    }\r\n\r\n    button {\r\n        width: 120px;\r\n        margin-right: 3px;\r\n    }\r\n}\r\n</style>","import { render } from \"./MapPathSettingDrawer.vue?vue&type=template&id=39ab1226\"\nimport script from \"./MapPathSettingDrawer.vue?vue&type=script&lang=js\"\nexport * from \"./MapPathSettingDrawer.vue?vue&type=script&lang=js\"\n\nimport \"./MapPathSettingDrawer.vue?vue&type=style&index=0&id=39ab1226&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n    <div class=\"forbid-region-edit-drawer\">\r\n        <el-drawer v-model=\"show\" size=\"35%\"\r\n            :close-on-press-escape=\"true\"\r\n            :close-on-click-modal=\"true\"\r\n            @closed=\"$emit('closed', PathDataEdit)\"\r\n            :show-close=\"false\"\r\n            :modal=\"true\"\r\n            modal-class=\"modal-style\">\r\n            <template #header>\r\n                <div class=\"header border-bottom\">\r\n                    <h3>區域設置:{{ region_name }}</h3>\r\n                </div>\r\n            </template>\r\n            <div class=\"draw-content\">\r\n                <el-form label-width=\"140\" label-position=\"left\">\r\n                    <el-form-item label=\"名稱\">\r\n                        <el-input v-model=\"RegionData.Name\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"類型\">\r\n                        <el-select v-model=\"RegionData.RegionType\">\r\n                            <el-option :value=\"0\" label=\"禁制區\"></el-option>\r\n                            <el-option :value=\"1\" label=\"通行區\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                </el-form>\r\n            </div>\r\n        </el-drawer>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { MapStore } from '@/components/Map/store'\r\nimport { MapRegion } from './mapjs'\r\nexport default {\r\n    data() {\r\n        return {\r\n            show: false,\r\n            region_name: '',\r\n            /** { \"StartPtIndex\": 5, \"EndPtIndex\": 0, \"StartCoordination\": [ 2.653, 6.213 ], \"EndCoordination\": [ 0.531, 6.217 ], \"PathID\": \"5_0\", \"IsEQLink\": false, \"IsSingleCar\": false, \"IsPassable\": false, \"IsExtinguishingPath\": false, \"Speed\": 1, \"LsrMode\": 0, \"DodgeMode\": 0, \"SpinMode\": 0 }*/\r\n            RegionData: new MapRegion('', [])\r\n        }\r\n    },\r\n    props: {\r\n        SettingsChangedHandler: {\r\n            type: Function,\r\n            default() {\r\n                return () => {\r\n                }\r\n            }\r\n        }\r\n    },\r\n    methods: {\r\n        Show(region_name) {\r\n            this.region_name = region_name\r\n            setTimeout(async () => {\r\n                this.RegionData = JSON.parse(JSON.stringify(await MapStore.dispatch('GetRegionByName', region_name)))\r\n                this.show = true\r\n            }, 10)\r\n        }\r\n    },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.draw-content {\r\n    top: 67px;\r\n    position: absolute;\r\n    height: 100%;\r\n\r\n    .settings {\r\n        height: 800px;\r\n        overflow-y: scroll;\r\n    }\r\n\r\n    button {\r\n        width: 120px;\r\n        margin-right: 3px;\r\n    }\r\n}\r\n</style>","import { render } from \"./MapRegionEditDrawer.vue?vue&type=template&id=1ee5ab36\"\nimport script from \"./MapRegionEditDrawer.vue?vue&type=script&lang=js\"\nexport * from \"./MapRegionEditDrawer.vue?vue&type=script&lang=js\"\n\nimport \"./MapRegionEditDrawer.vue?vue&type=style&index=0&id=1ee5ab36&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n  <div class=\"map-quickly-action\">\r\n    <span v-text=\"mapname\"></span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { MapStore } from './store';\r\nexport default {\r\n  computed: {\r\n    mapname() {\r\n      return MapStore.getters.MapName;\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.map-quickly-action {\r\n  position: absolute;\r\n  bottom: 37px;\r\n  padding: 2px 5px;\r\n  background-color: rgb(197, 197, 197);\r\n  border: 1px solid rgb(136, 136, 136);\r\n  border-top-right-radius: 4px;\r\n  border-top-left-radius: 4px;\r\n  opacity: 0.5;\r\n}\r\n</style>","import { render } from \"./QuicklyActionMenu.vue?vue&type=template&id=3192d018&scoped=true\"\nimport script from \"./QuicklyActionMenu.vue?vue&type=script&lang=js\"\nexport * from \"./QuicklyActionMenu.vue?vue&type=script&lang=js\"\n\nimport \"./QuicklyActionMenu.vue?vue&type=style&index=0&id=3192d018&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3192d018\"]])\n\nexport default __exports__","import { render } from \"./Map.vue?vue&type=template&id=36f2c068&scoped=true\"\nimport script from \"./Map.vue?vue&type=script&lang=js\"\nexport * from \"./Map.vue?vue&type=script&lang=js\"\n\nimport \"./Map.vue?vue&type=style&index=0&id=36f2c068&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-36f2c068\"]])\n\nexport default __exports__","<template>\r\n  <!-- 這裡不可以有 div 否則雙向綁定會失效 -->\r\n  <el-select style=\"width:120px\" v-model=\"selectedRegion\" @change=\"handleChange\">\r\n    <el-option\r\n      v-for=\"opt in valid_map_regions_options\"\r\n      :key=\"opt.value\"\r\n      :label=\"opt.label\"\r\n      :value=\"opt.value\"></el-option>\r\n  </el-select>\r\n</template>\r\n\r\n<script>\r\nimport { MapStore } from './Map/store';\r\nimport { GetValidRegionOptions } from '@/api/MapAPI.js'\r\nexport default {\r\n  props: {\r\n    default: {\r\n      type: String,\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      selectedRegion: this.default,\r\n      valid_map_regions_options: [],\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    handleChange(value) {\r\n      this.selectedRegion = value;\r\n      this.$emit('input', value);\r\n    },\r\n  },\r\n  mounted() {\r\n    setTimeout(async () => {\r\n      this.valid_map_regions_options = MapStore.getters.RegionOptions\r\n      if (!this.valid_map_regions_options)\r\n        this.valid_map_regions_options = await GetValidRegionOptions();\r\n      this.valid_map_regions_options.unshift({ label: '不分區', value: 'all' })\r\n    }, 10);\r\n  },\r\n}\r\n</script>\r\n\r\n<style></style>","import { render } from \"./RegionsSelector.vue?vue&type=template&id=63a8518c\"\nimport script from \"./RegionsSelector.vue?vue&type=script&lang=js\"\nexport * from \"./RegionsSelector.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","var getProto = Object.getPrototypeOf ? function(obj) { return Object.getPrototypeOf(obj); } : function(obj) { return obj.__proto__; };\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach(function(key) { def[key] = function() { return value[key]; }; });\n\t}\n\tdef['default'] = function() { return value; };\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = function(chunkId) {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce(function(promises, key) {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"js/\" + chunkId + \".\" + {\"93\":\"fa0eb4da\",\"142\":\"ecaee98a\",\"155\":\"aa0468e0\",\"166\":\"cc038866\",\"181\":\"543992b0\",\"188\":\"84a7d618\",\"306\":\"be10f586\",\"431\":\"b4d99585\",\"522\":\"42121ef6\",\"655\":\"3289af03\",\"740\":\"9ac80e21\",\"757\":\"69d74930\",\"858\":\"76268a6e\",\"891\":\"01690a7d\",\"895\":\"7a461dc1\",\"897\":\"1983a264\"}[chunkId] + \".js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = function(chunkId) {\n\t// return url for filenames based on template\n\treturn \"css/\" + chunkId + \".\" + {\"188\":\"18befd40\",\"655\":\"b8f27f64\",\"740\":\"6d966e71\"}[chunkId] + \".css\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","var inProgress = {};\nvar dataWebpackPrefix = \"gpm_agvs:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = function(url, done, key, chunkId) {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = function(prev, event) {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach(function(fn) { return fn(event); });\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/\";","if (typeof document === \"undefined\") return;\nvar createStylesheet = function(chunkId, fullhref, oldTag, resolve, reject) {\n\tvar linkTag = document.createElement(\"link\");\n\n\tlinkTag.rel = \"stylesheet\";\n\tlinkTag.type = \"text/css\";\n\tvar onLinkComplete = function(event) {\n\t\t// avoid mem leaks.\n\t\tlinkTag.onerror = linkTag.onload = null;\n\t\tif (event.type === 'load') {\n\t\t\tresolve();\n\t\t} else {\n\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\tvar realHref = event && event.target && event.target.href || fullhref;\n\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + realHref + \")\");\n\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n\t\t\terr.type = errorType;\n\t\t\terr.request = realHref;\n\t\t\tif (linkTag.parentNode) linkTag.parentNode.removeChild(linkTag)\n\t\t\treject(err);\n\t\t}\n\t}\n\tlinkTag.onerror = linkTag.onload = onLinkComplete;\n\tlinkTag.href = fullhref;\n\n\tif (oldTag) {\n\t\toldTag.parentNode.insertBefore(linkTag, oldTag.nextSibling);\n\t} else {\n\t\tdocument.head.appendChild(linkTag);\n\t}\n\treturn linkTag;\n};\nvar findStylesheet = function(href, fullhref) {\n\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n\tfor(var i = 0; i < existingLinkTags.length; i++) {\n\t\tvar tag = existingLinkTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return tag;\n\t}\n\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n\tfor(var i = 0; i < existingStyleTags.length; i++) {\n\t\tvar tag = existingStyleTags[i];\n\t\tvar dataHref = tag.getAttribute(\"data-href\");\n\t\tif(dataHref === href || dataHref === fullhref) return tag;\n\t}\n};\nvar loadStylesheet = function(chunkId) {\n\treturn new Promise(function(resolve, reject) {\n\t\tvar href = __webpack_require__.miniCssF(chunkId);\n\t\tvar fullhref = __webpack_require__.p + href;\n\t\tif(findStylesheet(href, fullhref)) return resolve();\n\t\tcreateStylesheet(chunkId, fullhref, null, resolve, reject);\n\t});\n}\n// object to store loaded CSS chunks\nvar installedCssChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.miniCss = function(chunkId, promises) {\n\tvar cssChunks = {\"188\":1,\"655\":1,\"740\":1};\n\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n\t\tpromises.push(installedCssChunks[chunkId] = loadStylesheet(chunkId).then(function() {\n\t\t\tinstalledCssChunks[chunkId] = 0;\n\t\t}, function(e) {\n\t\t\tdelete installedCssChunks[chunkId];\n\t\t\tthrow e;\n\t\t}));\n\t}\n};\n\n// no hmr","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = function(chunkId, promises) {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise(function(resolve, reject) { installedChunkData = installedChunks[chunkId] = [resolve, reject]; });\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = function(event) {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkgpm_agvs\"] = self[\"webpackChunkgpm_agvs\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(4239); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","clsAGVStateDto","constructor","dto","undefined","this","AGV_Name","AGV_Description","Model","MainStatus","OnlineStatus","CurrentLocation","CurrentCarrierID","BatteryLevel_1","BatteryLevel_2","TaskName","TaskRunStatus","TaskRunAction","Theta","Connected","StationName","Group","IsCharging","IP","Port","TaskSourceStationName","TaskDestineStationName","TransferProcess","OrderAction","TaskETA","axios_entity","axios","baseURL","param","backend_host","async","ResetSystemAlarm","get","ResetEquipmentAlarm","QueryAlarm","currentpage","start_time","end_time","AlarmType","retquery","data","SaveTocsv","response","responseType","url","window","URL","createObjectURL","Blob","link","document","createElement","href","fileName","setAttribute","body","appendChild","click","AlarmHelper","onmessage","evt","onmessageHandler","_alarm_ws","WebSocketHelp","Connect","getAuthHeaders","user","localStorage","getItem","user_info","JSON","parse","Authorization","token","getJWTAuthorizationVal","user_state","GetUserStateFromLS","ClearLoginCookie","removeItem","LastLoginState","isLogin","login_info","IsLoginLastTime","Role","IsExpires","loginTime","moment","LoginTime","add","isExpire","Date","now","console","log","user_json_str","clsQueryOptions","AGVName","Result","StartTimeStr","EndTimeStr","DataNumPerPage","Page","GetEQOptions","ret","GetWIPOptions","SaveEQOptions","options","post","ConnectTest","conn_options","GetEQInfoByTag","tagID","SetAGVHandshakeIO","EQName","SignalName","State","encodeURIComponent","EmuAPI","RackEmuAPI","rack_name","port_id","cargo_type","sensor_number","state","ChargerAPI","charge_station_name","item","value","MapStore","getters","MapServerUrl","axios_entity_vms","vms_host","GetValidRegionOptions","then","commit","catch","err","MapAPI","GetMapFromLocal","GetGeoMap","GetMapTags","ReloadMap","dispatch","GetAGVList","PathPlanByTag","from","to","GetMapStationTemplate","Regist","tag_number","Unregist","pointTypes","label","GetPointTypeNameByTypeNum","num","ptType","findLast","t","Query","option","GetSchedules","DeleteSchedule","time","agv_name","delete","AddNewMeasureSchedule","schedule","ModifyMeasureSchedule","Notifier","Success","msg","position","duration","showNotify","message","type","background","onclick","closeNotify","Primary","Danger","Warning","TaskQuery","ExecuteResultSelected","ActionTypeSelected","info","GetTasks","start","end","agvname","GetTrajectory","taskID","headers","clsMoveTaskData","to_tag","Priority","bypass_eq_status_check","format","Action","DesignatedAGVName","From_Station","From_Slot","To_Station","To_Slot","Carrier_ID","clsMeasureTaskData","bay_name","clsLoadTaskData","to_slot","cst_id","clsUnloadTaskData","clsChargeTaskData","clsExangeBatteryTaskData","clsParkTaskData","clsCarryTaskData","from_tag","from_slot","TaskAllocation","error","taskName","CallAPI","SaveHotRunSettings","GetHotRunSettings","StartHotRun","no","StopHotRun","path","user_param","userStore","UserName","status","GetUsers","JWTAuthorizationVal","Login","StoreToLocalStorage","er","Modify","users","Delete","user_name","Add","setItem","stringify","UserRouteChange","userID","route","backend_ws_host","replace","ws_path","ws_host","wssocket","closed_actived","previousWsState","WebSocket","CLOSED","bus","on","Close","startsWith","substr","ws_url","socket","onerror","ev","ReconnectWorker","onclose","oncloseHandler","onopen","onopenHandler","clearInterval","alive_check_timer","close","GetPointByIndex","index","points","MapData","Points","pt","eq_station_icon","image","Icon","src","scale","anchor","size","opacity","color","charge_station_icon","rack_station_icon","rack_charge_station_icon","stocker_icon","lifter_icon","loc_icon","offset","source_station_mark","normal_station_image","map_data","fillColor","stroke","Stroke","width","Enable","RegularShape","fill","Fill","radius","radius2","angle","Math","PI","IsVirtualPoint","IsAvoid","Circle","CreateTransTaskMark","coordinate","text","iconFeture","Feature","geometry","Point","setStyle","Style","Text","font","offsetX","offsetY","backgroundFill","CreateLocIcon","isStart","GetStationStyle","station_type","Graph","ImageName","textStyle","CreateLocusPathStyles","styles","CreateStationPathStyles","feature","_color","Settings","pathColor","isEQLink","isPathClose","getGeometry","lineDash","coordinates","getCoordinates","forEachSegment","length","dx","dy","rotation","atan2","push","rotateWithView","CreateNewStationPointFeature","point_index","featureStatonType","station","clsMapStation","coordination","name","tag","graph","mapPtModel","MapPointModel","StationType","X","Y","Name","Display","TagNumber","CreateStationFeature","iconFeature","set","targets","routeFeature","clone","setGeometry","CreateEQLDULDFeature","mode","_coor","_style","backgroundStroke","CreateRegionPolygon","polygon_coordinations","region_type","_isForbidRegion","_fillColor","_strokeColor","_region_type","polygon","Polygon","center","getInteriorPoint","region_feature","text_feature","GetCargoIcon","exist","AGVCargoIconStyle","cargo_id","cst_exist","textAlign","ChangeCargoIcon","cargoStates","clsCargoStates","style","AGVPointStyle","padding","GetActionName","action","CargoStates","AGVOption","AGVNum","AGVDisplayOptions","clsAGVDisplay","AGVDisplays","AgvName","TextColor","initCoordination","navCoorList","CargoStatus","Tag","WaitingInfo","clsWaitingInfo","CurrentAction","AgvStates","clsAgvStates","Coordination","NavPathCoordinationList","is_executing_task","IsWaiting","Descrption","WaitingPoint","is_online","main_status","clsMap","Version","Options","clsMapOptions","Note","PointIndex","Map_Image_Size","Map_Image_Boundary","BezierCurves","Pathes","Segments","Bays","Regions","MapRegion","fontSizeOfDisplayName","fontSizeOfAsCandicates","EQIcons","Direction","Direction_Secondary_Point","AGV_Alarm","IsStandbyPoint","IsSegment","IsOverlap","IsParking","IsAutoDoor","IsExtinguishing","InvolvePoint","LsrMode","Speed","Bay","IsBezierCurvePoint","BezierCurveID","Target","DodgeMode","SpinMode","SubMap","AutoDoor","KeyName","KeyPassword","MotionInfo","ControlBypass","GroundHoleCCD","GroundHoleSensor","UltrasonicSensor","Region","IsCharge","IsEquipment","IsSTK","IsEQLink","IsCross","IsRegisted","RegistInfo","coordinations","PolygonCoordinations","RegionType","MapContextMenuOptions","title","backgroundColor","feature_type","point_data","show_task_dispatch","task_options","MenuUseTaskOption","StationSelectOptions","name_display","createStore","MapGeoJson","AGVDynamicPathInfo","ControledPathesBySystem","AGVLocUpload","agv_colors","RegionOptions","path_color","worker","Worker","mapBackendServer","location","protocol","host","MapBackednAxios","axio","localStore","MapName","GeoMapData","MapStations","actions","mapDataSource","indexes","map_stations","forEach","mapStationData","parseInt","targetIndex","BaysData","AGVNavInfo","agv_nav_info","agv_num","agvDataLs","pathtags","nav_path","pathCoordinations","find","st","currentCoordication","cargo_status","currentLocation","theta","waiting_info","currentAction","states","_AGVOption","AllNormalStationOptions","values","filter","AllEqStation","AllChargeStation","AllExangeBatteryStation","AllParkingStationOptions","AllPointsOptions","ptData","EqIcons","mutations","setMapData","mapdata","setGeoMapData","setAGVDynamicPathInfo","setAGVLocUpload","setWorker","setControledPathesBySystem","Save","GetMapPointByIndex","GetMapPointByTag","SaveMap","_data","UploadCoorFunctionSwitch","enabled","event","postMessage","command","DeleteIcon","GetRegionByName","_forbid_regions","reg","mitt","vms_ws_host","class","_createElementBlock","_hoisted_1","_createElementVNode","_createVNode","_component_Header","onOnMenuToggleClicked","$options","ToggleMenu","$data","loading","_component_SideMenu","_normalizeStyle","router_view_style","_component_router_view","Component","_createBlock","_KeepAlive","_resolveDynamicComponent","_component_b_modal","ShowOKOnlyModal","$event","okOnlyModalProps","centered","okOnly","headerBgVariant","title_variant","headerTextVariant","_toDisplayString","content","_component_MoveAGVNotifty","_component_ConnectionState","isNoPermission","_component_SideMenuDrawer","onClose","SideMenuCloseHandler","ref","alt","_component_el_drawer","show_draw","direction","CLoseEventHandle","_hoisted_2","onClick","_cache","PageSwitch","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","IsUserLogin","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","computed","IsLogin","methods","Show","emit","$emit","route_name","display_name","current_route","$router","currentRoute","setTimeout","route_display_name","mounted","__exports__","_component_el_tooltip","placement","Selected","height","icon_size","active_item","useRoute","watch","newValue","oldValue","modes","system_operation_mode","actived","_component_b_button","HandleAutoDispatchBtnClick","variant","current_route_info","_Fragment","_renderList","key","_component_el_switch","active_text","inactive_text","beforeChangeHandler","isEasyMode","onChange","HandleViewModeChanged","CheckUserLoginState","_component_el_popover","trigger","reference","_withCtx","default","LangSwitch","args","LoginClickHandler","LogoutQickly","_component_Login","_normalizeClass","system_alarms","_hoisted_16","_hoisted_17","_hoisted_18","system_alrm_text","_hoisted_19","current_user_role","ResetSysAlarmsHandler","NavigateToAlarmView","equipment_alarms","_hoisted_20","_hoisted_21","_hoisted_22","eq_alrm_text","_hoisted_23","showAlarm","_component_el_dialog","dialogVisible","modal","draggable","header","titleId","login_title","_component_el_divider","_component_el_form","_component_el_form_item","required","_component_b_form_input","autofocus","autocomplete","disabled","onKeyup","FocusPasswordInput","placeholder","PasswordEnterClickHandler","FocusAccountInput","Password","LogoutHandle","logouting","LoginHandle","logining","$props","keyboardClass","props","String","input","keyboard","Keyboard","onKeyPress","button","handleShift","currentLayout","layoutName","shiftToggle","setOptions","setInput","components","KeyBoard","focus_input","keyboard_input","ShowLogoutDialog","$refs","focus","Username","confirm","$swal","fire","icon","timer","$route","meta","isAdminUse","OnInputFocus","pw_input","_axios","GetFrontendOptions","GetOperationStates","RunMode","forecing_change","HostConnMode","HostOperationMode","TransferMode","maintain_mode","SysOptModeChangeRequest","transfer_mode","TransferModeChangeRequest","host_conn_mode","HostConnModeChangeRequest","host_operation_mode","HostOptModeChangeRequest","unchecked_alarms","level","username","toUpperCase","SystemAlarms","alarm","Source","EquipmentAlarms","DownloadSystemOperationsSettings","new_rotue","on_alarm_message","AlarmDisplayHandler","agv_type","station_data","showCancelButton","confirmButtonText","customClass","delay_ms","settings","agvs_settings_store","system_run_mode","host_online_mode","host_remote_mode","LogoClickHandler","isConfirmed","success","mode_req_text","ModeRequestSuccessHandler","ModeRequestFailHandler","force","isGodOrDevLogin","action1_text","action_1","hasActions","cancelButtonText","allowOutsideClick","$vs","notify","lang","$i18n","locale","CreateAlarmDisplayText","Time","AlarmCode","Equipment_Name","Description_Zh","Description_En","sys_alarm_inx","eq_alarm_inx","setInterval","sys_alarm","Level","eq_alarm","dynamic_style_setting","_Transition","squared","setup","zIndex","enable","Connections","connection","_component_el_tag","effect","connected","onDblclick","handleTimeDoubleClick","sys_time","ConnectionCheck","alive_check_ws","IsAnyAGVNeedToMOVE","_component_el_badge","NeedToMoveAGVNum","_component_el_button","HandleBtnClick","plain","_component_el_icon","_component_Warning","DialogVisible","_component_el_table","WattingAGVInfo","_component_el_table_column","prop","scope","GetCurrentLocInfoByTag","row","agv","alarm_type","isBatteryTemperatureHigh","isBatteryLowLevel","isDisconnection","Boolean","AGVAlarmItem","Header","AlarmDisplayVue","SideMenuDrawer","SideMenu","ConnectionState","MoveAGVNotifty","AGVAlarmMessageDisplay","showMenuToggleIcon","paddingTop","paddingRight","left","OpenLoading","side_menu","login_states","result","isOtherUserEditingMap","debounce","fn","delay","context","arguments","clearTimeout","apply","_ResizeObserver","ResizeObserver","callback","super","render","Modal","alert","static","app","config","globalProperties","$Modal","ShowOKModal","generateRandomUserID","characters","charactersLength","i","charAt","floor","random","user_id","EqStore","agv_states_data_fetch_worker","d","agv_states_store","worker2","worker_hotrun_data","worker_dynamic_traffic_data","ControledPathesByTraffic","idleTime","resetTimer","WebUserLogoutExipreTime","addEventListener","i18n","createI18n","legacy","fallbackLocale","messages","require","Sweetalert_options","confirmButtonColor","cancelButtonColor","createApp","App","$","install","mergedStore","store","use","VueApexCharts","Vuesax","router","BootstrapVue3","ElementPlus","VueSweetalert2","VueFinder","mount","_component_AGVStatusVue","_component_TaskStatusVue","_component_b_tabs","right_side_tabSelected","onActivateTab","TabActiveHandle","_component_b_tab","_component_HomeMap","_component_EQStatus","_component_TaskAllocationVue","IsEasyMode","_component_TaskDispatchNewUI","show_new_dispatch_panel","_component_TaskDispathActionButton","onOnTaskDispatch","onOnClick","_component_l_map","zoom","$setup","mapZoom","mapCenter","_component_l_geo_json","geojson","pointsGeoJson","pointsGeoJsonOptions","linesGeoJson","linesGeoJsonOptions","LMap","LTileLayer","LGeoJson","tileLayerUrl","features","properties","pointToLayer","latLng","L","divIcon","className","html","marker","weight","GetMapData","geoMapdata","PointsGeoJsonData","LinesGeoJsonData","visible","action_menu_visible","order_info_style","order_info_visible","_component_el_row","_component_el_col","span","selected_action_display","HandleCancelBtnClick","agv_select_row_class","HandleSelectAGVFromMapBtnClick","_component_el_select","selected_agv","AgvNameList","obj","_component_el_option","selected_action","source_select_row_class","HandleSelectSoureStationFromMapBtnClick","HandleFromSelectChanged","selected_source","FromStationOptions","destine_select_row_class","HandleSelectDestineStationFromMapBtnClick","HandleDestineSelectChanged","selected_destine","DetermineDestinOptions","HandleConfirmBtnClicked","task_dispatch_btn_pushable","IsRunMode","IsDeveloper","SelectActionHandle","Cst_ID_Input","map_events_bus","agv_selected","station_selected","equipments_options","downstream_options","IsDeveloperLogining","namelist","createdAgvNameOptions","AGVNameList","element","IsShowBackTo","current_progress","_action","IsAutoSelectAGV","EQStations","bay_names","bay_data","_agvOptions","_stations","HandleActionSelected","selectedStyle","borderRadius","off","is_reselecting_flag","action_type","_station_data","_destine_options","GetDownStreamEQOptions","map_options","stations_to_show","some","res","TaskDeliveryHandle","_destinTag","_sourceTag","_selected_agv","MoveTask","MeasureTask","LoadTask","UnloadTask","CarryTask","ExangeBatteryTask","ChargeTask","ParkTask","is_Unauthorized","mesage","showConfirmButton","source_tag","sourceTag","_results","_eq_options","EqOptions","source_eq","eq","TagID","downstream_eq_names","ValidDownStreamEndPointNames","isAllEqIsSelectable","includes","downstread_eq_options","tags","_hoisted_46","_hoisted_48","Leave","HandleBackToPush","lastProgressDisplay","SelectAgvHandle","eq_stations","SelectSourceHandle","_hoisted_25","_hoisted_26","_hoisted_27","destine_stations","SelectDestineHandle","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","downstream_stations","source","_destines","destine","_currentProgress","moveable_stations","chargable_tags","_component_RegionsSelector","selected_region","display_mode","show_lduld_state","border","siz","display_data","fontWeight","eq_connection_status","HandleHSsignaleChange","HS_EQ_L_REQ","signalOn","HS_EQ_U_REQ","HS_EQ_READY","HS_EQ_UP_READY","HS_EQ_LOW_READY","_hoisted_24","HandleAGVHSSignaleChange","To_EQ_Up","To_EQ_Low","HS_AGV_VALID","HS_AGV_TR_REQ","_hoisted_28","HS_AGV_BUSY","HS_AGV_COMPT","LDULD_Emu_State_Switch","sortable","CopyText","align","GetMainStatusTagtype","IsConnected","GetMainStatusStr","GetTransferStatusTagtype","TransferStatus","GetTransferStatusStr","Port_Exist","column_width","Load_Request","Unload_Request","Eqp_Status_Down","EqType","Eqp_Status_Run","Eqp_Status_Idle","clipboard","Clipboard","ElNotification","destroy","RegionsSelector","previous_eq_data","eq_data","EQData","getElementsByClassName","eq_states","tagNumber","userStoreTest","rowIndex","isConnected","isLoadable","RegionSelectChanged","val","filterRegionData","column","SetState","EmuAllLoad","EQAllLoad","EmuAllBusy","EQAllBusy","eqname","signal_name","SetEQHsSignal","status_int","AGVStatusVue","TaskStatusVue","HomeMap","TaskAllocationVue","EQStatus","TaskDispathActionButton","TaskDispatchNewUI","tabIndex","active","_component_AGVBatterySetting","_component_UserManager","_component_ChargeStationView","_component_EQManager","_component_HotRUniew","_component_OperatieButtonSet","onSave","SaveSetting","onRestore","HandleRestoreBtnClicked","NewUser","AddNewUserDialogShow","UserData","_component_el_input","RoleOptions","role","DeleteUser","HandleAddNewUserClick","HandleSaveBtnClick","HandleRestoreBtnClick","OperatieButtonSet","OriginUserData","DownloadUsers","userDto","SaveAsOriginUserData","Message","SaveSettingHandler","AddNewEqHandler","ReloadSettingsHandler","fontSize","EqDatas","fixed","ValidName","min","onInput","HandleEqNameChange","HandleUseMapDataDisplayName","ValidTag","number","multiple","GetAvaluableEqNameList","eq_name","cell_item_size","ConnectionSettingBtnHandle","RemoveHandle","connection_setting_drawer","selected_eq","ConnOptions","ConnMethod","ComPort","ConnectTestHandle","io_check_drawer","_ctx","selected_eq_io_data","EqDatas_Orignal","row_","others_row","same_tag_rows","same_name_row","expect_name","othersEqName","EqNames","datas","CloneEQDatas","DownloadEQOptions","remains","display_text","beforeRouteLeave","next","mapPoint","_name","newName","tagid","oriOptions","oriName","useOriNameOptionsList","_index","indexOf","ep","_component_el_tabs","charge_station_data","_component_el_tab_pane","GetTagType","ErrorCodes","error_code","Vin","Vout","Iout","precision","CC","HandleSettingBtnClick","CV","FV","TC","FormatTime","UpdateTime","DialogData","EqName","Item","SettingDialogVisible","_component_el_input_number","step","Value","HandleConfirmClick","ChargeStationData","select","setting_item","SetCurveSetting","swalIcon","hotRunScripts","finish_num","loop_num","action_drawer_visible","selected_script_name","selected_script_actions","comment","HandleStartBtnClick","HandleDeleteScript","titleClass","HandleSaveBtnClickInDrawer","action_move_up","action_move_down","GetOption","destine_tag","destine_name","HandleDeleteHotRunAction","moveable_tags","parkable_tags","stock_tags","bay_tags","action_data","move_element_up","move_element_down","arr","n","temp","splice","script","hot_run_states","HotRunStates","_script","script_exist","scr","deep","immediate","UserManager","EQManager","AGVBatterySetting","ChargeStationView","HotRUniew","activeTab","tabID","user_manager","tab","updateTabContent","$nextTick","_component_TaskQuery","_component_AlarmQuery","_component_AGVLocusDisplay","_component_InstrumentMeasureQuery","_component_AvalibilityQuery","_component_AvailabilityTimelineChart","GetTodayAvailability","StartDate","EndDate","_component_vue3_chart_js","myChart","onBeforeRender","beforeRenderLogic","Vue3ChartJs","ava_datas","Array","colorSet","labels","datasets","responsive","maintainAspectRatio","animations","tension","easing","loop","scales","plugins","legend","display","updateChart","chartRef","update","updateStackBarChart","days","dates","idle","run","down","charge","stack","neaData","colors","_component_apexchart","chartOptions","series","unknown","chart","dynamicAnimation","speed","dynamicUpdate","plotOptions","bar","horizontal","barHeight","xaxis","show","datetime","_series","updateSeries","BuildDataSeries","x","y","getTime","AvailabilityPieChart","AvailabilityTimelineChart","todayData","pause","FetchTodayDataAndRender","StopTimer","StartTimer","todayTimelineChart","RenderChart","model","_component_AGVSelector","_component_el_date_picker","QueryData","_component_el_radio_group","chart_type","HandleChartTypeChanged","_component_el_radio_button","_component_AvailabilityPieChart","AGVSelector","query_data","total","agvNameList","AlarmTypeSelected","AGVSelected","alarms","row_state_class_name","formatTime","Task_Name","_component_b_pagination","per_page_num","rows","PageChnageHandle","toISOString","substring","subtract","count","_time","payload","dat","tasks","RecieveTime","FinishTime","StateName","FailureReason","split","_component_CommonOptions","onOnQueryBtnClick","HandleQueryBtnClick","QueryResult","TotalDataNum","dataList","formatter","TimeFormatter","ResultFormatter","ValFormatter","OPTIONS","Results","list","CommonOptions","cellValue","AvailbilitysData","AvalibilityQuery","AlarmQuery","AGVLocusDisplay","InstrumentMeasureQuery","is_user_login","sys_alarms","eq_alarms","OccurLocation","Duration","Checked","ResetAalrmMemberName","routes","component","HomeView","SystemSettings","DataVue","AlarmView","tsmc_routes","children","createRouter","history","createWebHistory","configs","setConfigs","SetConfig","agv_states","hotrun_states","AGVStatesData","storeAgvStates","setHotRunStates","sys_settings","operations","setOperations","setRunMode","setHostOnline","setHostRemote","setTransferRemote","web_user_id","setUser","setUserID","setRoute","server_reply","logout","WebUserID","locus","EQ","ChargeStation","WIPOptions","WIPsData","WIPData","setData","EQPData","selected","HandleSelectChanged","timePick","HandleSearchBtnClicked","tableData","GetNo","CalculatTimeSpend","ShowLocusHandler","_component_el_color_picker","HandleLocusSettingChange","locus_settings","_component_Map","editable","agv_show","station_show","locus_painting","Map","map_station_data","task_id","corrdinations","showing_row_data","SetDefaultTimeInterval","row_data","trajData","ShowLocus","SaveLocusSettingsToLocalStroage","startTime","endTime","tasklist","locus_paint","ReloadLocusSettingsFromLocalStorage","settings_json","unix","Groups","group","group_name","HandleShowAGVInMapCenter","ShowOnlineStateChangeModal","AGV_Status_TagType","AGVStatusFormatter","_component_b_progress","max","animated","_component_b_progress_bar","BatteryClass","toFixed","_hoisted_47","Cst","connected_class","onRowClick","HandleRowClick","ShowAGVChargeConfirmDialog","GetTransferProcessDescription","Timeformat","_hoisted_49","ShowOnlineStateChange","onOk","SendOnlineStateChangeRequest","_hoisted_50","OnlineRequest","OfflineRequest","ShowChargeConfirmDialog","OnlineStatusReq","Online_Status","ShowTaskAllocationView","clsAgvStatus","current_online_status","online_text","ReturnCode","agv_status","Agv_Selected","AGVChargeTask","status_code","GetTaskRunStatusString","GetAGVStatusString","agv_data","agv_row_class","isCharging","AGVDatas","GetGroupName","group_enum","groups","uniqueGroups","Set","output","agvlist","AGV_Names","agv_name_list","agvData","canva_height","onOnTransferRequst","HandleTransferReq","task_dispatch_menu_show","eq_lduld_status_show","_component_CargoTransferDialog","show_dialog","source_station","isRunMode","autoSelectAGVName","selectedAGVName","CandicateEQOptions","_component_el_popconfirm","onConfirm","HandleTransferBtnClick","Transferable","GetNoTransferActionReason","InfoFilled","confirm_dialog_show","EQOptions","ShowDialog","opt","downstreamEqNames","eq_status_data","Up_Pose","Down_Pose","destineTag","agvName","CargoTransferDialog","navPathDisplayData","agvs_info","transfer_dialog","onClosed","HandleDrawerClosed","selectedAction","ActionChangeHandler","destinTag","TaskDeliveryBtnClickHandle","_component_el_checkbox","wait_task_confirm","onMousemove","MapMouseMoveHandler","only_view","_component_b_alert","Mode_Text","Tips","tip","hoverPointData","TooltipStyle","_component_b_form_group","NameDisplayChangeHandle","ariaDescribedby","_component_b_form_radio","display_selected","AGVDisplayChangeHandle","agv_display_mode_selected","map_name","reload_key","HideAllMenus","showTaskAllocationMenu","map_contextmenu_style","is_agv_feature_selected","current_select_agv_name","current_select_featureID","handleTaskAllocatModeMenuClick","showAGVMenu","_component_MapPointSettingDrawer","onOnPointSettingChanged","PointSettingChangedHandle","selectPathVisible","onCancel","PathesSelectedForDelete","RemovePathByPointsIndex","startStation_Index","endStation_Index","MapPointSettingDrawer","edit_mode","mode_selected","task_allocatable","show_agv","Number","selected_feature","mouse_click_coordinate","dynamic_traffic_data","AGVTrafficStates","path_plan_tags","contextMenu","agv_color_set","top","visibility","layer_index","station_line","eq_station","move_path","path_plan","mesh","stations","station_features","agvList","path_start_end","PathPlanLineStyle","pointStyle","GetPointFeatureInfo","featureID","getId","stationType","pointRawData","pointInfo","text_display","text_color","icon_stroke","polygonImg","circleImg","CircleStyle","EQ_Ints","STK_Ints","Charge_Ints","polyPoint","polyRotation","highlight","isEQ","isCharge","isSTK","isRegisted","GetImage","point_icon_style","pathStyle","IsPathClose","UnloadIconStyle","unload_icon","path_store","IsSelectAGVMode","IsSelectEQStationMode","FetchMap","unload_tags","SetFeatureHasUnloadReq","TrafficStateWsInit","feature_id","Station_Layer","getLayers","Line_Layer","AGV_Layer","Nav_Path_Layer","PathPlan_Layer","Mesh_Layer","tnum","UpdatePathPlanRender","getSource","clear","CreateLineFeaturesOfPath","addFeatures","changed","CreateLineFeaturesOfEachStaion","lineFeatures","start_tag","StartPoint","end_tag","EndPoint","startStation","endStation","startFeature","endFeature","lineFeature","LineString","setId","next_tag","current_station","next_station","AGVDisplayControl","setVisible","UpdatePointDisplay","pointData","SetPointFeatureIDByPointData","pt_index","Highlight","layer","AllUnHighlight","GetAllNormalPtFeature","GetAllEQPtFeature","GetAllChargePtFeature","GetAllParkPtFeature","HighlightControl","IsHighlight","UpdateRegistedPropery","RegistedPoints","agvTrafficInfo","agv_currentTag","CurrentPosition","Current_Tag","AGVStatus","IsOnline","UpdateAGVLayer","RemainNavTrajectory","UpdateNavPathRender","registed_point","registedTags","ft","Reload","MapDataInit","MapInitializeRender","get_agv_position","get_agv_position_byTag","current_tag","feature_","sf","GetNormalStations","GetLDULDableStations","lduldable_types","GetChargeStations","chargable_types","GetParkStations","pt_data","_tagID","_stationType","_feature","AddStation","target","layers","VectorLayer","VectorSource","view","View","CreateMapEvent","CreateMeshLayer","that","isEditMode","isEditPointMode","isRemovePointMode","isAddPointMode","isRemovePathMode","isAddPathMode","originalEvent","preventDefault","AddNewPoint","forEachFeatureAtPixel","pixel","isPathFeature","ShowPointSettingDrawer","RemovePath","RemovePoint","UpdatePathOfBetweenTags","dragInteraction","Pointer","handleDownEvent","coordinate_","handleDragEvent","deltaX","deltaY","translate","UpdateStationPathLayer","round","handleUpEvent","handleMoveEvent","getTargetElement","cursor","addInteraction","New_lineFeatures","start_","GetPointDataByFeature","end_","startPoint","endPoint","mesh_vectorSource","mesh_vectorLayer","gridStyle","extent","getView","getProjection","getExtent","gridInterval","gridLine","gridFeature","addFeature","addLayer","CreateAGVFeatures","agv_layer_source","agv_features","agv_nav_path_layer_source","agv_nav_path_features","GetAgvProp","av","HightlightAGV","heighlight","isOnline","agvProp","idx","agv_current_tag","agv_state","agv_prop_exist","Rotation","previous_tag","agv_position","agv_feature","agvIcon","nav_path_feature","findIndex","p","removeFeature","feat","isUnload","GetNewPointIndex","new_point","CloneAPointData","handleAGVMenuItemClick","ChangeFillColorOfFeature","fillStyle","GetLayerOfFeature","refresh","check_way","pathID","splited","revertPathIndex","GetPathIndex","path_index","startPt","endPt","sortedKeys","sort","a","b","lastKey","template","lastPoint","point","currentTag","layerName","getArray","path_vectorSource","path_vectorLayer","GetColor","agv_prop","MapShowVue","notify_dialog_show","notify_text","downstream_tags","csts","exchanger_options","highlight_color","HighLightFeaturesByStationType","HandleNavPathPreviewBtnClick","destinName","MapStationClicked","MapPoint","_station_type","ShowSettingsDrawer","show_card_title","_component_RunningTaskTable","IncompletedTaskList","IncompletedTaskListTbData","_component_CompletedTaskTable","CompletedTaskList","CompletedTaskListTbData","HandleShowTrafficCkbChg","ShowTrafficTask","clsTaskState","task","DispatcherName","ACTIONS","MOVE","LOAD","UNLOAD","CHARGE","CARRY","RecieveTime_Formated","FinishTime_Formated","ActionName","row_class_name","GetTaskStateType","GetStationName","CancelTaskHandler","taskCancelable","state_code","showCancelTaskConfirm","cancelTaskName","MapPoints","task_name","SendCancelTaskRequest","Cancel","RunningTaskTable","CompletedTaskTable","defualt","WsInit","tk","parsedArray","incompleteds","completeds","CancelBtnClickHandle","SaveBtnClickHandle","_component_el_collapse","activeNames","_component_el_collapse_item","pointData_editing","BindingEQInfo","IsEQPoint","_component_el_image","fit","HandleImageClick","HandleIconDelete","fileList","_component_el_upload","icon_upload_url","OnIconUploadSuccess","StationTypeOnChange","stationTypes","pt_type","HandleLaserModeInfoIconClick","HandleDodgeModeInfoIconClick","RegistersTable","HandleIndexSelected","pointsOptions","hasAnyChange","ori_","current_","potinFullName","ptObj","InitRegisterTableData","registersIndexes","RegistsPointIndexs","registedPointData","ResetRegistPointIndexData","CheckTagRepeat","_sameTagCount","point_Selected","HandleUploadIconBtnClick","OnIconUploadPreview","file","uploadFile","uploadFiles","_component_el_alert","TaskDispatchOptions","HandlerSaveBtnClick","ClearMap","radio_group_style","EditorOption","EditMode","RestoreOriginalPathStyle","selected_path_feature","EditAction","RemoveInteraction","draw_forbid_regions_interaction","AddEditMapInteraction","PathEditTempStore","AddPathMode","HandleAddForbidRegionClicked","AddRegionMode","Mode","HandleEditForbidRegionClicked","HandleDeleteForbidRegionClicked","left_tab_class_name","path_view_style","PathesSegmentsForEdit","HandlePathTbRowClick","GetPointName","StartPtIndex","EndPtIndex","HandlePathRemoveBtnClick","marginTop","onContextmenu","showContextMenu","MouseCoordinationDisplay","_component_MapSettingsDialog","station_name_display_mode","StationNameDisplayOptHandler","_component_el_radio","MapDisplayModeOptHandler","map_display_mode","AgvDisplayOptHandler","agv_display","map_image_display","SlamImageDisplayOptHandler","routePathsVisible","PathLayerForCoordination","PathLayerForRouter","HideNormalStations","regionsVisible","RegionLayer","agv_upload_coordination_mode","HandleAGVUploadCorrdinationChanged","_component_PointContextMenu","mouse_click_position","contextMenuTop","contextMenuLeft","contextMenuOptions","onOnTaskBtnClick","HandleMenuTaskBtnClick","onOnPtSettingBtnClick","HandlePtSettingBtnClick","editModeContextMenuVisible","onOnLeve","HandlePtSettingDrawerLeaved","_component_MapPathSettingDrawer","SettingsChangedHandler","SelectedPathData","HandlePathSetingDrawerClosed","_component_MapRegionEditDrawer","HandleForbidRegionEditDrawerClosed","ShowPathSelectDialog","PathesCandicats","path_setting","IsPassable","PathID","HandlePathSelected","menu_style","PathDataEdit","IsSingleCar","IsRotationable","IsExtinguishingPath","StartCoordination","EndCoordination","Function","PathData","region_name","RegionData","mapname","QuicklyAction","MapSettingsDialog","PointContextMenu","MapPathSettingDrawer","MapRegionEditDrawer","agv_upload_coordi_data","zoom_route","center_route","IsPathEditing","_map_stations","ImageLayer","PointLayer","PointRouteLayer","EQLDULDStatusLayer","AGVLocLayer","AGVLocusLayer","CustomLayer","TransferTaskIconLayer","AGVFeatures","MouseCoordination","FeatureKeys","Station","IsDragging","IsAddPathMode","previousSelectedFeatures","taskDispatchContextMenuVisible","firstUseFlag","path_highlight_style","delete_forbid_regions_interaction","edit_forbid_regions_interaction","mapEditsInteraction","map_img_extent","map_img_size","PathesSegments","previousSelectedFeature","StationPointsFeatures","getFeatures","AGVMapFeatures","ShowWarningNotify","path_data","path_source","path_feature","oriStyles","getStyle","path_coor","setCenter","ori_style","UpdateStationPointLayer","stationPointFeatures","stationPointFeatures_ForRouteShow","routeUseFeature","ptlayerSource","ptRouteLayerSource","UpdateEQLDULDFeature","source_coordination_mode","source_router_mode","path_feature_collection_coordinatino_mode","path_feature_collection_router_mode","pathSegments","setPathFeatureProperties","pathData","path_Feature_coordination_mode","path_feature_route_mode","eqLDULDFeatures","lduldFeature","EQLDULDStatusLayerSource","UpdateForbidPointLayer","_regions","_RegionObj","agv_information","agvfeatures","path_coordinations","pts","coor","cargo_icon_feature","getImage","setRotation","setImage","actionString","getText","agvText","setText","getBackgroundFill","setColor","setBackgroundFill","_agvfeature","_cargo_icon_feature","UpdateAGVLocByMapMode","agvfeature","currentStationFeature","InitMapEventHandler","SaveSettingsToLocalStorage","_RemoveInteractions","_displayModeChanged","AddRemoveForbidRegionInteraction","AddEditForbidRegionInteraction","AddDrawForbidActionInteraction","RemoveForbidRegionOperationInteractions","this_vue","isRightClick","ClearSelectedFeature","_featureType","_isAGVSelected","_isEquipmentSelected","_agvname","GenNewIndexOfStation","HandleLDULDLabelClick","HighLightFeatureSelected","featureType","RemoveStation","PushPathEndPointData","OpenPath_editor","InsertPointAtPathes","is_editable","edit_action","oriData","newCoordinates","AddFeatureToMapLayers","ResetPathLinkOfRouteMode","ResetPathLinkOfCoordinationMode","Draw","condition","noModifierKeys","currnetForbidRegionCount","GetForbidRegionCount","GetPassibleRegionCount","textFeature","_forbidRegion_source","_map","_forbidRegionName","_textFeature","f","_forbid_region_editor","_remove_keyboard_press_event_listner","RemoveKeyboardPressEventListener","interaction","removeInteraction","removeEventListener","EditModeKeybordEvents","hide","normalPtFeatures","invisibleStyle","oriStyle","_oriStyle","getZoom","getCenter","RestoreSettingsFromLocalStorage","RemoveFeatureFromSource","_ptIndex","soure","path_data_reference","ptIndex","paths_to_remove","path_id","feature_to_remove","ptStation","bi_direction_remove","removed_path","pathIDSplited","startPtIndex","endPtIndex","mapPointModel","_reverse_path_id","_reverd_path_feature","_removed_pathes","removePathFeature","new_pt_coordinate","new_pt_feature","_removedPathes","stationFeatures","_startPtFeature1","_endPtFeature1","_startPtFeature2","_endPtFeature2","GenPath","CalculateNewPointRatioOfPathStart","_path","_startPt","_endPt","_start_coordination","_end_coordination","_new_coordination","totalDistance","sqrt","pow","distanceFromStart","_ratio","ResetNewPointCoordination","ratio","stationFeaturesOfCoordinationMode","_start_from","_end_to","_start_coord","_end_coord","newX","newY","remove","path_features","pathes","path_feat","path_featureFound","path_seq_data","ori_geo","ori_endCoord","newStartCoordinates","pathSeqmentData","ori_startCoord","newEndCoordinates","ResetPathLink","path_layer","lineStrings","reverse","start_end_features","startPointFeature","endPointFeature","startPtTagX","startPtTagY","endPtTagX","endPtTagY","startPointCoordinate","endPointCoordinate","midPoint","isEqLink","New_MapPath_V2","oritargets","startPtMapData","currentIndexes","fea","sorted","setViewCenter","isShowSlamCoordi","UpdateAGVLocLocation","GetMidPointOfCoordinationMode","GetMidPointOfRouterMode","map_stations_copy","first","last","mid_x","mid_y","displayName","coordinate_list","iconFeature_end","mapDataSave","GetRegionsDataFromLayer","ptsetting","RefreshMap","DeepClonePathSegmentData","InitMap","projection","Projection","units","Static","imageExtent","imageSize","vectorSource","maxZoom","_features","_polygons","polygon_feature","_regionType","flatCoordinates","createPolygons","polygons","currentPolygon","ResetMapCenterViaAGVLoc","newStyle","getStroke","newStroke","setStroke","HandleAGVUploadData","currentPtFeatures","coorInfo","existFeature","clientY","clientX","data_dto","ptdata","SettingPoints","_ptdata","_is_eq_link","pathes_with_start","pathes_with_end","highlight_station_type","ChangeLDULDStatus","ld_uld_state","status_text","RenderEQLDULDStatus","watch_eq_data_changed","toLowerCase","abortDrawing","pathid","reverse_pathid","reverse_path_data","edited_path_settings","SetPathesAsBeControledStyle","path_ids","pathFeature","ChangeToSelectAGVMode","RestoredFillColorOfChangedFeature","ChangeFeaturesAsIgnoreStyle","ChangeToSelectEQStationMode","charge_features","non_charge_features","eq_features","normal_pt_features","ChangeFeaturesAsCandicatingStyle","_isMoveOrder","_isOnlyLoadOrder","_isOnlyUnloadOrder","_isChargeOrder","_isChoiseDestine","tags_to_show","_hidden_stations_features","_show_stations_features","ChangeToNormalViewMode","oriImage","newImage","setOpacity","getFill","newfill","setFill","setScale","setFont","exception","CreateDestineMarkIcon","_displayText","AddMarkIconWithText","station_feature","layerSource","_newFeature","getElementById","newval","oldval","selectedRegion","handleChange","valid_map_regions_options","unshift","__webpack_module_cache__","moduleId","cachedModule","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","priority","notFulfilled","Infinity","fulfilled","j","every","r","getter","__esModule","leafPrototypes","getProto","getPrototypeOf","__proto__","ns","create","def","current","getOwnPropertyNames","definition","defineProperty","enumerable","chunkId","Promise","all","reduce","promises","u","miniCssF","g","globalThis","prototype","hasOwnProperty","inProgress","dataWebpackPrefix","l","done","needAttach","scripts","getElementsByTagName","s","getAttribute","charset","timeout","nc","onScriptComplete","prev","onload","doneFns","parentNode","removeChild","bind","head","Symbol","toStringTag","nmd","paths","createStylesheet","fullhref","oldTag","reject","linkTag","rel","onLinkComplete","errorType","realHref","request","insertBefore","nextSibling","findStylesheet","existingLinkTags","dataHref","existingStyleTags","loadStylesheet","installedCssChunks","miniCss","cssChunks","installedChunks","installedChunkData","promise","loadingEnded","realSrc","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","__webpack_exports__"],"sourceRoot":""}