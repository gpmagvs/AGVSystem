{"version":3,"file":"js/463.de28b71c.js","mappings":"qLACOA,MAAM,gB,GACJA,MAAM,mB,GAETC,EAAAA,EAAAA,oBAA+B,QAAzBD,MAAM,aAAW,S,GAepBA,MAAM,U,qeAlBbE,EAAAA,EAAAA,oBA+EM,MA/ENC,EA+EM,EA9EJF,EAAAA,EAAAA,oBAgBM,MAhBNG,EAgBM,EAfJC,EAAAA,EAAAA,aAA8FC,EAAA,CAA1EC,OAAMC,EAAAC,YAAcC,UAASF,EAAAG,yB,+BACjDC,GACAP,EAAAA,EAAAA,aAYkBQ,EAAA,CAXfC,QAAKC,EAAA,KAAAA,EAAA,QAAmBC,EAAAC,QAAO,C,gCAAiGD,EAAAE,sBAAoB,IAQrJC,MAAA,0CACAC,KAAK,UACLC,KAAK,S,wBACN,IAAK,uBAAL,Y,SAEHpB,EAAAA,EAAAA,oBAgCM,MAhCNqB,EAgCM,EA/BJjB,EAAAA,EAAAA,aA8BWkB,EAAA,CA9BAC,KAAMR,EAAAS,SAAU,aAAW,QAAQJ,KAAK,S,wBACjD,IAA6E,EAA7EhB,EAAAA,EAAAA,aAA6EqB,EAAA,CAA5DC,MAAM,QAAQC,KAAK,WAAWC,MAAM,SACrDxB,EAAAA,EAAAA,aAMkBqB,EAAA,CANDC,MAAM,QAAQC,KAAK,WAAWC,MAAM,O,CACxCC,SAAOC,EAAAA,EAAAA,UAAEC,GAAK,EACvB/B,EAAAA,EAAAA,oBAEM,aADJI,EAAAA,EAAAA,aAAgF4B,EAAA,CAAtEb,KAAK,W,WAAoBY,EAAME,IAAIC,S,yBAAVH,EAAME,IAAIC,SAAQC,EAAE,oB,yDAI7D/B,EAAAA,EAAAA,aAakBqB,EAAA,CAbDC,MAAM,QAAQC,KAAK,OAAOC,MAAM,O,CACpCC,SAAOC,EAAAA,EAAAA,UAAEC,GAAK,EACvB/B,EAAAA,EAAAA,oBASM,aARJI,EAAAA,EAAAA,aAOYgC,EAAA,C,WAPQL,EAAME,IAAII,K,yBAAVN,EAAME,IAAII,KAAIF,G,wBAE9B,IAA2B,uBAD7BlC,EAAAA,EAAAA,oBAKaqC,EAAAA,SAAA,MAAAC,EAAAA,EAAAA,YAJIxB,EAAAyB,aAARC,K,kBADTC,EAAAA,EAAAA,aAKaC,EAAA,CAHVC,IAAKH,EAAKI,MACVA,MAAOJ,EAAKI,MACZnB,MAAOe,EAAKf,O,kGAMvBtB,EAAAA,EAAAA,aAMkBqB,EAAA,CANDC,MAAM,KAAK,YAAU,O,CACzBG,SAAOC,EAAAA,EAAAA,UAAEC,GAAK,EACvB/B,EAAAA,EAAAA,oBAEM,aADJI,EAAAA,EAAAA,aAAsEQ,EAAA,CAA1DC,QAAKsB,GAAE5B,EAAAuC,WAAWf,EAAME,KAAMd,KAAK,U,wBAAS,IAAE,uBAAF,S,yDAMlEf,EAAAA,EAAAA,aA2BY2C,EAAA,C,WA3BQhC,EAAAE,qB,qCAAAF,EAAAE,qBAAoBkB,GAAEP,MAAM,MAAMoB,MAAM,QAAQC,UAAA,I,wBAClE,IAyBM,EAzBNjD,EAAAA,EAAAA,oBAyBM,aAxBJI,EAAAA,EAAAA,aAuBU8C,EAAA,M,uBAtBR,IAEe,EAFf9C,EAAAA,EAAAA,aAEe+C,EAAA,CAFDzB,MAAM,SAAO,C,uBACzB,IAAmE,EAAnEtB,EAAAA,EAAAA,aAAmE4B,EAAA,C,WAAhDjB,EAAAC,QAAQoC,S,qCAARrC,EAAAC,QAAQoC,SAAQjB,GAAEkB,aAAa,O,iCAEpDjD,EAAAA,EAAAA,aAEe+C,EAAA,CAFDzB,MAAM,SAAO,C,uBACzB,IAAmF,EAAnFtB,EAAAA,EAAAA,aAAmF4B,EAAA,C,WAAhEjB,EAAAC,QAAQkB,S,qCAARnB,EAAAC,QAAQkB,SAAQC,GAAEhB,KAAK,WAAWkC,aAAa,O,iCAEpEjD,EAAAA,EAAAA,aASe+C,EAAA,CATDzB,MAAM,SAAO,C,uBACzB,IAOY,EAPZtB,EAAAA,EAAAA,aAOYgC,EAAA,C,WAPQrB,EAAAC,QAAQqB,K,qCAARtB,EAAAC,QAAQqB,KAAIF,I,wBAE5B,IAA2B,uBAD7BlC,EAAAA,EAAAA,oBAKaqC,EAAAA,SAAA,MAAAC,EAAAA,EAAAA,YAJIxB,EAAAyB,aAARC,K,kBADTC,EAAAA,EAAAA,aAKaC,EAAA,CAHVC,IAAKH,EAAKI,MACVA,MAAOJ,EAAKI,MACZnB,MAAOe,EAAKf,O,uEAInBtB,EAAAA,EAAAA,aAKckD,EAAA,CAJXC,SAA8B,IAApBxC,EAAAC,QAAQoC,UAAsC,IAApBrC,EAAAC,QAAQkB,SAC5CrB,QAAON,EAAAiD,sBACRzD,MAAM,QACN0D,QAAQ,W,wBACT,IAAE,uBAAF,S,+EC3EJ1D,MAAM,kE,6FAAXE,EAAAA,EAAAA,oBAGM,MAHNC,EAGM,EAFJE,EAAAA,EAAAA,aAAiFQ,EAAA,CAArEC,QAAON,EAAAmD,mBAAoBvC,KAAK,UAAUC,KAAK,S,wBAAQ,IAAE,uBAAF,S,qBACnEhB,EAAAA,EAAAA,aAAoFQ,EAAA,CAAxEC,QAAON,EAAAoD,sBAAuBxC,KAAK,SAASC,KAAK,S,wBAAQ,IAAG,uBAAH,U,sBAIzE,OACEwC,QAAS,CACPD,wBACEE,KAAKC,MAAM,UAAW,GACxB,EACAJ,qBACEG,KAAKC,MAAM,OAAQ,GACrB,I,WCPJ,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS,GAAQ,CAAC,YAAY,qBAEzF,Q,sBF8EA,GACEC,WAAY,CACVC,kBAAiBA,GAEnB1C,OACE,MAAO,CACLN,sBAAsB,EACtBO,SAAU,CACR,CACE4B,SAAU,SACVlB,SAAU,OACVG,KAAM,GAER,CACEe,SAAU,MACVlB,SAAU,WACVG,KAAM,GAER,CACEe,SAAU,OACVlB,SAAU,WACVG,KAAM,IAGVrB,QAAS,CACPoC,SAAU,MACVlB,SAAU,WACVG,KAAM,GAER6B,eAAgB,CAAC,EACjB1B,YAAa,CACX,CACEd,MAAO,WACPmB,MAAO,GAET,CACEnB,MAAO,MACPmB,MAAO,GAET,CACEnB,MAAO,OACPmB,MAAO,IAIf,EACAsB,UACEN,KAAKO,eACP,EACAR,QAAS,CACPS,iBAAiBC,GACfT,KAAKU,MAAMC,KACT,CACEC,KAAO,YAAWH,EAAQlB,aAC1BJ,MAAO,QACP0B,KAAM,WACNC,kBAAkB,EAClBC,kBAAmB,KACnBC,YAAa,kBACZC,MAAKT,UACDU,EAAIC,oBAEHC,EAAAA,EAAAA,IAAOX,EAAQlB,UACrBS,KAAKO,gBACLc,EAAAA,EAASC,OAAQ,OAAMb,EAAQlB,cAAe,MAAO,KAAK,GAGhE,EACAiB,sBACER,KAAKrC,eAAiB4D,EAAAA,EAAAA,MACtBvB,KAAKwB,sBACP,EACAhB,oBACE,IAAIiB,QAAiBC,EAAAA,EAAAA,IAAO1B,KAAKrC,UAC7B8D,EAASE,QACXN,EAAAA,EAASM,QAAQ,YAAa,SAAU,KAExCN,EAAAA,EAASC,OAAO,YAAa,SAAU,IAC3C,EACAd,gCACER,KAAKU,MAAMC,KACT,CACEC,KAAM,GACNzB,MAAO,YACP0B,KAAM,WACNC,kBAAkB,EAClBC,kBAAmB,KACnBC,YAAa,kBACZC,MAAMC,IACFA,EAAIC,cAETnB,KAAKO,gBACLc,EAAAA,EAASM,QAAQ,aAAc,MAAO,KAAK,GAEjD,EACAH,uBACExB,KAAKK,eAAiBuB,KAAKC,MAAMD,KAAKE,UAAU9B,KAAKrC,UACvD,EACA6C,8BACE,IAAIuB,QAAeC,EAAAA,EAAAA,IAAIhC,KAAK7C,SAC5B6C,KAAK5C,sBAAuB,EACvB2E,EAAOJ,QAaV3B,KAAKU,MAAMC,KACT,CACEC,KAAM,GACNzB,MAAQ,OAAMa,KAAK7C,QAAQoC,gBAC3BsB,KAAM,UACNC,kBAAkB,EAClBC,kBAAmB,KACnBC,YAAa,kBAnBjBhB,KAAKU,MAAMC,KACT,CACEC,KAAO,GAAEmB,EAAOE,UAChB9C,MAAQ,UACR0B,KAAM,UACNC,kBAAkB,EAClBC,kBAAmB,KACnBC,YAAa,kBACZC,MAAK,KACNjB,KAAK5C,sBAAuB,CAAI,IAatC4C,KAAKO,eAEP,IG9MJ,MAAM,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAAS2B,KAEpE,O","sources":["webpack://gpm_agvs/./src/components/SystemSettings/UserManager.vue","webpack://gpm_agvs/./src/components/SystemSettings/OperatieButtonSet.vue","webpack://gpm_agvs/./src/components/SystemSettings/OperatieButtonSet.vue?32bf","webpack://gpm_agvs/./src/components/SystemSettings/UserManager.vue?a50e"],"sourcesContent":["<template>\r\n  <div class=\"user-manager\">\r\n    <div class=\"d-flex flex-row\">\r\n      <OperatieButtonSet @save=\"SaveSetting\" @restore=\"HandleRestoreBtnClicked\"></OperatieButtonSet>\r\n      <span class=\"flex-fill\"></span>\r\n      <el-button\r\n        @click=\"() => {\r\n        NewUser = {\r\n          UserName: '',\r\n          Password: '',\r\n          Role: 1\r\n        },\r\n          AddNewUserDialogShow = true\r\n      }\"\r\n        style=\"font-weight: bold;font-size: 20px;\"\r\n        type=\"primary\"\r\n        size=\"large\"\r\n      >新增使用者</el-button>\r\n    </div>\r\n    <div class=\"border\">\r\n      <el-table :data=\"UserData\" empty-text=\"沒有使用者\" size=\"large\">\r\n        <el-table-column label=\"使用者名稱\" prop=\"UserName\" width=\"180\"></el-table-column>\r\n        <el-table-column label=\"使用者密碼\" prop=\"Password\" width=\"220\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-input type=\"Password\" v-model=\"scope.row.Password\" show-password></el-input>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"使用者群組\" prop=\"Role\" width=\"180\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-select v-model=\"scope.row.Role\">\r\n                <el-option\r\n                  v-for=\"role in RoleOptions\"\r\n                  :key=\"role.value\"\r\n                  :value=\"role.value\"\r\n                  :label=\"role.label\"\r\n                ></el-option>\r\n              </el-select>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" min-width=\"120\">\r\n          <template #default=\"scope\">\r\n            <div>\r\n              <el-button @click=\"DeleteUser(scope.row)\" type=\"danger\">刪除</el-button>\r\n            </div>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </div>\r\n    <el-dialog v-model=\"AddNewUserDialogShow\" width=\"500\" title=\"新增使用者\" draggable>\r\n      <div>\r\n        <el-form>\r\n          <el-form-item label=\"使用者名稱\">\r\n            <el-input v-model=\"NewUser.UserName\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"使用者密碼\">\r\n            <el-input v-model=\"NewUser.Password\" type=\"password\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"使用者群組\">\r\n            <el-select v-model=\"NewUser.Role\">\r\n              <el-option\r\n                v-for=\"role in RoleOptions\"\r\n                :key=\"role.value\"\r\n                :value=\"role.value\"\r\n                :label=\"role.label\"\r\n              ></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <b-button\r\n            :disabled=\"NewUser.UserName == '' || NewUser.Password == ''\"\r\n            @click=\"HandleAddNewUserClick\"\r\n            class=\"w-100\"\r\n            variant=\"primary\"\r\n          >新增</b-button>\r\n        </el-form>\r\n      </div>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport OperatieButtonSet from './OperatieButtonSet.vue'\r\nimport { Modify, GetUsers, Delete, Add } from '@/api/UserAPI'\r\nimport Notifier from '@/api/NotifyHelper'\r\nexport default {\r\n  components: {\r\n    OperatieButtonSet,\r\n  },\r\n  data() {\r\n    return {\r\n      AddNewUserDialogShow: false,\r\n      UserData: [\r\n        {\r\n          UserName: \"jinwei\",\r\n          Password: \"1020\",\r\n          Role: 2\r\n        },\r\n        {\r\n          UserName: \"eng\",\r\n          Password: \"tset-pw2\",\r\n          Role: 1\r\n        },\r\n        {\r\n          UserName: \"test\",\r\n          Password: \"tset-pw3\",\r\n          Role: 0\r\n        }\r\n      ],\r\n      NewUser: {\r\n        UserName: \"eng\",\r\n        Password: \"tset-pw2\",\r\n        Role: 1\r\n      },\r\n      OriginUserData: {},\r\n      RoleOptions: [\r\n        {\r\n          label: \"Operator\",\r\n          value: 0\r\n        },\r\n        {\r\n          label: \"工程師\",\r\n          value: 1\r\n        },\r\n        {\r\n          label: \"開發人員\",\r\n          value: 2\r\n        }\r\n      ]\r\n    }\r\n  },\r\n  mounted() {\r\n    this.DownloadUsers();\r\n  },\r\n  methods: {\r\n    async DeleteUser(userDto) {\r\n      this.$swal.fire(\r\n        {\r\n          text: `確定要刪除使用者-${userDto.UserName} ?`,\r\n          title: '刪除使用者',\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then(async (res) => {\r\n          if (!res.isConfirmed)\r\n            return;\r\n          await Delete(userDto.UserName);\r\n          this.DownloadUsers();\r\n          Notifier.Danger(`使用者-${userDto.UserName}已刪除`, 'top', 1000);\r\n\r\n        })\r\n    },\r\n    async DownloadUsers() {\r\n      this.UserData = await GetUsers();\r\n      this.SaveAsOriginUserData();\r\n    },\r\n    async SaveSetting() {\r\n      var response = await Modify(this.UserData);\r\n      if (response.Success) {\r\n        Notifier.Success(\"使用者資料修改成功\", 'bottom', 3000);\r\n      } else\r\n        Notifier.Danger(\"使用者資料修改失敗\", 'bottom', 3000);\r\n    },\r\n    async HandleRestoreBtnClicked() {\r\n      this.$swal.fire(\r\n        {\r\n          text: '',\r\n          title: '確定要載入預設值?',\r\n          icon: 'question',\r\n          showCancelButton: true,\r\n          confirmButtonText: 'OK',\r\n          customClass: 'my-sweetalert'\r\n        }).then((res) => {\r\n          if (!res.isConfirmed)\r\n            return\r\n          this.DownloadUsers();\r\n          Notifier.Success(\"使用者資料已重新載入\", 'top', 2000);\r\n        })\r\n    },\r\n    SaveAsOriginUserData() {\r\n      this.OriginUserData = JSON.parse(JSON.stringify(this.UserData));\r\n    },\r\n    async HandleAddNewUserClick() {\r\n      var result = await Add(this.NewUser);\r\n      this.AddNewUserDialogShow = false;\r\n      if (!result.Success) {\r\n        this.$swal.fire(\r\n          {\r\n            text: `${result.Message}`,\r\n            title: `使用者新增失敗`,\r\n            icon: 'warning',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          }).then(() => {\r\n            this.AddNewUserDialogShow = true;\r\n          })\r\n      } else {\r\n        this.$swal.fire(\r\n          {\r\n            text: '',\r\n            title: `使用者 ${this.NewUser.UserName}-新增成功`,\r\n            icon: 'success',\r\n            showCancelButton: false,\r\n            confirmButtonText: 'OK',\r\n            customClass: 'my-sweetalert'\r\n          })\r\n      }\r\n      this.DownloadUsers();\r\n\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n.user-manager {\r\n}\r\n</style>","<template>\r\n  <div class=\"save-default-buttons-group border-bottom bg-default text-start\">\r\n    <el-button @click=\"HandleSaveBtnClick\" type=\"primary\" size=\"large\">儲存</el-button>\r\n    <el-button @click=\"HandleRestoreBtnClick\" type=\"danger\" size=\"large\">預設值</el-button>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  methods: {\r\n    HandleRestoreBtnClick() {\r\n      this.$emit('restore', \"\");\r\n    },\r\n    HandleSaveBtnClick() {\r\n      this.$emit('save', \"\");\r\n    }\r\n  },\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.save-default-buttons-group {\r\n  margin-bottom: 5px;\r\n  padding-bottom: 5px;\r\n  width: 100%;\r\n\r\n  button {\r\n    width: 100px;\r\n    font-weight: bold;\r\n    font-size: 20px;\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./OperatieButtonSet.vue?vue&type=template&id=6bebdf16&scoped=true\"\nimport script from \"./OperatieButtonSet.vue?vue&type=script&lang=js\"\nexport * from \"./OperatieButtonSet.vue?vue&type=script&lang=js\"\n\nimport \"./OperatieButtonSet.vue?vue&type=style&index=0&id=6bebdf16&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6bebdf16\"]])\n\nexport default __exports__","import { render } from \"./UserManager.vue?vue&type=template&id=05ef01b7\"\nimport script from \"./UserManager.vue?vue&type=script&lang=js\"\nexport * from \"./UserManager.vue?vue&type=script&lang=js\"\n\nimport \"./UserManager.vue?vue&type=style&index=0&id=05ef01b7&lang=scss\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_createVNode","_component_OperatieButtonSet","onSave","$options","SaveSetting","onRestore","HandleRestoreBtnClicked","_hoisted_3","_component_el_button","onClick","_cache","$data","NewUser","AddNewUserDialogShow","style","type","size","_hoisted_4","_component_el_table","data","UserData","_component_el_table_column","label","prop","width","default","_withCtx","scope","_component_el_input","row","Password","$event","_component_el_select","Role","_Fragment","_renderList","RoleOptions","role","_createBlock","_component_el_option","key","value","DeleteUser","_component_el_dialog","title","draggable","_component_el_form","_component_el_form_item","UserName","autocomplete","_component_b_button","disabled","HandleAddNewUserClick","variant","HandleSaveBtnClick","HandleRestoreBtnClick","methods","this","$emit","__exports__","components","OperatieButtonSet","OriginUserData","mounted","DownloadUsers","async","userDto","$swal","fire","text","icon","showCancelButton","confirmButtonText","customClass","then","res","isConfirmed","Delete","Notifier","Danger","GetUsers","SaveAsOriginUserData","response","Modify","Success","JSON","parse","stringify","result","Add","Message","render"],"sourceRoot":""}