(self["webpackChunkgpm_agvs"]=self["webpackChunkgpm_agvs"]||[]).push([[215],{96077:function(t,e,r){var n=r(60614),o=String,i=TypeError;t.exports=function(t){if("object"==typeof t||n(t))return t;throw i("Can't set "+o(t)+" as a prototype")}},70648:function(t,e,r){var n=r(51694),o=r(60614),i=r(84326),a=r(5112),u=a("toStringTag"),c=Object,l="Arguments"==i(function(){return arguments}()),s=function(t,e){try{return t[e]}catch(r){}};t.exports=n?i:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=s(e=c(t),u))?r:l?i(e):"Object"==(n=i(e))&&o(e.callee)?"Arguments":n}},11060:function(t,e,r){var n=r(1702),o=Error,i=n("".replace),a=function(t){return String(o(t).stack)}("zxcasd"),u=/\n\s*at [^:]*:[^\n]*/,c=u.test(a);t.exports=function(t,e){if(c&&"string"==typeof t&&!o.prepareStackTrace)while(e--)t=i(t,u,"");return t}},5392:function(t,e,r){var n=r(68880),o=r(11060),i=r(22914),a=Error.captureStackTrace;t.exports=function(t,e,r,u){i&&(a?a(t,e):n(t,"stack",o(r,u)))}},22914:function(t,e,r){var n=r(47293),o=r(79114);t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",o(1,7)),7!==t.stack)}))},22104:function(t,e,r){var n=r(34374),o=Function.prototype,i=o.apply,a=o.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(i):function(){return a.apply(i,arguments)})},75668:function(t,e,r){var n=r(1702),o=r(19662);t.exports=function(t,e,r){try{return n(o(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(i){}}},79587:function(t,e,r){var n=r(60614),o=r(70111),i=r(27674);t.exports=function(t,e,r){var a,u;return i&&n(a=e.constructor)&&a!==r&&o(u=a.prototype)&&u!==r.prototype&&i(t,u),t}},58340:function(t,e,r){var n=r(70111),o=r(68880);t.exports=function(t,e){n(e)&&"cause"in e&&o(t,"cause",e.cause)}},56277:function(t,e,r){var n=r(41340);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},27674:function(t,e,r){var n=r(75668),o=r(19670),i=r(96077);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=n(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch(a){}return function(r,n){return o(r),i(n),e?t(r,n):r.__proto__=n,r}}():void 0)},2626:function(t,e,r){var n=r(3070).f;t.exports=function(t,e,r){r in t||n(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})}},51694:function(t,e,r){var n=r(5112),o=n("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},41340:function(t,e,r){var n=r(70648),o=String;t.exports=function(t){if("Symbol"===n(t))throw TypeError("Cannot convert a Symbol value to a string");return o(t)}},89191:function(t,e,r){"use strict";var n=r(35005),o=r(92597),i=r(68880),a=r(47976),u=r(27674),c=r(99920),l=r(2626),s=r(79587),p=r(56277),f=r(58340),m=r(5392),d=r(19781),g=r(31913);t.exports=function(t,e,r,v){var y="stackTraceLimit",h=v?2:1,b=t.split("."),w=b[b.length-1],_=n.apply(null,b);if(_){var x=_.prototype;if(!g&&o(x,"cause")&&delete x.cause,!r)return _;var S=n("Error"),k=e((function(t,e){var r=p(v?e:t,void 0),n=v?new _(t):new _;return void 0!==r&&i(n,"message",r),m(n,k,n.stack,2),this&&a(x,this)&&s(n,this,k),arguments.length>h&&f(n,arguments[h]),n}));if(k.prototype=x,"Error"!==w?u?u(k,S):c(k,S,{name:!0}):d&&y in _&&(l(k,_,y),l(k,_,"prepareStackTrace")),c(k,_),!g)try{x.name!==w&&i(x,"name",w),x.constructor=k}catch(E){}return k}}},21703:function(t,e,r){var n=r(82109),o=r(17854),i=r(22104),a=r(89191),u="WebAssembly",c=o[u],l=7!==Error("e",{cause:7}).cause,s=function(t,e){var r={};r[t]=a(t,e,l),n({global:!0,constructor:!0,arity:1,forced:l},r)},p=function(t,e){if(c&&c[t]){var r={};r[t]=a(u+"."+t,e,l),n({target:u,stat:!0,constructor:!0,arity:1,forced:l},r)}};s("Error",(function(t){return function(e){return i(t,this,arguments)}})),s("EvalError",(function(t){return function(e){return i(t,this,arguments)}})),s("RangeError",(function(t){return function(e){return i(t,this,arguments)}})),s("ReferenceError",(function(t){return function(e){return i(t,this,arguments)}})),s("SyntaxError",(function(t){return function(e){return i(t,this,arguments)}})),s("TypeError",(function(t){return function(e){return i(t,this,arguments)}})),s("URIError",(function(t){return function(e){return i(t,this,arguments)}})),p("CompileError",(function(t){return function(e){return i(t,this,arguments)}})),p("LinkError",(function(t){return function(e){return i(t,this,arguments)}})),p("RuntimeError",(function(t){return function(e){return i(t,this,arguments)}}))},42215:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return T}});var n=r(66252),o=r(3577);const i=t=>((0,n.dD)("data-v-86be08d2"),t=t(),(0,n.Cn)(),t),a={class:"agv-battery-setting d-flex h-100"},u=["textContent"],c={class:"descript mx-2 py-5 border flex-fill bg-light text-start",style:{"font-weight":"bold"}},l=i((()=>(0,n._)("h5",null,"高電量區",-1))),s=i((()=>(0,n._)("div",null,"- 可執行所有任務訂單。",-1))),p=i((()=>(0,n._)("h5",null,"中高電量區",-1))),f=i((()=>(0,n._)("div",null,"- 可執行所有任務訂單。",-1))),m=i((()=>(0,n._)("h5",null,"中低電量區",-1))),d=i((()=>(0,n._)("div",null,"- 當AGV非充電時，可執行所有任務訂單。",-1))),g=i((()=>(0,n._)("div",null,"- 當AGV進行充電時，僅允許AGV執行充電任務， 等待電量位於中高電量以上方可執行所有任務訂單。",-1))),v=i((()=>(0,n._)("h5",null,"低電量區",-1))),y=i((()=>(0,n._)("div",null,"- 當AGV低電量時將無法進行除充電任務以外的所有任務訂單。",-1))),h=i((()=>(0,n._)("div",null,"- 運轉模式下，系統會強制AGV進行充電。",-1)));function b(t,e,r,i,b,w){const _=(0,n.up)("el-input-number"),x=(0,n.up)("el-table-column"),S=(0,n.up)("el-table"),k=(0,n.up)("el-card"),E=(0,n.up)("el-timeline-item"),j=(0,n.up)("el-timeline");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n.Wm)(S,{class:"w-50 mx-1","header-cell-style":t.tableHeaderStyle,size:"large",border:"",data:t.datas},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(t.columnMap,(e=>((0,n.wg)(),(0,n.j4)(x,{key:e.prop,label:e.label,prop:e.prop},{default:(0,n.w5)((r=>["string"==e.type?((0,n.wg)(),(0,n.iD)("div",{key:0,textContent:(0,o.zw)(r.row[e.prop]),class:""},null,8,u)):(0,n.kq)("",!0),"number"==e.type?((0,n.wg)(),(0,n.j4)(_,{key:1,modelValue:r.row[e.prop],"onUpdate:modelValue":t=>r.row[e.prop]=t,onChange:e=>t.modify(r.row,r.row.agvName)},null,8,["modelValue","onUpdate:modelValue","onChange"])):(0,n.kq)("",!0)])),_:2},1032,["label","prop"])))),128))])),_:1},8,["header-cell-style","data"]),(0,n._)("div",c,[(0,n.Wm)(j,{class:"bat-timeline",style:{"max-width":"600px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(E,{timestamp:"100%",placement:"top"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{class:"bg-success text-light"},{default:(0,n.w5)((()=>[l,s])),_:1})])),_:1}),(0,n.Wm)(E,{timestamp:"高電量",placement:"top"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{class:"bg-success text-light"},{default:(0,n.w5)((()=>[p,f])),_:1})])),_:1}),(0,n.Wm)(E,{timestamp:"中電量",placement:"top"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{class:"text-light",style:{"background-color":"orange"}},{default:(0,n.w5)((()=>[m,d,g])),_:1})])),_:1}),(0,n.Wm)(E,{timestamp:"低電量-強制充電",placement:"top"},{default:(0,n.w5)((()=>[(0,n.Wm)(k,{class:"bg-danger text-light"},{default:(0,n.w5)((()=>[v,y,h])),_:1})])),_:1}),(0,n.Wm)(E,{timestamp:"0%",placement:"top"})])),_:1})])])}var w=r(47327),_=r(49996),x=r(38418);class S{constructor(t,e,r){(0,w.Z)(this,"label",void 0),(0,w.Z)(this,"prop",void 0),(0,w.Z)(this,"type",void 0),this.label=t,this.prop=e,this.type=r}}var k=(0,n.aZ)({inject:["tableHeaderStyle"],data(){return{datas:[],columnMap:[new S("車輛名稱","agvName","string"),new S("低電量-強制充電(%)","lowLevel","number"),new S("中電量(%)","middleLevel","number"),new S("高電量(%)","highLevel","number")],throttleState:{isOperating:!1,tout:setTimeout((()=>{}),1),postModifiedValToBackend(t){clearTimeout(this.tout),this.tout=setTimeout((async()=>{console.log(t);try{var e=await x.bh.ModifySetting(t.agvName,t);console.info(e),_.bM.success({message:`已完成 ${t.agvName} 電量管理參數修改`,position:"top-right",duration:2e3})}catch(r){_.bM.error({message:`${t.agvName} 電量管理參數修改失敗-${r}`,position:"top-right",duration:2e3})}}),500)},cancelLastOperate(){}}}},methods:{fetchSettings(){setTimeout((async()=>{try{var t=await x.bh.GetSettings();Object.assign(this.datas,t)}catch(e){_.bM.error({message:`電量管理參數下載失敗-${e}`,position:"top-right",duration:-1})}}),100)},modify(t,e){this.throttleState.postModifiedValToBackend(t)}},mounted(){this.fetchSettings()}}),E=r(83744);const j=(0,E.Z)(k,[["render",b],["__scopeId","data-v-86be08d2"]]);var T=j},47327:function(t,e,r){"use strict";function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}r.d(e,{Z:function(){return a}});r(21703);function o(t,e){if("object"!==n(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,e||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}function i(t){var e=o(t,"string");return"symbol"===n(e)?e:String(e)}function a(t,e,r){return e=i(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}}}]);
//# sourceMappingURL=215.js.map