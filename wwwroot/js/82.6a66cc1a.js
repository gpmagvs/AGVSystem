"use strict";(self["webpackChunkgpm_agvs"]=self["webpackChunkgpm_agvs"]||[]).push([[82],{40082:function(e,t,o){o.r(t),o.d(t,{default:function(){return k}});var a=o(66252);const s=e=>((0,a.dD)("data-v-d45b8096"),e=e(),(0,a.Cn)(),e),r={class:"bg-light h-100 d-flex"},n={class:"tab-container"},l={class:"p-2 d-flex bg-light border-bottom"},u={class:"w-100"},i=s((()=>(0,a._)("h3",{class:"text-start text-danger border-bottom my-3"},"Transfer Complete Result Code",-1))),d=s((()=>(0,a._)("div",{class:"tab-container"},"AAA",-1)));function c(e,t,o,s,c,C){const g=(0,a.up)("el-button"),f=(0,a.up)("el-input-number"),m=(0,a.up)("el-form-item"),h=(0,a.up)("el-form"),R=(0,a.up)("el-col"),w=(0,a.up)("el-row"),p=(0,a.up)("b-tab"),b=(0,a.up)("b-tabs"),D=(0,a.Q2)("loading");return(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",r,[(0,a.Wm)(b,{class:"w-100",modelValue:c.tabSelected,"onUpdate:modelValue":t[1]||(t[1]=e=>c.tabSelected=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{class:"",title:"Return Code 設定"},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",l,[(0,a.Wm)(g,{size:"large",type:"primary",onClick:C.HandleSaveButtonClicked},{default:(0,a.w5)((()=>[(0,a.Uk)("儲存")])),_:1},8,["onClick"]),(0,a.Wm)(g,{size:"large",onClick:t[0]||(t[0]=()=>{C.DownloadConfigurations()})},{default:(0,a.w5)((()=>[(0,a.Uk)("重新載入")])),_:1})]),(0,a.Wm)(w,{class:"m-3"},{default:(0,a.w5)((()=>[(0,a.Wm)(R,{lg:8,class:"border px-5"},{default:(0,a.w5)((()=>[(0,a._)("div",u,[i,(0,a.Wm)(h,{"label-position":"left","label-width":"320px",style:{"max-height":"70vh","overflow-y":"auto"}},{default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(c.configuration.transferReportConfiguration.ResultCodes,((t,o)=>((0,a.wg)(),(0,a.j4)(m,{key:o,label:"-"+e.$t(`secsGem.${o.replace("ResultCode","")}`)},{default:(0,a.w5)((()=>[(0,a.Wm)(f,{modelValue:c.configuration.transferReportConfiguration.ResultCodes[o],"onUpdate:modelValue":e=>c.configuration.transferReportConfiguration.ResultCodes[o]=e,min:0,max:999,controls:!1},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1032,["label"])))),128))])),_:1})])])),_:1}),(0,a.Wm)(R,{lg:12})])),_:1})])])),_:1}),(0,a.Wm)(p,{class:"",title:"尚未開放"},{default:(0,a.w5)((()=>[d])),_:1})])),_:1},8,["modelValue"]),(0,a.kq)("",!0)])),[[D,c.loading]])}var C=o(9669),g=o.n(C),f=o(663),m=g().create({baseURL:f.Z.backend_host});async function h(){try{var e=await m.get("/api/SecsGemConfiguration/");return e.data}catch(t){throw t}}async function R(e={transferCompletedResultCodes:{}}){var t=await m.post("/api/SecsGemConfiguration/saveReturnCodeSetting",e);return t.data}var w=o(49996),p={data(){return{loading:!0,tabSelected:0,route:"",configuration:{baseConfiguration:{DeviceID:"2F_AGVC02",CarrierLOCPrefixName:"AOIRACK001",SystemID:"022",UnknowTrayIDFlowNumberUsed:135,UnknowRackIDFlowNumberUsed:1,DoubleUnknowDFlowNumberUsed:240,DoubleUnknowRackIDFlowNumberUsed:0,MissMatchTrayIDFlowNumberUsed:1,MissMatchRackIDFlowNumberUsed:0},alarmConfiguration:{Version:0},transferReportConfiguration:{ResultCodes:{OtherErrorsResultCode:1,ZoneIsFullResultCode:1,UnloadButCargoIDReadNotMatchedResultCode:1,UnloadButCargoIDReadFailResultCode:1,InterlockErrorResultCode:1,EqUnloadButNoCargoResultCode:1,AGVDownWhenLDULDWithCargoResultCode:1,AGVDownWhenLDWithoutCargoResultCode:1,AGVDownWhenULDWithoutCargoResultCode:1,AGVDownWhenMovingToDestineResultCode:1,DestineEqLoadReqeustOff:1,DestineEqHasCargoResultCode:1,DestineEqMachechStateErrorResultCode:1,DestineEqDownResultCode:1,SourceEqUnloadReqeustOff:1,SourceEqNotHasCargoResultCode:1,SourceEqMachechStateErrorResultCode:1,SourceEqDownResultCode:1,DestineRackPortHasCargoResultCode:1,SourceRackPortNotHasCargoResultCode:1}},alarmConfigFilePath:"",transferReportConfigFilePath:""}}},mounted(){this.route=this.$route.path,this.DownloadConfigurations()},methods:{async DownloadConfigurations(){this.loading=!0;try{this.configuration=await h()}catch(e){alert(e.message)}finally{setTimeout((()=>{this.loading=!1}),300)}},async HandleSaveButtonClicked(){try{let e=await R({transferCompletedResultCodes:this.configuration.transferReportConfiguration.ResultCodes});if(!e)return void(0,w.bM)({message:"儲存失敗",type:"error"});e.confirm?(0,w.bM)({message:"儲存成功",type:"success"}):(0,w.bM)({message:"儲存失敗-"+e.message,type:"success"})}catch(e){(0,w.bM)({message:"儲存失敗-"+e.message,type:"success"})}}},watch:{$route(e,t){e.path!=this.route||console.log("Route changed:",e.path)}}},b=o(83744);const D=(0,b.Z)(p,[["render",c],["__scopeId","data-v-d45b8096"]]);var k=D}}]);
//# sourceMappingURL=82.6a66cc1a.js.map